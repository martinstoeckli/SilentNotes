"use strict";var _excluded=["start"];function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key];}}return target;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});Object.defineProperty(subClass,"prototype",{writable:false});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof2(call)==="object"||typeof call==="function")){return call;}else if(call!==void 0){throw new TypeError("Derived constructors may only return object or undefined");}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&iter[Symbol.iterator]!=null||iter["@@iterator"]!=null)return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _iterableToArrayLimit(arr,i){var _i=arr==null?null:typeof Symbol!=="undefined"&&arr[Symbol.iterator]||arr["@@iterator"];if(_i==null)return;var _arr=[];var _n=true;var _d=false;var _s,_e;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:false});return Constructor;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;})),keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _typeof2(obj){"@babel/helpers - typeof";return _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj;}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;},_typeof2(obj);}var ProseMirrorBundle;(function(){var t={70717:function _(t,e,r){r(82526),r(41817),r(72443),r(92401),r(8722),r(32165),r(69007),r(16066),r(83510),r(41840),r(6982),r(32159),r(96649),r(39341),r(60543),r(21703),r(96647),r(9170),r(32120),r(52262),r(92222),r(50545),r(26541),r(43290),r(57327),r(69826),r(34553),r(84944),r(86535),r(89554),r(91038),r(26699),r(82772),r(79753),r(66992),r(69600),r(94986),r(21249),r(26572),r(85827),r(96644),r(65069),r(47042),r(5212),r(2707),r(38706),r(40561),r(33792),r(99244),r(18264),r(76938),r(39575),r(16716),r(43016),r(3843),r(81801),r(9550),r(28733),r(5735),r(96078),r(83710),r(62130),r(24812),r(4855),r(68309),r(35837),r(38862),r(73706),r(51532),r(99752),r(82376),r(73181),r(23484),r(2388),r(88621),r(60403),r(84755),r(25438),r(90332),r(40658),r(40197),r(44914),r(52420),r(60160),r(60970),r(10408),r(73689),r(9653),r(93299),r(35192),r(33161),r(44048),r(78285),r(44363),r(55994),r(61874),r(9494),r(31354),r(56977),r(55147),r(19601),r(78011),r(59595),r(33321),r(69070),r(35500),r(69720),r(43371),r(38559),r(38880),r(49337),r(36210),r(30489),r(46314),r(43304),r(41825),r(98410),r(72200),r(47941),r(94869),r(33952),r(57227),r(60514),r(68304),r(41539),r(26833),r(54678),r(91058),r(88674),r(17922),r(34668),r(17727),r(36535),r(12419),r(69596),r(52586),r(74819),r(95683),r(39361),r(51037),r(5898),r(67556),r(14361),r(83593),r(39532),r(81299),r(24603),r(28450),r(74916),r(92087),r(88386),r(77601),r(39714),r(70189),r(24506),r(79841),r(27852),r(94953),r(32023),r(78783),r(4723),r(76373),r(66528),r(83112),r(38992),r(82481),r(15306),r(68757),r(64765),r(23123),r(23157),r(83650),r(73210),r(48702),r(55674),r(15218),r(74475),r(57929),r(50915),r(29253),r(42125),r(78830),r(58734),r(29254),r(37268),r(7397),r(60086),r(80623),r(44197),r(76495),r(87145),r(35109),r(65125),r(82472),r(49743),r(8255),r(29135),r(48675),r(92990),r(18927),r(33105),r(35035),r(74345),r(7174),r(32846),r(98145),r(44731),r(77209),r(96319),r(58867),r(37789),r(33739),r(95206),r(29368),r(14483),r(12056),r(3462),r(30678),r(27462),r(33824),r(55021),r(12974),r(15016),r(78221),r(4129),r(38478),r(8628),r(19258),r(69810),r(84811),r(34286),r(3048),r(77461),r(1999),r(61886),r(8e4),r(83475),r(46273),r(56882),r(78525),r(27004),r(3087),r(97391),r(66342),r(40787),r(23647),r(68216),r(88449),r(31672),r(74326),r(15581),r(78631),r(57640),r(25387),r(64211),r(12771),r(62962),r(71790),r(51568),r(26349),r(67427),r(32279),r(13384),r(65743),r(2490),r(85567),r(5332),r(79433),r(59849),r(59461),r(82499),r(34514),r(26877),r(9924),r(72608),r(41874),r(66043),r(23748),r(71501),r(10072),r(23042),r(99137),r(71957),r(96306),r(103),r(8582),r(90618),r(74592),r(88440),r(58276),r(35082),r(12813),r(18222),r(24838),r(38563),r(50336),r(7512),r(74442),r(87713),r(46603),r(70100),r(10490),r(13187),r(60092),r(19041),r(30666),r(51638),r(62975),r(15728),r(46056),r(44299),r(5162),r(50292),r(29427),r(96936),r(99964),r(75238),r(4987),r(1025),r(97314),r(96290),r(77479),r(34582),r(47896),r(12647),r(98558),r(84018),r(97507),r(61605),r(49076),r(34999),r(88921),r(96248),r(13599),r(11477),r(64362),r(15389),r(46006),r(90401),r(45164),r(91238),r(54837),r(87485),r(56767),r(69916),r(76651),r(61437),r(35285),r(39865),r(86035),r(50058),r(67501),r(13728),r(27207),r(609),r(21568),r(54534),r(95090),r(48824),r(44130),r(35954),r(16850),r(38012),r(26182),r(8922),r(37380),r(1118),r(5835),r(23767),r(8585),r(8970),r(84444),r(68696),r(78206),r(76478),r(79715),r(12714),r(5964),r(43561),r(32049),r(86020),r(56585),r(75505),r(27479),r(54747),r(33948),r(87714),r(82801),r(1174),r(84633),r(85844),r(61295),r(32564),r(60285),r(83753),r(41637),r(40857);},81486:function _(t,e,r){r(70717);},19662:function _(t,e,r){var n=r(17854),o=r(60614),i=r(66330),s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not a function");};},39483:function _(t,e,r){var n=r(17854),o=r(4411),i=r(66330),s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not a constructor");};},96077:function _(t,e,r){var n=r(17854),o=r(60614),i=n.String,s=n.TypeError;t.exports=function(t){if("object"==_typeof2(t)||o(t))return t;throw s("Can't set "+i(t)+" as a prototype");};},51223:function _(t,e,r){var n=r(5112),o=r(70030),i=r(3070),s=n("unscopables"),a=Array.prototype;null==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0;};},31530:function _(t,e,r){"use strict";var n=r(28710).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1);};},25787:function _(t,e,r){var n=r(17854),o=r(47976),i=n.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation");};},19670:function _(t,e,r){var n=r(17854),o=r(70111),i=n.String,s=n.TypeError;t.exports=function(t){if(o(t))return t;throw s(i(t)+" is not an object");};},24019:function _(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView;},7556:function _(t,e,r){var n=r(47293);t.exports=n(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8});}});},90260:function _(t,e,r){"use strict";var n,o,i,s=r(24019),a=r(19781),c=r(17854),u=r(60614),l=r(70111),p=r(92597),f=r(70648),d=r(66330),h=r(68880),m=r(31320),v=r(3070).f,g=r(47976),y=r(79518),b=r(27674),w=r(5112),x=r(69711),D=c.Int8Array,S=D&&D.prototype,k=c.Uint8ClampedArray,E=k&&k.prototype,A=D&&y(D),C=S&&y(S),O=Object.prototype,M=c.TypeError,T=w("toStringTag"),N=x("TYPED_ARRAY_TAG"),R=x("TYPED_ARRAY_CONSTRUCTOR"),I=s&&!!b&&"Opera"!==f(c.opera),P=!1,_={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},isTypedArray=function isTypedArray(t){if(!l(t))return!1;var e=f(t);return p(_,e)||p(B,e);};for(n in _){(i=(o=c[n])&&o.prototype)?h(i,R,o):I=!1;}for(n in B){(i=(o=c[n])&&o.prototype)&&h(i,R,o);}if((!I||!u(A)||A===Function.prototype)&&(A=function TypedArray(){throw M("Incorrect invocation");},I))for(n in _){c[n]&&b(c[n],A);}if((!I||!C||C===O)&&(C=A.prototype,I))for(n in _){c[n]&&b(c[n].prototype,C);}if(I&&y(E)!==C&&b(E,C),a&&!p(C,T))for(n in P=!0,v(C,T,{get:function get(){return l(this)?this[N]:void 0;}}),_){c[n]&&h(c[n],N,n);}t.exports={NATIVE_ARRAY_BUFFER_VIEWS:I,TYPED_ARRAY_CONSTRUCTOR:R,TYPED_ARRAY_TAG:P&&N,aTypedArray:function aTypedArray(t){if(isTypedArray(t))return t;throw M("Target is not a typed array");},aTypedArrayConstructor:function aTypedArrayConstructor(t){if(u(t)&&(!b||g(A,t)))return t;throw M(d(t)+" is not a typed array constructor");},exportTypedArrayMethod:function exportTypedArrayMethod(t,e,r,n){if(a){if(r)for(var o in _){var i=c[o];if(i&&p(i.prototype,t))try{delete i.prototype[t];}catch(r){try{i.prototype[t]=e;}catch(t){}}}C[t]&&!r||m(C,t,r?e:I&&S[t]||e,n);}},exportTypedArrayStaticMethod:function exportTypedArrayStaticMethod(t,e,r){var n,o;if(a){if(b){if(r)for(n in _){if((o=c[n])&&p(o,t))try{delete o[t];}catch(t){}}if(A[t]&&!r)return;try{return m(A,t,r?e:I&&A[t]||e);}catch(t){}}for(n in _){!(o=c[n])||o[t]&&!r||m(o,t,e);}}},isView:function isView(t){if(!l(t))return!1;var e=f(t);return"DataView"===e||p(_,e)||p(B,e);},isTypedArray:isTypedArray,TypedArray:A,TypedArrayPrototype:C};},13331:function _(t,e,r){"use strict";var n=r(17854),o=r(1702),i=r(19781),s=r(24019),a=r(76530),c=r(68880),u=r(12248),l=r(47293),p=r(25787),f=r(19303),d=r(17466),h=r(57067),m=r(11179),v=r(79518),g=r(27674),y=r(8006).f,b=r(3070).f,w=r(21285),x=r(41589),D=r(58003),S=r(29909),k=a.PROPER,E=a.CONFIGURABLE,A=S.get,C=S.set,O="ArrayBuffer",M="DataView",T="Wrong index",N=n.ArrayBuffer,R=N,I=R&&R.prototype,P=n.DataView,_=P&&P.prototype,B=Object.prototype,j=n.Array,L=n.RangeError,z=o(w),V=o([].reverse),$=m.pack,H=m.unpack,packInt8=function packInt8(t){return[255&t];},packInt16=function packInt16(t){return[255&t,t>>8&255];},packInt32=function packInt32(t){return[255&t,t>>8&255,t>>16&255,t>>24&255];},unpackInt32=function unpackInt32(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0];},packFloat32=function packFloat32(t){return $(t,23,4);},packFloat64=function packFloat64(t){return $(t,52,8);},addGetter=function addGetter(t,e){b(t.prototype,e,{get:function get(){return A(this)[e];}});},get=function get(t,e,r,n){var o=h(r),i=A(t);if(o+e>i.byteLength)throw L(T);var s=A(i.buffer).bytes,a=o+i.byteOffset,c=x(s,a,a+e);return n?c:V(c);},set=function set(t,e,r,n,o,i){var s=h(r),a=A(t);if(s+e>a.byteLength)throw L(T);for(var c=A(a.buffer).bytes,u=s+a.byteOffset,l=n(+o),p=0;p<e;p++){c[u+p]=l[i?p:e-p-1];}};if(s){var U=k&&N.name!==O;if(l(function(){N(1);})&&l(function(){new N(-1);})&&!l(function(){return new N(),new N(1.5),new N(NaN),U&&!E;}))U&&E&&c(N,"name",O);else{(R=function ArrayBuffer(t){return p(this,I),new N(h(t));}).prototype=I;for(var W,q=y(N),J=0;q.length>J;){(W=q[J++])in R||c(R,W,N[W]);}I.constructor=R;}g&&v(_)!==B&&g(_,B);var K=new P(new R(2)),G=o(_.setInt8);K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(_,{setInt8:function setInt8(t,e){G(this,t,e<<24>>24);},setUint8:function setUint8(t,e){G(this,t,e<<24>>24);}},{unsafe:!0});}else I=(R=function ArrayBuffer(t){p(this,I);var e=h(t);C(this,{bytes:z(j(e),0),byteLength:e}),i||(this.byteLength=e);}).prototype,_=(P=function DataView(t,e,r){p(this,_),p(t,I);var n=A(t).byteLength,o=f(e);if(o<0||o>n)throw L("Wrong offset");if(o+(r=void 0===r?n-o:d(r))>n)throw L("Wrong length");C(this,{buffer:t,byteLength:r,byteOffset:o}),i||(this.buffer=t,this.byteLength=r,this.byteOffset=o);}).prototype,i&&(addGetter(R,"byteLength"),addGetter(P,"buffer"),addGetter(P,"byteLength"),addGetter(P,"byteOffset")),u(_,{getInt8:function getInt8(t){return get(this,1,t)[0]<<24>>24;},getUint8:function getUint8(t){return get(this,1,t)[0];},getInt16:function getInt16(t){var e=get(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16;},getUint16:function getUint16(t){var e=get(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0];},getInt32:function getInt32(t){return unpackInt32(get(this,4,t,arguments.length>1?arguments[1]:void 0));},getUint32:function getUint32(t){return unpackInt32(get(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0;},getFloat32:function getFloat32(t){return H(get(this,4,t,arguments.length>1?arguments[1]:void 0),23);},getFloat64:function getFloat64(t){return H(get(this,8,t,arguments.length>1?arguments[1]:void 0),52);},setInt8:function setInt8(t,e){set(this,1,t,packInt8,e);},setUint8:function setUint8(t,e){set(this,1,t,packInt8,e);},setInt16:function setInt16(t,e){set(this,2,t,packInt16,e,arguments.length>2?arguments[2]:void 0);},setUint16:function setUint16(t,e){set(this,2,t,packInt16,e,arguments.length>2?arguments[2]:void 0);},setInt32:function setInt32(t,e){set(this,4,t,packInt32,e,arguments.length>2?arguments[2]:void 0);},setUint32:function setUint32(t,e){set(this,4,t,packInt32,e,arguments.length>2?arguments[2]:void 0);},setFloat32:function setFloat32(t,e){set(this,4,t,packFloat32,e,arguments.length>2?arguments[2]:void 0);},setFloat64:function setFloat64(t,e){set(this,8,t,packFloat64,e,arguments.length>2?arguments[2]:void 0);}});D(R,O),D(P,M),t.exports={ArrayBuffer:R,DataView:P};},1048:function _(t,e,r){"use strict";var n=r(47908),o=r(51400),i=r(26244),s=Math.min;t.exports=[].copyWithin||function copyWithin(t,e){var r=n(this),a=i(r),c=o(t,a),u=o(e,a),l=arguments.length>2?arguments[2]:void 0,p=s((void 0===l?a:o(l,a))-u,a-c),f=1;for(u<c&&c<u+p&&(f=-1,u+=p-1,c+=p-1);p-->0;){u in r?r[c]=r[u]:delete r[c],c+=f,u+=f;}return r;};},21285:function _(t,e,r){"use strict";var n=r(47908),o=r(51400),i=r(26244);t.exports=function fill(t){for(var e=n(this),r=i(e),s=arguments.length,a=o(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,u=void 0===c?r:o(c,r);u>a;){e[a++]=t;}return e;};},18533:function _(t,e,r){"use strict";var n=r(42092).forEach,o=r(9341)("forEach");t.exports=o?[].forEach:function forEach(t){return n(this,t,arguments.length>1?arguments[1]:void 0);};},33253:function _(t,e,r){"use strict";var n=r(49974),o=r(47908),i=r(4411),s=r(54777),a=r(18554),c=r(71246),u=r(58173),l=r(98770),p=r(35005),f=r(5112),d=r(28091),h=r(12269).toArray,m=f("asyncIterator"),v=l("Array").values;t.exports=function fromAsync(t){var e=this,r=arguments.length,l=r>1?arguments[1]:void 0,f=r>2?arguments[2]:void 0;return new(p("Promise"))(function(r){var p=o(t);void 0!==l&&(l=n(l,f));var g=u(p,m),y=g?void 0:c(p)||v,b=i(e)?new e():[],w=g?s(p,g):new d(a(p,y));r(h(w,l,b));});};},97745:function _(t,e,r){var n=r(26244);t.exports=function(t,e){for(var r=0,o=n(e),i=new t(o);o>r;){i[r]=e[r++];}return i;};},48457:function _(t,e,r){"use strict";var n=r(17854),o=r(49974),i=r(46916),s=r(47908),a=r(53411),c=r(97659),u=r(4411),l=r(26244),p=r(86135),f=r(18554),d=r(71246),h=n.Array;t.exports=function from(t){var e=s(t),r=u(this),n=arguments.length,m=n>1?arguments[1]:void 0,v=void 0!==m;v&&(m=o(m,n>2?arguments[2]:void 0));var g,y,b,w,x,D,S=d(e),k=0;if(!S||this==h&&c(S))for(g=l(e),y=r?new this(g):h(g);g>k;k++){D=v?m(e[k],k):e[k],p(y,k,D);}else for(x=(w=f(e,S)).next,y=r?new this():[];!(b=i(x,w)).done;k++){D=v?a(w,m,[b.value,k],!0):b.value,p(y,k,D);}return y.length=k,y;};},61386:function _(t,e,r){var n=r(17854),o=r(49974),i=r(1702),s=r(68361),a=r(47908),c=r(34948),u=r(26244),l=r(70030),p=r(97745),f=n.Array,d=i([].push);t.exports=function(t,e,r,n){for(var i,h,m,v=a(t),g=s(v),y=o(e,r),b=l(null),w=u(g),x=0;w>x;x++){m=g[x],(h=c(y(m,x,v)))in b?d(b[h],m):b[h]=[m];}if(n&&(i=n(v))!==f)for(h in b){b[h]=p(i,b[h]);}return b;};},41318:function _(t,e,r){var n=r(45656),o=r(51400),i=r(26244),createMethod=function createMethod(t){return function(e,r,s){var a,c=n(e),u=i(c),l=o(s,u);if(t&&r!=r){for(;u>l;){if((a=c[l++])!=a)return!0;}}else for(;u>l;l++){if((t||l in c)&&c[l]===r)return t||l||0;}return!t&&-1;};};t.exports={includes:createMethod(!0),indexOf:createMethod(!1)};},9671:function _(t,e,r){var n=r(49974),o=r(68361),i=r(47908),s=r(26244),createMethod=function createMethod(t){var e=1==t;return function(r,a,c){for(var u,l=i(r),p=o(l),f=n(a,c),d=s(p);d-->0;){if(f(u=p[d],d,l))switch(t){case 0:return u;case 1:return d;}}return e?-1:void 0;};};t.exports={findLast:createMethod(0),findLastIndex:createMethod(1)};},42092:function _(t,e,r){var n=r(49974),o=r(1702),i=r(68361),s=r(47908),a=r(26244),c=r(65417),u=o([].push),createMethod=function createMethod(t){var e=1==t,r=2==t,o=3==t,l=4==t,p=6==t,f=7==t,d=5==t||p;return function(h,m,v,g){for(var y,b,w=s(h),x=i(w),D=n(m,v),S=a(x),k=0,E=g||c,A=e?E(h,S):r||f?E(h,0):void 0;S>k;k++){if((d||k in x)&&(b=D(y=x[k],k,w),t))if(e)A[k]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return k;case 2:u(A,y);}else switch(t){case 4:return!1;case 7:u(A,y);}}return p?-1:o||l?l:A;};};t.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6),filterReject:createMethod(7)};},86583:function _(t,e,r){"use strict";var n=r(22104),o=r(45656),i=r(19303),s=r(26244),a=r(9341),c=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,p=a("lastIndexOf"),f=l||!p;t.exports=f?function lastIndexOf(t){if(l)return n(u,this,arguments)||0;var e=o(this),r=s(e),a=r-1;for(arguments.length>1&&(a=c(a,i(arguments[1]))),a<0&&(a=r+a);a>=0;a--){if(a in e&&e[a]===t)return a||0;}return-1;}:u;},81194:function _(t,e,r){var n=r(47293),o=r(5112),i=r(7392),s=o("species");t.exports=function(t){return i>=51||!n(function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1};},1!==e[t](Boolean).foo;});};},9341:function _(t,e,r){"use strict";var n=r(47293);t.exports=function(t,e){var r=[][t];return!!r&&n(function(){r.call(null,e||function(){return 1;},1);});};},53671:function _(t,e,r){var n=r(17854),o=r(19662),i=r(47908),s=r(68361),a=r(26244),c=n.TypeError,createMethod=function createMethod(t){return function(e,r,n,u){o(r);var l=i(e),p=s(l),f=a(l),d=t?f-1:0,h=t?-1:1;if(n<2)for(;;){if(d in p){u=p[d],d+=h;break;}if(d+=h,t?d<0:f<=d)throw c("Reduce of empty array with no initial value");}for(;t?d>=0:f>d;d+=h){d in p&&(u=r(u,p[d],d,l));}return u;};};t.exports={left:createMethod(!1),right:createMethod(!0)};},41589:function _(t,e,r){var n=r(17854),o=r(51400),i=r(26244),s=r(86135),a=n.Array,c=Math.max;t.exports=function(t,e,r){for(var n=i(t),u=o(e,n),l=o(void 0===r?n:r,n),p=a(c(l-u,0)),f=0;u<l;u++,f++){s(p,f,t[u]);}return p.length=f,p;};},50206:function _(t,e,r){var n=r(1702);t.exports=n([].slice);},94362:function _(t,e,r){var n=r(41589),o=Math.floor,mergeSort=function mergeSort(t,e){var r=t.length,i=o(r/2);return r<8?insertionSort(t,e):merge(t,mergeSort(n(t,0,i),e),mergeSort(n(t,i),e),e);},insertionSort=function insertionSort(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;){t[n]=t[--n];}n!==i++&&(t[n]=r);}return t;},merge=function merge(t,e,r,n){for(var o=e.length,i=r.length,s=0,a=0;s<o||a<i;){t[s+a]=s<o&&a<i?n(e[s],r[a])<=0?e[s++]:r[a++]:s<o?e[s++]:r[a++];}return t;};t.exports=mergeSort;},77475:function _(t,e,r){var n=r(17854),o=r(43157),i=r(4411),s=r(70111),a=r(5112)("species"),c=n.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||s(e)&&null===(e=e[a]))&&(e=void 0)),void 0===e?c:e;};},65417:function _(t,e,r){var n=r(77475);t.exports=function(t,e){return new(n(t))(0===e?0:e);};},21843:function _(t,e,r){var n=r(26244);t.exports=function(t,e){for(var r=n(t),o=new e(r),i=0;i<r;i++){o[i]=t[r-i-1];}return o;};},1654:function _(t,e,r){var n=r(26244),o=r(51400),i=r(19303),s=Math.max,a=Math.min;t.exports=function(t,e,r){var c,u,l,p,f=r[0],d=r[1],h=n(t),m=o(f,h),v=r.length,g=0;for(0===v?c=u=0:1===v?(c=0,u=h-m):(c=v-2,u=a(s(i(d),0),h-m)),p=new e(l=h+c-u);g<m;g++){p[g]=t[g];}for(;g<m+c;g++){p[g]=r[g-m+2];}for(;g<l;g++){p[g]=t[g+u-c];}return p;};},60956:function _(t,e,r){"use strict";var n=r(35005),o=r(1702),i=r(19662),s=r(26244),a=r(47908),c=r(65417),u=n("Map"),l=u.prototype,p=o(l.forEach),f=o(l.has),d=o(l.set),h=o([].push);t.exports=function uniqueBy(t){var e,r,n,o=a(this),l=s(o),m=c(o,0),v=new u(),g=null!=t?i(t):function(t){return t;};for(e=0;e<l;e++){n=g(r=o[e]),f(v,n)||d(v,n,r);}return p(v,function(t){h(m,t);}),m;};},11572:function _(t,e,r){var n=r(17854),o=r(26244),i=r(19303),s=n.RangeError;t.exports=function(t,e,r,n){var a=o(t),c=i(r),u=c<0?a+c:c;if(u>=a||u<0)throw s("Incorrect index");for(var l=new e(a),p=0;p<a;p++){l[p]=p===u?n:t[p];}return l;};},28091:function _(t,e,r){"use strict";var n=r(22104),o=r(19670),i=r(70030),s=r(58173),a=r(12248),c=r(29909),u=r(35005),l=r(66462),p=u("Promise"),f="AsyncFromSyncIterator",d=c.set,h=c.getterFor(f),asyncFromSyncIteratorContinuation=function asyncFromSyncIteratorContinuation(t,e,r){var n=t.done;p.resolve(t.value).then(function(t){e({done:n,value:t});},r);},m=function AsyncIterator(t){d(this,{type:f,iterator:o(t),next:t.next});};m.prototype=a(i(l),{next:function next(t){var e=h(this),r=!!arguments.length;return new p(function(i,s){var a=o(n(e.next,e.iterator,r?[t]:[]));asyncFromSyncIteratorContinuation(a,i,s);});},"return":function _return(t){var e=h(this).iterator,r=!!arguments.length;return new p(function(i,a){var c=s(e,"return");if(void 0===c)return i({done:!0,value:t});var u=o(n(c,e,r?[t]:[]));asyncFromSyncIteratorContinuation(u,i,a);});},"throw":function _throw(t){var e=h(this).iterator,r=!!arguments.length;return new p(function(i,a){var c=s(e,"throw");if(void 0===c)return a(t);var u=o(n(c,e,r?[t]:[]));asyncFromSyncIteratorContinuation(u,i,a);});}}),t.exports=m;},45348:function _(t,e,r){"use strict";var n=r(46916),o=r(19662),i=r(19670),s=r(70030),a=r(68880),c=r(12248),u=r(5112),l=r(29909),p=r(35005),f=r(58173),d=r(66462),h=p("Promise"),m="AsyncIteratorProxy",v=l.set,g=l.getterFor(m),y=u("toStringTag");t.exports=function(t,e){var r=function AsyncIterator(t){t.type=m,t.next=o(t.iterator.next),t.done=!1,t.ignoreArgument=!e,v(this,t);};return r.prototype=c(s(d),{next:function next(r){var o=this,s=!!arguments.length;return new h(function(a){var c=g(o),u=s?[c.ignoreArgument?void 0:r]:e?[]:[void 0];c.ignoreArgument=!1,a(c.done?{done:!0,value:void 0}:i(n(t,c,h,u)));});},"return":function _return(t){var e=this;return new h(function(r,o){var s=g(e),a=s.iterator;s.done=!0;var c=f(a,"return");if(void 0===c)return r({done:!0,value:t});h.resolve(n(c,a,t)).then(function(e){i(e),r({done:!0,value:t});},o);});},"throw":function _throw(t){var e=this;return new h(function(r,o){var i=g(e),s=i.iterator;i.done=!0;var a=f(s,"throw");if(void 0===a)return o(t);r(n(a,s,t));});}}),e||a(r.prototype,y,"Generator"),r;};},12269:function _(t,e,r){"use strict";var n=r(17854),o=r(46916),i=r(19662),s=r(19670),a=r(35005),c=r(58173),u=n.TypeError,createMethod=function createMethod(t){var e=0==t,r=1==t,n=2==t,l=3==t;return function(t,p,f){s(t);var d=a("Promise"),h=i(t.next),m=0,v=void 0!==p;return!v&&e||i(p),new d(function(i,a){var closeIteration=function closeIteration(e,r){try{var n=c(t,"return");if(n)return d.resolve(o(n,t)).then(function(){e(r);},function(t){a(t);});}catch(t){return a(t);}e(r);},onError=function onError(t){closeIteration(a,t);},loop=function loop(){try{if(e&&m>9007199254740991&&v)throw u("The allowed number of iterations has been exceeded");d.resolve(s(o(h,t))).then(function(t){try{if(s(t).done)e?(f.length=m,i(f)):i(!l&&(n||void 0));else{var o=t.value;v?d.resolve(e?p(o,m):p(o)).then(function(t){r?loop():n?t?loop():closeIteration(i,!1):e?(f[m++]=t,loop()):t?closeIteration(i,l||o):loop();},onError):(f[m++]=o,loop());}}catch(t){onError(t);}},onError);}catch(t){onError(t);}};loop();});};};t.exports={toArray:createMethod(0),forEach:createMethod(1),every:createMethod(2),some:createMethod(3),find:createMethod(4)};},66462:function _(t,e,r){var n,o,i=r(17854),s=r(5465),a=r(60614),c=r(70030),u=r(79518),l=r(31320),p=r(5112),f=r(31913),d=p("asyncIterator"),h=i.AsyncIterator,m=s.AsyncIteratorPrototype;if(m)n=m;else if(a(h))n=h.prototype;else if(s.USE_FUNCTION_CONSTRUCTOR||i.USE_FUNCTION_CONSTRUCTOR)try{o=u(u(u(Function("return async function*(){}()")()))),u(o)===Object.prototype&&(n=o);}catch(t){}n?f&&(n=c(n)):n={},a(n[d])||l(n,d,function(){return this;}),t.exports=n;},14170:function _(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={},n=0;n<66;n++){r[e.charAt(n)]=n;}t.exports={itoc:e,ctoi:r};},53411:function _(t,e,r){var n=r(19670),o=r(99212);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r);}catch(e){o(t,"throw",e);}};},17072:function _(t,e,r){var n=r(5112)("iterator"),o=!1;try{var i=0,s={next:function next(){return{done:!!i++};},"return":function _return(){o=!0;}};s[n]=function(){return this;},Array.from(s,function(){throw 2;});}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function next(){return{done:r=!0};}};},t(i);}catch(t){}return r;};},84326:function _(t,e,r){var n=r(1702),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1);};},70648:function _(t,e,r){var n=r(17854),o=r(51694),i=r(60614),s=r(84326),a=r(5112)("toStringTag"),c=n.Object,u="Arguments"==s(function(){return arguments;}());t.exports=o?s:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e];}catch(t){}}(e=c(t),a))?r:u?s(e):"Object"==(n=s(e))&&i(e.callee)?"Arguments":n;};},77741:function _(t,e,r){var n=r(1702)("".replace),o=String(Error("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,s=i.test(o);t.exports=function(t,e){if(s&&"string"==typeof t)for(;e--;){t=n(t,i,"");}return t;};},31501:function _(t,e,r){"use strict";var n=r(46916),o=r(19662),i=r(19670);t.exports=function addAll(){for(var t=i(this),e=o(t.add),r=0,s=arguments.length;r<s;r++){n(e,t,arguments[r]);}return t;};},34092:function _(t,e,r){"use strict";var n=r(46916),o=r(19662),i=r(19670);t.exports=function deleteAll(){for(var t,e=i(this),r=o(e["delete"]),s=!0,a=0,c=arguments.length;a<c;a++){t=n(r,e,arguments[a]),s=s&&t;}return!!s;};},27296:function _(t,e,r){"use strict";var n=r(49974),o=r(46916),i=r(19662),s=r(39483),a=r(20408),c=[].push;t.exports=function from(t){var e,r,u,l,p=arguments.length,f=p>1?arguments[1]:void 0;return s(this),(e=void 0!==f)&&i(f),null==t?new this():(r=[],e?(u=0,l=n(f,p>2?arguments[2]:void 0),a(t,function(t){o(c,r,l(t,u++));})):a(t,c,{that:r}),new this(r));};},82044:function _(t,e,r){"use strict";var n=r(50206);t.exports=function of(){return new this(n(arguments));};},95631:function _(t,e,r){"use strict";var n=r(3070).f,o=r(70030),i=r(12248),s=r(49974),a=r(25787),c=r(20408),u=r(70654),l=r(96340),p=r(19781),f=r(62423).fastKey,d=r(29909),h=d.set,m=d.getterFor;t.exports={getConstructor:function getConstructor(t,e,r,u){var l=t(function(t,n){a(t,d),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),p||(t.size=0),null!=n&&c(n,t[u],{that:t,AS_ENTRIES:r});}),d=l.prototype,v=m(e),define=function define(t,e,r){var n,o,i=v(t),s=getEntry(t,e);return s?s.value=r:(i.last=s={index:o=f(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=s),n&&(n.next=s),p?i.size++:t.size++,"F"!==o&&(i.index[o]=s)),t;},getEntry=function getEntry(t,e){var r,n=v(t),o=f(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next){if(r.key==e)return r;}};return i(d,{clear:function clear(){for(var t=v(this),e=t.index,r=t.first;r;){r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;}t.first=t.last=void 0,p?t.size=0:this.size=0;},"delete":function _delete(t){var e=this,r=v(e),n=getEntry(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first==n&&(r.first=o),r.last==n&&(r.last=i),p?r.size--:e.size--;}return!!n;},forEach:function forEach(t){for(var e,r=v(this),n=s(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;){for(n(e.value,e.key,this);e&&e.removed;){e=e.previous;}}},has:function has(t){return!!getEntry(this,t);}}),i(d,r?{get:function get(t){var e=getEntry(this,t);return e&&e.value;},set:function set(t,e){return define(this,0===t?0:t,e);}}:{add:function add(t){return define(this,t=0===t?0:t,t);}}),p&&n(d,"size",{get:function get(){return v(this).size;}}),l;},setStrong:function setStrong(t,e,r){var n=e+" Iterator",o=m(e),i=m(n);u(t,e,function(t,e){h(this,{type:n,target:t,state:o(t),kind:e,last:void 0});},function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;){r=r.previous;}return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0});},r?"entries":"values",!r,!0),l(e);}};},29320:function _(t,e,r){"use strict";var n=r(1702),o=r(12248),i=r(62423).getWeakData,s=r(19670),a=r(70111),c=r(25787),u=r(20408),l=r(42092),p=r(92597),f=r(29909),d=f.set,h=f.getterFor,m=l.find,v=l.findIndex,g=n([].splice),y=0,uncaughtFrozenStore=function uncaughtFrozenStore(t){return t.frozen||(t.frozen=new UncaughtFrozenStore());},UncaughtFrozenStore=function UncaughtFrozenStore(){this.entries=[];},findUncaughtFrozen=function findUncaughtFrozen(t,e){return m(t.entries,function(t){return t[0]===e;});};UncaughtFrozenStore.prototype={get:function get(t){var e=findUncaughtFrozen(this,t);if(e)return e[1];},has:function has(t){return!!findUncaughtFrozen(this,t);},set:function set(t,e){var r=findUncaughtFrozen(this,t);r?r[1]=e:this.entries.push([t,e]);},"delete":function _delete(t){var e=v(this.entries,function(e){return e[0]===t;});return~e&&g(this.entries,e,1),!!~e;}},t.exports={getConstructor:function getConstructor(t,e,r,n){var l=t(function(t,o){c(t,f),d(t,{type:e,id:y++,frozen:void 0}),null!=o&&u(o,t[n],{that:t,AS_ENTRIES:r});}),f=l.prototype,m=h(e),define=function define(t,e,r){var n=m(t),o=i(s(e),!0);return!0===o?uncaughtFrozenStore(n).set(e,r):o[n.id]=r,t;};return o(f,{"delete":function _delete(t){var e=m(this);if(!a(t))return!1;var r=i(t);return!0===r?uncaughtFrozenStore(e)["delete"](t):r&&p(r,e.id)&&delete r[e.id];},has:function has(t){var e=m(this);if(!a(t))return!1;var r=i(t);return!0===r?uncaughtFrozenStore(e).has(t):r&&p(r,e.id);}}),o(f,r?{get:function get(t){var e=m(this);if(a(t)){var r=i(t);return!0===r?uncaughtFrozenStore(e).get(t):r?r[e.id]:void 0;}},set:function set(t,e){return define(this,t,e);}}:{add:function add(t){return define(this,t,!0);}}),l;}};},77710:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(1702),s=r(54705),a=r(31320),c=r(62423),u=r(20408),l=r(25787),p=r(60614),f=r(70111),d=r(47293),h=r(17072),m=r(58003),v=r(79587);t.exports=function(t,e,r){var g=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),b=g?"set":"add",w=o[t],x=w&&w.prototype,D=w,S={},fixMethod=function fixMethod(t){var e=i(x[t]);a(x,t,"add"==t?function add(t){return e(this,0===t?0:t),this;}:"delete"==t?function(t){return!(y&&!f(t))&&e(this,0===t?0:t);}:"get"==t?function get(t){return y&&!f(t)?void 0:e(this,0===t?0:t);}:"has"==t?function has(t){return!(y&&!f(t))&&e(this,0===t?0:t);}:function set(t,r){return e(this,0===t?0:t,r),this;});};if(s(t,!p(w)||!(y||x.forEach&&!d(function(){new w().entries().next();}))))D=r.getConstructor(e,t,g,b),c.enable();else if(s(t,!0)){var k=new D(),E=k[b](y?{}:-0,1)!=k,A=d(function(){k.has(1);}),C=h(function(t){new w(t);}),O=!y&&d(function(){for(var t=new w(),e=5;e--;){t[b](e,e);}return!t.has(-0);});C||((D=e(function(t,e){l(t,x);var r=v(new w(),t,D);return null!=e&&u(e,r[b],{that:r,AS_ENTRIES:g}),r;})).prototype=x,x.constructor=D),(A||O)&&(fixMethod("delete"),fixMethod("has"),g&&fixMethod("get")),(O||E)&&fixMethod(b),y&&x.clear&&delete x.clear;}return S[t]=D,n({global:!0,forced:D!=w},S),m(D,t),y||r.setStrong(D,t,g),D;};},10313:function _(t,e,r){r(51532),r(4129);var n=r(17854),o=r(35005),i=r(70030),s=r(70111),a=n.Object,c=n.TypeError,u=o("Map"),l=o("WeakMap"),Node=function Node(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=i(null);};Node.prototype.get=function(t,e){return this[t]||(this[t]=e());},Node.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new l()):this.primitives||(this.primitives=new u()),o=n.get(e);return o||n.set(e,o=new Node()),o;};var p=new Node();t.exports=function(){var t,e,r=p,n=arguments.length;for(t=0;t<n;t++){s(e=arguments[t])&&(r=r.next(t,e,!0));}if(this===a&&r===p)throw c("Composite keys must contain a non-primitive component");for(t=0;t<n;t++){s(e=arguments[t])||(r=r.next(t,e,!1));}return r;};},99920:function _(t,e,r){var n=r(92597),o=r(53887),i=r(31236),s=r(3070);t.exports=function(t,e,r){for(var a=o(e),c=s.f,u=i.f,l=0;l<a.length;l++){var p=a[l];n(t,p)||r&&n(r,p)||c(t,p,u(e,p));}};},84964:function _(t,e,r){var n=r(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e);}catch(r){try{return e[n]=!1,"/./"[t](e);}catch(t){}}return!1;};},49920:function _(t,e,r){var n=r(47293);t.exports=!n(function(){function F(){}return F.prototype.constructor=null,Object.getPrototypeOf(new F())!==F.prototype;});},14230:function _(t,e,r){var n=r(1702),o=r(84488),i=r(41340),s=/"/g,a=n("".replace);t.exports=function(t,e,r,n){var c=i(o(t)),u="<"+e;return""!==r&&(u+=" "+r+'="'+a(i(n),s,"&quot;")+'"'),u+">"+c+"</"+e+">";};},24994:function _(t,e,r){"use strict";var n=r(13383).IteratorPrototype,o=r(70030),i=r(79114),s=r(58003),a=r(97497),returnThis=function returnThis(){return this;};t.exports=function(t,e,r,c){var u=e+" Iterator";return t.prototype=o(n,{next:i(+!c,r)}),s(t,u,!1,!0),a[u]=returnThis,t;};},68880:function _(t,e,r){var n=r(19781),o=r(3070),i=r(79114);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r));}:function(t,e,r){return t[e]=r,t;};},79114:function _(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e};};},86135:function _(t,e,r){"use strict";var n=r(34948),o=r(3070),i=r(79114);t.exports=function(t,e,r){var s=n(e);s in t?o.f(t,s,i(0,r)):t[s]=r;};},85573:function _(t,e,r){"use strict";var n=r(17854),o=r(1702),i=r(47293),s=r(76650).start,a=n.RangeError,c=Math.abs,u=Date.prototype,l=u.toISOString,p=o(u.getTime),f=o(u.getUTCDate),d=o(u.getUTCFullYear),h=o(u.getUTCHours),m=o(u.getUTCMilliseconds),v=o(u.getUTCMinutes),g=o(u.getUTCMonth),y=o(u.getUTCSeconds);t.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001));})||!i(function(){l.call(new Date(NaN));})?function toISOString(){if(!isFinite(p(this)))throw a("Invalid time value");var t=this,e=d(t),r=m(t),n=e<0?"-":e>9999?"+":"";return n+s(c(e),n?6:4,0)+"-"+s(g(t)+1,2,0)+"-"+s(f(t),2,0)+"T"+s(h(t),2,0)+":"+s(v(t),2,0)+":"+s(y(t),2,0)+"."+s(r,3,0)+"Z";}:l;},38709:function _(t,e,r){"use strict";var n=r(17854),o=r(19670),i=r(92140),s=n.TypeError;t.exports=function(t){if(o(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw s("Incorrect hint");return i(this,t);};},70654:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(31913),s=r(76530),a=r(60614),c=r(24994),u=r(79518),l=r(27674),p=r(58003),f=r(68880),d=r(31320),h=r(5112),m=r(97497),v=r(13383),g=s.PROPER,y=s.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,x=h("iterator"),D="keys",S="values",k="entries",returnThis=function returnThis(){return this;};t.exports=function(t,e,r,s,h,v,E){c(r,e,s);var A,C,O,getIterationMethod=function getIterationMethod(t){if(t===h&&I)return I;if(!w&&t in N)return N[t];switch(t){case D:return function keys(){return new r(this,t);};case S:return function values(){return new r(this,t);};case k:return function entries(){return new r(this,t);};}return function(){return new r(this);};},M=e+" Iterator",T=!1,N=t.prototype,R=N[x]||N["@@iterator"]||h&&N[h],I=!w&&R||getIterationMethod(h),P="Array"==e&&N.entries||R;if(P&&(A=u(P.call(new t())))!==Object.prototype&&A.next&&(i||u(A)===b||(l?l(A,b):a(A[x])||d(A,x,returnThis)),p(A,M,!0,!0),i&&(m[M]=returnThis)),g&&h==S&&R&&R.name!==S&&(!i&&y?f(N,"name",S):(T=!0,I=function values(){return o(R,this);})),h)if(C={values:getIterationMethod(S),keys:v?I:getIterationMethod(D),entries:getIterationMethod(k)},E)for(O in C){(w||T||!(O in N))&&d(N,O,C[O]);}else n({target:e,proto:!0,forced:w||T},C);return i&&!E||N[x]===I||d(N,x,I,{name:h}),m[e]=I,C;};},97235:function _(t,e,r){var n=r(40857),o=r(92597),i=r(6061),s=r(3070).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||s(e,t,{value:i.f(t)});};},19781:function _(t,e,r){var n=r(47293);t.exports=!n(function(){return 7!=Object.defineProperty({},1,{get:function get(){return 7;}})[1];});},80317:function _(t,e,r){var n=r(17854),o=r(70111),i=n.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{};};},93678:function _(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}};},48324:function _(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};},98509:function _(t,e,r){var n=r(80317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o;},68886:function _(t,e,r){var n=r(88113).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1];},7871:function _(t){t.exports="object"==(typeof window==="undefined"?"undefined":_typeof2(window));},30256:function _(t,e,r){var n=r(88113);t.exports=/MSIE|Trident/.test(n);},71528:function _(t,e,r){var n=r(88113),o=r(17854);t.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble;},6833:function _(t,e,r){var n=r(88113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n);},35268:function _(t,e,r){var n=r(84326),o=r(17854);t.exports="process"==n(o.process);},71036:function _(t,e,r){var n=r(88113);t.exports=/web0s(?!.*chrome)/i.test(n);},88113:function _(t,e,r){var n=r(35005);t.exports=n("navigator","userAgent")||"";},7392:function _(t,e,r){var n,o,i=r(17854),s=r(88113),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o;},98008:function _(t,e,r){var n=r(88113).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1];},98770:function _(t,e,r){var n=r(17854);t.exports=function(t){return n[t].prototype;};},80748:function _(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];},22914:function _(t,e,r){var n=r(47293),o=r(79114);t.exports=!n(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack);});},7762:function _(t,e,r){"use strict";var n=r(19781),o=r(47293),i=r(19670),s=r(70030),a=r(56277),c=Error.prototype.toString,u=o(function(){if(n){var t=s(Object.defineProperty({},"name",{get:function get(){return this===t;}}));if("true"!==c.call(t))return!0;}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({});});t.exports=u?function toString(){var t=i(this),e=a(t.name,"Error"),r=a(t.message);return e?r?e+": "+r:e:r;}:c;},82109:function _(t,e,r){var n=r(17854),o=r(31236).f,i=r(68880),s=r(31320),a=r(83505),c=r(99920),u=r(54705);t.exports=function(t,e){var r,l,p,f,d,h=t.target,m=t.global,v=t.stat;if(r=m?n:v?n[h]||a(h,{}):(n[h]||{}).prototype)for(l in e){if(f=e[l],p=t.noTargetGet?(d=o(r,l))&&d.value:r[l],!u(m?l:h+(v?".":"#")+l,t.forced)&&void 0!==p){if(_typeof2(f)==_typeof2(p))continue;c(f,p);}(t.sham||p&&p.sham)&&i(f,"sham",!0),s(r,l,f,t);}};},47293:function _(t){t.exports=function(t){try{return!!t();}catch(t){return!0;}};},27007:function _(t,e,r){"use strict";r(74916);var n=r(1702),o=r(31320),i=r(22261),s=r(47293),a=r(5112),c=r(68880),u=a("species"),l=RegExp.prototype;t.exports=function(t,e,r,p){var f=a(t),d=!s(function(){var e={};return e[f]=function(){return 7;},7!=""[t](e);}),h=d&&!s(function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[u]=function(){return r;},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null;},r[f](""),!e;});if(!d||!h||r){var m=n(/./[f]),v=e(f,""[t],function(t,e,r,o,s){var a=n(t),c=e.exec;return c===i||c===l.exec?d&&!s?{done:!0,value:m(e,r,o)}:{done:!0,value:a(r,e,o)}:{done:!1};});o(String.prototype,t,v[0]),o(l,f,v[1]);}p&&c(l[f],"sham",!0);};},6790:function _(t,e,r){"use strict";var n=r(17854),o=r(43157),i=r(26244),s=r(49974),a=n.TypeError,flattenIntoArray=function flattenIntoArray(t,e,r,n,c,u,l,p){for(var f,d,h=c,m=0,v=!!l&&s(l,p);m<n;){if(m in r){if(f=v?v(r[m],m,e):r[m],u>0&&o(f))d=i(f),h=flattenIntoArray(t,e,f,d,h,u-1)-1;else{if(h>=9007199254740991)throw a("Exceed the acceptable array length");t[h]=f;}h++;}m++;}return h;};t.exports=flattenIntoArray;},76677:function _(t,e,r){var n=r(47293);t.exports=!n(function(){return Object.isExtensible(Object.preventExtensions({}));});},22104:function _(t,e,r){var n=r(34374),o=Function.prototype,i=o.apply,s=o.call;t.exports="object"==(typeof Reflect==="undefined"?"undefined":_typeof2(Reflect))&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments);});},49974:function _(t,e,r){var n=r(1702),o=r(19662),i=r(34374),s=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?s(t,e):function(){return t.apply(e,arguments);};};},34374:function _(t,e,r){var n=r(47293);t.exports=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype");});},27065:function _(t,e,r){"use strict";var n=r(17854),o=r(1702),i=r(19662),s=r(70111),a=r(92597),c=r(50206),u=r(34374),l=n.Function,p=o([].concat),f=o([].join),d={},construct=function construct(t,e,r){if(!a(d,e)){for(var n=[],o=0;o<e;o++){n[o]="a["+o+"]";}d[e]=l("C,a","return new C("+f(n,",")+")");}return d[e](t,r);};t.exports=u?l.bind:function bind(t){var e=i(this),r=e.prototype,n=c(arguments,1),o=function bound(){var r=p(n,c(arguments));return this instanceof o?construct(e,r.length,r):e.apply(t,r);};return s(r)&&(o.prototype=r),o;};},46916:function _(t,e,r){var n=r(34374),o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments);};},76530:function _(t,e,r){var n=r(19781),o=r(92597),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function something(){}.name,u=a&&(!n||n&&s(i,"name").configurable);t.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u};},1702:function _(t,e,r){var n=r(34374),o=Function.prototype,i=o.bind,s=o.call,a=n&&i.bind(s,s);t.exports=n?function(t){return t&&a(t);}:function(t){return t&&function(){return s.apply(t,arguments);};};},54777:function _(t,e,r){var n=r(46916),o=r(28091),i=r(19670),s=r(18554),a=r(58173),c=r(5112)("asyncIterator");t.exports=function(t,e){var r=arguments.length<2?a(t,c):e;return r?i(n(r,t)):new o(s(t));};},35005:function _(t,e,r){var n=r(17854),o=r(60614),aFunction=function aFunction(t){return o(t)?t:void 0;};t.exports=function(t,e){return arguments.length<2?aFunction(n[t]):n[t]&&n[t][e];};},71246:function _(t,e,r){var n=r(70648),o=r(58173),i=r(97497),s=r(5112)("iterator");t.exports=function(t){if(null!=t)return o(t,s)||o(t,"@@iterator")||i[n(t)];};},18554:function _(t,e,r){var n=r(17854),o=r(46916),i=r(19662),s=r(19670),a=r(66330),c=r(71246),u=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?c(t):e;if(i(r))return s(o(r,t));throw u(a(t)+" is not iterable");};},54647:function _(t,e,r){var n=r(46916);t.exports=function(t){return n(Map.prototype.entries,t);};},58173:function _(t,e,r){var n=r(19662);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r);};},96767:function _(t,e,r){var n=r(46916);t.exports=function(t){return n(Set.prototype.values,t);};},10647:function _(t,e,r){var n=r(1702),o=r(47908),i=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,p,f){var d=r+t.length,h=n.length,m=l;return void 0!==p&&(p=o(p),m=u),a(f,m,function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,d);case"<":u=p[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var f=i(l/10);return 0===f?o:f<=h?void 0===n[f-1]?s(a,1):n[f-1]+s(a,1):o;}u=n[l-1];}return void 0===u?"":u;});};},17854:function _(t,e,r){var check=function check(t){return t&&t.Math==Math&&t;};t.exports=check("object"==(typeof globalThis==="undefined"?"undefined":_typeof2(globalThis))&&globalThis)||check("object"==(typeof window==="undefined"?"undefined":_typeof2(window))&&window)||check("object"==(typeof self==="undefined"?"undefined":_typeof2(self))&&self)||check("object"==_typeof2(r.g)&&r.g)||function(){return this;}()||Function("return this")();},92597:function _(t,e,r){var n=r(1702),o=r(47908),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function hasOwn(t,e){return i(o(t),e);};},3501:function _(t){t.exports={};},842:function _(t,e,r){var n=r(17854);t.exports=function(t,e){var r=n.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e));};},60490:function _(t,e,r){var n=r(35005);t.exports=n("document","documentElement");},64664:function _(t,e,r){var n=r(19781),o=r(47293),i=r(80317);t.exports=!n&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function get(){return 7;}}).a;});},11179:function _(t,e,r){var n=r(17854).Array,o=Math.abs,i=Math.pow,s=Math.floor,a=Math.log,c=Math.LN2;t.exports={pack:function pack(t,e,r){var u,l,p,f=n(r),d=8*r-e-1,h=(1<<d)-1,m=h>>1,v=23===e?i(2,-24)-i(2,-77):0,g=t<0||0===t&&1/t<0?1:0,y=0;for((t=o(t))!=t||t===1/0?(l=t!=t?1:0,u=h):(u=s(a(t)/c),t*(p=i(2,-u))<1&&(u--,p*=2),(t+=u+m>=1?v/p:v*i(2,1-m))*p>=2&&(u++,p/=2),u+m>=h?(l=0,u=h):u+m>=1?(l=(t*p-1)*i(2,e),u+=m):(l=t*i(2,m-1)*i(2,e),u=0));e>=8;){f[y++]=255&l,l/=256,e-=8;}for(u=u<<e|l,d+=e;d>0;){f[y++]=255&u,u/=256,d-=8;}return f[--y]|=128*g,f;},unpack:function unpack(t,e){var r,n=t.length,o=8*n-e-1,s=(1<<o)-1,a=s>>1,c=o-7,u=n-1,l=t[u--],p=127&l;for(l>>=7;c>0;){p=256*p+t[u--],c-=8;}for(r=p&(1<<-c)-1,p>>=-c,c+=e;c>0;){r=256*r+t[u--],c-=8;}if(0===p)p=1-a;else{if(p===s)return r?NaN:l?-1/0:1/0;r+=i(2,e),p-=a;}return(l?-1:1)*r*i(2,p-e);}};},68361:function _(t,e,r){var n=r(17854),o=r(1702),i=r(47293),s=r(84326),a=n.Object,c=o("".split);t.exports=i(function(){return!a("z").propertyIsEnumerable(0);})?function(t){return"String"==s(t)?c(t,""):a(t);}:a;},79587:function _(t,e,r){var n=r(60614),o=r(70111),i=r(27674);t.exports=function(t,e,r){var s,a;return i&&n(s=e.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(t,a),t;};},42788:function _(t,e,r){var n=r(1702),o=r(60614),i=r(5465),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return s(t);}),t.exports=i.inspectSource;},58340:function _(t,e,r){var n=r(70111),o=r(68880);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause);};},62423:function _(t,e,r){var n=r(82109),o=r(1702),i=r(3501),s=r(70111),a=r(92597),c=r(3070).f,u=r(8006),l=r(1156),p=r(52050),f=r(69711),d=r(76677),h=!1,m=f("meta"),v=0,setMetadata=function setMetadata(t){c(t,m,{value:{objectID:"O"+v++,weakData:{}}});},g=t.exports={enable:function enable(){g.enable=function(){},h=!0;var t=u.f,e=o([].splice),r={};r[m]=1,t(r).length&&(u.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++){if(n[o]===m){e(n,o,1);break;}}return n;},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}));},fastKey:function fastKey(t,e){if(!s(t))return"symbol"==_typeof2(t)?t:("string"==typeof t?"S":"P")+t;if(!a(t,m)){if(!p(t))return"F";if(!e)return"E";setMetadata(t);}return t[m].objectID;},getWeakData:function getWeakData(t,e){if(!a(t,m)){if(!p(t))return!0;if(!e)return!1;setMetadata(t);}return t[m].weakData;},onFreeze:function onFreeze(t){return d&&h&&p(t)&&!a(t,m)&&setMetadata(t),t;}};i[m]=!0;},29909:function _(t,e,r){var n,o,i,s=r(68536),a=r(17854),c=r(1702),u=r(70111),l=r(68880),p=r(92597),f=r(5465),d=r(6200),h=r(3501),m="Object already initialized",v=a.TypeError,g=a.WeakMap;if(s||f.state){var y=f.state||(f.state=new g()),b=c(y.get),w=c(y.has),x=c(y.set);n=function n(t,e){if(w(y,t))throw new v(m);return e.facade=t,x(y,t,e),e;},o=function o(t){return b(y,t)||{};},i=function i(t){return w(y,t);};}else{var D=d("state");h[D]=!0,n=function n(t,e){if(p(t,D))throw new v(m);return e.facade=t,l(t,D,e),e;},o=function o(t){return p(t,D)?t[D]:{};},i=function i(t){return p(t,D);};}t.exports={set:n,get:o,has:i,enforce:function enforce(t){return i(t)?o(t):n(t,{});},getterFor:function getterFor(t){return function(e){var r;if(!u(e)||(r=o(e)).type!==t)throw v("Incompatible receiver, "+t+" required");return r;};}};},97659:function _(t,e,r){var n=r(5112),o=r(97497),i=n("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t);};},43157:function _(t,e,r){var n=r(84326);t.exports=Array.isArray||function isArray(t){return"Array"==n(t);};},60614:function _(t){t.exports=function(t){return"function"==typeof t;};},4411:function _(t,e,r){var n=r(1702),o=r(47293),i=r(60614),s=r(70648),a=r(35005),c=r(42788),noop=function noop(){},u=[],l=a("Reflect","construct"),p=/^\s*(?:class|function)\b/,f=n(p.exec),d=!p.exec(noop),h=function isConstructor(t){if(!i(t))return!1;try{return l(noop,u,t),!0;}catch(t){return!1;}},m=function isConstructor(t){if(!i(t))return!1;switch(s(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return d||!!f(p,c(t));}catch(t){return!0;}};m.sham=!0,t.exports=!l||o(function(){var t;return h(h.call)||!h(Object)||!h(function(){t=!0;})||t;})?m:h;},45032:function _(t,e,r){var n=r(92597);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"));};},54705:function _(t,e,r){var n=r(47293),o=r(60614),i=/#|\.prototype\./,isForced=function isForced(t,e){var r=a[s(t)];return r==u||r!=c&&(o(e)?n(e):!!e);},s=isForced.normalize=function(t){return String(t).replace(i,".").toLowerCase();},a=isForced.data={},c=isForced.NATIVE="N",u=isForced.POLYFILL="P";t.exports=isForced;},55988:function _(t,e,r){var n=r(70111),o=Math.floor;t.exports=Number.isInteger||function isInteger(t){return!n(t)&&isFinite(t)&&o(t)===t;};},70111:function _(t,e,r){var n=r(60614);t.exports=function(t){return"object"==_typeof2(t)?null!==t:n(t);};},31913:function _(t){t.exports=!1;},47850:function _(t,e,r){var n=r(70111),o=r(84326),i=r(5112)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t));};},52190:function _(t,e,r){var n=r(17854),o=r(35005),i=r(60614),s=r(47976),a=r(43307),c=n.Object;t.exports=a?function(t){return"symbol"==_typeof2(t);}:function(t){var e=o("Symbol");return i(e)&&s(e.prototype,c(t));};},20408:function _(t,e,r){var n=r(17854),o=r(49974),i=r(46916),s=r(19670),a=r(66330),c=r(97659),u=r(26244),l=r(47976),p=r(18554),f=r(71246),d=r(99212),h=n.TypeError,Result=function Result(t,e){this.stopped=t,this.result=e;},m=Result.prototype;t.exports=function(t,e,r){var n,v,g,y,b,w,x,D=r&&r.that,S=!(!r||!r.AS_ENTRIES),k=!(!r||!r.IS_ITERATOR),E=!(!r||!r.INTERRUPTED),A=o(e,D),stop=function stop(t){return n&&d(n,"normal",t),new Result(!0,t);},callFn=function callFn(t){return S?(s(t),E?A(t[0],t[1],stop):A(t[0],t[1])):E?A(t,stop):A(t);};if(k)n=t;else{if(!(v=f(t)))throw h(a(t)+" is not iterable");if(c(v)){for(g=0,y=u(t);y>g;g++){if((b=callFn(t[g]))&&l(m,b))return b;}return new Result(!1);}n=p(t,v);}for(w=n.next;!(x=i(w,n)).done;){try{b=callFn(x.value);}catch(t){d(n,"throw",t);}if("object"==_typeof2(b)&&b&&l(m,b))return b;}return new Result(!1);};},99212:function _(t,e,r){var n=r(46916),o=r(19670),i=r(58173);t.exports=function(t,e,r){var s,a;o(t);try{if(!(s=i(t,"return"))){if("throw"===e)throw r;return r;}s=n(s,t);}catch(t){a=!0,s=t;}if("throw"===e)throw r;if(a)throw s;return o(s),r;};},54956:function _(t,e,r){"use strict";var n=r(46916),o=r(19662),i=r(19670),s=r(70030),a=r(68880),c=r(12248),u=r(5112),l=r(29909),p=r(58173),f=r(13383).IteratorPrototype,d="IteratorProxy",h=l.set,m=l.getterFor(d),v=u("toStringTag");t.exports=function(t,e){var r=function Iterator(t){t.type=d,t.next=o(t.iterator.next),t.done=!1,t.ignoreArg=!e,h(this,t);};return r.prototype=c(s(f),{next:function next(r){var o=m(this),i=arguments.length?[o.ignoreArg?void 0:r]:e?[]:[void 0];o.ignoreArg=!1;var s=o.done?void 0:n(t,o,i);return{done:o.done,value:s};},"return":function _return(t){var e=m(this),r=e.iterator;e.done=!0;var o=p(r,"return");return{done:!0,value:o?i(n(o,r,t)).value:t};},"throw":function _throw(t){var e=m(this),r=e.iterator;e.done=!0;var o=p(r,"throw");if(o)return n(o,r,t);throw t;}}),e||a(r.prototype,v,"Generator"),r;};},13383:function _(t,e,r){"use strict";var n,o,i,s=r(47293),a=r(60614),c=r(70030),u=r(79518),l=r(31320),p=r(5112),f=r(31913),d=p("iterator"),h=!1;[].keys&&("next"in(i=[].keys())?(o=u(u(i)))!==Object.prototype&&(n=o):h=!0),null==n||s(function(){var t={};return n[d].call(t)!==t;})?n={}:f&&(n=c(n)),a(n[d])||l(n,d,function(){return this;}),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h};},97497:function _(t){t.exports={};},26244:function _(t,e,r){var n=r(17466);t.exports=function(t){return n(t.length);};},37502:function _(t,e,r){"use strict";var n=r(46916),o=r(19662),i=r(19670);t.exports=function emplace(t,e){var r=i(this),s=o(r.get),a=o(r.has),c=o(r.set),u=n(a,r,t)&&"update"in e?e.update(n(s,r,t),t,r):e.insert(t,r);return n(c,r,t,u),u;};},8154:function _(t,e,r){"use strict";var n=r(17854),o=r(46916),i=r(19662),s=r(60614),a=r(19670),c=n.TypeError;t.exports=function upsert(t,e){var r,n=a(this),u=i(n.get),l=i(n.has),p=i(n.set),f=arguments.length>2?arguments[2]:void 0;if(!s(e)&&!s(f))throw c("At least one callback required");return o(l,n,t)?(r=o(u,n,t),s(e)&&(r=e(r),o(p,n,t,r))):s(f)&&(r=f(),o(p,n,t,r)),r;};},66736:function _(t){var e=Math.expm1,r=Math.exp;t.exports=!e||e(10)>22025.465794806718||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function expm1(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1;}:e;},26130:function _(t,e,r){var n=r(64310),o=Math.abs,i=Math.pow,s=i(2,-52),a=i(2,-23),c=i(2,127)*(2-a),u=i(2,-126);t.exports=Math.fround||function fround(t){var e,r,i=o(t),l=n(t);return i<u?l*(i/u/a+1/s-1/s)*u*a:(r=(e=(1+a/s)*i)-(e-i))>c||r!=r?l*(1/0):l*r;};},20403:function _(t){var e=Math.log,r=Math.LOG10E;t.exports=Math.log10||function log10(t){return e(t)*r;};},26513:function _(t){var e=Math.log;t.exports=Math.log1p||function log1p(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:e(1+t);};},47103:function _(t){t.exports=Math.scale||function scale(t,e,r,n,o){var i=+t,s=+e,a=+r,c=+n,u=+o;return i!=i||s!=s||a!=a||c!=c||u!=u?NaN:i===1/0||i===-1/0?i:(i-s)*(u-c)/(a-s)+c;};},64310:function _(t){t.exports=Math.sign||function sign(t){return 0==(t=+t)||t!=t?t:t<0?-1:1;};},95948:function _(t,e,r){var n,o,i,s,a,c,u,l,p=r(17854),f=r(49974),d=r(31236).f,h=r(20261).set,m=r(6833),v=r(71528),g=r(71036),y=r(35268),b=p.MutationObserver||p.WebKitMutationObserver,w=p.document,x=p.process,D=p.Promise,S=d(p,"queueMicrotask"),k=S&&S.value;k||(n=function n(){var t,e;for(y&&(t=x.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e();}catch(t){throw o?s():i=void 0,t;}}i=void 0,t&&t.enter();},m||y||g||!b||!w?!v&&D&&D.resolve?((u=D.resolve(void 0)).constructor=D,l=f(u.then,u),s=function s(){l(n);}):y?s=function s(){x.nextTick(n);}:(h=f(h,p),s=function s(){h(n);}):(a=!0,c=w.createTextNode(""),new b(n).observe(c,{characterData:!0}),s=function s(){c.data=a=!a;})),t.exports=k||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,s()),i=e;};},13366:function _(t,e,r){var n=r(17854);t.exports=n.Promise;},30133:function _(t,e,r){var n=r(7392),o=r(47293);t.exports=!!Object.getOwnPropertySymbols&&!o(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41;});},590:function _(t,e,r){var n=r(47293),o=r(5112),i=r(31913),s=o("iterator");t.exports=!n(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(t,n){e["delete"]("b"),r+=n+t;}),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host;});},68536:function _(t,e,r){var n=r(17854),o=r(60614),i=r(42788),s=n.WeakMap;t.exports=o(s)&&/native code/.test(i(s));},78523:function _(t,e,r){"use strict";var n=r(19662),PromiseCapability=function PromiseCapability(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw TypeError("Bad Promise constructor");e=t,r=n;}),this.resolve=n(e),this.reject=n(r);};t.exports.f=function(t){return new PromiseCapability(t);};},56277:function _(t,e,r){var n=r(41340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t);};},3929:function _(t,e,r){var n=r(17854),o=r(47850),i=n.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t;};},77023:function _(t,e,r){var n=r(17854).isFinite;t.exports=Number.isFinite||function isFinite(t){return"number"==typeof t&&n(t);};},2814:function _(t,e,r){var n=r(17854),o=r(47293),i=r(1702),s=r(41340),a=r(53111).trim,c=r(81361),u=i("".charAt),l=n.parseFloat,p=n.Symbol,f=p&&p.iterator,d=1/l(c+"-0")!=-1/0||f&&!o(function(){l(Object(f));});t.exports=d?function parseFloat(t){var e=a(s(t)),r=l(e);return 0===r&&"-"==u(e,0)?-0:r;}:l;},83009:function _(t,e,r){var n=r(17854),o=r(47293),i=r(1702),s=r(41340),a=r(53111).trim,c=r(81361),u=n.parseInt,l=n.Symbol,p=l&&l.iterator,f=/^[+-]?0x/i,d=i(f.exec),h=8!==u(c+"08")||22!==u(c+"0x16")||p&&!o(function(){u(Object(p));});t.exports=h?function parseInt(t,e){var r=a(s(t));return u(r,e>>>0||(d(f,r)?16:10));}:u;},80430:function _(t,e,r){"use strict";var n=r(17854),o=r(29909),i=r(24994),s=r(70111),a=r(36048).f,c=r(19781),u="Incorrect Number.range arguments",l="NumericRangeIterator",p=o.set,f=o.getterFor(l),d=n.RangeError,h=n.TypeError,m=i(function NumericRangeIterator(t,e,r,n,o,i){if(_typeof2(t)!=n||e!==1/0&&e!==-1/0&&_typeof2(e)!=n)throw new h(u);if(t===1/0||t===-1/0)throw new d(u);var a,f=e>t,m=!1;if(void 0===r)a=void 0;else if(s(r))a=r.step,m=!!r.inclusive;else{if(_typeof2(r)!=n)throw new h(u);a=r;}if(null==a&&(a=f?i:-i),_typeof2(a)!=n)throw new h(u);if(a===1/0||a===-1/0||a===o&&t!==e)throw new d(u);p(this,{type:l,start:t,end:e,step:a,inclusiveEnd:m,hitsEnd:t!=t||e!=e||a!=a||e>t!=a>o,currentCount:o,zero:o}),c||(this.start=t,this.end=e,this.step=a,this.inclusive=m);},l,function next(){var t=f(this);if(t.hitsEnd)return{value:void 0,done:!0};var e=t.start,r=t.end,n=e+t.step*t.currentCount++;n===r&&(t.hitsEnd=!0);var o=t.inclusiveEnd;return(r>e?o?n>r:n>=r:o?r>n:r>=n)?{value:void 0,done:t.hitsEnd=!0}:{value:n,done:!1};}),getter=function getter(t){return{get:t,set:function set(){},configurable:!0,enumerable:!1};};c&&a(m.prototype,{start:getter(function(){return f(this).start;}),end:getter(function(){return f(this).end;}),inclusive:getter(function(){return f(this).inclusiveEnd;}),step:getter(function(){return f(this).step;})}),t.exports=m;},21574:function _(t,e,r){"use strict";var n=r(19781),o=r(1702),i=r(46916),s=r(47293),a=r(81956),c=r(25181),u=r(55296),l=r(47908),p=r(68361),f=Object.assign,d=Object.defineProperty,h=o([].concat);t.exports=!f||s(function(){if(n&&1!==f({b:1},f(d({},"a",{enumerable:!0,get:function get(){d(this,"b",{value:3,enumerable:!1});}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(t){e[t]=t;}),7!=f({},t)[r]||a(f({},e)).join("")!=o;})?function assign(t,e){for(var r=l(t),o=arguments.length,s=1,f=c.f,d=u.f;o>s;){for(var m,v=p(arguments[s++]),g=f?h(a(v),f(v)):a(v),y=g.length,b=0;y>b;){m=g[b++],n&&!i(d,v,m)||(r[m]=v[m]);}}return r;}:f;},70030:function _(t,e,r){var n,o=r(19670),i=r(36048),s=r(80748),a=r(3501),c=r(60490),u=r(80317),l=r(6200),p=l("IE_PROTO"),EmptyConstructor=function EmptyConstructor(){},scriptTag=function scriptTag(t){return"<script>"+t+"</"+"script>";},NullProtoObjectViaActiveX=function NullProtoObjectViaActiveX(t){t.write(scriptTag("")),t.close();var e=t.parentWindow.Object;return t=null,e;},_NullProtoObject=function NullProtoObject(){try{n=new ActiveXObject("htmlfile");}catch(t){}var t,e;_NullProtoObject="undefined"!=typeof document?document.domain&&n?NullProtoObjectViaActiveX(n):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(scriptTag("document.F=Object")),t.close(),t.F):NullProtoObjectViaActiveX(n);for(var r=s.length;r--;){delete _NullProtoObject.prototype[s[r]];}return _NullProtoObject();};a[p]=!0,t.exports=Object.create||function create(t,e){var r;return null!==t?(EmptyConstructor.prototype=o(t),r=new EmptyConstructor(),EmptyConstructor.prototype=null,r[p]=t):r=_NullProtoObject(),void 0===e?r:i.f(r,e);};},36048:function _(t,e,r){var n=r(19781),o=r(3353),i=r(3070),s=r(19670),a=r(45656),c=r(81956);e.f=n&&!o?Object.defineProperties:function defineProperties(t,e){s(t);for(var r,n=a(e),o=c(e),u=o.length,l=0;u>l;){i.f(t,r=o[l++],n[r]);}return t;};},3070:function _(t,e,r){var n=r(17854),o=r(19781),i=r(64664),s=r(3353),a=r(19670),c=r(34948),u=n.TypeError,l=Object.defineProperty,p=Object.getOwnPropertyDescriptor,f="enumerable",d="configurable",h="writable";e.f=o?s?function defineProperty(t,e,r){if(a(t),e=c(e),a(r),"function"==typeof t&&"prototype"===e&&"value"in r&&h in r&&!r.writable){var n=p(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:d in r?r.configurable:n.configurable,enumerable:f in r?r.enumerable:n.enumerable,writable:!1});}return l(t,e,r);}:l:function defineProperty(t,e,r){if(a(t),e=c(e),a(r),i)try{return l(t,e,r);}catch(t){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(t[e]=r.value),t;};},31236:function _(t,e,r){var n=r(19781),o=r(46916),i=r(55296),s=r(79114),a=r(45656),c=r(34948),u=r(92597),l=r(64664),p=Object.getOwnPropertyDescriptor;e.f=n?p:function getOwnPropertyDescriptor(t,e){if(t=a(t),e=c(e),l)try{return p(t,e);}catch(t){}if(u(t,e))return s(!o(i.f,t,e),t[e]);};},1156:function _(t,e,r){var n=r(84326),o=r(45656),i=r(8006).f,s=r(41589),a="object"==(typeof window==="undefined"?"undefined":_typeof2(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function getOwnPropertyNames(t){return a&&"Window"==n(t)?function(t){try{return i(t);}catch(t){return s(a);}}(t):i(o(t));};},8006:function _(t,e,r){var n=r(16324),o=r(80748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function getOwnPropertyNames(t){return n(t,o);};},25181:function _(t,e){e.f=Object.getOwnPropertySymbols;},79518:function _(t,e,r){var n=r(17854),o=r(92597),i=r(60614),s=r(47908),a=r(6200),c=r(49920),u=a("IE_PROTO"),l=n.Object,p=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=s(t);if(o(e,u))return e[u];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof l?p:null;};},52050:function _(t,e,r){var n=r(47293),o=r(70111),i=r(84326),s=r(7556),a=Object.isExtensible,c=n(function(){a(1);});t.exports=c||s?function isExtensible(t){return!!o(t)&&(!s||"ArrayBuffer"!=i(t))&&(!a||a(t));}:a;},47976:function _(t,e,r){var n=r(1702);t.exports=n({}.isPrototypeOf);},60996:function _(t,e,r){"use strict";var n=r(29909),o=r(24994),i=r(92597),s=r(81956),a=r(47908),c="Object Iterator",u=n.set,l=n.getterFor(c);t.exports=o(function ObjectIterator(t,e){var r=a(t);u(this,{type:c,mode:e,object:r,keys:s(r),index:0});},"Object",function next(){for(var t=l(this),e=t.keys;;){if(null===e||t.index>=e.length)return t.object=t.keys=null,{value:void 0,done:!0};var r=e[t.index++],n=t.object;if(i(n,r)){switch(t.mode){case"keys":return{value:r,done:!1};case"values":return{value:n[r],done:!1};}return{value:[r,n[r]],done:!1};}}});},16324:function _(t,e,r){var n=r(1702),o=r(92597),i=r(45656),s=r(41318).indexOf,a=r(3501),c=n([].push);t.exports=function(t,e){var r,n=i(t),u=0,l=[];for(r in n){!o(a,r)&&o(n,r)&&c(l,r);}for(;e.length>u;){o(n,r=e[u++])&&(~s(l,r)||c(l,r));}return l;};},81956:function _(t,e,r){var n=r(16324),o=r(80748);t.exports=Object.keys||function keys(t){return n(t,o);};},55296:function _(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);e.f=o?function propertyIsEnumerable(t){var e=n(this,t);return!!e&&e.enumerable;}:r;},69026:function _(t,e,r){"use strict";var n=r(31913),o=r(17854),i=r(47293),s=r(98008);t.exports=n||!i(function(){if(!(s&&s<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete o[t];}});},27674:function _(t,e,r){var n=r(1702),o=r(19670),i=r(96077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array;}catch(t){}return function setPrototypeOf(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r;};}():void 0);},44699:function _(t,e,r){var n=r(19781),o=r(1702),i=r(81956),s=r(45656),a=o(r(55296).f),c=o([].push),createMethod=function createMethod(t){return function(e){for(var r,o=s(e),u=i(o),l=u.length,p=0,f=[];l>p;){r=u[p++],n&&!a(o,r)||c(f,t?[r,o[r]]:o[r]);}return f;};};t.exports={entries:createMethod(!0),values:createMethod(!1)};},90288:function _(t,e,r){"use strict";var n=r(51694),o=r(70648);t.exports=n?{}.toString:function toString(){return"[object "+o(this)+"]";};},92140:function _(t,e,r){var n=r(17854),o=r(46916),i=r(60614),s=r(70111),a=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&i(r=t.toString)&&!s(n=o(r,t)))return n;if(i(r=t.valueOf)&&!s(n=o(r,t)))return n;if("string"!==e&&i(r=t.toString)&&!s(n=o(r,t)))return n;throw a("Can't convert object to primitive value");};},53887:function _(t,e,r){var n=r(35005),o=r(1702),i=r(8006),s=r(25181),a=r(19670),c=o([].concat);t.exports=n("Reflect","ownKeys")||function ownKeys(t){var e=i.f(a(t)),r=s.f;return r?c(e,r(t)):e;};},40857:function _(t,e,r){var n=r(17854);t.exports=n;},12534:function _(t){t.exports=function(t){try{return{error:!1,value:t()};}catch(t){return{error:!0,value:t};}};},69478:function _(t,e,r){var n=r(19670),o=r(70111),i=r(78523);t.exports=function(t,e){if(n(t),o(e)&&e.constructor===t)return e;var r=i.f(t);return(0,r.resolve)(e),r.promise;};},18572:function _(t){var Queue=function Queue(){this.head=null,this.tail=null;};Queue.prototype={add:function add(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e;},get:function get(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item;}},t.exports=Queue;},12248:function _(t,e,r){var n=r(31320);t.exports=function(t,e,r){for(var o in e){n(t,o,e[o],r);}return t;};},31320:function _(t,e,r){var n=r(17854),o=r(60614),i=r(92597),s=r(68880),a=r(83505),c=r(42788),u=r(29909),l=r(76530).CONFIGURABLE,p=u.get,f=u.enforce,d=String(String).split("String");(t.exports=function(t,e,r,c){var u,p=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,m=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(r)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(r,"name")||l&&r.name!==v)&&s(r,"name",v),(u=f(r)).source||(u.source=d.join("string"==typeof v?v:""))),t!==n?(p?!m&&t[e]&&(h=!0):delete t[e],h?t[e]=r:s(t,e,r)):h?t[e]=r:a(e,r);})(Function.prototype,"toString",function toString(){return o(this)&&p(this).source||c(this);});},38845:function _(t,e,r){r(51532),r(4129);var n=r(35005),o=r(1702),i=r(72309),s=n("Map"),a=n("WeakMap"),c=o([].push),u=i("metadata"),l=u.store||(u.store=new a()),getOrCreateMetadataMap=function getOrCreateMetadataMap(t,e,r){var n=l.get(t);if(!n){if(!r)return;l.set(t,n=new s());}var o=n.get(e);if(!o){if(!r)return;n.set(e,o=new s());}return o;};t.exports={store:l,getMap:getOrCreateMetadataMap,has:function has(t,e,r){var n=getOrCreateMetadataMap(e,r,!1);return void 0!==n&&n.has(t);},get:function get(t,e,r){var n=getOrCreateMetadataMap(e,r,!1);return void 0===n?void 0:n.get(t);},set:function set(t,e,r,n){getOrCreateMetadataMap(r,n,!0).set(t,e);},keys:function keys(t,e){var r=getOrCreateMetadataMap(t,e,!1),n=[];return r&&r.forEach(function(t,e){c(n,e);}),n;},toKey:function toKey(t){return void 0===t||"symbol"==_typeof2(t)?t:String(t);}};},97651:function _(t,e,r){var n=r(17854),o=r(46916),i=r(19670),s=r(60614),a=r(84326),c=r(22261),u=n.TypeError;t.exports=function(t,e){var r=t.exec;if(s(r)){var n=o(r,t,e);return null!==n&&i(n),n;}if("RegExp"===a(t))return o(c,t,e);throw u("RegExp#exec called on incompatible receiver");};},22261:function _(t,e,r){"use strict";var n,o,i=r(46916),s=r(1702),a=r(41340),c=r(67066),u=r(52999),l=r(72309),p=r(70030),f=r(29909).get,d=r(9441),h=r(38173),m=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,y=s("".charAt),b=s("".indexOf),w=s("".replace),x=s("".slice),D=(o=/b*/g,i(v,n=/a/,"a"),i(v,o,"a"),0!==n.lastIndex||0!==o.lastIndex),S=u.BROKEN_CARET,k=void 0!==/()??/.exec("")[1];(D||k||S||d||h)&&(g=function exec(t){var e,r,n,o,s,u,l,d=this,h=f(d),E=a(t),A=h.raw;if(A)return A.lastIndex=d.lastIndex,e=i(g,A,E),d.lastIndex=A.lastIndex,e;var C=h.groups,O=S&&d.sticky,M=i(c,d),T=d.source,N=0,R=E;if(O&&(M=w(M,"y",""),-1===b(M,"g")&&(M+="g"),R=x(E,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==y(E,d.lastIndex-1))&&(T="(?: "+T+")",R=" "+R,N++),r=new RegExp("^(?:"+T+")",M)),k&&(r=new RegExp("^"+T+"$(?!\\s)",M)),D&&(n=d.lastIndex),o=i(v,O?r:d,R),O?o?(o.input=x(o.input,N),o[0]=x(o[0],N),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:D&&o&&(d.lastIndex=d.global?o.index+o[0].length:n),k&&o&&o.length>1&&i(m,o[0],r,function(){for(s=1;s<arguments.length-2;s++){void 0===arguments[s]&&(o[s]=void 0);}}),o&&C)for(o.groups=u=p(null),s=0;s<C.length;s++){u[(l=C[s])[0]]=o[l[1]];}return o;}),t.exports=g;},67066:function _(t,e,r){"use strict";var n=r(19670);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e;};},52999:function _(t,e,r){var n=r(47293),o=r(17854).RegExp,i=n(function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd");}),s=i||n(function(){return!o("a","y").sticky;}),a=i||n(function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str");});t.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i};},9441:function _(t,e,r){var n=r(47293),o=r(17854).RegExp;t.exports=n(function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags);});},38173:function _(t,e,r){var n=r(47293),o=r(17854).RegExp;t.exports=n(function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c");});},84488:function _(t,e,r){var n=r(17854).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t;};},46465:function _(t){t.exports=function(t,e){return t===e||t!=t&&e!=e;};},81150:function _(t){t.exports=Object.is||function is(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e;};},83505:function _(t,e,r){var n=r(17854),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0});}catch(r){n[t]=e;}return e;};},96340:function _(t,e,r){"use strict";var n=r(35005),o=r(3070),i=r(5112),s=r(19781),a=i("species");t.exports=function(t){var e=n(t),r=o.f;s&&e&&!e[a]&&r(e,a,{configurable:!0,get:function get(){return this;}});};},58003:function _(t,e,r){var n=r(3070).f,o=r(92597),i=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!o(t,i)&&n(t,i,{configurable:!0,value:e});};},6200:function _(t,e,r){var n=r(72309),o=r(69711),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t));};},5465:function _(t,e,r){var n=r(17854),o=r(83505),i="__core-js_shared__",s=n[i]||o(i,{});t.exports=s;},72309:function _(t,e,r){var n=r(31913),o=r(5465);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{});})("versions",[]).push({version:"3.21.1",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"});},36707:function _(t,e,r){var n=r(19670),o=r(39483),i=r(5112)("species");t.exports=function(t,e){var r,s=n(t).constructor;return void 0===s||null==(r=n(s)[i])?e:o(r);};},43429:function _(t,e,r){var n=r(47293);t.exports=function(t){return n(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3;});};},28710:function _(t,e,r){var n=r(1702),o=r(19303),i=r(41340),s=r(84488),a=n("".charAt),c=n("".charCodeAt),u=n("".slice),createMethod=function createMethod(t){return function(e,r){var n,l,p=i(s(e)),f=o(r),d=p.length;return f<0||f>=d?t?"":void 0:(n=c(p,f))<55296||n>56319||f+1===d||(l=c(p,f+1))<56320||l>57343?t?a(p,f):n:t?u(p,f,f+2):l-56320+(n-55296<<10)+65536;};};t.exports={codeAt:createMethod(!1),charAt:createMethod(!0)};},54986:function _(t,e,r){var n=r(88113);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n);},76650:function _(t,e,r){var n=r(1702),o=r(17466),i=r(41340),s=r(38415),a=r(84488),c=n(s),u=n("".slice),l=Math.ceil,createMethod=function createMethod(t){return function(e,r,n){var s,p,f=i(a(e)),d=o(r),h=f.length,m=void 0===n?" ":i(n);return d<=h||""==m?f:((p=c(m,l((s=d-h)/m.length))).length>s&&(p=u(p,0,s)),t?f+p:p+f);};};t.exports={start:createMethod(!1),end:createMethod(!0)};},33197:function _(t,e,r){"use strict";var n=r(17854),o=r(1702),i=2147483647,s=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,c="Overflow: input needs wider integers to process",u=n.RangeError,l=o(a.exec),p=Math.floor,f=String.fromCharCode,d=o("".charCodeAt),h=o([].join),m=o([].push),v=o("".replace),g=o("".split),y=o("".toLowerCase),digitToBasic=function digitToBasic(t){return t+22+75*(t<26);},adapt=function adapt(t,e,r){var n=0;for(t=r?p(t/700):t>>1,t+=p(t/e);t>455;){t=p(t/35),n+=36;}return p(n+36*t/(t+38));},encode=function encode(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=d(t,r++);if(o>=55296&&o<=56319&&r<n){var i=d(t,r++);56320==(64512&i)?m(e,((1023&o)<<10)+(1023&i)+65536):(m(e,o),r--);}else m(e,o);}return e;}(t);var r,n,o=t.length,s=128,a=0,l=72;for(r=0;r<t.length;r++){(n=t[r])<128&&m(e,f(n));}var v=e.length,g=v;for(v&&m(e,"-");g<o;){var y=i;for(r=0;r<t.length;r++){(n=t[r])>=s&&n<y&&(y=n);}var b=g+1;if(y-s>p((i-a)/b))throw u(c);for(a+=(y-s)*b,s=y,r=0;r<t.length;r++){if((n=t[r])<s&&++a>i)throw u(c);if(n==s){for(var w=a,x=36;;){var D=x<=l?1:x>=l+26?26:x-l;if(w<D)break;var S=w-D,k=36-D;m(e,f(digitToBasic(D+S%k))),w=p(S/k),x+=36;}m(e,f(digitToBasic(w))),l=adapt(a,b,g==v),a=0,g++;}}a++,s++;}return h(e,"");};t.exports=function(t){var e,r,n=[],o=g(v(y(t),a,"."),".");for(e=0;e<o.length;e++){r=o[e],m(n,l(s,r)?"xn--"+encode(r):r);}return h(n,".");};},38415:function _(t,e,r){"use strict";var n=r(17854),o=r(19303),i=r(41340),s=r(84488),a=n.RangeError;t.exports=function repeat(t){var e=i(s(this)),r="",n=o(t);if(n<0||n==1/0)throw a("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e)){1&n&&(r+=e);}return r;};},76091:function _(t,e,r){var n=r(76530).PROPER,o=r(47293),i=r(81361);t.exports=function(t){return o(function(){return!!i[t]()||""!==""[t]()||n&&i[t].name!==t;});};},53111:function _(t,e,r){var n=r(1702),o=r(84488),i=r(41340),s=r(81361),a=n("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),createMethod=function createMethod(t){return function(e){var r=i(o(e));return 1&t&&(r=a(r,u,"")),2&t&&(r=a(r,l,"")),r;};};t.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)};},20261:function _(t,e,r){var n,o,i,s,a=r(17854),c=r(22104),u=r(49974),l=r(60614),p=r(92597),f=r(47293),d=r(60490),h=r(50206),m=r(80317),v=r(48053),g=r(6833),y=r(35268),b=a.setImmediate,w=a.clearImmediate,x=a.process,D=a.Dispatch,S=a.Function,k=a.MessageChannel,E=a.String,A=0,C={},O="onreadystatechange";try{n=a.location;}catch(t){}var run=function run(t){if(p(C,t)){var e=C[t];delete C[t],e();}},runner=function runner(t){return function(){run(t);};},listener=function listener(t){run(t.data);},post=function post(t){a.postMessage(E(t),n.protocol+"//"+n.host);};b&&w||(b=function setImmediate(t){v(arguments.length,1);var e=l(t)?t:S(t),r=h(arguments,1);return C[++A]=function(){c(e,void 0,r);},o(A),A;},w=function clearImmediate(t){delete C[t];},y?o=function o(t){x.nextTick(runner(t));}:D&&D.now?o=function o(t){D.now(runner(t));}:k&&!g?(s=(i=new k()).port2,i.port1.onmessage=listener,o=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!f(post)?(o=post,a.addEventListener("message",listener,!1)):o=O in m("script")?function(t){d.appendChild(m("script")).onreadystatechange=function(){d.removeChild(this),run(t);};}:function(t){setTimeout(runner(t),0);}),t.exports={set:b,clear:w};},50863:function _(t,e,r){var n=r(1702);t.exports=n(1..valueOf);},51400:function _(t,e,r){var n=r(19303),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e);};},57067:function _(t,e,r){var n=r(17854),o=r(19303),i=r(17466),s=n.RangeError;t.exports=function(t){if(void 0===t)return 0;var e=o(t),r=i(e);if(e!==r)throw s("Wrong length or index");return r;};},45656:function _(t,e,r){var n=r(68361),o=r(84488);t.exports=function(t){return n(o(t));};},19303:function _(t){var e=Math.ceil,r=Math.floor;t.exports=function(t){var n=+t;return n!=n||0===n?0:(n>0?r:e)(n);};},17466:function _(t,e,r){var n=r(19303),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0;};},47908:function _(t,e,r){var n=r(17854),o=r(84488),i=n.Object;t.exports=function(t){return i(o(t));};},84590:function _(t,e,r){var n=r(17854),o=r(73002),i=n.RangeError;t.exports=function(t,e){var r=o(t);if(r%e)throw i("Wrong offset");return r;};},73002:function _(t,e,r){var n=r(17854),o=r(19303),i=n.RangeError;t.exports=function(t){var e=o(t);if(e<0)throw i("The argument can't be less than 0");return e;};},57593:function _(t,e,r){var n=r(17854),o=r(46916),i=r(70111),s=r(52190),a=r(58173),c=r(92140),u=r(5112),l=n.TypeError,p=u("toPrimitive");t.exports=function(t,e){if(!i(t)||s(t))return t;var r,n=a(t,p);if(n){if(void 0===e&&(e="default"),r=o(n,t,e),!i(r)||s(r))return r;throw l("Can't convert object to primitive value");}return void 0===e&&(e="number"),c(t,e);};},34948:function _(t,e,r){var n=r(57593),o=r(52190);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+"";};},51694:function _(t,e,r){var n={};n[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(n);},41340:function _(t,e,r){var n=r(17854),o=r(70648),i=n.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t);};},44038:function _(t,e,r){var n=r(35268);t.exports=function(t){try{if(n)return Function('return require("'+t+'")')();}catch(t){}};},66330:function _(t,e,r){var n=r(17854).String;t.exports=function(t){try{return n(t);}catch(t){return"Object";}};},19843:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(19781),a=r(63832),c=r(90260),u=r(13331),l=r(25787),p=r(79114),f=r(68880),d=r(55988),h=r(17466),m=r(57067),v=r(84590),g=r(34948),y=r(92597),b=r(70648),w=r(70111),x=r(52190),D=r(70030),S=r(47976),k=r(27674),E=r(8006).f,A=r(97321),C=r(42092).forEach,O=r(96340),M=r(3070),T=r(31236),N=r(29909),R=r(79587),I=N.get,P=N.set,_=M.f,B=T.f,j=Math.round,L=o.RangeError,z=u.ArrayBuffer,V=z.prototype,$=u.DataView,H=c.NATIVE_ARRAY_BUFFER_VIEWS,U=c.TYPED_ARRAY_CONSTRUCTOR,W=c.TYPED_ARRAY_TAG,q=c.TypedArray,J=c.TypedArrayPrototype,K=c.aTypedArrayConstructor,G=c.isTypedArray,Y="BYTES_PER_ELEMENT",Q="Wrong length",fromList=function fromList(t,e){K(t);for(var r=0,n=e.length,o=new t(n);n>r;){o[r]=e[r++];}return o;},addGetter=function addGetter(t,e){_(t,e,{get:function get(){return I(this)[e];}});},isArrayBuffer=function isArrayBuffer(t){var e;return S(V,t)||"ArrayBuffer"==(e=b(t))||"SharedArrayBuffer"==e;},isTypedArrayIndex=function isTypedArrayIndex(t,e){return G(t)&&!x(e)&&e in t&&d(+e)&&e>=0;},X=function getOwnPropertyDescriptor(t,e){return e=g(e),isTypedArrayIndex(t,e)?p(2,t[e]):B(t,e);},Z=function defineProperty(t,e,r){return e=g(e),!(isTypedArrayIndex(t,e)&&w(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?_(t,e,r):(t[e]=r.value,t);};s?(H||(T.f=X,M.f=Z,addGetter(J,"buffer"),addGetter(J,"byteOffset"),addGetter(J,"byteLength"),addGetter(J,"length")),n({target:"Object",stat:!0,forced:!H},{getOwnPropertyDescriptor:X,defineProperty:Z}),t.exports=function(t,e,r){var s=t.match(/\d+$/)[0]/8,c=t+(r?"Clamped":"")+"Array",u="get"+t,p="set"+t,d=o[c],g=d,y=g&&g.prototype,b={},addElement=function addElement(t,e){_(t,e,{get:function get(){return function(t,e){var r=I(t);return r.view[u](e*s+r.byteOffset,!0);}(this,e);},set:function set(t){return function(t,e,n){var o=I(t);r&&(n=(n=j(n))<0?0:n>255?255:255&n),o.view[p](e*s+o.byteOffset,n,!0);}(this,e,t);},enumerable:!0});};H?a&&(g=e(function(t,e,r,n){return l(t,y),R(w(e)?isArrayBuffer(e)?void 0!==n?new d(e,v(r,s),n):void 0!==r?new d(e,v(r,s)):new d(e):G(e)?fromList(g,e):i(A,g,e):new d(m(e)),t,g);}),k&&k(g,q),C(E(d),function(t){t in g||f(g,t,d[t]);}),g.prototype=y):(g=e(function(t,e,r,n){l(t,y);var o,a,c,u=0,p=0;if(w(e)){if(!isArrayBuffer(e))return G(e)?fromList(g,e):i(A,g,e);o=e,p=v(r,s);var f=e.byteLength;if(void 0===n){if(f%s)throw L(Q);if((a=f-p)<0)throw L(Q);}else if((a=h(n)*s)+p>f)throw L(Q);c=a/s;}else c=m(e),o=new z(a=c*s);for(P(t,{buffer:o,byteOffset:p,byteLength:a,length:c,view:new $(o)});u<c;){addElement(t,u++);}}),k&&k(g,q),y=g.prototype=D(J)),y.constructor!==g&&f(y,"constructor",g),f(y,U,g),W&&f(y,W,c),b[c]=g,n({global:!0,forced:g!=d,sham:!H},b),Y in g||f(g,Y,s),Y in y||f(y,Y,s),O(c);}):t.exports=function(){};},63832:function _(t,e,r){var n=r(17854),o=r(47293),i=r(17072),s=r(90260).NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,c=n.Int8Array;t.exports=!s||!o(function(){c(1);})||!o(function(){new c(-1);})||!i(function(t){new c(),new c(null),new c(1.5),new c(t);},!0)||o(function(){return 1!==new c(new a(2),1,void 0).length;});},43074:function _(t,e,r){var n=r(97745),o=r(66304);t.exports=function(t,e){return n(o(t),e);};},97321:function _(t,e,r){var n=r(49974),o=r(46916),i=r(39483),s=r(47908),a=r(26244),c=r(18554),u=r(71246),l=r(97659),p=r(90260).aTypedArrayConstructor;t.exports=function from(t){var e,r,f,d,h,m,v=i(this),g=s(t),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,x=u(g);if(x&&!l(x))for(m=(h=c(g,x)).next,g=[];!(d=o(m,h)).done;){g.push(d.value);}for(w&&y>2&&(b=n(b,arguments[2])),r=a(g),f=new(p(v))(r),e=0;r>e;e++){f[e]=w?b(g[e],e):g[e];}return f;};},66304:function _(t,e,r){var n=r(90260),o=r(36707),i=n.TYPED_ARRAY_CONSTRUCTOR,s=n.aTypedArrayConstructor;t.exports=function(t){return s(o(t,t[i]));};},69711:function _(t,e,r){var n=r(1702),o=0,i=Math.random(),s=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++o+i,36);};},43307:function _(t,e,r){var n=r(30133);t.exports=n&&!Symbol.sham&&"symbol"==_typeof2(Symbol.iterator);},3353:function _(t,e,r){var n=r(19781),o=r(47293);t.exports=n&&o(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype;});},48053:function _(t,e,r){var n=r(17854).TypeError;t.exports=function(t,e){if(t<e)throw n("Not enough arguments");return t;};},6061:function _(t,e,r){var n=r(5112);e.f=n;},5112:function _(t,e,r){var n=r(17854),o=r(72309),i=r(92597),s=r(69711),a=r(30133),c=r(43307),u=o("wks"),l=n.Symbol,p=l&&l["for"],f=c?l:l&&l.withoutSetter||s;t.exports=function(t){if(!i(u,t)||!a&&"string"!=typeof u[t]){var e="Symbol."+t;a&&i(l,t)?u[t]=l[t]:u[t]=c&&p?p(e):f(e);}return u[t];};},81361:function _(t){t.exports="\t\n\x0B\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF";},89191:function _(t,e,r){"use strict";var n=r(35005),o=r(92597),i=r(68880),s=r(47976),a=r(27674),c=r(99920),u=r(79587),l=r(56277),p=r(58340),f=r(77741),d=r(22914),h=r(31913);t.exports=function(t,e,r,m){var v=m?2:1,g=t.split("."),y=g[g.length-1],b=n.apply(null,g);if(b){var w=b.prototype;if(!h&&o(w,"cause")&&delete w.cause,!r)return b;var x=n("Error"),D=e(function(t,e){var r=l(m?e:t,void 0),n=m?new b(t):new b();return void 0!==r&&i(n,"message",r),d&&i(n,"stack",f(n.stack,2)),this&&s(w,this)&&u(n,this,D),arguments.length>v&&p(n,arguments[v]),n;});if(D.prototype=w,"Error"!==y&&(a?a(D,x):c(D,x,{name:!0})),c(D,b),!h)try{w.name!==y&&i(w,"name",y),w.constructor=D;}catch(t){}return D;}};},32120:function _(t,e,r){var n=r(82109),o=r(35005),i=r(22104),s=r(47293),a=r(89191),c="AggregateError",u=o(c),l=!s(function(){return 1!==u([1]).errors[0];})&&s(function(){return 7!==u([1],c,{cause:7}).cause;});n({global:!0,forced:l},{AggregateError:a(c,function(t){return function AggregateError(e,r){return i(t,this,arguments);};},l,!0)});},9170:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(47976),s=r(79518),a=r(27674),c=r(99920),u=r(70030),l=r(68880),p=r(79114),f=r(77741),d=r(58340),h=r(20408),m=r(56277),v=r(5112),g=r(22914),y=v("toStringTag"),b=o.Error,w=[].push,x=function AggregateError(t,e){var r,n=arguments.length>2?arguments[2]:void 0,o=i(D,this);a?r=a(new b(),o?s(this):D):(r=o?this:u(D),l(r,y,"Error")),void 0!==e&&l(r,"message",m(e)),g&&l(r,"stack",f(r.stack,1)),d(r,n);var c=[];return h(t,w,{that:c}),l(r,"errors",c),r;};a?a(x,b):c(x,b,{name:!0});var D=x.prototype=u(b.prototype,{constructor:p(1,x),message:p(1,""),name:p(1,"AggregateError")});n({global:!0},{AggregateError:x});},18264:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(13331),s=r(96340),a="ArrayBuffer",c=i.ArrayBuffer;n({global:!0,forced:o.ArrayBuffer!==c},{ArrayBuffer:c}),s(a);},76938:function _(t,e,r){var n=r(82109),o=r(90260);n({target:"ArrayBuffer",stat:!0,forced:!o.NATIVE_ARRAY_BUFFER_VIEWS},{isView:o.isView});},39575:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(47293),s=r(13331),a=r(19670),c=r(51400),u=r(17466),l=r(36707),p=s.ArrayBuffer,f=s.DataView,d=f.prototype,h=o(p.prototype.slice),m=o(d.getUint8),v=o(d.setUint8);n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new p(2).slice(1,void 0).byteLength;})},{slice:function slice(t,e){if(h&&void 0===e)return h(a(this),t);for(var r=a(this).byteLength,n=c(t,r),o=c(void 0===e?r:e,r),i=new(l(this,p))(u(o-n)),s=new f(this),d=new f(i),g=0;n<o;){v(d,g++,m(s,n++));}return i;}});},52262:function _(t,e,r){"use strict";var n=r(82109),o=r(47908),i=r(26244),s=r(19303),a=r(51223);n({target:"Array",proto:!0},{at:function at(t){var e=o(this),r=i(e),n=s(t),a=n>=0?n:r+n;return a<0||a>=r?void 0:e[a];}}),a("at");},92222:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(47293),s=r(43157),a=r(70111),c=r(47908),u=r(26244),l=r(86135),p=r(65417),f=r(81194),d=r(5112),h=r(7392),m=d("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",y=o.TypeError,b=h>=51||!i(function(){var t=[];return t[m]=!1,t.concat()[0]!==t;}),w=f("concat"),isConcatSpreadable=function isConcatSpreadable(t){if(!a(t))return!1;var e=t[m];return void 0!==e?!!e:s(t);};n({target:"Array",proto:!0,forced:!b||!w},{concat:function concat(t){var e,r,n,o,i,s=c(this),a=p(s,0),f=0;for(e=-1,n=arguments.length;e<n;e++){if(isConcatSpreadable(i=-1===e?s:arguments[e])){if(f+(o=u(i))>v)throw y(g);for(r=0;r<o;r++,f++){r in i&&l(a,f,i[r]);}}else{if(f>=v)throw y(g);l(a,f++,i);}}return a.length=f,a;}});},50545:function _(t,e,r){var n=r(82109),o=r(1048),i=r(51223);n({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin");},26541:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).every;n({target:"Array",proto:!0,forced:!r(9341)("every")},{every:function every(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}});},43290:function _(t,e,r){var n=r(82109),o=r(21285),i=r(51223);n({target:"Array",proto:!0},{fill:o}),i("fill");},57327:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).filter;n({target:"Array",proto:!0,forced:!r(81194)("filter")},{filter:function filter(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}});},34553:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).findIndex,i=r(51223),s="findIndex",a=!0;s in[]&&Array(1).findIndex(function(){a=!1;}),n({target:"Array",proto:!0,forced:a},{findIndex:function findIndex(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i(s);},69826:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).find,i=r(51223),s="find",a=!0;s in[]&&Array(1).find(function(){a=!1;}),n({target:"Array",proto:!0,forced:a},{find:function find(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i(s);},86535:function _(t,e,r){"use strict";var n=r(82109),o=r(6790),i=r(19662),s=r(47908),a=r(26244),c=r(65417);n({target:"Array",proto:!0},{flatMap:function flatMap(t){var e,r=s(this),n=a(r);return i(t),(e=c(r,0)).length=o(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e;}});},84944:function _(t,e,r){"use strict";var n=r(82109),o=r(6790),i=r(47908),s=r(26244),a=r(19303),c=r(65417);n({target:"Array",proto:!0},{flat:function flat(){var t=arguments.length?arguments[0]:void 0,e=i(this),r=s(e),n=c(e,0);return n.length=o(n,e,e,r,0,void 0===t?1:a(t)),n;}});},89554:function _(t,e,r){"use strict";var n=r(82109),o=r(18533);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o});},91038:function _(t,e,r){var n=r(82109),o=r(48457);n({target:"Array",stat:!0,forced:!r(17072)(function(t){Array.from(t);})},{from:o});},26699:function _(t,e,r){"use strict";var n=r(82109),o=r(41318).includes,i=r(51223);n({target:"Array",proto:!0},{includes:function includes(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i("includes");},82772:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(41318).indexOf,s=r(9341),a=o([].indexOf),c=!!a&&1/a([1],1,-0)<0,u=s("indexOf");n({target:"Array",proto:!0,forced:c||!u},{indexOf:function indexOf(t){var e=arguments.length>1?arguments[1]:void 0;return c?a(this,t,e)||0:i(this,t,e);}});},79753:function _(t,e,r){r(82109)({target:"Array",stat:!0},{isArray:r(43157)});},66992:function _(t,e,r){"use strict";var n=r(45656),o=r(51223),i=r(97497),s=r(29909),a=r(3070).f,c=r(70654),u=r(31913),l=r(19781),p="Array Iterator",f=s.set,d=s.getterFor(p);t.exports=c(Array,"Array",function(t,e){f(this,{type:p,target:n(t),index:0,kind:e});},function(){var t=d(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1};},"values");var h=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&l&&"values"!==h.name)try{a(h,"name",{value:"values"});}catch(t){}},69600:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(68361),s=r(45656),a=r(9341),c=o([].join),u=i!=Object,l=a("join",",");n({target:"Array",proto:!0,forced:u||!l},{join:function join(t){return c(s(this),void 0===t?",":t);}});},94986:function _(t,e,r){var n=r(82109),o=r(86583);n({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o});},21249:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).map;n({target:"Array",proto:!0,forced:!r(81194)("map")},{map:function map(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}});},26572:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(47293),s=r(4411),a=r(86135),c=o.Array;n({target:"Array",stat:!0,forced:i(function(){function F(){}return!(c.of.call(F)instanceof F);})},{of:function of(){for(var t=0,e=arguments.length,r=new(s(this)?this:c)(e);e>t;){a(r,t,arguments[t++]);}return r.length=e,r;}});},96644:function _(t,e,r){"use strict";var n=r(82109),o=r(53671).right,i=r(9341),s=r(7392),a=r(35268);n({target:"Array",proto:!0,forced:!i("reduceRight")||!a&&s>79&&s<83},{reduceRight:function reduceRight(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0);}});},85827:function _(t,e,r){"use strict";var n=r(82109),o=r(53671).left,i=r(9341),s=r(7392),a=r(35268);n({target:"Array",proto:!0,forced:!i("reduce")||!a&&s>79&&s<83},{reduce:function reduce(t){var e=arguments.length;return o(this,t,e,e>1?arguments[1]:void 0);}});},65069:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(43157),s=o([].reverse),a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function reverse(){return i(this)&&(this.length=this.length),s(this);}});},47042:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(43157),s=r(4411),a=r(70111),c=r(51400),u=r(26244),l=r(45656),p=r(86135),f=r(5112),d=r(81194),h=r(50206),m=d("slice"),v=f("species"),g=o.Array,y=Math.max;n({target:"Array",proto:!0,forced:!m},{slice:function slice(t,e){var r,n,o,f=l(this),d=u(f),m=c(t,d),b=c(void 0===e?d:e,d);if(i(f)&&(r=f.constructor,(s(r)&&(r===g||i(r.prototype))||a(r)&&null===(r=r[v]))&&(r=void 0),r===g||void 0===r))return h(f,m,b);for(n=new(void 0===r?g:r)(y(b-m,0)),o=0;m<b;m++,o++){m in f&&p(n,o,f[m]);}return n.length=o,n;}});},5212:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).some;n({target:"Array",proto:!0,forced:!r(9341)("some")},{some:function some(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}});},2707:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(19662),s=r(47908),a=r(26244),c=r(41340),u=r(47293),l=r(94362),p=r(9341),f=r(68886),d=r(30256),h=r(7392),m=r(98008),v=[],g=o(v.sort),y=o(v.push),b=u(function(){v.sort(void 0);}),w=u(function(){v.sort(null);}),x=p("sort"),D=!u(function(){if(h)return h<70;if(!(f&&f>3)){if(d)return!0;if(m)return m<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2;}for(n=0;n<47;n++){v.push({k:e+n,v:r});}}for(v.sort(function(t,e){return e.v-t.v;}),n=0;n<v.length;n++){e=v[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);}return"DGBEFHACIJK"!==o;}});n({target:"Array",proto:!0,forced:b||!w||!x||!D},{sort:function sort(t){void 0!==t&&i(t);var e=s(this);if(D)return void 0===t?g(e):g(e,t);var r,n,o=[],u=a(e);for(n=0;n<u;n++){n in e&&y(o,e[n]);}for(l(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1;};}(t)),r=o.length,n=0;n<r;){e[n]=o[n++];}for(;n<u;){delete e[n++];}return e;}});},38706:function _(t,e,r){r(96340)("Array");},40561:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(51400),s=r(19303),a=r(26244),c=r(47908),u=r(65417),l=r(86135),p=r(81194)("splice"),f=o.TypeError,d=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p},{splice:function splice(t,e){var r,n,o,p,g,y,b=c(this),w=a(b),x=i(t,w),D=arguments.length;if(0===D?r=n=0:1===D?(r=0,n=w-x):(r=D-2,n=h(d(s(e),0),w-x)),w+r-n>m)throw f(v);for(o=u(b,n),p=0;p<n;p++){(g=x+p)in b&&l(o,p,b[g]);}if(o.length=n,r<n){for(p=x;p<w-n;p++){y=p+r,(g=p+n)in b?b[y]=b[g]:delete b[y];}for(p=w;p>w-n+r;p--){delete b[p-1];}}else if(r>n)for(p=w-n;p>x;p--){y=p+r-1,(g=p+n-1)in b?b[y]=b[g]:delete b[y];}for(p=0;p<r;p++){b[p+x]=arguments[p+2];}return b.length=w-n+r,o;}});},99244:function _(t,e,r){r(51223)("flatMap");},33792:function _(t,e,r){r(51223)("flat");},16716:function _(t,e,r){var n=r(82109),o=r(13331);n({global:!0,forced:!r(24019)},{DataView:o.DataView});},43016:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(47293)(function(){return 120!==new Date(16e11).getYear();}),s=o(Date.prototype.getFullYear);n({target:"Date",proto:!0,forced:i},{getYear:function getYear(){return s(this)-1900;}});},3843:function _(t,e,r){var n=r(82109),o=r(17854),i=r(1702),s=o.Date,a=i(s.prototype.getTime);n({target:"Date",stat:!0},{now:function now(){return a(new s());}});},81801:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(19303),s=Date.prototype,a=o(s.getTime),c=o(s.setFullYear);n({target:"Date",proto:!0},{setYear:function setYear(t){a(this);var e=i(t);return c(this,0<=e&&e<=99?e+1900:e);}});},9550:function _(t,e,r){r(82109)({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});},28733:function _(t,e,r){var n=r(82109),o=r(85573);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o});},5735:function _(t,e,r){"use strict";var n=r(82109),o=r(47293),i=r(47908),s=r(57593);n({target:"Date",proto:!0,forced:o(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function toISOString(){return 1;}});})},{toJSON:function toJSON(t){var e=i(this),r=s(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null;}});},96078:function _(t,e,r){var n=r(92597),o=r(31320),i=r(38709),s=r(5112)("toPrimitive"),a=Date.prototype;n(a,s)||o(a,s,i);},83710:function _(t,e,r){var n=r(1702),o=r(31320),i=Date.prototype,s="Invalid Date",a="toString",c=n(i.toString),u=n(i.getTime);String(new Date(NaN))!=s&&o(i,a,function toString(){var t=u(this);return t==t?c(this):s;});},21703:function _(t,e,r){var n=r(82109),o=r(17854),i=r(22104),s=r(89191),a="WebAssembly",c=o.WebAssembly,u=7!==Error("e",{cause:7}).cause,exportGlobalErrorCauseWrapper=function exportGlobalErrorCauseWrapper(t,e){var r={};r[t]=s(t,e,u),n({global:!0,forced:u},r);},exportWebAssemblyErrorCauseWrapper=function exportWebAssemblyErrorCauseWrapper(t,e){if(c&&c[t]){var r={};r[t]=s("WebAssembly."+t,e,u),n({target:a,stat:!0,forced:u},r);}};exportGlobalErrorCauseWrapper("Error",function(t){return function Error(e){return i(t,this,arguments);};}),exportGlobalErrorCauseWrapper("EvalError",function(t){return function EvalError(e){return i(t,this,arguments);};}),exportGlobalErrorCauseWrapper("RangeError",function(t){return function RangeError(e){return i(t,this,arguments);};}),exportGlobalErrorCauseWrapper("ReferenceError",function(t){return function ReferenceError(e){return i(t,this,arguments);};}),exportGlobalErrorCauseWrapper("SyntaxError",function(t){return function SyntaxError(e){return i(t,this,arguments);};}),exportGlobalErrorCauseWrapper("TypeError",function(t){return function TypeError(e){return i(t,this,arguments);};}),exportGlobalErrorCauseWrapper("URIError",function(t){return function URIError(e){return i(t,this,arguments);};}),exportWebAssemblyErrorCauseWrapper("CompileError",function(t){return function CompileError(e){return i(t,this,arguments);};}),exportWebAssemblyErrorCauseWrapper("LinkError",function(t){return function LinkError(e){return i(t,this,arguments);};}),exportWebAssemblyErrorCauseWrapper("RuntimeError",function(t){return function RuntimeError(e){return i(t,this,arguments);};});},96647:function _(t,e,r){var n=r(31320),o=r(7762),i=Error.prototype;i.toString!==o&&n(i,"toString",o);},62130:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(41340),s=o("".charAt),a=o("".charCodeAt),c=o(/./.exec),u=o(1..toString),l=o("".toUpperCase),p=/[\w*+\-./@]/,hex=function hex(t,e){for(var r=u(t,16);r.length<e;){r="0"+r;}return r;};n({global:!0},{escape:function escape(t){for(var e,r,n=i(t),o="",u=n.length,f=0;f<u;){e=s(n,f++),c(p,e)?o+=e:o+=(r=a(e,0))<256?"%"+hex(r,2):"%u"+l(hex(r,4));}return o;}});},24812:function _(t,e,r){var n=r(82109),o=r(27065);n({target:"Function",proto:!0,forced:Function.bind!==o},{bind:o});},4855:function _(t,e,r){"use strict";var n=r(60614),o=r(70111),i=r(3070),s=r(79518),a=r(5112)("hasInstance"),c=Function.prototype;a in c||i.f(c,a,{value:function value(t){if(!n(this)||!o(t))return!1;var e=this.prototype;if(!o(e))return t instanceof this;for(;t=s(t);){if(e===t)return!0;}return!1;}});},68309:function _(t,e,r){var n=r(19781),o=r(76530).EXISTS,i=r(1702),s=r(3070).f,a=Function.prototype,c=i(a.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(u.exec);n&&!o&&s(a,"name",{configurable:!0,get:function get(){try{return l(u,c(this))[1];}catch(t){return"";}}});},35837:function _(t,e,r){r(82109)({global:!0},{globalThis:r(17854)});},38862:function _(t,e,r){var n=r(82109),o=r(17854),i=r(35005),s=r(22104),a=r(1702),c=r(47293),u=o.Array,l=i("JSON","stringify"),p=a(/./.exec),f=a("".charAt),d=a("".charCodeAt),h=a("".replace),m=a(1..toString),v=/[\uD800-\uDFFF]/g,g=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,fix=function fix(t,e,r){var n=f(r,e-1),o=f(r,e+1);return p(g,t)&&!p(y,o)||p(y,t)&&!p(g,n)?"\\u"+m(d(t,0),16):t;},b=c(function(){return"\"\\udf06\\ud834\""!==l("\uDF06\uD834")||"\"\\udead\""!==l("\uDEAD");});l&&n({target:"JSON",stat:!0,forced:b},{stringify:function stringify(t,e,r){for(var n=0,o=arguments.length,i=u(o);n<o;n++){i[n]=arguments[n];}var a=s(l,null,i);return"string"==typeof a?h(a,v,fix):a;}});},73706:function _(t,e,r){var n=r(17854);r(58003)(n.JSON,"JSON",!0);},51532:function _(t,e,r){"use strict";r(77710)("Map",function(t){return function Map(){return t(this,arguments.length?arguments[0]:void 0);};},r(95631));},99752:function _(t,e,r){var n=r(82109),o=r(26513),i=Math.acosh,s=Math.log,a=Math.sqrt,c=Math.LN2;n({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function acosh(t){return(t=+t)<1?NaN:t>94906265.62425156?s(t)+c:o(t-1+a(t-1)*a(t+1));}});},82376:function _(t,e,r){var n=r(82109),o=Math.asinh,i=Math.log,s=Math.sqrt;n({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function asinh(t){return isFinite(t=+t)&&0!=t?t<0?-asinh(-t):i(t+s(t*t+1)):t;}});},73181:function _(t,e,r){var n=r(82109),o=Math.atanh,i=Math.log;n({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function atanh(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2;}});},23484:function _(t,e,r){var n=r(82109),o=r(64310),i=Math.abs,s=Math.pow;n({target:"Math",stat:!0},{cbrt:function cbrt(t){return o(t=+t)*s(i(t),1/3);}});},2388:function _(t,e,r){var n=r(82109),o=Math.floor,i=Math.log,s=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function clz32(t){return(t>>>=0)?31-o(i(t+.5)*s):32;}});},88621:function _(t,e,r){var n=r(82109),o=r(66736),i=Math.cosh,s=Math.abs,a=Math.E;n({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function cosh(t){var e=o(s(t)-1)+1;return(e+1/(e*a*a))*(a/2);}});},60403:function _(t,e,r){var n=r(82109),o=r(66736);n({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o});},84755:function _(t,e,r){r(82109)({target:"Math",stat:!0},{fround:r(26130)});},25438:function _(t,e,r){var n=r(82109),o=Math.hypot,i=Math.abs,s=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function hypot(t,e){for(var r,n,o=0,a=0,c=arguments.length,u=0;a<c;){u<(r=i(arguments[a++]))?(o=o*(n=u/r)*n+1,u=r):o+=r>0?(n=r/u)*n:r;}return u===1/0?1/0:u*s(o);}});},90332:function _(t,e,r){var n=r(82109),o=r(47293),i=Math.imul;n({target:"Math",stat:!0,forced:o(function(){return-5!=i(4294967295,5)||2!=i.length;})},{imul:function imul(t,e){var r=65535,n=+t,o=+e,i=r&n,s=r&o;return 0|i*s+((r&n>>>16)*s+i*(r&o>>>16)<<16>>>0);}});},40658:function _(t,e,r){r(82109)({target:"Math",stat:!0},{log10:r(20403)});},40197:function _(t,e,r){r(82109)({target:"Math",stat:!0},{log1p:r(26513)});},44914:function _(t,e,r){var n=r(82109),o=Math.log,i=Math.LN2;n({target:"Math",stat:!0},{log2:function log2(t){return o(t)/i;}});},52420:function _(t,e,r){r(82109)({target:"Math",stat:!0},{sign:r(64310)});},60160:function _(t,e,r){var n=r(82109),o=r(47293),i=r(66736),s=Math.abs,a=Math.exp,c=Math.E;n({target:"Math",stat:!0,forced:o(function(){return-2e-17!=Math.sinh(-2e-17);})},{sinh:function sinh(t){return s(t=+t)<1?(i(t)-i(-t))/2:(a(t-1)-a(-t-1))*(c/2);}});},60970:function _(t,e,r){var n=r(82109),o=r(66736),i=Math.exp;n({target:"Math",stat:!0},{tanh:function tanh(t){var e=o(t=+t),r=o(-t);return e==1/0?1:r==1/0?-1:(e-r)/(i(t)+i(-t));}});},10408:function _(t,e,r){r(58003)(Math,"Math",!0);},73689:function _(t,e,r){var n=r(82109),o=Math.ceil,i=Math.floor;n({target:"Math",stat:!0},{trunc:function trunc(t){return(t>0?i:o)(t);}});},9653:function _(t,e,r){"use strict";var n=r(19781),o=r(17854),i=r(1702),s=r(54705),a=r(31320),c=r(92597),u=r(79587),l=r(47976),p=r(52190),f=r(57593),d=r(47293),h=r(8006).f,m=r(31236).f,v=r(3070).f,g=r(50863),y=r(53111).trim,b="Number",w=o.Number,x=w.prototype,D=o.TypeError,S=i("".slice),k=i("".charCodeAt),toNumeric=function toNumeric(t){var e=f(t,"number");return"bigint"==typeof e?e:toNumber(e);},toNumber=function toNumber(t){var e,r,n,o,i,s,a,c,u=f(t,"number");if(p(u))throw D("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(e=k(u,0))||45===e){if(88===(r=k(u,2))||120===r)return NaN;}else if(48===e){switch(k(u,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+u;}for(s=(i=S(u,2)).length,a=0;a<s;a++){if((c=k(i,a))<48||c>o)return NaN;}return parseInt(i,n);}return+u;};if(s(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var E,A=function Number(t){var e=arguments.length<1?0:w(toNumeric(t)),r=this;return l(x,r)&&d(function(){g(r);})?u(Object(e),r,A):e;},C=n?h(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),O=0;C.length>O;O++){c(w,E=C[O])&&!c(A,E)&&v(A,E,m(w,E));}A.prototype=x,x.constructor=A,a(o,b,A);}},93299:function _(t,e,r){r(82109)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});},35192:function _(t,e,r){r(82109)({target:"Number",stat:!0},{isFinite:r(77023)});},33161:function _(t,e,r){r(82109)({target:"Number",stat:!0},{isInteger:r(55988)});},44048:function _(t,e,r){r(82109)({target:"Number",stat:!0},{isNaN:function isNaN(t){return t!=t;}});},78285:function _(t,e,r){var n=r(82109),o=r(55988),i=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function isSafeInteger(t){return o(t)&&i(t)<=9007199254740991;}});},44363:function _(t,e,r){r(82109)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991});},55994:function _(t,e,r){r(82109)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991});},61874:function _(t,e,r){var n=r(82109),o=r(2814);n({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o});},9494:function _(t,e,r){var n=r(82109),o=r(83009);n({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o});},31354:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(1702),s=r(19303),a=r(50863),c=r(38415),u=r(20403),l=r(47293),p=o.RangeError,f=o.String,d=o.isFinite,h=Math.abs,m=Math.floor,v=Math.pow,g=Math.round,y=i(1..toExponential),b=i(c),w=i("".slice),x="-6.9000e-11"===y(-69e-12,4)&&"1.25e+0"===y(1.255,2)&&"1.235e+4"===y(12345,3)&&"3e+1"===y(25,0),D=l(function(){y(1,1/0);})&&l(function(){y(1,-1/0);}),S=!l(function(){y(1/0,1/0);})&&!l(function(){y(NaN,1/0);});n({target:"Number",proto:!0,forced:!x||!D||!S},{toExponential:function toExponential(t){var e=a(this);if(void 0===t)return y(e);var r=s(t);if(!d(e))return f(e);if(r<0||r>20)throw p("Incorrect fraction digits");if(x)return y(e,r);var n="",o="",i=0,c="",l="";if(e<0&&(n="-",e=-e),0===e)i=0,o=b("0",r+1);else{var D=u(e);i=m(D);var S=0,k=v(10,i-r);2*e>=(2*(S=g(e/k))+1)*k&&(S+=1),S>=v(10,r+1)&&(S/=10,i+=1),o=f(S);}return 0!==r&&(o=w(o,0,1)+"."+w(o,1)),0===i?(c="+",l="0"):(c=i>0?"+":"-",l=f(h(i))),n+(o+="e"+c+l);}});},56977:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(1702),s=r(19303),a=r(50863),c=r(38415),u=r(47293),l=o.RangeError,p=o.String,f=Math.floor,d=i(c),h=i("".slice),m=i(1..toFixed),pow=function pow(t,e,r){return 0===e?r:e%2==1?pow(t,e-1,r*t):pow(t*t,e/2,r);},multiply=function multiply(t,e,r){for(var n=-1,o=r;++n<6;){o+=e*t[n],t[n]=o%1e7,o=f(o/1e7);}},divide=function divide(t,e){for(var r=6,n=0;--r>=0;){n+=t[r],t[r]=f(n/e),n=n%e*1e7;}},dataToString=function dataToString(t){for(var e=6,r="";--e>=0;){if(""!==r||0===e||0!==t[e]){var n=p(t[e]);r=""===r?n:r+d("0",7-n.length)+n;}}return r;};n({target:"Number",proto:!0,forced:u(function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0);})||!u(function(){m({});})},{toFixed:function toFixed(t){var e,r,n,o,i=a(this),c=s(t),u=[0,0,0,0,0,0],f="",m="0";if(c<0||c>20)throw l("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return p(i);if(i<0&&(f="-",i=-i),i>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;){e+=12,r/=4096;}for(;r>=2;){e+=1,r/=2;}return e;}(i*pow(2,69,1))-69)<0?i*pow(2,-e,1):i/pow(2,e,1),r*=4503599627370496,(e=52-e)>0){for(multiply(u,0,r),n=c;n>=7;){multiply(u,1e7,0),n-=7;}for(multiply(u,pow(10,n,1),0),n=e-1;n>=23;){divide(u,1<<23),n-=23;}divide(u,1<<n),multiply(u,1,1),divide(u,2),m=dataToString(u);}else multiply(u,0,r),multiply(u,1<<-e,0),m=dataToString(u)+d("0",c);return m=c>0?f+((o=m.length)<=c?"0."+d("0",c-o)+m:h(m,0,o-c)+"."+h(m,o-c)):f+m;}});},55147:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(47293),s=r(50863),a=o(1..toPrecision);n({target:"Number",proto:!0,forced:i(function(){return"1"!==a(1,void 0);})||!i(function(){a({});})},{toPrecision:function toPrecision(t){return void 0===t?a(s(this)):a(s(this),t);}});},19601:function _(t,e,r){var n=r(82109),o=r(21574);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o});},78011:function _(t,e,r){r(82109)({target:"Object",stat:!0,sham:!r(19781)},{create:r(70030)});},59595:function _(t,e,r){"use strict";var n=r(82109),o=r(19781),i=r(69026),s=r(19662),a=r(47908),c=r(3070);o&&n({target:"Object",proto:!0,forced:i},{__defineGetter__:function __defineGetter__(t,e){c.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0});}});},33321:function _(t,e,r){var n=r(82109),o=r(19781),i=r(36048).f;n({target:"Object",stat:!0,forced:Object.defineProperties!==i,sham:!o},{defineProperties:i});},69070:function _(t,e,r){var n=r(82109),o=r(19781),i=r(3070).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i});},35500:function _(t,e,r){"use strict";var n=r(82109),o=r(19781),i=r(69026),s=r(19662),a=r(47908),c=r(3070);o&&n({target:"Object",proto:!0,forced:i},{__defineSetter__:function __defineSetter__(t,e){c.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0});}});},69720:function _(t,e,r){var n=r(82109),o=r(44699).entries;n({target:"Object",stat:!0},{entries:function entries(t){return o(t);}});},43371:function _(t,e,r){var n=r(82109),o=r(76677),i=r(47293),s=r(70111),a=r(62423).onFreeze,c=Object.freeze;n({target:"Object",stat:!0,forced:i(function(){c(1);}),sham:!o},{freeze:function freeze(t){return c&&s(t)?c(a(t)):t;}});},38559:function _(t,e,r){var n=r(82109),o=r(20408),i=r(86135);n({target:"Object",stat:!0},{fromEntries:function fromEntries(t){var e={};return o(t,function(t,r){i(e,t,r);},{AS_ENTRIES:!0}),e;}});},38880:function _(t,e,r){var n=r(82109),o=r(47293),i=r(45656),s=r(31236).f,a=r(19781),c=o(function(){s(1);});n({target:"Object",stat:!0,forced:!a||c,sham:!a},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,e){return s(i(t),e);}});},49337:function _(t,e,r){var n=r(82109),o=r(19781),i=r(53887),s=r(45656),a=r(31236),c=r(86135);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function getOwnPropertyDescriptors(t){for(var e,r,n=s(t),o=a.f,u=i(n),l={},p=0;u.length>p;){void 0!==(r=o(n,e=u[p++]))&&c(l,e,r);}return l;}});},36210:function _(t,e,r){var n=r(82109),o=r(47293),i=r(1156).f;n({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1);})},{getOwnPropertyNames:i});},30489:function _(t,e,r){var n=r(82109),o=r(47293),i=r(47908),s=r(79518),a=r(49920);n({target:"Object",stat:!0,forced:o(function(){s(1);}),sham:!a},{getPrototypeOf:function getPrototypeOf(t){return s(i(t));}});},46314:function _(t,e,r){r(82109)({target:"Object",stat:!0},{hasOwn:r(92597)});},41825:function _(t,e,r){var n=r(82109),o=r(52050);n({target:"Object",stat:!0,forced:Object.isExtensible!==o},{isExtensible:o});},98410:function _(t,e,r){var n=r(82109),o=r(47293),i=r(70111),s=r(84326),a=r(7556),c=Object.isFrozen;n({target:"Object",stat:!0,forced:o(function(){c(1);})||a},{isFrozen:function isFrozen(t){return!i(t)||!(!a||"ArrayBuffer"!=s(t))||!!c&&c(t);}});},72200:function _(t,e,r){var n=r(82109),o=r(47293),i=r(70111),s=r(84326),a=r(7556),c=Object.isSealed;n({target:"Object",stat:!0,forced:o(function(){c(1);})||a},{isSealed:function isSealed(t){return!i(t)||!(!a||"ArrayBuffer"!=s(t))||!!c&&c(t);}});},43304:function _(t,e,r){r(82109)({target:"Object",stat:!0},{is:r(81150)});},47941:function _(t,e,r){var n=r(82109),o=r(47908),i=r(81956);n({target:"Object",stat:!0,forced:r(47293)(function(){i(1);})},{keys:function keys(t){return i(o(t));}});},94869:function _(t,e,r){"use strict";var n=r(82109),o=r(19781),i=r(69026),s=r(47908),a=r(34948),c=r(79518),u=r(31236).f;o&&n({target:"Object",proto:!0,forced:i},{__lookupGetter__:function __lookupGetter__(t){var e,r=s(this),n=a(t);do{if(e=u(r,n))return e.get;}while(r=c(r));}});},33952:function _(t,e,r){"use strict";var n=r(82109),o=r(19781),i=r(69026),s=r(47908),a=r(34948),c=r(79518),u=r(31236).f;o&&n({target:"Object",proto:!0,forced:i},{__lookupSetter__:function __lookupSetter__(t){var e,r=s(this),n=a(t);do{if(e=u(r,n))return e.set;}while(r=c(r));}});},57227:function _(t,e,r){var n=r(82109),o=r(70111),i=r(62423).onFreeze,s=r(76677),a=r(47293),c=Object.preventExtensions;n({target:"Object",stat:!0,forced:a(function(){c(1);}),sham:!s},{preventExtensions:function preventExtensions(t){return c&&o(t)?c(i(t)):t;}});},60514:function _(t,e,r){var n=r(82109),o=r(70111),i=r(62423).onFreeze,s=r(76677),a=r(47293),c=Object.seal;n({target:"Object",stat:!0,forced:a(function(){c(1);}),sham:!s},{seal:function seal(t){return c&&o(t)?c(i(t)):t;}});},68304:function _(t,e,r){r(82109)({target:"Object",stat:!0},{setPrototypeOf:r(27674)});},41539:function _(t,e,r){var n=r(51694),o=r(31320),i=r(90288);n||o(Object.prototype,"toString",i,{unsafe:!0});},26833:function _(t,e,r){var n=r(82109),o=r(44699).values;n({target:"Object",stat:!0},{values:function values(t){return o(t);}});},54678:function _(t,e,r){var n=r(82109),o=r(2814);n({global:!0,forced:parseFloat!=o},{parseFloat:o});},91058:function _(t,e,r){var n=r(82109),o=r(83009);n({global:!0,forced:parseInt!=o},{parseInt:o});},17922:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(19662),s=r(78523),a=r(12534),c=r(20408);n({target:"Promise",stat:!0},{allSettled:function allSettled(t){var e=this,r=s.f(e),n=r.resolve,u=r.reject,l=a(function(){var r=i(e.resolve),s=[],a=0,u=1;c(t,function(t){var i=a++,c=!1;u++,o(r,e,t).then(function(t){c||(c=!0,s[i]={status:"fulfilled",value:t},--u||n(s));},function(t){c||(c=!0,s[i]={status:"rejected",reason:t},--u||n(s));});}),--u||n(s);});return l.error&&u(l.value),r.promise;}});},34668:function _(t,e,r){"use strict";var n=r(82109),o=r(19662),i=r(35005),s=r(46916),a=r(78523),c=r(12534),u=r(20408),l="No one promise resolved";n({target:"Promise",stat:!0},{any:function any(t){var e=this,r=i("AggregateError"),n=a.f(e),p=n.resolve,f=n.reject,d=c(function(){var n=o(e.resolve),i=[],a=0,c=1,d=!1;u(t,function(t){var o=a++,u=!1;c++,s(n,e,t).then(function(t){u||d||(d=!0,p(t));},function(t){u||d||(u=!0,i[o]=t,--c||f(new r(i,l)));});}),--c||f(new r(i,l));});return d.error&&f(d.value),n.promise;}});},17727:function _(t,e,r){"use strict";var n=r(82109),o=r(31913),i=r(13366),s=r(47293),a=r(35005),c=r(60614),u=r(36707),l=r(69478),p=r(31320);if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&s(function(){i.prototype["finally"].call({then:function then(){}},function(){});})},{"finally":function _finally(t){var e=u(this,a("Promise")),r=c(t);return this.then(r?function(r){return l(e,t()).then(function(){return r;});}:t,r?function(r){return l(e,t()).then(function(){throw r;});}:t);}}),!o&&c(i)){var f=a("Promise").prototype["finally"];i.prototype["finally"]!==f&&p(i.prototype,"finally",f,{unsafe:!0});}},88674:function _(t,e,r){"use strict";var n,o,i,s,a=r(82109),c=r(31913),u=r(17854),l=r(35005),p=r(46916),f=r(13366),d=r(31320),h=r(12248),m=r(27674),v=r(58003),g=r(96340),y=r(19662),b=r(60614),w=r(70111),x=r(25787),D=r(42788),S=r(20408),k=r(17072),E=r(36707),A=r(20261).set,C=r(95948),O=r(69478),M=r(842),T=r(78523),N=r(12534),R=r(18572),I=r(29909),P=r(54705),_=r(5112),B=r(7871),j=r(35268),L=r(7392),z=_("species"),V="Promise",$=I.getterFor(V),H=I.set,U=I.getterFor(V),W=f&&f.prototype,q=f,J=W,K=u.TypeError,G=u.document,Y=u.process,Q=T.f,X=Q,Z=!!(G&&G.createEvent&&u.dispatchEvent),et=b(u.PromiseRejectionEvent),rt="unhandledrejection",nt=!1,ot=P(V,function(){var t=D(q),e=t!==String(q);if(!e&&66===L)return!0;if(c&&!J["finally"])return!0;if(L>=51&&/native code/.test(t))return!1;var r=new q(function(t){t(1);}),FakePromise=function FakePromise(t){t(function(){},function(){});};return(r.constructor={})[z]=FakePromise,!(nt=r.then(function(){})instanceof FakePromise)||!e&&B&&!et;}),it=ot||!k(function(t){q.all(t)["catch"](function(){});}),isThenable=function isThenable(t){var e;return!(!w(t)||!b(e=t.then))&&e;},callReaction=function callReaction(t,e){var r,n,o,i=e.value,s=1==e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(s||(2===e.rejection&&onHandleUnhandled(e),e.rejection=1),!0===a?r=i:(l&&l.enter(),r=a(i),l&&(l.exit(),o=!0)),r===t.promise?u(K("Promise-chain cycle")):(n=isThenable(r))?p(n,r,c,u):c(r)):u(i);}catch(t){l&&!o&&l.exit(),u(t);}},notify=function notify(t,e){t.notified||(t.notified=!0,C(function(){for(var r,n=t.reactions;r=n.get();){callReaction(r,t);}t.notified=!1,e&&!t.rejection&&onUnhandled(t);}));},dispatchEvent=function dispatchEvent(t,e,r){var n,o;Z?((n=G.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),u.dispatchEvent(n)):n={promise:e,reason:r},!et&&(o=u["on"+t])?o(n):t===rt&&M("Unhandled promise rejection",r);},onUnhandled=function onUnhandled(t){p(A,u,function(){var e,r=t.facade,n=t.value;if(isUnhandled(t)&&(e=N(function(){j?Y.emit("unhandledRejection",n,r):dispatchEvent(rt,r,n);}),t.rejection=j||isUnhandled(t)?2:1,e.error))throw e.value;});},isUnhandled=function isUnhandled(t){return 1!==t.rejection&&!t.parent;},onHandleUnhandled=function onHandleUnhandled(t){p(A,u,function(){var e=t.facade;j?Y.emit("rejectionHandled",e):dispatchEvent("rejectionhandled",e,t.value);});},bind=function bind(t,e,r){return function(n){t(e,n,r);};},internalReject=function internalReject(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,notify(t,!0));},internalResolve=function internalResolve(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw K("Promise can't be resolved itself");var n=isThenable(e);n?C(function(){var r={done:!1};try{p(n,e,bind(internalResolve,r,t),bind(internalReject,r,t));}catch(e){internalReject(r,e,t);}}):(t.value=e,t.state=1,notify(t,!1));}catch(e){internalReject({done:!1},e,t);}}};if(ot&&(J=(q=function Promise(t){x(this,J),y(t),p(n,this);var e=$(this);try{t(bind(internalResolve,e),bind(internalReject,e));}catch(t){internalReject(e,t);}}).prototype,(n=function Promise(t){H(this,{type:V,done:!1,notified:!1,parent:!1,reactions:new R(),rejection:!1,state:0,value:void 0});}).prototype=h(J,{then:function then(t,e){var r=U(this),n=Q(E(this,q));return r.parent=!0,n.ok=!b(t)||t,n.fail=b(e)&&e,n.domain=j?Y.domain:void 0,0==r.state?r.reactions.add(n):C(function(){callReaction(n,r);}),n.promise;},"catch":function _catch(t){return this.then(void 0,t);}}),o=function o(){var t=new n(),e=$(t);this.promise=t,this.resolve=bind(internalResolve,e),this.reject=bind(internalReject,e);},T.f=Q=function Q(t){return t===q||t===i?new o(t):X(t);},!c&&b(f)&&W!==Object.prototype)){s=W.then,nt||(d(W,"then",function then(t,e){var r=this;return new q(function(t,e){p(s,r,t,e);}).then(t,e);},{unsafe:!0}),d(W,"catch",J["catch"],{unsafe:!0}));try{delete W.constructor;}catch(t){}m&&m(W,J);}a({global:!0,wrap:!0,forced:ot},{Promise:q}),v(q,V,!1,!0),g(V),i=l(V),a({target:V,stat:!0,forced:ot},{reject:function reject(t){var e=Q(this);return p(e.reject,void 0,t),e.promise;}}),a({target:V,stat:!0,forced:c||ot},{resolve:function resolve(t){return O(c&&this===i?q:this,t);}}),a({target:V,stat:!0,forced:it},{all:function all(t){var e=this,r=Q(e),n=r.resolve,o=r.reject,i=N(function(){var r=y(e.resolve),i=[],s=0,a=1;S(t,function(t){var c=s++,u=!1;a++,p(r,e,t).then(function(t){u||(u=!0,i[c]=t,--a||n(i));},o);}),--a||n(i);});return i.error&&o(i.value),r.promise;},race:function race(t){var e=this,r=Q(e),n=r.reject,o=N(function(){var o=y(e.resolve);S(t,function(t){p(o,e,t).then(r.resolve,n);});});return o.error&&n(o.value),r.promise;}});},36535:function _(t,e,r){var n=r(82109),o=r(22104),i=r(19662),s=r(19670);n({target:"Reflect",stat:!0,forced:!r(47293)(function(){Reflect.apply(function(){});})},{apply:function apply(t,e,r){return o(i(t),e,s(r));}});},12419:function _(t,e,r){var n=r(82109),o=r(35005),i=r(22104),s=r(27065),a=r(39483),c=r(19670),u=r(70111),l=r(70030),p=r(47293),f=o("Reflect","construct"),d=Object.prototype,h=[].push,m=p(function(){function F(){}return!(f(function(){},[],F)instanceof F);}),v=!p(function(){f(function(){});}),g=m||v;n({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function construct(t,e){a(t),c(e);var r=arguments.length<3?t:a(arguments[2]);if(v&&!m)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t();case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);}var n=[null];return i(h,n,e),new(i(s,t,n))();}var o=r.prototype,p=l(u(o)?o:d),g=i(t,p,e);return u(g)?g:p;}});},69596:function _(t,e,r){var n=r(82109),o=r(19781),i=r(19670),s=r(34948),a=r(3070);n({target:"Reflect",stat:!0,forced:r(47293)(function(){Reflect.defineProperty(a.f({},1,{value:1}),1,{value:2});}),sham:!o},{defineProperty:function defineProperty(t,e,r){i(t);var n=s(e);i(r);try{return a.f(t,n,r),!0;}catch(t){return!1;}}});},52586:function _(t,e,r){var n=r(82109),o=r(19670),i=r(31236).f;n({target:"Reflect",stat:!0},{deleteProperty:function deleteProperty(t,e){var r=i(o(t),e);return!(r&&!r.configurable)&&delete t[e];}});},95683:function _(t,e,r){var n=r(82109),o=r(19781),i=r(19670),s=r(31236);n({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function getOwnPropertyDescriptor(t,e){return s.f(i(t),e);}});},39361:function _(t,e,r){var n=r(82109),o=r(19670),i=r(79518);n({target:"Reflect",stat:!0,sham:!r(49920)},{getPrototypeOf:function getPrototypeOf(t){return i(o(t));}});},74819:function _(t,e,r){var n=r(82109),o=r(46916),i=r(70111),s=r(19670),a=r(45032),c=r(31236),u=r(79518);n({target:"Reflect",stat:!0},{get:function get(t,e){var r,n,l=arguments.length<3?t:arguments[2];return s(t)===l?t[e]:(r=c.f(t,e))?a(r)?r.value:void 0===r.get?void 0:o(r.get,l):i(n=u(t))?get(n,e,l):void 0;}});},51037:function _(t,e,r){r(82109)({target:"Reflect",stat:!0},{has:function has(t,e){return e in t;}});},5898:function _(t,e,r){var n=r(82109),o=r(19670),i=r(52050);n({target:"Reflect",stat:!0},{isExtensible:function isExtensible(t){return o(t),i(t);}});},67556:function _(t,e,r){r(82109)({target:"Reflect",stat:!0},{ownKeys:r(53887)});},14361:function _(t,e,r){var n=r(82109),o=r(35005),i=r(19670);n({target:"Reflect",stat:!0,sham:!r(76677)},{preventExtensions:function preventExtensions(t){i(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0;}catch(t){return!1;}}});},39532:function _(t,e,r){var n=r(82109),o=r(19670),i=r(96077),s=r(27674);s&&n({target:"Reflect",stat:!0},{setPrototypeOf:function setPrototypeOf(t,e){o(t),i(e);try{return s(t,e),!0;}catch(t){return!1;}}});},83593:function _(t,e,r){var n=r(82109),o=r(46916),i=r(19670),s=r(70111),a=r(45032),c=r(47293),u=r(3070),l=r(31236),p=r(79518),f=r(79114);n({target:"Reflect",stat:!0,forced:c(function(){var Constructor=function Constructor(){},t=u.f(new Constructor(),"a",{configurable:!0});return!1!==Reflect.set(Constructor.prototype,"a",1,t);})},{set:function set(t,e,r){var n,c,d,h=arguments.length<4?t:arguments[3],m=l.f(i(t),e);if(!m){if(s(c=p(t)))return set(c,e,r,h);m=f(0);}if(a(m)){if(!1===m.writable||!s(h))return!1;if(n=l.f(h,e)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,u.f(h,e,n);}else u.f(h,e,f(0,r));}else{if(void 0===(d=m.set))return!1;o(d,h,r);}return!0;}});},81299:function _(t,e,r){var n=r(82109),o=r(17854),i=r(58003);n({global:!0},{Reflect:{}}),i(o.Reflect,"Reflect",!0);},24603:function _(t,e,r){var n=r(19781),o=r(17854),i=r(1702),s=r(54705),a=r(79587),c=r(68880),u=r(3070).f,l=r(8006).f,p=r(47976),f=r(47850),d=r(41340),h=r(67066),m=r(52999),v=r(31320),g=r(47293),y=r(92597),b=r(29909).enforce,w=r(96340),x=r(5112),D=r(9441),S=r(38173),k=x("match"),E=o.RegExp,A=E.prototype,C=o.SyntaxError,O=i(h),M=i(A.exec),T=i("".charAt),N=i("".replace),R=i("".indexOf),I=i("".slice),P=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,_=/a/g,B=/a/g,j=new E(_)!==_,L=m.MISSED_STICKY,z=m.UNSUPPORTED_Y,V=n&&(!j||L||D||S||g(function(){return B[k]=!1,E(_)!=_||E(B)==B||"/a/i"!=E(_,"i");}));if(s("RegExp",V)){for(var $=function RegExp(t,e){var r,n,o,i,s,u,l=p(A,this),h=f(t),m=void 0===e,v=[],g=t;if(!l&&h&&m&&t.constructor===$)return t;if((h||p(A,t))&&(t=t.source,m&&(e=("flags"in g)?g.flags:O(g))),t=void 0===t?"":d(t),e=void 0===e?"":d(e),g=t,D&&("dotAll"in _)&&(n=!!e&&R(e,"s")>-1)&&(e=N(e,/s/g,"")),r=e,L&&("sticky"in _)&&(o=!!e&&R(e,"y")>-1)&&z&&(e=N(e,/y/g,"")),S&&(i=function(t){for(var e,r=t.length,n=0,o="",i=[],s={},a=!1,c=!1,u=0,l="";n<=r;n++){if("\\"===(e=T(t,n)))e+=T(t,++n);else if("]"===e)a=!1;else if(!a)switch(!0){case"["===e:a=!0;break;case"("===e:M(P,I(t,n+1))&&(n+=2,c=!0),o+=e,u++;continue;case">"===e&&c:if(""===l||y(s,l))throw new C("Invalid capture group name");s[l]=!0,i[i.length]=[l,u],c=!1,l="";continue;}c?l+=e:o+=e;}return[o,i];}(t),t=i[0],v=i[1]),s=a(E(t,e),l?this:A,$),(n||o||v.length)&&(u=b(s),n&&(u.dotAll=!0,u.raw=$(function(t){for(var e,r=t.length,n=0,o="",i=!1;n<=r;n++){"\\"!==(e=T(t,n))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+T(t,++n);}return o;}(t),r)),o&&(u.sticky=!0),v.length&&(u.groups=v)),t!==g)try{c(s,"source",""===g?"(?:)":g);}catch(t){}return s;},proxy=function proxy(t){(t in $)||u($,t,{configurable:!0,get:function get(){return E[t];},set:function set(e){E[t]=e;}});},H=l(E),U=0;H.length>U;){proxy(H[U++]);}A.constructor=$,$.prototype=A,v(o,"RegExp",$);}w("RegExp");},28450:function _(t,e,r){var n=r(17854),o=r(19781),i=r(9441),s=r(84326),a=r(3070).f,c=r(29909).get,u=RegExp.prototype,l=n.TypeError;o&&i&&a(u,"dotAll",{configurable:!0,get:function get(){if(this!==u){if("RegExp"===s(this))return!!c(this).dotAll;throw l("Incompatible receiver, RegExp required");}}});},74916:function _(t,e,r){"use strict";var n=r(82109),o=r(22261);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o});},92087:function _(t,e,r){var n=r(19781),o=r(3070),i=r(67066),s=r(47293),a=RegExp.prototype;n&&s(function(){return"sy"!==Object.getOwnPropertyDescriptor(a,"flags").get.call({dotAll:!0,sticky:!0});})&&o.f(a,"flags",{configurable:!0,get:i});},88386:function _(t,e,r){var n=r(17854),o=r(19781),i=r(52999).MISSED_STICKY,s=r(84326),a=r(3070).f,c=r(29909).get,u=RegExp.prototype,l=n.TypeError;o&&i&&a(u,"sticky",{configurable:!0,get:function get(){if(this!==u){if("RegExp"===s(this))return!!c(this).sticky;throw l("Incompatible receiver, RegExp required");}}});},77601:function _(t,e,r){"use strict";r(74916);var n,o,i=r(82109),s=r(17854),a=r(46916),c=r(1702),u=r(60614),l=r(70111),p=(n=!1,(o=/[ac]/).exec=function(){return n=!0,/./.exec.apply(this,arguments);},!0===o.test("abc")&&n),f=s.Error,d=c(/./.test);i({target:"RegExp",proto:!0,forced:!p},{test:function test(t){var e=this.exec;if(!u(e))return d(this,t);var r=a(e,this,t);if(null!==r&&!l(r))throw new f("RegExp exec method returned something other than an Object or null");return!!r;}});},39714:function _(t,e,r){"use strict";var n=r(1702),o=r(76530).PROPER,i=r(31320),s=r(19670),a=r(47976),c=r(41340),u=r(47293),l=r(67066),p="toString",f=RegExp.prototype,d=f.toString,h=n(l),m=u(function(){return"/a/b"!=d.call({source:"a",flags:"b"});}),v=o&&d.name!=p;(m||v)&&i(RegExp.prototype,p,function toString(){var t=s(this),e=c(t.source),r=t.flags;return"/"+e+"/"+c(void 0===r&&a(f,t)&&!("flags"in f)?h(t):r);},{unsafe:!0});},70189:function _(t,e,r){"use strict";r(77710)("Set",function(t){return function Set(){return t(this,arguments.length?arguments[0]:void 0);};},r(95631));},15218:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("anchor")},{anchor:function anchor(t){return o(this,"a","name",t);}});},24506:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(84488),s=r(19303),a=r(41340),c=r(47293),u=o("".charAt);n({target:"String",proto:!0,forced:c(function(){return"\uD842"!=="".at(-2);})},{at:function at(t){var e=a(i(this)),r=e.length,n=s(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:u(e,o);}});},74475:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("big")},{big:function big(){return o(this,"big","","");}});},57929:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("blink")},{blink:function blink(){return o(this,"blink","","");}});},50915:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("bold")},{bold:function bold(){return o(this,"b","","");}});},79841:function _(t,e,r){"use strict";var n=r(82109),o=r(28710).codeAt;n({target:"String",proto:!0},{codePointAt:function codePointAt(t){return o(this,t);}});},27852:function _(t,e,r){"use strict";var n,o=r(82109),i=r(1702),s=r(31236).f,a=r(17466),c=r(41340),u=r(3929),l=r(84488),p=r(84964),f=r(31913),d=i("".endsWith),h=i("".slice),m=Math.min,v=p("endsWith");o({target:"String",proto:!0,forced:!!(f||v||(n=s(String.prototype,"endsWith"),!n||n.writable))&&!v},{endsWith:function endsWith(t){var e=c(l(this));u(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===r?n:m(a(r),n),i=c(t);return d?d(e,i,o):h(e,o-i.length,o)===i;}});},29253:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("fixed")},{fixed:function fixed(){return o(this,"tt","","");}});},42125:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("fontcolor")},{fontcolor:function fontcolor(t){return o(this,"font","color",t);}});},78830:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("fontsize")},{fontsize:function fontsize(t){return o(this,"font","size",t);}});},94953:function _(t,e,r){var n=r(82109),o=r(17854),i=r(1702),s=r(51400),a=o.RangeError,c=String.fromCharCode,u=String.fromCodePoint,l=i([].join);n({target:"String",stat:!0,forced:!!u&&1!=u.length},{fromCodePoint:function fromCodePoint(t){for(var e,r=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],s(e,1114111)!==e)throw a(e+" is not a valid code point");r[o]=e<65536?c(e):c(55296+((e-=65536)>>10),e%1024+56320);}return l(r,"");}});},32023:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(3929),s=r(84488),a=r(41340),c=r(84964),u=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function includes(t){return!!~u(a(s(this)),a(i(t)),arguments.length>1?arguments[1]:void 0);}});},58734:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("italics")},{italics:function italics(){return o(this,"i","","");}});},78783:function _(t,e,r){"use strict";var n=r(28710).charAt,o=r(41340),i=r(29909),s=r(70654),a="String Iterator",c=i.set,u=i.getterFor(a);s(String,"String",function(t){c(this,{type:a,string:o(t),index:0});},function next(){var t,e=u(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1});});},29254:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("link")},{link:function link(t){return o(this,"a","href",t);}});},76373:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(1702),a=r(24994),c=r(84488),u=r(17466),l=r(41340),p=r(19670),f=r(84326),d=r(47976),h=r(47850),m=r(67066),v=r(58173),g=r(31320),y=r(47293),b=r(5112),w=r(36707),x=r(31530),D=r(97651),S=r(29909),k=r(31913),E=b("matchAll"),A="RegExp String",C="RegExp String Iterator",O=S.set,M=S.getterFor(C),T=RegExp.prototype,N=o.TypeError,R=s(m),I=s("".indexOf),P=s("".matchAll),_=!!P&&!y(function(){P("a",/./);}),B=a(function RegExpStringIterator(t,e,r,n){O(this,{type:C,regexp:t,string:e,global:r,unicode:n,done:!1});},A,function next(){var t=M(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,r=t.string,n=D(e,r);return null===n?{value:void 0,done:t.done=!0}:t.global?(""===l(n[0])&&(e.lastIndex=x(r,u(e.lastIndex),t.unicode)),{value:n,done:!1}):(t.done=!0,{value:n,done:!1});}),$matchAll=function $matchAll(t){var e,r,n,o,i,s,a=p(this),c=l(t);return e=w(a,RegExp),void 0===(r=a.flags)&&d(T,a)&&!("flags"in T)&&(r=R(a)),n=void 0===r?"":l(r),o=new e(e===RegExp?a.source:a,n),i=!!~I(n,"g"),s=!!~I(n,"u"),o.lastIndex=u(a.lastIndex),new B(o,c,i,s);};n({target:"String",proto:!0,forced:_},{matchAll:function matchAll(t){var e,r,n,o,s=c(this);if(null!=t){if(h(t)&&(e=l(c("flags"in T?t.flags:R(t))),!~I(e,"g")))throw N("`.matchAll` does not allow non-global regexes");if(_)return P(s,t);if(void 0===(n=v(t,E))&&k&&"RegExp"==f(t)&&(n=$matchAll),n)return i(n,t,s);}else if(_)return P(s,t);return r=l(s),o=new RegExp(t,"g"),k?i($matchAll,o,r):o[E](r);}}),k||E in T||g(T,E,$matchAll);},4723:function _(t,e,r){"use strict";var n=r(46916),o=r(27007),i=r(19670),s=r(17466),a=r(41340),c=r(84488),u=r(58173),l=r(31530),p=r(97651);o("match",function(t,e,r){return[function match(e){var r=c(this),o=null==e?void 0:u(e,t);return o?n(o,e,r):new RegExp(e)[t](a(r));},function(t){var n=i(this),o=a(t),c=r(e,n,o);if(c.done)return c.value;if(!n.global)return p(n,o);var u=n.unicode;n.lastIndex=0;for(var f,d=[],h=0;null!==(f=p(n,o));){var m=a(f[0]);d[h]=m,""===m&&(n.lastIndex=l(o,s(n.lastIndex),u)),h++;}return 0===h?null:d;}];});},66528:function _(t,e,r){"use strict";var n=r(82109),o=r(76650).end;n({target:"String",proto:!0,forced:r(54986)},{padEnd:function padEnd(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}});},83112:function _(t,e,r){"use strict";var n=r(82109),o=r(76650).start;n({target:"String",proto:!0,forced:r(54986)},{padStart:function padStart(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}});},38992:function _(t,e,r){var n=r(82109),o=r(1702),i=r(45656),s=r(47908),a=r(41340),c=r(26244),u=o([].push),l=o([].join);n({target:"String",stat:!0},{raw:function raw(t){for(var e=i(s(t).raw),r=c(e),n=arguments.length,o=[],p=0;r>p;){if(u(o,a(e[p++])),p===r)return l(o,"");p<n&&u(o,a(arguments[p]));}}});},82481:function _(t,e,r){r(82109)({target:"String",proto:!0},{repeat:r(38415)});},68757:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(1702),a=r(84488),c=r(60614),u=r(47850),l=r(41340),p=r(58173),f=r(67066),d=r(10647),h=r(5112),m=r(31913),v=h("replace"),g=RegExp.prototype,y=o.TypeError,b=s(f),w=s("".indexOf),x=s("".replace),D=s("".slice),S=Math.max,stringIndexOf=function stringIndexOf(t,e,r){return r>t.length?-1:""===e?r:w(t,e,r);};n({target:"String",proto:!0},{replaceAll:function replaceAll(t,e){var r,n,o,s,f,h,k,E,A,C=a(this),O=0,M=0,T="";if(null!=t){if((r=u(t))&&(n=l(a("flags"in g?t.flags:b(t))),!~w(n,"g")))throw y("`.replaceAll` does not allow non-global regexes");if(o=p(t,v))return i(o,t,C,e);if(m&&r)return x(l(C),t,e);}for(s=l(C),f=l(t),(h=c(e))||(e=l(e)),k=f.length,E=S(1,k),O=stringIndexOf(s,f,0);-1!==O;){A=h?l(e(f,O,s)):d(f,s,O,[],void 0,e),T+=D(s,M,O)+A,M=O+k,O=stringIndexOf(s,f,O+E);}return M<s.length&&(T+=D(s,M)),T;}});},15306:function _(t,e,r){"use strict";var n=r(22104),o=r(46916),i=r(1702),s=r(27007),a=r(47293),c=r(19670),u=r(60614),l=r(19303),p=r(17466),f=r(41340),d=r(84488),h=r(31530),m=r(58173),v=r(10647),g=r(97651),y=r(5112)("replace"),b=Math.max,w=Math.min,x=i([].concat),D=i([].push),S=i("".indexOf),k=i("".slice),E="$0"==="a".replace(/./,"$0"),A=!!/./[y]&&""===/./[y]("a","$0");s("replace",function(t,e,r){var i=A?"$":"$0";return[function replace(t,r){var n=d(this),i=null==t?void 0:m(t,y);return i?o(i,t,n,r):o(e,f(n),t,r);},function(t,o){var s=c(this),a=f(t);if("string"==typeof o&&-1===S(o,i)&&-1===S(o,"$<")){var d=r(e,s,a,o);if(d.done)return d.value;}var m=u(o);m||(o=f(o));var y=s.global;if(y){var E=s.unicode;s.lastIndex=0;}for(var A=[];;){var C=g(s,a);if(null===C)break;if(D(A,C),!y)break;""===f(C[0])&&(s.lastIndex=h(a,p(s.lastIndex),E));}for(var O,M="",T=0,N=0;N<A.length;N++){for(var R=f((C=A[N])[0]),I=b(w(l(C.index),a.length),0),P=[],_=1;_<C.length;_++){D(P,void 0===(O=C[_])?O:String(O));}var B=C.groups;if(m){var j=x([R],P,I,a);void 0!==B&&D(j,B);var L=f(n(o,void 0,j));}else L=v(R,a,I,P,B,o);I>=T&&(M+=k(a,T,I)+L,T=I+R.length);}return M+k(a,T);}];},!!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t;},"7"!=="".replace(t,"$<a>");})||!E||A);},64765:function _(t,e,r){"use strict";var n=r(46916),o=r(27007),i=r(19670),s=r(84488),a=r(81150),c=r(41340),u=r(58173),l=r(97651);o("search",function(t,e,r){return[function search(e){var r=s(this),o=null==e?void 0:u(e,t);return o?n(o,e,r):new RegExp(e)[t](c(r));},function(t){var n=i(this),o=c(t),s=r(e,n,o);if(s.done)return s.value;var u=n.lastIndex;a(u,0)||(n.lastIndex=0);var p=l(n,o);return a(n.lastIndex,u)||(n.lastIndex=u),null===p?-1:p.index;}];});},37268:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("small")},{small:function small(){return o(this,"small","","");}});},23123:function _(t,e,r){"use strict";var n=r(22104),o=r(46916),i=r(1702),s=r(27007),a=r(47850),c=r(19670),u=r(84488),l=r(36707),p=r(31530),f=r(17466),d=r(41340),h=r(58173),m=r(41589),v=r(97651),g=r(22261),y=r(52999),b=r(47293),w=y.UNSUPPORTED_Y,x=4294967295,D=Math.min,S=[].push,k=i(/./.exec),E=i(S),A=i("".slice);s("split",function(t,e,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var i=d(u(this)),s=void 0===r?x:r>>>0;if(0===s)return[];if(void 0===t)return[i];if(!a(t))return o(e,i,t,s);for(var c,l,p,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,y=new RegExp(t.source,h+"g");(c=o(g,y,i))&&!((l=y.lastIndex)>v&&(E(f,A(i,v,c.index)),c.length>1&&c.index<i.length&&n(S,f,m(c,1)),p=c[0].length,v=l,f.length>=s));){y.lastIndex===c.index&&y.lastIndex++;}return v===i.length?!p&&k(y,"")||E(f,""):E(f,A(i,v)),f.length>s?m(f,0,s):f;}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:o(e,this,t,r);}:e,[function split(e,r){var n=u(this),s=null==e?void 0:h(e,t);return s?o(s,e,n,r):o(i,d(n),e,r);},function(t,n){var o=c(this),s=d(t),a=r(i,o,s,n,i!==e);if(a.done)return a.value;var u=l(o,RegExp),h=o.unicode,m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(w?"g":"y"),g=new u(w?"^(?:"+o.source+")":o,m),y=void 0===n?x:n>>>0;if(0===y)return[];if(0===s.length)return null===v(g,s)?[s]:[];for(var b=0,S=0,k=[];S<s.length;){g.lastIndex=w?0:S;var C,O=v(g,w?A(s,S):s);if(null===O||(C=D(f(g.lastIndex+(w?S:0)),s.length))===b)S=p(s,S,h);else{if(E(k,A(s,b,S)),k.length===y)return k;for(var M=1;M<=O.length-1;M++){if(E(k,O[M]),k.length===y)return k;}S=b=C;}}return E(k,A(s,b)),k;}];},!!b(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments);};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1];}),w);},23157:function _(t,e,r){"use strict";var n,o=r(82109),i=r(1702),s=r(31236).f,a=r(17466),c=r(41340),u=r(3929),l=r(84488),p=r(84964),f=r(31913),d=i("".startsWith),h=i("".slice),m=Math.min,v=p("startsWith");o({target:"String",proto:!0,forced:!!(f||v||(n=s(String.prototype,"startsWith"),!n||n.writable))&&!v},{startsWith:function startsWith(t){var e=c(l(this));u(t);var r=a(m(arguments.length>1?arguments[1]:void 0,e.length)),n=c(t);return d?d(e,n,r):h(e,r,r+n.length)===n;}});},7397:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("strike")},{strike:function strike(){return o(this,"strike","","");}});},60086:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("sub")},{sub:function sub(){return o(this,"sub","","");}});},83650:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(84488),s=r(19303),a=r(41340),c=o("".slice),u=Math.max,l=Math.min;n({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function substr(t,e){var r,n,o=a(i(this)),p=o.length,f=s(t);return f===1/0&&(f=0),f<0&&(f=u(p+f,0)),(r=void 0===e?p:s(e))<=0||r===1/0||f>=(n=l(f+r,p))?"":c(o,f,n);}});},80623:function _(t,e,r){"use strict";var n=r(82109),o=r(14230);n({target:"String",proto:!0,forced:r(43429)("sup")},{sup:function sup(){return o(this,"sup","","");}});},48702:function _(t,e,r){"use strict";var n=r(82109),o=r(53111).end,i=r(76091)("trimEnd"),s=i?function trimEnd(){return o(this);}:"".trimEnd;n({target:"String",proto:!0,name:"trimEnd",forced:i},{trimEnd:s,trimRight:s});},55674:function _(t,e,r){"use strict";var n=r(82109),o=r(53111).start,i=r(76091)("trimStart"),s=i?function trimStart(){return o(this);}:"".trimStart;n({target:"String",proto:!0,name:"trimStart",forced:i},{trimStart:s,trimLeft:s});},73210:function _(t,e,r){"use strict";var n=r(82109),o=r(53111).trim;n({target:"String",proto:!0,forced:r(76091)("trim")},{trim:function trim(){return o(this);}});},72443:function _(t,e,r){r(97235)("asyncIterator");},41817:function _(t,e,r){"use strict";var n=r(82109),o=r(19781),i=r(17854),s=r(1702),a=r(92597),c=r(60614),u=r(47976),l=r(41340),p=r(3070).f,f=r(99920),d=i.Symbol,h=d&&d.prototype;if(o&&c(d)&&(!("description"in h)||void 0!==d().description)){var m={},v=function _Symbol(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=u(h,this)?new d(t):void 0===t?d():d(t);return""===t&&(m[e]=!0),e;};f(v,d),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(d("test")),y=s(h.toString),b=s(h.valueOf),w=/^Symbol\((.*)\)[^)]+$/,x=s("".replace),D=s("".slice);p(h,"description",{configurable:!0,get:function description(){var t=b(this),e=y(t);if(a(m,t))return"";var r=g?D(e,7,-1):x(e,w,"$1");return""===r?void 0:r;}}),n({global:!0,forced:!0},{Symbol:v});}},92401:function _(t,e,r){r(97235)("hasInstance");},8722:function _(t,e,r){r(97235)("isConcatSpreadable");},32165:function _(t,e,r){r(97235)("iterator");},82526:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(35005),s=r(22104),a=r(46916),c=r(1702),u=r(31913),l=r(19781),p=r(30133),f=r(47293),d=r(92597),h=r(43157),m=r(60614),v=r(70111),g=r(47976),y=r(52190),b=r(19670),w=r(47908),x=r(45656),D=r(34948),S=r(41340),k=r(79114),E=r(70030),A=r(81956),C=r(8006),O=r(1156),M=r(25181),T=r(31236),N=r(3070),R=r(36048),I=r(55296),P=r(50206),_=r(31320),B=r(72309),j=r(6200),L=r(3501),z=r(69711),V=r(5112),$=r(6061),H=r(97235),U=r(58003),W=r(29909),q=r(42092).forEach,J=j("hidden"),K="Symbol",G=V("toPrimitive"),Y=W.set,Q=W.getterFor(K),X=Object.prototype,Z=o.Symbol,et=Z&&Z.prototype,rt=o.TypeError,nt=o.QObject,ot=i("JSON","stringify"),it=T.f,st=N.f,ct=O.f,ut=I.f,lt=c([].push),pt=B("symbols"),ft=B("op-symbols"),dt=B("string-to-symbol-registry"),ht=B("symbol-to-string-registry"),mt=B("wks"),vt=!nt||!nt.prototype||!nt.prototype.findChild,gt=l&&f(function(){return 7!=E(st({},"a",{get:function get(){return st(this,"a",{value:7}).a;}})).a;})?function(t,e,r){var n=it(X,e);n&&delete X[e],st(t,e,r),n&&t!==X&&st(X,e,n);}:st,wrap=function wrap(t,e){var r=pt[t]=E(et);return Y(r,{type:K,tag:t,description:e}),l||(r.description=e),r;},yt=function defineProperty(t,e,r){t===X&&yt(ft,e,r),b(t);var n=D(e);return b(r),d(pt,n)?(r.enumerable?(d(t,J)&&t[J][n]&&(t[J][n]=!1),r=E(r,{enumerable:k(0,!1)})):(d(t,J)||st(t,J,k(1,{})),t[J][n]=!0),gt(t,n,r)):st(t,n,r);},bt=function defineProperties(t,e){b(t);var r=x(e),n=A(r).concat(St(r));return q(n,function(e){l&&!a(wt,r,e)||yt(t,e,r[e]);}),t;},wt=function propertyIsEnumerable(t){var e=D(t),r=a(ut,this,e);return!(this===X&&d(pt,e)&&!d(ft,e))&&(!(r||!d(this,e)||!d(pt,e)||d(this,J)&&this[J][e])||r);},xt=function getOwnPropertyDescriptor(t,e){var r=x(t),n=D(e);if(r!==X||!d(pt,n)||d(ft,n)){var o=it(r,n);return!o||!d(pt,n)||d(r,J)&&r[J][n]||(o.enumerable=!0),o;}},Dt=function getOwnPropertyNames(t){var e=ct(x(t)),r=[];return q(e,function(t){d(pt,t)||d(L,t)||lt(r,t);}),r;},St=function getOwnPropertySymbols(t){var e=t===X,r=ct(e?ft:x(t)),n=[];return q(r,function(t){!d(pt,t)||e&&!d(X,t)||lt(n,pt[t]);}),n;};(p||(_(et=(Z=function _Symbol2(){if(g(et,this))throw rt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?S(arguments[0]):void 0,e=z(t),setter=function setter(t){this===X&&a(setter,ft,t),d(this,J)&&d(this[J],e)&&(this[J][e]=!1),gt(this,e,k(1,t));};return l&&vt&&gt(X,e,{configurable:!0,set:setter}),wrap(e,t);}).prototype,"toString",function toString(){return Q(this).tag;}),_(Z,"withoutSetter",function(t){return wrap(z(t),t);}),I.f=wt,N.f=yt,R.f=bt,T.f=xt,C.f=O.f=Dt,M.f=St,$.f=function(t){return wrap(V(t),t);},l&&(st(et,"description",{configurable:!0,get:function description(){return Q(this).description;}}),u||_(X,"propertyIsEnumerable",wt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Z}),q(A(mt),function(t){H(t);}),n({target:K,stat:!0,forced:!p},{"for":function _for(t){var e=S(t);if(d(dt,e))return dt[e];var r=Z(e);return dt[e]=r,ht[r]=e,r;},keyFor:function keyFor(t){if(!y(t))throw rt(t+" is not a symbol");if(d(ht,t))return ht[t];},useSetter:function useSetter(){vt=!0;},useSimple:function useSimple(){vt=!1;}}),n({target:"Object",stat:!0,forced:!p,sham:!l},{create:function create(t,e){return void 0===e?E(t):bt(E(t),e);},defineProperty:yt,defineProperties:bt,getOwnPropertyDescriptor:xt}),n({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:Dt,getOwnPropertySymbols:St}),n({target:"Object",stat:!0,forced:f(function(){M.f(1);})},{getOwnPropertySymbols:function getOwnPropertySymbols(t){return M.f(w(t));}}),ot)&&n({target:"JSON",stat:!0,forced:!p||f(function(){var t=Z();return"[null]"!=ot([t])||"{}"!=ot({a:t})||"{}"!=ot(Object(t));})},{stringify:function stringify(t,e,r){var n=P(arguments),o=e;if((v(e)||void 0!==t)&&!y(t))return h(e)||(e=function e(t,_e2){if(m(o)&&(_e2=a(o,this,t,_e2)),!y(_e2))return _e2;}),n[1]=e,s(ot,null,n);}});if(!et[G]){var kt=et.valueOf;_(et,G,function(t){return a(kt,this);});}U(Z,K),L[J]=!0;},16066:function _(t,e,r){r(97235)("matchAll");},69007:function _(t,e,r){r(97235)("match");},83510:function _(t,e,r){r(97235)("replace");},41840:function _(t,e,r){r(97235)("search");},6982:function _(t,e,r){r(97235)("species");},32159:function _(t,e,r){r(97235)("split");},96649:function _(t,e,r){r(97235)("toPrimitive");},39341:function _(t,e,r){r(97235)("toStringTag");},60543:function _(t,e,r){r(97235)("unscopables");},48675:function _(t,e,r){"use strict";var n=r(90260),o=r(26244),i=r(19303),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("at",function at(t){var e=s(this),r=o(e),n=i(t),a=n>=0?n:r+n;return a<0||a>=r?void 0:e[a];});},92990:function _(t,e,r){"use strict";var n=r(1702),o=r(90260),i=n(r(1048)),s=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",function copyWithin(t,e){return i(s(this),t,e,arguments.length>2?arguments[2]:void 0);});},18927:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",function every(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},33105:function _(t,e,r){"use strict";var n=r(90260),o=r(46916),i=r(21285),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",function fill(t){var e=arguments.length;return o(i,s(this),t,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0);});},35035:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).filter,i=r(43074),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filter",function filter(t){var e=o(s(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e);});},7174:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",function findIndex(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},74345:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",function find(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},44197:function _(t,e,r){r(19843)("Float32",function(t){return function Float32Array(e,r,n){return t(this,e,r,n);};});},76495:function _(t,e,r){r(19843)("Float64",function(t){return function Float64Array(e,r,n){return t(this,e,r,n);};});},32846:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",function forEach(t){o(i(this),t,arguments.length>1?arguments[1]:void 0);});},98145:function _(t,e,r){"use strict";var n=r(63832);(0,r(90260).exportTypedArrayStaticMethod)("from",r(97321),n);},44731:function _(t,e,r){"use strict";var n=r(90260),o=r(41318).includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",function includes(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},77209:function _(t,e,r){"use strict";var n=r(90260),o=r(41318).indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",function indexOf(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},35109:function _(t,e,r){r(19843)("Int16",function(t){return function Int16Array(e,r,n){return t(this,e,r,n);};});},65125:function _(t,e,r){r(19843)("Int32",function(t){return function Int32Array(e,r,n){return t(this,e,r,n);};});},87145:function _(t,e,r){r(19843)("Int8",function(t){return function Int8Array(e,r,n){return t(this,e,r,n);};});},96319:function _(t,e,r){"use strict";var n=r(17854),o=r(47293),i=r(1702),s=r(90260),a=r(66992),c=r(5112)("iterator"),u=n.Uint8Array,l=i(a.values),p=i(a.keys),f=i(a.entries),d=s.aTypedArray,h=s.exportTypedArrayMethod,m=u&&u.prototype,v=!o(function(){m[c].call([1]);}),g=!!m&&m.values&&m[c]===m.values&&"values"===m.values.name,y=function values(){return l(d(this));};h("entries",function entries(){return f(d(this));},v),h("keys",function keys(){return p(d(this));},v),h("values",y,v||!g,{name:"values"}),h(c,y,v||!g,{name:"values"});},58867:function _(t,e,r){"use strict";var n=r(90260),o=r(1702),i=n.aTypedArray,s=n.exportTypedArrayMethod,a=o([].join);s("join",function join(t){return a(i(this),t);});},37789:function _(t,e,r){"use strict";var n=r(90260),o=r(22104),i=r(86583),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",function lastIndexOf(t){var e=arguments.length;return o(i,s(this),e>1?[t,arguments[1]]:[t]);});},33739:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).map,i=r(66304),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("map",function map(t){return o(s(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(i(t))(e);});});},95206:function _(t,e,r){"use strict";var n=r(90260),o=r(63832),i=n.aTypedArrayConstructor;(0,n.exportTypedArrayStaticMethod)("of",function of(){for(var t=0,e=arguments.length,r=new(i(this))(e);e>t;){r[t]=arguments[t++];}return r;},o);},14483:function _(t,e,r){"use strict";var n=r(90260),o=r(53671).right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",function reduceRight(t){var e=arguments.length;return o(i(this),t,e,e>1?arguments[1]:void 0);});},29368:function _(t,e,r){"use strict";var n=r(90260),o=r(53671).left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",function reduce(t){var e=arguments.length;return o(i(this),t,e,e>1?arguments[1]:void 0);});},12056:function _(t,e,r){"use strict";var n=r(90260),o=n.aTypedArray,i=n.exportTypedArrayMethod,s=Math.floor;i("reverse",function reverse(){for(var t,e=this,r=o(e).length,n=s(r/2),i=0;i<n;){t=e[i],e[i++]=e[--r],e[r]=t;}return e;});},3462:function _(t,e,r){"use strict";var n=r(17854),o=r(46916),i=r(90260),s=r(26244),a=r(84590),c=r(47908),u=r(47293),l=n.RangeError,p=n.Int8Array,f=p&&p.prototype,d=f&&f.set,h=i.aTypedArray,m=i.exportTypedArrayMethod,v=!u(function(){var t=new Uint8ClampedArray(2);return o(d,t,{length:1,0:3},1),3!==t[1];}),g=v&&i.NATIVE_ARRAY_BUFFER_VIEWS&&u(function(){var t=new p(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1];});m("set",function set(t){h(this);var e=a(arguments.length>1?arguments[1]:void 0,1),r=c(t);if(v)return o(d,this,r,e);var n=this.length,i=s(r),u=0;if(i+e>n)throw l("Wrong length");for(;u<i;){this[e+u]=r[u++];}},!v||g);},30678:function _(t,e,r){"use strict";var n=r(90260),o=r(66304),i=r(47293),s=r(50206),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("slice",function slice(t,e){for(var r=s(a(this),t,e),n=o(this),i=0,c=r.length,u=new n(c);c>i;){u[i]=r[i++];}return u;},i(function(){new Int8Array(1).slice();}));},27462:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",function some(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},33824:function _(t,e,r){"use strict";var n=r(17854),o=r(1702),i=r(47293),s=r(19662),a=r(94362),c=r(90260),u=r(68886),l=r(30256),p=r(7392),f=r(98008),d=n.Array,h=c.aTypedArray,m=c.exportTypedArrayMethod,v=n.Uint16Array,g=v&&o(v.prototype.sort),y=!(!g||i(function(){g(new v(2),null);})&&i(function(){g(new v(2),{});})),b=!!g&&!i(function(){if(p)return p<74;if(u)return u<67;if(l)return!0;if(f)return f<602;var t,e,r=new v(516),n=d(516);for(t=0;t<516;t++){e=t%4,r[t]=515-t,n[t]=t-2*e+3;}for(g(r,function(t,e){return(t/4|0)-(e/4|0);}),t=0;t<516;t++){if(r[t]!==n[t])return!0;}});m("sort",function sort(t){return void 0!==t&&s(t),b?g(this,t):a(h(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r;};}(t));},!b||y);},55021:function _(t,e,r){"use strict";var n=r(90260),o=r(17466),i=r(51400),s=r(66304),a=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",function subarray(t,e){var r=a(this),n=r.length,c=i(t,n);return new(s(r))(r.buffer,r.byteOffset+c*r.BYTES_PER_ELEMENT,o((void 0===e?n:i(e,n))-c));});},12974:function _(t,e,r){"use strict";var n=r(17854),o=r(22104),i=r(90260),s=r(47293),a=r(50206),c=n.Int8Array,u=i.aTypedArray,l=i.exportTypedArrayMethod,p=[].toLocaleString,f=!!c&&s(function(){p.call(new c(1));});l("toLocaleString",function toLocaleString(){return o(p,f?a(u(this)):u(this),a(arguments));},s(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString();})||!s(function(){c.prototype.toLocaleString.call([1,2]);}));},15016:function _(t,e,r){"use strict";var n=r(90260).exportTypedArrayMethod,o=r(47293),i=r(17854),s=r(1702),a=i.Uint8Array,c=a&&a.prototype||{},u=[].toString,l=s([].join);o(function(){u.call({});})&&(u=function toString(){return l(this);});var p=c.toString!=u;n("toString",u,p);},8255:function _(t,e,r){r(19843)("Uint16",function(t){return function Uint16Array(e,r,n){return t(this,e,r,n);};});},29135:function _(t,e,r){r(19843)("Uint32",function(t){return function Uint32Array(e,r,n){return t(this,e,r,n);};});},82472:function _(t,e,r){r(19843)("Uint8",function(t){return function Uint8Array(e,r,n){return t(this,e,r,n);};});},49743:function _(t,e,r){r(19843)("Uint8",function(t){return function Uint8ClampedArray(e,r,n){return t(this,e,r,n);};},!0);},78221:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(41340),s=String.fromCharCode,a=o("".charAt),c=o(/./.exec),u=o("".slice),l=/^[\da-f]{2}$/i,p=/^[\da-f]{4}$/i;n({global:!0},{unescape:function unescape(t){for(var e,r,n=i(t),o="",f=n.length,d=0;d<f;){if("%"===(e=a(n,d++)))if("u"===a(n,d)){if(r=u(n,d+1,d+5),c(p,r)){o+=s(parseInt(r,16)),d+=5;continue;}}else if(r=u(n,d,d+2),c(l,r)){o+=s(parseInt(r,16)),d+=2;continue;}o+=e;}return o;}});},4129:function _(t,e,r){"use strict";var n,o=r(17854),i=r(1702),s=r(12248),a=r(62423),c=r(77710),u=r(29320),l=r(70111),p=r(52050),f=r(29909).enforce,d=r(68536),h=!o.ActiveXObject&&"ActiveXObject"in o,wrapper=function wrapper(t){return function WeakMap(){return t(this,arguments.length?arguments[0]:void 0);};},m=c("WeakMap",wrapper,u);if(d&&h){n=u.getConstructor(wrapper,"WeakMap",!0),a.enable();var v=m.prototype,g=i(v["delete"]),y=i(v.has),b=i(v.get),w=i(v.set);s(v,{"delete":function _delete(t){if(l(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new n()),g(this,t)||e.frozen["delete"](t);}return g(this,t);},has:function has(t){if(l(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new n()),y(this,t)||e.frozen.has(t);}return y(this,t);},get:function get(t){if(l(t)&&!p(t)){var e=f(this);return e.frozen||(e.frozen=new n()),y(this,t)?b(this,t):e.frozen.get(t);}return b(this,t);},set:function set(t,e){if(l(t)&&!p(t)){var r=f(this);r.frozen||(r.frozen=new n()),y(this,t)?w(this,t,e):r.frozen.set(t,e);}else w(this,t,e);return this;}});}},38478:function _(t,e,r){"use strict";r(77710)("WeakSet",function(t){return function WeakSet(){return t(this,arguments.length?arguments[0]:void 0);};},r(29320));},8628:function _(t,e,r){r(9170);},69810:function _(t,e,r){r(52262);},84811:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).filterReject,i=r(51223);n({target:"Array",proto:!0,forced:!0},{filterOut:function filterOut(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i("filterOut");},34286:function _(t,e,r){"use strict";var n=r(82109),o=r(42092).filterReject,i=r(51223);n({target:"Array",proto:!0,forced:!0},{filterReject:function filterReject(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i("filterReject");},77461:function _(t,e,r){"use strict";var n=r(82109),o=r(9671).findLastIndex,i=r(51223);n({target:"Array",proto:!0},{findLastIndex:function findLastIndex(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i("findLastIndex");},3048:function _(t,e,r){"use strict";var n=r(82109),o=r(9671).findLast,i=r(51223);n({target:"Array",proto:!0},{findLast:function findLast(t){return o(this,t,arguments.length>1?arguments[1]:void 0);}}),i("findLast");},19258:function _(t,e,r){r(82109)({target:"Array",stat:!0,forced:!0},{fromAsync:r(33253)});},61886:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(49974),s=r(1702),a=r(68361),c=r(47908),u=r(26244),l=r(9341),p=r(51223),f=o("Map"),d=f.prototype,h=s(d.get),m=s(d.has),v=s(d.set),g=s([].push);n({target:"Array",proto:!0,forced:!l("groupByToMap")},{groupByToMap:function groupByToMap(t){for(var e,r,n=c(this),o=a(n),s=i(t,arguments.length>1?arguments[1]:void 0),l=new f(),p=u(o),d=0;p>d;d++){e=s(r=o[d],d,n),m(l,e)?g(h(l,e),r):v(l,e,[r]);}return l;}}),p("groupByToMap");},1999:function _(t,e,r){"use strict";var n=r(82109),o=r(61386),i=r(9341),s=r(51223);n({target:"Array",proto:!0,forced:!i("groupBy")},{groupBy:function groupBy(t){var e=arguments.length>1?arguments[1]:void 0;return o(this,t,e);}}),s("groupBy");},8e4:function _(t,e,r){var n=r(82109),o=r(43157),i=Object.isFrozen,isFrozenStringArray=function isFrozenStringArray(t,e){if(!i||!o(t)||!i(t))return!1;for(var r,n=0,s=t.length;n<s;){if(!("string"==typeof(r=t[n++])||e&&void 0===r))return!1;}return 0!==s;};n({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:function isTemplateObject(t){if(!isFrozenStringArray(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!isFrozenStringArray(e,!1));}});},83475:function _(t,e,r){"use strict";var n=r(19781),o=r(51223),i=r(47908),s=r(26244),a=r(3070).f;n&&(a(Array.prototype,"lastIndex",{configurable:!0,get:function lastIndex(){var t=i(this),e=s(t);return 0==e?0:e-1;}}),o("lastIndex"));},46273:function _(t,e,r){"use strict";var n=r(19781),o=r(51223),i=r(47908),s=r(26244),a=r(3070).f;n&&(a(Array.prototype,"lastItem",{configurable:!0,get:function lastItem(){var t=i(this),e=s(t);return 0==e?void 0:t[e-1];},set:function lastItem(t){var e=i(this),r=s(e);return e[0==r?0:r-1]=t;}}),o("lastItem"));},56882:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(21843),s=r(45656),a=r(51223),c=o.Array;n({target:"Array",proto:!0,forced:!0},{toReversed:function toReversed(){return i(s(this),c);}}),a("toReversed");},78525:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(1702),s=r(19662),a=r(45656),c=r(97745),u=r(98770),l=r(51223),p=o.Array,f=i(u("Array").sort);n({target:"Array",proto:!0,forced:!0},{toSorted:function toSorted(t){void 0!==t&&s(t);var e=a(this),r=c(p,e);return f(r,t);}}),l("toSorted");},27004:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(45656),s=r(50206),a=r(1654),c=r(51223),u=o.Array;n({target:"Array",proto:!0,forced:!0},{toSpliced:function toSpliced(t,e){return a(i(this),u,s(arguments));}}),c("toSpliced");},3087:function _(t,e,r){"use strict";var n=r(82109),o=r(51223);n({target:"Array",proto:!0,forced:!0},{uniqueBy:r(60956)}),o("uniqueBy");},97391:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(11572),s=r(45656),a=o.Array;n({target:"Array",proto:!0,forced:!0},{"with":function _with(t,e){return i(s(this),a,t,e);}});},40787:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19670),s=r(45348)(function(t,e){var r=this,n=r.iterator;return t.resolve(i(o(r.next,n,e))).then(function(t){return i(t).done?(r.done=!0,{done:!0,value:void 0}):{done:!1,value:[r.index++,t.value]};});});n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{asIndexedPairs:function asIndexedPairs(){return new s({iterator:i(this),index:0});}});},66342:function _(t,e,r){"use strict";var n=r(82109),o=r(25787),i=r(68880),s=r(92597),a=r(5112),c=r(66462),u=r(31913),l=a("toStringTag"),p=function AsyncIterator(){o(this,c);};p.prototype=c,s(c,l)||i(c,l,"AsyncIterator"),!u&&s(c,"constructor")&&c.constructor!==Object||i(c,"constructor",p),n({global:!0,forced:u},{AsyncIterator:p});},23647:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19670),s=r(73002),a=r(45348)(function(t,e){var r=this;return new t(function(n,s){var loop=function loop(){try{t.resolve(i(o(r.next,r.iterator,r.remaining?[]:e))).then(function(t){try{i(t).done?(r.done=!0,n({done:!0,value:void 0})):r.remaining?(r.remaining--,loop()):n({done:!1,value:t.value});}catch(t){s(t);}},s);}catch(t){s(t);}};loop();});});n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:function drop(t){return new a({iterator:i(this),remaining:s(t)});}});},68216:function _(t,e,r){"use strict";var n=r(82109),o=r(12269).every;n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:function every(t){return o(this,t);}});},88449:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19662),s=r(19670),a=r(45348)(function(t,e){var r=this,n=r.filterer;return new t(function(i,a){var loop=function loop(){try{t.resolve(s(o(r.next,r.iterator,e))).then(function(e){try{if(s(e).done)r.done=!0,i({done:!0,value:void 0});else{var o=e.value;t.resolve(n(o)).then(function(t){t?i({done:!1,value:o}):loop();},a);}}catch(t){a(t);}},a);}catch(t){a(t);}};loop();});});n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:function filter(t){return new a({iterator:s(this),filterer:i(t)});}});},31672:function _(t,e,r){"use strict";var n=r(82109),o=r(12269).find;n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:function find(t){return o(this,t);}});},74326:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(19662),s=r(19670),a=r(45348),c=r(54777),u=a(function(t){var e,r=this,n=r.mapper;return new t(function(a,u){var outerLoop=function outerLoop(){try{t.resolve(s(o(r.next,r.iterator))).then(function(o){try{s(o).done?(r.done=!0,a({done:!0,value:void 0})):t.resolve(n(o.value)).then(function(t){try{return r.innerIterator=e=c(t),r.innerNext=i(e.next),innerLoop();}catch(t){u(t);}},u);}catch(t){u(t);}},u);}catch(t){u(t);}},innerLoop=function innerLoop(){if(e=r.innerIterator)try{t.resolve(s(o(r.innerNext,e))).then(function(t){try{s(t).done?(r.innerIterator=r.innerNext=null,outerLoop()):a({done:!1,value:t.value});}catch(t){u(t);}},u);}catch(t){u(t);}else outerLoop();};innerLoop();});});n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:function flatMap(t){return new u({iterator:s(this),mapper:i(t),innerIterator:null,innerNext:null});}});},15581:function _(t,e,r){"use strict";var n=r(82109),o=r(12269).forEach;n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:function forEach(t){return o(this,t);}});},78631:function _(t,e,r){var n=r(82109),o=r(22104),i=r(19670),s=r(47908),a=r(47976),c=r(66462),u=r(45348),l=r(54777),p=r(18554),f=r(71246),d=r(58173),h=r(5112),m=r(28091),v=h("asyncIterator"),g=u(function(t,e){return i(o(this.next,this.iterator,e));},!0);n({target:"AsyncIterator",stat:!0,forced:!0},{from:function from(t){var e,r=s(t),n=d(r,v);return n&&(e=l(r,n),a(c,e))?e:void 0===e&&(n=f(r))?new m(p(r,n)):new g({iterator:void 0!==e?e:r});}});},57640:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19662),s=r(19670),a=r(45348)(function(t,e){var r=this,n=r.mapper;return t.resolve(s(o(r.next,r.iterator,e))).then(function(e){return s(e).done?(r.done=!0,{done:!0,value:void 0}):t.resolve(n(e.value)).then(function(t){return{done:!1,value:t};});});});n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:function map(t){return new a({iterator:s(this),mapper:i(t)});}});},25387:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(19662),a=r(19670),c=r(35005)("Promise"),u=o.TypeError;n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:function reduce(t){var e=a(this),r=s(e.next),n=arguments.length<2,o=n?void 0:arguments[1];return s(t),new c(function(s,l){var loop=function loop(){try{c.resolve(a(i(r,e))).then(function(e){try{if(a(e).done)n?l(u("Reduce of empty iterator with no initial value")):s(o);else{var r=e.value;n?(n=!1,o=r,loop()):c.resolve(t(o,r)).then(function(t){o=t,loop();},l);}}catch(t){l(t);}},l);}catch(t){l(t);}};loop();});}});},64211:function _(t,e,r){"use strict";var n=r(82109),o=r(12269).some;n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:function some(t){return o(this,t);}});},12771:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(46916),s=r(19670),a=r(73002),c=r(45348)(function(t,e){var r,n,s=this.iterator;return this.remaining--?o(this.next,s,e):(n={done:!0,value:void 0},this.done=!0,void 0!==(r=s["return"])?t.resolve(i(r,s)).then(function(){return n;}):n);});n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:function take(t){return new c({iterator:s(this),remaining:a(t)});}});},62962:function _(t,e,r){"use strict";var n=r(82109),o=r(12269).toArray;n({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:function toArray(){return o(this,void 0,[]);}});},71790:function _(t,e,r){"use strict";var n=r(82109),o=r(80430);"function"==typeof BigInt&&n({target:"BigInt",stat:!0,forced:!0},{range:function range(t,e,r){return new o(t,e,r,"bigint",BigInt(0),BigInt(1));}});},51568:function _(t,e,r){var n=r(82109),o=r(17854),i=r(22104),s=r(10313),a=r(35005),c=r(70030),u=o.Object,initializer=function initializer(){var t=a("Object","freeze");return t?t(c(null)):c(null);};n({global:!0,forced:!0},{compositeKey:function compositeKey(){return i(s,u,arguments).get("object",initializer);}});},26349:function _(t,e,r){var n=r(82109),o=r(10313),i=r(35005),s=r(22104);n({global:!0,forced:!0},{compositeSymbol:function compositeSymbol(){return 1==arguments.length&&"string"==typeof arguments[0]?i("Symbol")["for"](arguments[0]):s(o,null,arguments).get("symbol",i("Symbol"));}});},67427:function _(t,e,r){var n=r(82109),o=r(1702),i=r(60614),s=r(42788),a=r(92597),c=r(19781),u=Object.getOwnPropertyDescriptor,l=/^\s*class\b/,p=o(l.exec);n({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:function isCallable(t){return i(t)&&!function(t){try{if(!c||!p(l,s(t)))return!1;}catch(t){}var e=u(t,"prototype");return!!e&&a(e,"writable")&&!e.writable;}(t);}});},32279:function _(t,e,r){r(82109)({target:"Function",stat:!0,forced:!0},{isConstructor:r(4411)});},13384:function _(t,e,r){var n=r(82109),o=r(1702),i=r(19662);n({target:"Function",proto:!0,forced:!0},{unThis:function unThis(){return o(i(this));}});},65743:function _(t,e,r){r(35837);},85567:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19670),s=r(54956)(function(t){var e=i(o(this.next,this.iterator,t));if(!(this.done=!!e.done))return[this.index++,e.value];});n({target:"Iterator",proto:!0,real:!0,forced:!0},{asIndexedPairs:function asIndexedPairs(){return new s({iterator:i(this),index:0});}});},2490:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(25787),s=r(60614),a=r(68880),c=r(47293),u=r(92597),l=r(5112),p=r(13383).IteratorPrototype,f=r(31913),d=l("toStringTag"),h=o.Iterator,m=f||!s(h)||h.prototype!==p||!c(function(){h({});}),v=function Iterator(){i(this,p);};u(p,d)||a(p,d,"Iterator"),!m&&u(p,"constructor")&&p.constructor!==Object||a(p,"constructor",v),v.prototype=p,n({global:!0,forced:m},{Iterator:v});},5332:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(46916),s=r(19670),a=r(73002),c=r(54956)(function(t){for(var e,r=this.iterator,n=this.next;this.remaining;){if(this.remaining--,e=s(i(n,r)),this.done=!!e.done)return;}if(e=s(o(n,r,t)),!(this.done=!!e.done))return e.value;});n({target:"Iterator",proto:!0,real:!0,forced:!0},{drop:function drop(t){return new c({iterator:s(this),remaining:a(t)});}});},79433:function _(t,e,r){"use strict";var n=r(82109),o=r(20408),i=r(19662),s=r(19670);n({target:"Iterator",proto:!0,real:!0,forced:!0},{every:function every(t){return s(this),i(t),!o(this,function(e,r){if(!t(e))return r();},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},59849:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19662),s=r(19670),a=r(54956),c=r(53411),u=a(function(t){for(var e,r,n=this.iterator,i=this.filterer,a=this.next;;){if(e=s(o(a,n,t)),this.done=!!e.done)return;if(r=e.value,c(n,i,r))return r;}});n({target:"Iterator",proto:!0,real:!0,forced:!0},{filter:function filter(t){return new u({iterator:s(this),filterer:i(t)});}});},59461:function _(t,e,r){"use strict";var n=r(82109),o=r(20408),i=r(19662),s=r(19670);n({target:"Iterator",proto:!0,real:!0,forced:!0},{find:function find(t){return s(this),i(t),o(this,function(e,r){if(t(e))return r(e);},{IS_ITERATOR:!0,INTERRUPTED:!0}).result;}});},82499:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(19662),a=r(19670),c=r(71246),u=r(54956),l=r(99212),p=o.TypeError,f=u(function(){for(var t,e,r,n,o=this.iterator,u=this.mapper;;){try{if(n=this.innerIterator){if(!(t=a(i(this.innerNext,n))).done)return t.value;this.innerIterator=this.innerNext=null;}if(t=a(i(this.next,o)),this.done=!!t.done)return;if(e=u(t.value),!(r=c(e)))throw p(".flatMap callback should return an iterable object");this.innerIterator=n=a(i(r,e)),this.innerNext=s(n.next);}catch(t){l(o,"throw",t);}}});n({target:"Iterator",proto:!0,real:!0,forced:!0},{flatMap:function flatMap(t){return new f({iterator:a(this),mapper:s(t),innerIterator:null,innerNext:null});}});},34514:function _(t,e,r){"use strict";var n=r(82109),o=r(20408),i=r(19670);n({target:"Iterator",proto:!0,real:!0,forced:!0},{forEach:function forEach(t){o(i(this),t,{IS_ITERATOR:!0});}});},26877:function _(t,e,r){var n=r(82109),o=r(22104),i=r(19670),s=r(47908),a=r(47976),c=r(13383).IteratorPrototype,u=r(54956),l=r(18554),p=r(71246),f=u(function(t){var e=i(o(this.next,this.iterator,t));if(!(this.done=!!e.done))return e.value;},!0);n({target:"Iterator",stat:!0,forced:!0},{from:function from(t){var e,r=s(t),n=p(r);if(n){if(e=l(r,n),a(c,e))return e;}else e=r;return new f({iterator:e});}});},9924:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19662),s=r(19670),a=r(54956),c=r(53411),u=a(function(t){var e=this.iterator,r=s(o(this.next,e,t));if(!(this.done=!!r.done))return c(e,this.mapper,r.value);});n({target:"Iterator",proto:!0,real:!0,forced:!0},{map:function map(t){return new u({iterator:s(this),mapper:i(t)});}});},72608:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(20408),s=r(19662),a=r(19670),c=o.TypeError;n({target:"Iterator",proto:!0,real:!0,forced:!0},{reduce:function reduce(t){a(this),s(t);var e=arguments.length<2,r=e?void 0:arguments[1];if(i(this,function(n){e?(e=!1,r=n):r=t(r,n);},{IS_ITERATOR:!0}),e)throw c("Reduce of empty iterator with no initial value");return r;}});},41874:function _(t,e,r){"use strict";var n=r(82109),o=r(20408),i=r(19662),s=r(19670);n({target:"Iterator",proto:!0,real:!0,forced:!0},{some:function some(t){return s(this),i(t),o(this,function(e,r){if(t(e))return r();},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},66043:function _(t,e,r){"use strict";var n=r(82109),o=r(22104),i=r(19670),s=r(73002),a=r(54956),c=r(99212),u=a(function(t){var e=this.iterator;if(!this.remaining--)return this.done=!0,c(e,"normal",void 0);var r=i(o(this.next,e,t));return(this.done=!!r.done)?void 0:r.value;});n({target:"Iterator",proto:!0,real:!0,forced:!0},{take:function take(t){return new u({iterator:i(this),remaining:s(t)});}});},23748:function _(t,e,r){"use strict";var n=r(82109),o=r(20408),i=r(19670),s=[].push;n({target:"Iterator",proto:!0,real:!0,forced:!0},{toArray:function toArray(){var t=[];return o(i(this),s,{that:t,IS_ITERATOR:!0}),t;}});},71501:function _(t,e,r){"use strict";var n=r(82109),o=r(28091);n({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:function toAsync(){return new o(this);}});},10072:function _(t,e,r){"use strict";r(82109)({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:r(34092)});},23042:function _(t,e,r){"use strict";r(82109)({target:"Map",proto:!0,real:!0,forced:!0},{emplace:r(37502)});},99137:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(54647),a=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{every:function every(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return!a(r,function(t,r,o){if(!n(r,t,e))return o();},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},71957:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(49974),s=r(46916),a=r(19662),c=r(19670),u=r(36707),l=r(54647),p=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{filter:function filter(t){var e=c(this),r=l(e),n=i(t,arguments.length>1?arguments[1]:void 0),f=new(u(e,o("Map")))(),d=a(f.set);return p(r,function(t,r){n(r,t,e)&&s(d,f,t,r);},{AS_ENTRIES:!0,IS_ITERATOR:!0}),f;}});},103:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(54647),a=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function findKey(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,function(t,r,o){if(n(r,t,e))return o(t);},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result;}});},96306:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(54647),a=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{find:function find(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,function(t,r,o){if(n(r,t,e))return o(r);},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result;}});},8582:function _(t,e,r){r(82109)({target:"Map",stat:!0,forced:!0},{from:r(27296)});},90618:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(1702),s=r(19662),a=r(18554),c=r(20408),u=i([].push);n({target:"Map",stat:!0,forced:!0},{groupBy:function groupBy(t,e){s(e);var r=a(t),n=new this(),i=s(n.has),l=s(n.get),p=s(n.set);return c(r,function(t){var r=e(t);o(i,n,r)?u(o(l,n,r),t):o(p,n,r,[t]);},{IS_ITERATOR:!0}),n;}});},74592:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(54647),s=r(46465),a=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{includes:function includes(t){return a(i(o(this)),function(e,r,n){if(s(r,t))return n();},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},88440:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(20408),s=r(19662);n({target:"Map",stat:!0,forced:!0},{keyBy:function keyBy(t,e){var r=new this();s(e);var n=s(r.set);return i(t,function(t){o(n,r,e(t),t);}),r;}});},58276:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(54647),s=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function keyOf(t){return s(i(o(this)),function(e,r,n){if(r===t)return n(e);},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result;}});},35082:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(49974),s=r(46916),a=r(19662),c=r(19670),u=r(36707),l=r(54647),p=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function mapKeys(t){var e=c(this),r=l(e),n=i(t,arguments.length>1?arguments[1]:void 0),f=new(u(e,o("Map")))(),d=a(f.set);return p(r,function(t,r){s(d,f,n(r,t,e),r);},{AS_ENTRIES:!0,IS_ITERATOR:!0}),f;}});},12813:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(49974),s=r(46916),a=r(19662),c=r(19670),u=r(36707),l=r(54647),p=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function mapValues(t){var e=c(this),r=l(e),n=i(t,arguments.length>1?arguments[1]:void 0),f=new(u(e,o("Map")))(),d=a(f.set);return p(r,function(t,r){s(d,f,t,n(r,t,e));},{AS_ENTRIES:!0,IS_ITERATOR:!0}),f;}});},18222:function _(t,e,r){"use strict";var n=r(82109),o=r(19662),i=r(19670),s=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{merge:function merge(t){for(var e=i(this),r=o(e.set),n=arguments.length,a=0;a<n;){s(arguments[a++],r,{that:e,AS_ENTRIES:!0});}return e;}});},24838:function _(t,e,r){r(82109)({target:"Map",stat:!0,forced:!0},{of:r(82044)});},38563:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(19670),s=r(19662),a=r(54647),c=r(20408),u=o.TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function reduce(t){var e=i(this),r=a(e),n=arguments.length<2,o=n?void 0:arguments[1];if(s(t),c(r,function(r,i){n?(n=!1,o=i):o=t(o,i,r,e);},{AS_ENTRIES:!0,IS_ITERATOR:!0}),n)throw u("Reduce of empty map with no initial value");return o;}});},50336:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(54647),a=r(20408);n({target:"Map",proto:!0,real:!0,forced:!0},{some:function some(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,function(t,r,o){if(n(r,t,e))return o();},{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},74442:function _(t,e,r){"use strict";r(82109)({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:r(8154)});},7512:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(19670),a=r(19662),c=o.TypeError;n({target:"Map",proto:!0,real:!0,forced:!0},{update:function update(t,e){var r=s(this),n=a(r.get),o=a(r.has),u=a(r.set),l=arguments.length;a(e);var p=i(o,r,t);if(!p&&l<3)throw c("Updating absent value");var f=p?i(n,r,t):a(l>2?arguments[2]:void 0)(t,r);return i(u,r,t,e(f,t,r)),r;}});},87713:function _(t,e,r){"use strict";r(82109)({target:"Map",proto:!0,real:!0,forced:!0},{upsert:r(8154)});},46603:function _(t,e,r){var n=r(82109),o=Math.min,i=Math.max;n({target:"Math",stat:!0,forced:!0},{clamp:function clamp(t,e,r){return o(r,i(e,t));}});},70100:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{DEG_PER_RAD:Math.PI/180});},10490:function _(t,e,r){var n=r(82109),o=180/Math.PI;n({target:"Math",stat:!0,forced:!0},{degrees:function degrees(t){return t*o;}});},13187:function _(t,e,r){var n=r(82109),o=r(47103),i=r(26130);n({target:"Math",stat:!0,forced:!0},{fscale:function fscale(t,e,r,n,s){return i(o(t,e,r,n,s));}});},60092:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{iaddh:function iaddh(t,e,r,n){var o=t>>>0,i=r>>>0;return(e>>>0)+(n>>>0)+((o&i|(o|i)&~(o+i>>>0))>>>31)|0;}});},19041:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{imulh:function imulh(t,e){var r=65535,n=+t,o=+e,i=n&r,s=o&r,a=n>>16,c=o>>16,u=(a*s>>>0)+(i*s>>>16);return a*c+(u>>16)+((i*c>>>0)+(u&r)>>16);}});},30666:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{isubh:function isubh(t,e,r,n){var o=t>>>0,i=r>>>0;return(e>>>0)-(n>>>0)-((~o&i|~(o^i)&o-i>>>0)>>>31)|0;}});},51638:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{RAD_PER_DEG:180/Math.PI});},62975:function _(t,e,r){var n=r(82109),o=Math.PI/180;n({target:"Math",stat:!0,forced:!0},{radians:function radians(t){return t*o;}});},15728:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{scale:r(47103)});},46056:function _(t,e,r){var n=r(82109),o=r(17854),i=r(19670),s=r(77023),a=r(24994),c=r(29909),u="Seeded Random",l="Seeded Random Generator",p=c.set,f=c.getterFor(l),d=o.TypeError,h=a(function SeededRandomGenerator(t){p(this,{type:l,seed:t%2147483647});},u,function next(){var t=f(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1};});n({target:"Math",stat:!0,forced:!0},{seededPRNG:function seededPRNG(t){var e=i(t).seed;if(!s(e))throw d('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new h(e);}});},44299:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{signbit:function signbit(t){return(t=+t)==t&&0==t?1/t==-1/0:t<0;}});},5162:function _(t,e,r){r(82109)({target:"Math",stat:!0,forced:!0},{umulh:function umulh(t,e){var r=65535,n=+t,o=+e,i=n&r,s=o&r,a=n>>>16,c=o>>>16,u=(a*s>>>0)+(i*s>>>16);return a*c+(u>>>16)+((i*c>>>0)+(u&r)>>>16);}});},50292:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(1702),s=r(19303),a=r(83009),c="Invalid number representation",u=o.RangeError,l=o.SyntaxError,p=o.TypeError,f=/^[\da-z]+$/,d=i("".charAt),h=i(f.exec),m=i(1..toString),v=i("".slice);n({target:"Number",stat:!0,forced:!0},{fromString:function fromString(t,e){var r,n,o=1;if("string"!=typeof t)throw p(c);if(!t.length)throw l(c);if("-"==d(t,0)&&(o=-1,!(t=v(t,1)).length))throw l(c);if((r=void 0===e?10:s(e))<2||r>36)throw u("Invalid radix");if(!h(f,t)||m(n=a(t,r),r)!==t)throw l(c);return o*n;}});},29427:function _(t,e,r){"use strict";var n=r(82109),o=r(80430);n({target:"Number",stat:!0,forced:!0},{range:function range(t,e,r){return new o(t,e,r,"number",0,1);}});},96936:function _(t,e,r){r(46314);},99964:function _(t,e,r){"use strict";var n=r(82109),o=r(60996);n({target:"Object",stat:!0,forced:!0},{iterateEntries:function iterateEntries(t){return new o(t,"entries");}});},75238:function _(t,e,r){"use strict";var n=r(82109),o=r(60996);n({target:"Object",stat:!0,forced:!0},{iterateKeys:function iterateKeys(t){return new o(t,"keys");}});},4987:function _(t,e,r){"use strict";var n=r(82109),o=r(60996);n({target:"Object",stat:!0,forced:!0},{iterateValues:function iterateValues(t){return new o(t,"values");}});},1025:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(46916),s=r(19781),a=r(96340),c=r(19662),u=r(60614),l=r(4411),p=r(19670),f=r(70111),d=r(25787),h=r(3070).f,m=r(31320),v=r(12248),g=r(18554),y=r(58173),b=r(20408),w=r(842),x=r(5112),D=r(29909),S=x("observable"),k="Observable",E="Subscription",A="SubscriptionObserver",C=D.getterFor,O=D.set,M=C(k),T=C(E),N=C(A),R=o.Array,I=o.Observable,P=I&&I.prototype,_=!(u(I)&&u(I.from)&&u(I.of)&&u(P.subscribe)&&u(P[S])),SubscriptionState=function SubscriptionState(t){this.observer=p(t),this.cleanup=void 0,this.subscriptionObserver=void 0;};SubscriptionState.prototype={type:E,clean:function clean(){var t=this.cleanup;if(t){this.cleanup=void 0;try{t();}catch(t){w(t);}}},close:function close(){if(!s){var t=this.facade,e=this.subscriptionObserver;t.closed=!0,e&&(e.closed=!0);}this.observer=void 0;},isClosed:function isClosed(){return void 0===this.observer;}};var Subscription=function Subscription(t,e){var r,n=O(this,new SubscriptionState(t));s||(this.closed=!1);try{(r=y(t,"start"))&&i(r,t,this);}catch(t){w(t);}if(!n.isClosed()){var o=n.subscriptionObserver=new SubscriptionObserver(n);try{var a=e(o),l=a;null!=a&&(n.cleanup=u(a.unsubscribe)?function(){l.unsubscribe();}:c(a));}catch(t){return void o.error(t);}n.isClosed()&&n.clean();}};Subscription.prototype=v({},{unsubscribe:function unsubscribe(){var t=T(this);t.isClosed()||(t.close(),t.clean());}}),s&&h(Subscription.prototype,"closed",{configurable:!0,get:function get(){return T(this).isClosed();}});var SubscriptionObserver=function SubscriptionObserver(t){O(this,{type:A,subscriptionState:t}),s||(this.closed=!1);};SubscriptionObserver.prototype=v({},{next:function next(t){var e=N(this).subscriptionState;if(!e.isClosed()){var r=e.observer;try{var n=y(r,"next");n&&i(n,r,t);}catch(t){w(t);}}},error:function error(t){var e=N(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=y(r,"error");n?i(n,r,t):w(t);}catch(t){w(t);}e.clean();}},complete:function complete(){var t=N(this).subscriptionState;if(!t.isClosed()){var e=t.observer;t.close();try{var r=y(e,"complete");r&&i(r,e);}catch(t){w(t);}t.clean();}}}),s&&h(SubscriptionObserver.prototype,"closed",{configurable:!0,get:function get(){return N(this).subscriptionState.isClosed();}});var B=function Observable(t){d(this,j),O(this,{type:k,subscriber:c(t)});},j=B.prototype;v(j,{subscribe:function subscribe(t){var e=arguments.length;return new Subscription(u(t)?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:f(t)?t:{},M(this).subscriber);}}),v(B,{from:function from(t){var e=l(this)?this:B,r=y(p(t),S);if(r){var n=p(i(r,t));return n.constructor===e?n:new e(function(t){return n.subscribe(t);});}var o=g(t);return new e(function(t){b(o,function(e,r){if(t.next(e),t.closed)return r();},{IS_ITERATOR:!0,INTERRUPTED:!0}),t.complete();});},of:function of(){for(var t=l(this)?this:B,e=arguments.length,r=R(e),n=0;n<e;){r[n]=arguments[n++];}return new t(function(t){for(var n=0;n<e;n++){if(t.next(r[n]),t.closed)return;}t.complete();});}}),m(j,S,function(){return this;}),n({global:!0,forced:_},{Observable:B}),a(k);},97314:function _(t,e,r){r(17922);},96290:function _(t,e,r){r(34668);},77479:function _(t,e,r){"use strict";var n=r(82109),o=r(78523),i=r(12534);n({target:"Promise",stat:!0,forced:!0},{"try":function _try(t){var e=o.f(this),r=i(t);return(r.error?e.reject:e.resolve)(r.value),e.promise;}});},34582:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=o.toKey,a=o.set;n({target:"Reflect",stat:!0},{defineMetadata:function defineMetadata(t,e,r){var n=arguments.length<4?void 0:s(arguments[3]);a(t,e,i(r),n);}});},47896:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=o.toKey,a=o.getMap,c=o.store;n({target:"Reflect",stat:!0},{deleteMetadata:function deleteMetadata(t,e){var r=arguments.length<3?void 0:s(arguments[2]),n=a(i(e),r,!1);if(void 0===n||!n["delete"](t))return!1;if(n.size)return!0;var o=c.get(e);return o["delete"](r),!!o.size||c["delete"](e);}});},98558:function _(t,e,r){var n=r(82109),o=r(1702),i=r(38845),s=r(19670),a=r(79518),c=o(r(60956)),u=o([].concat),l=i.keys,p=i.toKey,ordinaryMetadataKeys=function ordinaryMetadataKeys(t,e){var r=l(t,e),n=a(t);if(null===n)return r;var o=ordinaryMetadataKeys(n,e);return o.length?r.length?c(u(r,o)):o:r;};n({target:"Reflect",stat:!0},{getMetadataKeys:function getMetadataKeys(t){var e=arguments.length<2?void 0:p(arguments[1]);return ordinaryMetadataKeys(s(t),e);}});},12647:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=r(79518),a=o.has,c=o.get,u=o.toKey,ordinaryGetMetadata=function ordinaryGetMetadata(t,e,r){if(a(t,e,r))return c(t,e,r);var n=s(e);return null!==n?ordinaryGetMetadata(t,n,r):void 0;};n({target:"Reflect",stat:!0},{getMetadata:function getMetadata(t,e){var r=arguments.length<3?void 0:u(arguments[2]);return ordinaryGetMetadata(t,i(e),r);}});},97507:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=o.keys,a=o.toKey;n({target:"Reflect",stat:!0},{getOwnMetadataKeys:function getOwnMetadataKeys(t){var e=arguments.length<2?void 0:a(arguments[1]);return s(i(t),e);}});},84018:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=o.get,a=o.toKey;n({target:"Reflect",stat:!0},{getOwnMetadata:function getOwnMetadata(t,e){var r=arguments.length<3?void 0:a(arguments[2]);return s(t,i(e),r);}});},61605:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=r(79518),a=o.has,c=o.toKey,ordinaryHasMetadata=function ordinaryHasMetadata(t,e,r){if(a(t,e,r))return!0;var n=s(e);return null!==n&&ordinaryHasMetadata(t,n,r);};n({target:"Reflect",stat:!0},{hasMetadata:function hasMetadata(t,e){var r=arguments.length<3?void 0:c(arguments[2]);return ordinaryHasMetadata(t,i(e),r);}});},49076:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=o.has,a=o.toKey;n({target:"Reflect",stat:!0},{hasOwnMetadata:function hasOwnMetadata(t,e){var r=arguments.length<3?void 0:a(arguments[2]);return s(t,i(e),r);}});},34999:function _(t,e,r){var n=r(82109),o=r(38845),i=r(19670),s=o.toKey,a=o.set;n({target:"Reflect",stat:!0},{metadata:function metadata(t,e){return function decorator(r,n){a(t,e,i(r),s(n));};}});},88921:function _(t,e,r){"use strict";r(82109)({target:"Set",proto:!0,real:!0,forced:!0},{addAll:r(31501)});},96248:function _(t,e,r){"use strict";r(82109)({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:r(34092)});},13599:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(46916),s=r(19662),a=r(19670),c=r(36707),u=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{difference:function difference(t){var e=a(this),r=new(c(e,o("Set")))(e),n=s(r["delete"]);return u(t,function(t){i(n,r,t);}),r;}});},11477:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(96767),a=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{every:function every(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return!a(r,function(t,r){if(!n(t,t,e))return r();},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},64362:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(46916),s=r(19662),a=r(19670),c=r(49974),u=r(36707),l=r(96767),p=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{filter:function filter(t){var e=a(this),r=l(e),n=c(t,arguments.length>1?arguments[1]:void 0),f=new(u(e,o("Set")))(),d=s(f.add);return p(r,function(t){n(t,t,e)&&i(d,f,t);},{IS_ITERATOR:!0}),f;}});},15389:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(96767),a=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{find:function find(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,function(t,r){if(n(t,t,e))return r(t);},{IS_ITERATOR:!0,INTERRUPTED:!0}).result;}});},46006:function _(t,e,r){r(82109)({target:"Set",stat:!0,forced:!0},{from:r(27296)});},90401:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(46916),s=r(19662),a=r(19670),c=r(36707),u=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function intersection(t){var e=a(this),r=new(c(e,o("Set")))(),n=s(e.has),l=s(r.add);return u(t,function(t){i(n,e,t)&&i(l,r,t);}),r;}});},45164:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(19662),s=r(19670),a=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function isDisjointFrom(t){var e=s(this),r=i(e.has);return!a(t,function(t,n){if(!0===o(r,e,t))return n();},{INTERRUPTED:!0}).stopped;}});},91238:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(46916),s=r(19662),a=r(60614),c=r(19670),u=r(18554),l=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function isSubsetOf(t){var e=u(this),r=c(t),n=r.has;return a(n)||(r=new(o("Set"))(t),n=s(r.has)),!l(e,function(t,e){if(!1===i(n,r,t))return e();},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},54837:function _(t,e,r){"use strict";var n=r(82109),o=r(46916),i=r(19662),s=r(19670),a=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function isSupersetOf(t){var e=s(this),r=i(e.has);return!a(t,function(t,n){if(!1===o(r,e,t))return n();},{INTERRUPTED:!0}).stopped;}});},87485:function _(t,e,r){"use strict";var n=r(82109),o=r(1702),i=r(19670),s=r(41340),a=r(96767),c=r(20408),u=o([].join),l=[].push;n({target:"Set",proto:!0,real:!0,forced:!0},{join:function join(t){var e=i(this),r=a(e),n=void 0===t?",":s(t),o=[];return c(r,l,{that:o,IS_ITERATOR:!0}),u(o,n);}});},56767:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(49974),s=r(46916),a=r(19662),c=r(19670),u=r(36707),l=r(96767),p=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{map:function map(t){var e=c(this),r=l(e),n=i(t,arguments.length>1?arguments[1]:void 0),f=new(u(e,o("Set")))(),d=a(f.add);return p(r,function(t){s(d,f,n(t,t,e));},{IS_ITERATOR:!0}),f;}});},69916:function _(t,e,r){r(82109)({target:"Set",stat:!0,forced:!0},{of:r(82044)});},76651:function _(t,e,r){"use strict";var n=r(82109),o=r(17854),i=r(19662),s=r(19670),a=r(96767),c=r(20408),u=o.TypeError;n({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function reduce(t){var e=s(this),r=a(e),n=arguments.length<2,o=n?void 0:arguments[1];if(i(t),c(r,function(r){n?(n=!1,o=r):o=t(o,r,r,e);},{IS_ITERATOR:!0}),n)throw u("Reduce of empty set with no initial value");return o;}});},61437:function _(t,e,r){"use strict";var n=r(82109),o=r(19670),i=r(49974),s=r(96767),a=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{some:function some(t){var e=o(this),r=s(e),n=i(t,arguments.length>1?arguments[1]:void 0);return a(r,function(t,r){if(n(t,t,e))return r();},{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped;}});},35285:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(46916),s=r(19662),a=r(19670),c=r(36707),u=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function symmetricDifference(t){var e=a(this),r=new(c(e,o("Set")))(e),n=s(r["delete"]),l=s(r.add);return u(t,function(t){i(n,r,t)||i(l,r,t);}),r;}});},39865:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(19662),s=r(19670),a=r(36707),c=r(20408);n({target:"Set",proto:!0,real:!0,forced:!0},{union:function union(t){var e=s(this),r=new(a(e,o("Set")))(e);return c(t,i(r.add),{that:r}),r;}});},86035:function _(t,e,r){"use strict";var n=r(82109),o=r(28710).charAt,i=r(84488),s=r(19303),a=r(41340);n({target:"String",proto:!0,forced:!0},{at:function at(t){var e=a(i(this)),r=e.length,n=s(t),c=n>=0?n:r+n;return c<0||c>=r?void 0:o(e,c);}});},67501:function _(t,e,r){"use strict";var n=r(82109),o=r(24994),i=r(84488),s=r(41340),a=r(29909),c=r(28710),u=c.codeAt,l=c.charAt,p="String Iterator",f=a.set,d=a.getterFor(p),h=o(function StringIterator(t){f(this,{type:p,string:t,index:0});},"String",function next(){var t,e=d(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=l(r,n),e.index+=t.length,{value:{codePoint:u(t,0),position:n},done:!1});});n({target:"String",proto:!0,forced:!0},{codePoints:function codePoints(){return new h(s(i(this)));}});},50058:function _(t,e,r){var n=r(82109),o=r(17854),i=r(1702),s=r(45656),a=r(41340),c=r(26244),u=o.TypeError,l=Array.prototype,p=i(l.push),f=i(l.join);n({target:"String",stat:!0,forced:!0},{cooked:function cooked(t){for(var e=s(t),r=c(e),n=arguments.length,o=[],i=0;r>i;){var l=e[i++];if(void 0===l)throw u("Incorrect template");if(p(o,a(l)),i===r)return f(o,"");i<n&&p(o,a(arguments[i]));}}});},13728:function _(t,e,r){r(76373);},27207:function _(t,e,r){r(68757);},609:function _(t,e,r){r(97235)("asyncDispose");},21568:function _(t,e,r){r(97235)("dispose");},54534:function _(t,e,r){r(97235)("matcher");},95090:function _(t,e,r){r(97235)("metadata");},48824:function _(t,e,r){r(97235)("observable");},44130:function _(t,e,r){r(97235)("patternMatch");},35954:function _(t,e,r){r(97235)("replaceAll");},38012:function _(t,e,r){r(48675);},26182:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).filterReject,i=r(43074),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filterOut",function filterOut(t){var e=o(s(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e);},!0);},8922:function _(t,e,r){"use strict";var n=r(90260),o=r(42092).filterReject,i=r(43074),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("filterReject",function filterReject(t){var e=o(s(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e);},!0);},1118:function _(t,e,r){"use strict";var n=r(90260),o=r(9671).findLastIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLastIndex",function findLastIndex(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},37380:function _(t,e,r){"use strict";var n=r(90260),o=r(9671).findLast,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findLast",function findLast(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0);});},16850:function _(t,e,r){"use strict";var n=r(35005),o=r(39483),i=r(33253),s=r(90260),a=r(97745),c=s.aTypedArrayConstructor;(0,s.exportTypedArrayStaticMethod)("fromAsync",function fromAsync(t){var e=this,r=arguments.length,s=r>1?arguments[1]:void 0,u=r>2?arguments[2]:void 0;return new(n("Promise"))(function(r){o(e),r(i(t,s,u));}).then(function(t){return a(c(e),t);});},!0);},5835:function _(t,e,r){"use strict";var n=r(90260),o=r(61386),i=r(66304),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("groupBy",function groupBy(t){var e=arguments.length>1?arguments[1]:void 0;return o(s(this),t,e,i);},!0);},23767:function _(t,e,r){"use strict";var n=r(21843),o=r(90260),i=o.aTypedArray,s=o.exportTypedArrayMethod,a=o.TYPED_ARRAY_CONSTRUCTOR;s("toReversed",function toReversed(){return n(i(this),this[a]);},!0);},8585:function _(t,e,r){"use strict";var n=r(90260),o=r(1702),i=r(19662),s=r(97745),a=n.aTypedArray,c=n.exportTypedArrayMethod,u=n.TYPED_ARRAY_CONSTRUCTOR,l=o(n.TypedArrayPrototype.sort);c("toSorted",function toSorted(t){void 0!==t&&i(t);var e=a(this),r=s(e[u],e);return l(r,t);},!0);},8970:function _(t,e,r){"use strict";var n=r(90260),o=r(50206),i=r(1654),s=n.aTypedArray,a=n.exportTypedArrayMethod,c=n.TYPED_ARRAY_CONSTRUCTOR;a("toSpliced",function toSpliced(t,e){return i(s(this),this[c],o(arguments));},!0);},84444:function _(t,e,r){"use strict";var n=r(1702),o=r(90260),i=r(60956),s=r(43074),a=o.aTypedArray,c=o.exportTypedArrayMethod,u=n(i);c("uniqueBy",function uniqueBy(t){return s(this,u(a(this),t));},!0);},68696:function _(t,e,r){"use strict";var n=r(11572),o=r(90260),i=o.aTypedArray,s=o.exportTypedArrayMethod,a=o.TYPED_ARRAY_CONSTRUCTOR;s("with",{"with":function _with(t,e){return n(i(this),this[a],t,e);}}["with"],!0);},78206:function _(t,e,r){"use strict";r(82109)({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:r(34092)});},12714:function _(t,e,r){"use strict";r(82109)({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:r(37502)});},76478:function _(t,e,r){r(82109)({target:"WeakMap",stat:!0,forced:!0},{from:r(27296)});},79715:function _(t,e,r){r(82109)({target:"WeakMap",stat:!0,forced:!0},{of:r(82044)});},5964:function _(t,e,r){"use strict";r(82109)({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:r(8154)});},43561:function _(t,e,r){"use strict";r(82109)({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:r(31501)});},32049:function _(t,e,r){"use strict";r(82109)({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:r(34092)});},86020:function _(t,e,r){r(82109)({target:"WeakSet",stat:!0,forced:!0},{from:r(27296)});},56585:function _(t,e,r){r(82109)({target:"WeakSet",stat:!0,forced:!0},{of:r(82044)});},75505:function _(t,e,r){var n=r(82109),o=r(35005),i=r(1702),s=r(47293),a=r(41340),c=r(92597),u=r(48053),l=r(14170).ctoi,p=/[^\d+/a-z]/i,f=/[\t\n\f\r ]+/g,d=/[=]+$/,h=o("atob"),m=String.fromCharCode,v=i("".charAt),g=i("".replace),y=i(p.exec),b=s(function(){return""!==atob(" ");}),w=!b&&!s(function(){h();});n({global:!0,enumerable:!0,forced:b||w},{atob:function atob(t){if(u(arguments.length,1),w)return h(t);var e,r,n=g(a(t),f,""),i="",s=0,b=0;if(n.length%4==0&&(n=g(n,d,"")),n.length%4==1||y(p,n))throw new(o("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;e=v(n,s++);){c(l,e)&&(r=b%4?64*r+l[e]:l[e],b++%4&&(i+=m(255&r>>(-2*b&6))));}return i;}});},27479:function _(t,e,r){var n=r(82109),o=r(35005),i=r(1702),s=r(47293),a=r(41340),c=r(48053),u=r(14170).itoc,l=o("btoa"),p=i("".charAt),f=i("".charCodeAt),d=!!l&&!s(function(){l();});n({global:!0,enumerable:!0,forced:d},{btoa:function btoa(t){if(c(arguments.length,1),d)return l(t);for(var e,r,n=a(t),i="",s=0,h=u;p(n,s)||(h="=",s%1);){if((r=f(n,s+=3/4))>255)throw new(o("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");i+=p(h,63&(e=e<<8|r)>>8-s%1*8);}return i;}});},54747:function _(t,e,r){var n=r(17854),o=r(48324),i=r(98509),s=r(18533),a=r(68880),handlePrototype=function handlePrototype(t){if(t&&t.forEach!==s)try{a(t,"forEach",s);}catch(e){t.forEach=s;}};for(var c in o){o[c]&&handlePrototype(n[c]&&n[c].prototype);}handlePrototype(i);},33948:function _(t,e,r){var n=r(17854),o=r(48324),i=r(98509),s=r(66992),a=r(68880),c=r(5112),u=c("iterator"),l=c("toStringTag"),p=s.values,handlePrototype=function handlePrototype(t,e){if(t){if(t[u]!==p)try{a(t,u,p);}catch(e){t[u]=p;}if(t[l]||a(t,l,e),o[e])for(var r in s){if(t[r]!==s[r])try{a(t,r,s[r]);}catch(e){t[r]=s[r];}}}};for(var f in o){handlePrototype(n[f]&&n[f].prototype,f);}handlePrototype(i,"DOMTokenList");},87714:function _(t,e,r){"use strict";var n=r(82109),o=r(44038),i=r(35005),s=r(47293),a=r(70030),c=r(79114),u=r(3070).f,l=r(36048).f,p=r(31320),f=r(92597),d=r(25787),h=r(19670),m=r(7762),v=r(56277),g=r(93678),y=r(77741),b=r(29909),w=r(19781),x=r(31913),D="DOMException",S="DATA_CLONE_ERR",k=i("Error"),E=i(D)||function(){try{new(i("MessageChannel")||o("worker_threads").MessageChannel)().port1.postMessage(new WeakMap());}catch(t){if(t.name==S&&25==t.code)return t.constructor;}}(),A=E&&E.prototype,C=k.prototype,O=b.set,M=b.getterFor(D),T=("stack"in k(D)),codeFor=function codeFor(t){return f(g,t)&&g[t].m?g[t].c:0;},N=function DOMException(){d(this,R);var t=arguments.length,e=v(t<1?void 0:arguments[0]),r=v(t<2?void 0:arguments[1],"Error"),n=codeFor(r);if(O(this,{type:D,name:r,message:e,code:n}),w||(this.name=r,this.message=e,this.code=n),T){var o=k(e);o.name=D,u(this,"stack",c(1,y(o.stack,1)));}},R=N.prototype=a(C),createGetterDescriptor=function createGetterDescriptor(t){return{enumerable:!0,configurable:!0,get:t};},getterFor=function getterFor(t){return createGetterDescriptor(function(){return M(this)[t];});};w&&l(R,{name:getterFor("name"),message:getterFor("message"),code:getterFor("code")}),u(R,"constructor",c(1,N));var I=s(function(){return!(new E()instanceof k);}),P=I||s(function(){return C.toString!==m||"2: 1"!==String(new E(1,2));}),_=I||s(function(){return 25!==new E(1,"DataCloneError").code;}),B=I||25!==E.DATA_CLONE_ERR||25!==A.DATA_CLONE_ERR,j=x?P||_||B:I;n({global:!0,forced:j},{DOMException:j?N:E});var L=i(D),z=L.prototype;for(var V in P&&(x||E===L)&&p(z,"toString",m),_&&w&&E===L&&u(z,"code",createGetterDescriptor(function(){return codeFor(h(this).name);})),g){if(f(g,V)){var $=g[V],H=$.s,U=c(6,$.c);f(L,H)||u(L,H,U),f(z,H)||u(z,H,U);}}},82801:function _(t,e,r){"use strict";var n=r(82109),o=r(35005),i=r(79114),s=r(3070).f,a=r(92597),c=r(25787),u=r(79587),l=r(56277),p=r(93678),f=r(77741),d=r(31913),h="DOMException",m=o("Error"),v=o(h),g=function DOMException(){c(this,y);var t=arguments.length,e=l(t<1?void 0:arguments[0]),r=l(t<2?void 0:arguments[1],"Error"),n=new v(e,r),o=m(e);return o.name=h,s(n,"stack",i(1,f(o.stack,1))),u(n,this,g),n;},y=g.prototype=v.prototype,b=("stack"in m(h)),w=("stack"in new v(1,2)),x=b&&!w;n({global:!0,forced:d||x},{DOMException:x?g:v});var D=o(h),S=D.prototype;if(S.constructor!==D)for(var k in d||s(S,"constructor",i(1,D)),p){if(a(p,k)){var E=p[k],A=E.s;a(D,A)||s(D,A,i(6,E.c));}}},1174:function _(t,e,r){var n=r(35005),o="DOMException";r(58003)(n(o),o);},84633:function _(t,e,r){var n=r(82109),o=r(17854),i=r(20261);n({global:!0,bind:!0,enumerable:!0,forced:!o.setImmediate||!o.clearImmediate},{setImmediate:i.set,clearImmediate:i.clear});},85844:function _(t,e,r){var n=r(82109),o=r(17854),i=r(95948),s=r(19662),a=r(48053),c=r(35268),u=o.process;n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function queueMicrotask(t){a(arguments.length,1),s(t);var e=c&&u.domain;i(e?e.bind(t):t);}});},61295:function _(t,e,r){var n,o=r(31913),i=r(82109),s=r(17854),a=r(35005),c=r(1702),u=r(47293),l=r(69711),p=r(60614),f=r(4411),d=r(70111),h=r(52190),m=r(20408),v=r(19670),g=r(70648),y=r(92597),b=r(86135),w=r(68880),x=r(26244),D=r(48053),S=r(67066),k=r(22914),E=s.Object,A=s.Date,C=s.Error,O=s.EvalError,M=s.RangeError,T=s.ReferenceError,N=s.SyntaxError,R=s.TypeError,I=s.URIError,P=s.PerformanceMark,_=s.WebAssembly,B=_&&_.CompileError||C,j=_&&_.LinkError||C,L=_&&_.RuntimeError||C,z=a("DOMException"),V=a("Set"),$=a("Map"),H=$.prototype,U=c(H.has),W=c(H.get),q=c(H.set),J=c(V.prototype.add),K=a("Object","keys"),G=c([].push),Y=c((!0).valueOf),Q=c(1..valueOf),X=c("".valueOf),Z=c(S),et=c(A.prototype.getTime),rt=l("structuredClone"),nt="DataCloneError",ot="Transferring",checkBasicSemantic=function checkBasicSemantic(t){return!u(function(){var e=new s.Set([7]),r=t(e),n=t(E(7));return r==e||!r.has(7)||"object"!=_typeof2(n)||7!=n;})&&t;},it=s.structuredClone,st=o||(n=it,!(!u(function(){var t=n(new s.AggregateError([1],rt,{cause:3}));return"AggregateError"!=t.name||1!=t.errors[0]||t.message!=rt||3!=t.cause;})&&n)),ct=!it&&checkBasicSemantic(function(t){return new P(rt,{detail:t}).detail;}),ut=checkBasicSemantic(it)||ct,throwUncloneable=function throwUncloneable(t){throw new z("Uncloneable type: "+t,nt);},throwUnpolyfillable=function throwUnpolyfillable(t,e){throw new z((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",nt);},structuredCloneInternal=function structuredCloneInternal(t,e){if(h(t)&&throwUncloneable("Symbol"),!d(t))return t;if(e){if(U(e,t))return W(e,t);}else e=new $();var r,n,o,i,c,u,l,m,v,D,S=g(t),P=!1;switch(S){case"Array":o=[],P=!0;break;case"Object":o={},P=!0;break;case"Map":o=new $(),P=!0;break;case"Set":o=new V(),P=!0;break;case"RegExp":o=new RegExp(t.source,"flags"in t?t.flags:Z(t));break;case"Error":switch(n=t.name){case"AggregateError":o=a("AggregateError")([]);break;case"EvalError":o=O();break;case"RangeError":o=M();break;case"ReferenceError":o=T();break;case"SyntaxError":o=N();break;case"TypeError":o=R();break;case"URIError":o=I();break;case"CompileError":o=B();break;case"LinkError":o=j();break;case"RuntimeError":o=L();break;default:o=C();}P=!0;break;case"DOMException":o=new z(t.message,t.name),P=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":r=s[S],d(r)||throwUnpolyfillable(S),o=new r(structuredCloneInternal(t.buffer,e),t.byteOffset,"DataView"===S?t.byteLength:t.length);break;case"DOMQuad":try{o=new DOMQuad(structuredCloneInternal(t.p1,e),structuredCloneInternal(t.p2,e),structuredCloneInternal(t.p3,e),structuredCloneInternal(t.p4,e));}catch(e){ut?o=ut(t):throwUnpolyfillable(S);}break;case"FileList":if(r=s.DataTransfer,f(r)){for(i=new r(),c=0,u=x(t);c<u;c++){i.items.add(structuredCloneInternal(t[c],e));}o=i.files;}else ut?o=ut(t):throwUnpolyfillable(S);break;case"ImageData":try{o=new ImageData(structuredCloneInternal(t.data,e),t.width,t.height,{colorSpace:t.colorSpace});}catch(e){ut?o=ut(t):throwUnpolyfillable(S);}break;default:if(ut)o=ut(t);else switch(S){case"BigInt":o=E(t.valueOf());break;case"Boolean":o=E(Y(t));break;case"Number":o=E(Q(t));break;case"String":o=E(X(t));break;case"Date":o=new A(et(t));break;case"ArrayBuffer":(r=s.DataView)||"function"==typeof t.slice||throwUnpolyfillable(S);try{if("function"==typeof t.slice)o=t.slice(0);else for(u=t.byteLength,o=new ArrayBuffer(u),v=new r(t),D=new r(o),c=0;c<u;c++){D.setUint8(c,v.getUint8(c));}}catch(t){throw new z("ArrayBuffer is detached",nt);}break;case"SharedArrayBuffer":o=t;break;case"Blob":try{o=t.slice(0,t.size,t.type);}catch(t){throwUnpolyfillable(S);}break;case"DOMPoint":case"DOMPointReadOnly":r=s[S];try{o=r.fromPoint?r.fromPoint(t):new r(t.x,t.y,t.z,t.w);}catch(t){throwUnpolyfillable(S);}break;case"DOMRect":case"DOMRectReadOnly":r=s[S];try{o=r.fromRect?r.fromRect(t):new r(t.x,t.y,t.width,t.height);}catch(t){throwUnpolyfillable(S);}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=s[S];try{o=r.fromMatrix?r.fromMatrix(t):new r(t);}catch(t){throwUnpolyfillable(S);}break;case"AudioData":case"VideoFrame":p(t.clone)||throwUnpolyfillable(S);try{o=t.clone();}catch(t){throwUncloneable(S);}break;case"File":try{o=new File([t],t.name,t);}catch(t){throwUnpolyfillable(S);}break;case"CryptoKey":case"GPUCompilationMessage":case"GPUCompilationInfo":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":throwUnpolyfillable(S);default:throwUncloneable(S);}}if(q(e,t,o),P)switch(S){case"Array":case"Object":for(l=K(t),c=0,u=x(l);c<u;c++){m=l[c],b(o,m,structuredCloneInternal(t[m],e));}break;case"Map":t.forEach(function(t,r){q(o,structuredCloneInternal(r,e),structuredCloneInternal(t,e));});break;case"Set":t.forEach(function(t){J(o,structuredCloneInternal(t,e));});break;case"Error":w(o,"message",structuredCloneInternal(t.message,e)),y(t,"cause")&&w(o,"cause",structuredCloneInternal(t.cause,e)),"AggregateError"==n&&(o.errors=structuredCloneInternal(t.errors,e));case"DOMException":k&&w(o,"stack",structuredCloneInternal(t.stack,e));}return o;},lt=it&&!u(function(){var t=new ArrayBuffer(8),e=it(t,{transfer:[t]});return 0!=t.byteLength||8!=e.byteLength;}),tryToTransfer=function tryToTransfer(t,e){if(!d(t))throw R("Transfer option cannot be converted to a sequence");var r=[];m(t,function(t){G(r,v(t));});var n,o,i,a,c,u,l=0,h=x(r);if(lt)for(a=it(r,{transfer:r});l<h;){q(e,r[l],a[l++]);}else for(;l<h;){if(n=r[l++],U(e,n))throw new z("Duplicate transferable",nt);switch(o=g(n)){case"ImageBitmap":i=s.OffscreenCanvas,f(i)||throwUnpolyfillable(o,ot);try{(u=new i(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),c=u.transferToImageBitmap();}catch(t){}break;case"AudioData":case"VideoFrame":p(n.clone)&&p(n.close)||throwUnpolyfillable(o,ot);try{c=n.clone(),n.close();}catch(t){}break;case"ArrayBuffer":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":throwUnpolyfillable(o,ot);}if(void 0===c)throw new z("This object cannot be transferred: "+o,nt);q(e,n,c);}};i({global:!0,enumerable:!0,sham:!lt,forced:st},{structuredClone:function structuredClone(t){var e,r=D(arguments.length,1)>1?v(arguments[1]):void 0,n=r?r.transfer:void 0;return void 0!==n&&(e=new $(),tryToTransfer(n,e)),structuredCloneInternal(t,e);}});},32564:function _(t,e,r){var n=r(82109),o=r(17854),i=r(22104),s=r(60614),a=r(88113),c=r(50206),u=r(48053),l=/MSIE .\./.test(a),p=o.Function,wrap=function wrap(t){return function(e,r){var n=u(arguments.length,1)>2,o=s(e)?e:p(e),a=n?c(arguments,2):void 0;return t(n?function(){i(o,this,a);}:o,r);};};n({global:!0,bind:!0,forced:l},{setTimeout:wrap(o.setTimeout),setInterval:wrap(o.setInterval)});},41637:function _(t,e,r){"use strict";r(66992);var n=r(82109),o=r(17854),i=r(35005),s=r(46916),a=r(1702),c=r(590),u=r(31320),l=r(12248),p=r(58003),f=r(24994),d=r(29909),h=r(25787),m=r(60614),v=r(92597),g=r(49974),y=r(70648),b=r(19670),w=r(70111),x=r(41340),D=r(70030),S=r(79114),k=r(18554),E=r(71246),A=r(48053),C=r(5112),O=r(94362),M=C("iterator"),T="URLSearchParams",N="URLSearchParamsIterator",R=d.set,I=d.getterFor(T),P=d.getterFor(N),_=i("fetch"),B=i("Request"),j=i("Headers"),L=B&&B.prototype,z=j&&j.prototype,V=o.RegExp,$=o.TypeError,H=o.decodeURIComponent,U=o.encodeURIComponent,W=a("".charAt),q=a([].join),J=a([].push),K=a("".replace),G=a([].shift),Y=a([].splice),Q=a("".split),X=a("".slice),Z=/\+/g,et=Array(4),percentSequence=function percentSequence(t){return et[t-1]||(et[t-1]=V("((?:%[\\da-f]{2}){"+t+"})","gi"));},percentDecode=function percentDecode(t){try{return H(t);}catch(e){return t;}},deserialize=function deserialize(t){var e=K(t,Z," "),r=4;try{return H(e);}catch(t){for(;r;){e=K(e,percentSequence(r--),percentDecode);}return e;}},rt=/[!'()~]|%20/g,nt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},replacer=function replacer(t){return nt[t];},_serialize=function serialize(t){return K(U(t),rt,replacer);},ot=f(function Iterator(t,e){R(this,{type:N,iterator:k(I(t).entries),kind:e});},"Iterator",function next(){var t=P(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r;},!0),URLSearchParamsState=function URLSearchParamsState(t){this.entries=[],this.url=null,void 0!==t&&(w(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===W(t,0)?X(t,1):t:x(t)));};URLSearchParamsState.prototype={type:T,bindURL:function bindURL(t){this.url=t,this.update();},parseObject:function parseObject(t){var e,r,n,o,i,a,c,u=E(t);if(u)for(r=(e=k(t,u)).next;!(n=s(r,e)).done;){if(i=(o=k(b(n.value))).next,(a=s(i,o)).done||(c=s(i,o)).done||!s(i,o).done)throw $("Expected sequence with length 2");J(this.entries,{key:x(a.value),value:x(c.value)});}else for(var l in t){v(t,l)&&J(this.entries,{key:l,value:x(t[l])});}},parseQuery:function parseQuery(t){if(t)for(var e,r,n=Q(t,"&"),o=0;o<n.length;){(e=n[o++]).length&&(r=Q(e,"="),J(this.entries,{key:deserialize(G(r)),value:deserialize(q(r,"="))}));}},serialize:function serialize(){for(var t,e=this.entries,r=[],n=0;n<e.length;){t=e[n++],J(r,_serialize(t.key)+"="+_serialize(t.value));}return q(r,"&");},update:function update(){this.entries.length=0,this.parseQuery(this.url.query);},updateURL:function updateURL(){this.url&&this.url.update();}};var it=function URLSearchParams(){h(this,st);var t=arguments.length>0?arguments[0]:void 0;R(this,new URLSearchParamsState(t));},st=it.prototype;if(l(st,{append:function append(t,e){A(arguments.length,2);var r=I(this);J(r.entries,{key:x(t),value:x(e)}),r.updateURL();},"delete":function _delete(t){A(arguments.length,1);for(var e=I(this),r=e.entries,n=x(t),o=0;o<r.length;){r[o].key===n?Y(r,o,1):o++;}e.updateURL();},get:function get(t){A(arguments.length,1);for(var e=I(this).entries,r=x(t),n=0;n<e.length;n++){if(e[n].key===r)return e[n].value;}return null;},getAll:function getAll(t){A(arguments.length,1);for(var e=I(this).entries,r=x(t),n=[],o=0;o<e.length;o++){e[o].key===r&&J(n,e[o].value);}return n;},has:function has(t){A(arguments.length,1);for(var e=I(this).entries,r=x(t),n=0;n<e.length;){if(e[n++].key===r)return!0;}return!1;},set:function set(t,e){A(arguments.length,1);for(var r,n=I(this),o=n.entries,i=!1,s=x(t),a=x(e),c=0;c<o.length;c++){(r=o[c]).key===s&&(i?Y(o,c--,1):(i=!0,r.value=a));}i||J(o,{key:s,value:a}),n.updateURL();},sort:function sort(){var t=I(this);O(t.entries,function(t,e){return t.key>e.key?1:-1;}),t.updateURL();},forEach:function forEach(t){for(var e,r=I(this).entries,n=g(t,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;){n((e=r[o++]).value,e.key,this);}},keys:function keys(){return new ot(this,"keys");},values:function values(){return new ot(this,"values");},entries:function entries(){return new ot(this,"entries");}},{enumerable:!0}),u(st,M,st.entries,{name:"entries"}),u(st,"toString",function toString(){return I(this).serialize();},{enumerable:!0}),p(it,T),n({global:!0,forced:!c},{URLSearchParams:it}),!c&&m(j)){var ct=a(z.has),ut=a(z.set),wrapRequestOptions=function wrapRequestOptions(t){if(w(t)){var e,r=t.body;if(y(r)===T)return e=t.headers?new j(t.headers):new j(),ct(e,"content-type")||ut(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),D(t,{body:S(0,x(r)),headers:S(0,e)});}return t;};if(m(_)&&n({global:!0,enumerable:!0,forced:!0},{fetch:function fetch(t){return _(t,arguments.length>1?wrapRequestOptions(arguments[1]):{});}}),m(B)){var lt=function Request(t){return h(this,L),new B(t,arguments.length>1?wrapRequestOptions(arguments[1]):{});};L.constructor=lt,lt.prototype=L,n({global:!0,forced:!0},{Request:lt});}}t.exports={URLSearchParams:it,getState:I};},60285:function _(t,e,r){"use strict";r(78783);var n,o=r(82109),i=r(19781),s=r(590),a=r(17854),c=r(49974),u=r(1702),l=r(36048).f,p=r(31320),f=r(25787),d=r(92597),h=r(21574),m=r(48457),v=r(41589),g=r(28710).codeAt,y=r(33197),b=r(41340),w=r(58003),x=r(48053),D=r(41637),S=r(29909),k=S.set,E=S.getterFor("URL"),A=D.URLSearchParams,C=D.getState,O=a.URL,M=a.TypeError,T=a.parseInt,N=Math.floor,R=Math.pow,I=u("".charAt),P=u(/./.exec),_=u([].join),B=u(1..toString),j=u([].pop),L=u([].push),z=u("".replace),V=u([].shift),$=u("".split),H=u("".slice),U=u("".toLowerCase),W=u([].unshift),q="Invalid scheme",J="Invalid host",K="Invalid port",G=/[a-z]/i,Y=/[\d+-.a-z]/i,Q=/\d/,X=/^0x/i,Z=/^[0-7]+$/,et=/^\d+$/,rt=/^[\da-f]+$/i,nt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ot=/[\0\t\n\r #/:<>?@[\\\]^|]/,it=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,st=/[\t\n\r]/g,serializeHost=function serializeHost(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++){W(e,t%256),t=N(t/256);}return _(e,".");}if("object"==_typeof2(t)){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++){0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);}return o>r&&(e=n,r=o),e;}(t),r=0;r<8;r++){o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=B(t[r],16),r<7&&(e+=":")));}return"["+e+"]";}return t;},ct={},ut=h({},ct,{" ":1,'"':1,"<":1,">":1,"`":1}),lt=h({},ut,{"#":1,"?":1,"{":1,"}":1}),pt=h({},lt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),percentEncode=function percentEncode(t,e){var r=g(t,0);return r>32&&r<127&&!d(e,t)?t:encodeURIComponent(t);},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},isWindowsDriveLetter=function isWindowsDriveLetter(t,e){var r;return 2==t.length&&P(G,I(t,0))&&(":"==(r=I(t,1))||!e&&"|"==r);},startsWithWindowsDriveLetter=function startsWithWindowsDriveLetter(t){var e;return t.length>1&&isWindowsDriveLetter(H(t,0,2))&&(2==t.length||"/"===(e=I(t,2))||"\\"===e||"?"===e||"#"===e);},isSingleDot=function isSingleDot(t){return"."===t||"%2e"===U(t);},dt={},ht={},mt={},vt={},gt={},yt={},bt={},wt={},xt={},Dt={},St={},kt={},Et={},At={},Ct={},Ot={},Mt={},Tt={},Nt={},Rt={},Ft={},URLState=function URLState(t,e,r){var n,o,i,s=b(t);if(e){if(o=this.parse(s))throw M(o);this.searchParams=null;}else{if(void 0!==r&&(n=new URLState(r,!0)),o=this.parse(s,null,n))throw M(o);(i=C(new A())).bindURL(this),this.searchParams=i;}};URLState.prototype={type:"URL",parse:function parse(t,e,r){var o,i,s,a,c,u=this,l=e||dt,p=0,f="",h=!1,g=!1,y=!1;for(t=b(t),e||(u.scheme="",u.username="",u.password="",u.host=null,u.port=null,u.path=[],u.query=null,u.fragment=null,u.cannotBeABaseURL=!1,t=z(t,it,"")),t=z(t,st,""),o=m(t);p<=o.length;){switch(i=o[p],l){case dt:if(!i||!P(G,i)){if(e)return q;l=mt;continue;}f+=U(i),l=ht;break;case ht:if(i&&(P(Y,i)||"+"==i||"-"==i||"."==i))f+=U(i);else{if(":"!=i){if(e)return q;f="",l=mt,p=0;continue;}if(e&&(u.isSpecial()!=d(ft,f)||"file"==f&&(u.includesCredentials()||null!==u.port)||"file"==u.scheme&&!u.host))return;if(u.scheme=f,e)return void(u.isSpecial()&&ft[u.scheme]==u.port&&(u.port=null));f="","file"==u.scheme?l=At:u.isSpecial()&&r&&r.scheme==u.scheme?l=vt:u.isSpecial()?l=wt:"/"==o[p+1]?(l=gt,p++):(u.cannotBeABaseURL=!0,L(u.path,""),l=Nt);}break;case mt:if(!r||r.cannotBeABaseURL&&"#"!=i)return q;if(r.cannotBeABaseURL&&"#"==i){u.scheme=r.scheme,u.path=v(r.path),u.query=r.query,u.fragment="",u.cannotBeABaseURL=!0,l=Ft;break;}l="file"==r.scheme?At:yt;continue;case vt:if("/"!=i||"/"!=o[p+1]){l=yt;continue;}l=xt,p++;break;case gt:if("/"==i){l=Dt;break;}l=Tt;continue;case yt:if(u.scheme=r.scheme,i==n)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query;else if("/"==i||"\\"==i&&u.isSpecial())l=bt;else if("?"==i)u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query="",l=Rt;else{if("#"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.path.length--,l=Tt;continue;}u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,u.path=v(r.path),u.query=r.query,u.fragment="",l=Ft;}break;case bt:if(!u.isSpecial()||"/"!=i&&"\\"!=i){if("/"!=i){u.username=r.username,u.password=r.password,u.host=r.host,u.port=r.port,l=Tt;continue;}l=Dt;}else l=xt;break;case wt:if(l=xt,"/"!=i||"/"!=I(f,p+1))continue;p++;break;case xt:if("/"!=i&&"\\"!=i){l=Dt;continue;}break;case Dt:if("@"==i){h&&(f="%40"+f),h=!0,s=m(f);for(var w=0;w<s.length;w++){var x=s[w];if(":"!=x||y){var D=percentEncode(x,pt);y?u.password+=D:u.username+=D;}else y=!0;}f="";}else if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(h&&""==f)return"Invalid authority";p-=m(f).length+1,f="",l=St;}else f+=i;break;case St:case kt:if(e&&"file"==u.scheme){l=Ot;continue;}if(":"!=i||g){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()){if(u.isSpecial()&&""==f)return J;if(e&&""==f&&(u.includesCredentials()||null!==u.port))return;if(a=u.parseHost(f))return a;if(f="",l=Mt,e)return;continue;}"["==i?g=!0:"]"==i&&(g=!1),f+=i;}else{if(""==f)return J;if(a=u.parseHost(f))return a;if(f="",l=Et,e==kt)return;}break;case Et:if(!P(Q,i)){if(i==n||"/"==i||"?"==i||"#"==i||"\\"==i&&u.isSpecial()||e){if(""!=f){var S=T(f,10);if(S>65535)return K;u.port=u.isSpecial()&&S===ft[u.scheme]?null:S,f="";}if(e)return;l=Mt;continue;}return K;}f+=i;break;case At:if(u.scheme="file","/"==i||"\\"==i)l=Ct;else{if(!r||"file"!=r.scheme){l=Tt;continue;}if(i==n)u.host=r.host,u.path=v(r.path),u.query=r.query;else if("?"==i)u.host=r.host,u.path=v(r.path),u.query="",l=Rt;else{if("#"!=i){startsWithWindowsDriveLetter(_(v(o,p),""))||(u.host=r.host,u.path=v(r.path),u.shortenPath()),l=Tt;continue;}u.host=r.host,u.path=v(r.path),u.query=r.query,u.fragment="",l=Ft;}}break;case Ct:if("/"==i||"\\"==i){l=Ot;break;}r&&"file"==r.scheme&&!startsWithWindowsDriveLetter(_(v(o,p),""))&&(isWindowsDriveLetter(r.path[0],!0)?L(u.path,r.path[0]):u.host=r.host),l=Tt;continue;case Ot:if(i==n||"/"==i||"\\"==i||"?"==i||"#"==i){if(!e&&isWindowsDriveLetter(f))l=Tt;else if(""==f){if(u.host="",e)return;l=Mt;}else{if(a=u.parseHost(f))return a;if("localhost"==u.host&&(u.host=""),e)return;f="",l=Mt;}continue;}f+=i;break;case Mt:if(u.isSpecial()){if(l=Tt,"/"!=i&&"\\"!=i)continue;}else if(e||"?"!=i){if(e||"#"!=i){if(i!=n&&(l=Tt,"/"!=i))continue;}else u.fragment="",l=Ft;}else u.query="",l=Rt;break;case Tt:if(i==n||"/"==i||"\\"==i&&u.isSpecial()||!e&&("?"==i||"#"==i)){if(".."===(c=U(c=f))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(u.shortenPath(),"/"==i||"\\"==i&&u.isSpecial()||L(u.path,"")):isSingleDot(f)?"/"==i||"\\"==i&&u.isSpecial()||L(u.path,""):("file"==u.scheme&&!u.path.length&&isWindowsDriveLetter(f)&&(u.host&&(u.host=""),f=I(f,0)+":"),L(u.path,f)),f="","file"==u.scheme&&(i==n||"?"==i||"#"==i))for(;u.path.length>1&&""===u.path[0];){V(u.path);}"?"==i?(u.query="",l=Rt):"#"==i&&(u.fragment="",l=Ft);}else f+=percentEncode(i,lt);break;case Nt:"?"==i?(u.query="",l=Rt):"#"==i?(u.fragment="",l=Ft):i!=n&&(u.path[0]+=percentEncode(i,ct));break;case Rt:e||"#"!=i?i!=n&&("'"==i&&u.isSpecial()?u.query+="%27":u.query+="#"==i?"%23":percentEncode(i,ct)):(u.fragment="",l=Ft);break;case Ft:i!=n&&(u.fragment+=percentEncode(i,ut));}p++;}},parseHost:function parseHost(t){var e,r,n;if("["==I(t,0)){if("]"!=I(t,t.length-1))return J;if(e=function(t){var e,r,n,o,i,s,a,c=[0,0,0,0,0,0,0,0],u=0,l=null,p=0,chr=function chr(){return I(t,p);};if(":"==chr()){if(":"!=I(t,1))return;p+=2,l=++u;}for(;chr();){if(8==u)return;if(":"!=chr()){for(e=r=0;r<4&&P(rt,chr());){e=16*e+T(chr(),16),p++,r++;}if("."==chr()){if(0==r)return;if(p-=r,u>6)return;for(n=0;chr();){if(o=null,n>0){if(!("."==chr()&&n<4))return;p++;}if(!P(Q,chr()))return;for(;P(Q,chr());){if(i=T(chr(),10),null===o)o=i;else{if(0==o)return;o=10*o+i;}if(o>255)return;p++;}c[u]=256*c[u]+o,2!=++n&&4!=n||u++;}if(4!=n)return;break;}if(":"==chr()){if(p++,!chr())return;}else if(chr())return;c[u++]=e;}else{if(null!==l)return;p++,l=++u;}}if(null!==l)for(s=u-l,u=7;0!=u&&s>0;){a=c[u],c[u--]=c[l+s-1],c[l+--s]=a;}else if(8!=u)return;return c;}(H(t,1,-1)),!e)return J;this.host=e;}else if(this.isSpecial()){if(t=y(t),P(nt,t))return J;if(e=function(t){var e,r,n,o,i,s,a,c=$(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(o=c[n]))return t;if(i=10,o.length>1&&"0"==I(o,0)&&(i=P(X,o)?16:8,o=H(o,8==i?1:2)),""===o)s=0;else{if(!P(10==i?et:8==i?Z:rt,o))return t;s=T(o,i);}L(r,s);}for(n=0;n<e;n++){if(s=r[n],n==e-1){if(s>=R(256,5-e))return null;}else if(s>255)return null;}for(a=j(r),n=0;n<r.length;n++){a+=r[n]*R(256,3-n);}return a;}(t),null===e)return J;this.host=e;}else{if(P(ot,t))return J;for(e="",r=m(t),n=0;n<r.length;n++){e+=percentEncode(r[n],ct);}this.host=e;}},cannotHaveUsernamePasswordPort:function cannotHaveUsernamePasswordPort(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme;},includesCredentials:function includesCredentials(){return""!=this.username||""!=this.password;},isSpecial:function isSpecial(){return d(ft,this.scheme);},shortenPath:function shortenPath(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&isWindowsDriveLetter(t[0],!0)||t.length--;},serialize:function serialize(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,s=t.path,a=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=serializeHost(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?s[0]:s.length?"/"+_(s,"/"):"",null!==a&&(u+="?"+a),null!==c&&(u+="#"+c),u;},setHref:function setHref(t){var e=this.parse(t);if(e)throw M(e);this.searchParams.update();},getOrigin:function getOrigin(){var t=this.scheme,e=this.port;if("blob"==t)try{return new It(t.path[0]).origin;}catch(t){return"null";}return"file"!=t&&this.isSpecial()?t+"://"+serializeHost(this.host)+(null!==e?":"+e:""):"null";},getProtocol:function getProtocol(){return this.scheme+":";},setProtocol:function setProtocol(t){this.parse(b(t)+":",dt);},getUsername:function getUsername(){return this.username;},setUsername:function setUsername(t){var e=m(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++){this.username+=percentEncode(e[r],pt);}}},getPassword:function getPassword(){return this.password;},setPassword:function setPassword(t){var e=m(b(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++){this.password+=percentEncode(e[r],pt);}}},getHost:function getHost(){var t=this.host,e=this.port;return null===t?"":null===e?serializeHost(t):serializeHost(t)+":"+e;},setHost:function setHost(t){this.cannotBeABaseURL||this.parse(t,St);},getHostname:function getHostname(){var t=this.host;return null===t?"":serializeHost(t);},setHostname:function setHostname(t){this.cannotBeABaseURL||this.parse(t,kt);},getPort:function getPort(){var t=this.port;return null===t?"":b(t);},setPort:function setPort(t){this.cannotHaveUsernamePasswordPort()||(""==(t=b(t))?this.port=null:this.parse(t,Et));},getPathname:function getPathname(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+_(t,"/"):"";},setPathname:function setPathname(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Mt));},getSearch:function getSearch(){var t=this.query;return t?"?"+t:"";},setSearch:function setSearch(t){""==(t=b(t))?this.query=null:("?"==I(t,0)&&(t=H(t,1)),this.query="",this.parse(t,Rt)),this.searchParams.update();},getSearchParams:function getSearchParams(){return this.searchParams.facade;},getHash:function getHash(){var t=this.fragment;return t?"#"+t:"";},setHash:function setHash(t){""!=(t=b(t))?("#"==I(t,0)&&(t=H(t,1)),this.fragment="",this.parse(t,Ft)):this.fragment=null;},update:function update(){this.query=this.searchParams.serialize()||null;}};var It=function URL(t){var e=f(this,Pt),r=x(arguments.length,1)>1?arguments[1]:void 0,n=k(e,new URLState(t,!1,r));i||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash());},Pt=It.prototype,accessorDescriptor=function accessorDescriptor(t,e){return{get:function get(){return E(this)[t]();},set:e&&function(t){return E(this)[e](t);},configurable:!0,enumerable:!0};};if(i&&l(Pt,{href:accessorDescriptor("serialize","setHref"),origin:accessorDescriptor("getOrigin"),protocol:accessorDescriptor("getProtocol","setProtocol"),username:accessorDescriptor("getUsername","setUsername"),password:accessorDescriptor("getPassword","setPassword"),host:accessorDescriptor("getHost","setHost"),hostname:accessorDescriptor("getHostname","setHostname"),port:accessorDescriptor("getPort","setPort"),pathname:accessorDescriptor("getPathname","setPathname"),search:accessorDescriptor("getSearch","setSearch"),searchParams:accessorDescriptor("getSearchParams"),hash:accessorDescriptor("getHash","setHash")}),p(Pt,"toJSON",function toJSON(){return E(this).serialize();},{enumerable:!0}),p(Pt,"toString",function toString(){return E(this).serialize();},{enumerable:!0}),O){var _t=O.createObjectURL,Bt=O.revokeObjectURL;_t&&p(It,"createObjectURL",c(_t,O)),Bt&&p(It,"revokeObjectURL",c(Bt,O));}w(It,"URL"),o({global:!0,forced:!s,sham:!i},{URL:It});},83753:function _(t,e,r){"use strict";var n=r(82109),o=r(46916);n({target:"URL",proto:!0,enumerable:!0},{toJSON:function toJSON(){return o(URL.prototype.toString,this);}});}},e={};function __webpack_require__(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,__webpack_require__),o.exports;}__webpack_require__.d=function(t,e){for(var r in e){__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]});}},__webpack_require__.g=function(){if("object"==(typeof globalThis==="undefined"?"undefined":_typeof2(globalThis)))return globalThis;try{return this||new Function("return this")();}catch(t){if("object"==(typeof window==="undefined"?"undefined":_typeof2(window)))return window;}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e);},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0});};var r={};(function(){"use strict";__webpack_require__.r(r),__webpack_require__.d(r,{getSelectedText:function getSelectedText(){return _getSelectedText;},initializeChecklist:function initializeChecklist(){return _initializeChecklist;},initializeEditor:function initializeEditor(){return _initializeEditor;},isFormatActive:function isFormatActive(){return _isFormatActive;},makeLinkSuggestion:function makeLinkSuggestion(){return _makeLinkSuggestion;},moveChecklist:function moveChecklist(){return _moveChecklist;},registerIsShoppingModeActive:function registerIsShoppingModeActive(){return prose_mirror_bundle_registerIsShoppingModeActive;},scrollToBottom:function scrollToBottom(){return _scrollToBottom;},scrollToTop:function scrollToTop(){return _scrollToTop;},searchAndHighlight:function searchAndHighlight(){return _searchAndHighlight;},selectNext:function selectNext(){return prose_mirror_bundle_selectNext;},selectNextWhileTyping:function selectNextWhileTyping(){return _selectNextWhileTyping;},selectPrevious:function selectPrevious(){return prose_mirror_bundle_selectPrevious;},selectWordAtCurrentPosition:function selectWordAtCurrentPosition(){return _selectWordAtCurrentPosition;},setCheckStateForAllToDisabled:function setCheckStateForAllToDisabled(){return _setCheckStateForAllToDisabled;},setCheckStateForAllToDone:function setCheckStateForAllToDone(){return _setCheckStateForAllToDone;},setCheckStateForAllToTodo:function setCheckStateForAllToTodo(){return _setCheckStateForAllToTodo;},sortChecklistAlphabetical:function sortChecklistAlphabetical(){return _sortChecklistAlphabetical;},sortChecklistPendingToTop:function sortChecklistPendingToTop(){return _sortChecklistPendingToTop;},toggleFormat:function toggleFormat(){return _toggleFormat;}});__webpack_require__(81486);function OrderedMap(t){this.content=t;}OrderedMap.prototype={constructor:OrderedMap,find:function find(t){for(var e=0;e<this.content.length;e+=2){if(this.content[e]===t)return e;}return-1;},get:function get(t){var e=this.find(t);return-1==e?void 0:this.content[e+1];},update:function update(t,e,r){var n=r&&r!=t?this.remove(r):this,o=n.find(t),i=n.content.slice();return-1==o?i.push(r||t,e):(i[o+1]=e,r&&(i[o]=r)),new OrderedMap(i);},remove:function remove(t){var e=this.find(t);if(-1==e)return this;var r=this.content.slice();return r.splice(e,2),new OrderedMap(r);},addToStart:function addToStart(t,e){return new OrderedMap([t,e].concat(this.remove(t).content));},addToEnd:function addToEnd(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new OrderedMap(r);},addBefore:function addBefore(t,e,r){var n=this.remove(e),o=n.content.slice(),i=n.find(t);return o.splice(-1==i?o.length:i,0,e,r),new OrderedMap(o);},forEach:function forEach(t){for(var e=0;e<this.content.length;e+=2){t(this.content[e],this.content[e+1]);}},prepend:function prepend(t){return(t=OrderedMap.from(t)).size?new OrderedMap(t.content.concat(this.subtract(t).content)):this;},append:function append(t){return(t=OrderedMap.from(t)).size?new OrderedMap(this.subtract(t).content.concat(t.content)):this;},subtract:function subtract(t){var e=this;t=OrderedMap.from(t);for(var r=0;r<t.content.length;r+=2){e=e.remove(t.content[r]);}return e;},get size(){return this.content.length>>1;}},OrderedMap.from=function(t){if(t instanceof OrderedMap)return t;var e=[];if(t)for(var r in t){e.push(r,t[r]);}return new OrderedMap(e);};var t=OrderedMap;function findDiffStart(t,e,r){for(var n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;var o=t.child(n),i=e.child(n);if(o!=i){if(!o.sameMarkup(i))return r;if(o.isText&&o.text!=i.text){for(var s=0;o.text[s]==i.text[s];s++){r++;}return r;}if(o.content.size||i.content.size){var a=findDiffStart(o.content,i.content,r+1);if(null!=a)return a;}r+=o.nodeSize;}else r+=o.nodeSize;}}function findDiffEnd(t,e,r,n){for(var o=t.childCount,i=e.childCount;;){if(0==o||0==i)return o==i?null:{a:r,b:n};var s=t.child(--o),a=e.child(--i),c=s.nodeSize;if(s!=a){if(!s.sameMarkup(a))return{a:r,b:n};if(s.isText&&s.text!=a.text){for(var u=0,l=Math.min(s.text.length,a.text.length);u<l&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];){u++,r--,n--;}return{a:r,b:n};}if(s.content.size||a.content.size){var p=findDiffEnd(s.content,a.content,r-1,n-1);if(p)return p;}r-=c,n-=c;}else r-=c,n-=c;}}var e=function Fragment(t,e){if(this.content=t,this.size=e||0,null==e)for(var r=0;r<t.length;r++){this.size+=t[r].nodeSize;}},n={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};e.prototype.nodesBetween=function nodesBetween(t,e,r,n,o){void 0===n&&(n=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],c=s+a.nodeSize;if(c>t&&!1!==r(a,n+s,o,i)&&a.content.size){var u=s+1;a.nodesBetween(Math.max(0,t-u),Math.min(a.content.size,e-u),r,n+u);}s=c;}},e.prototype.descendants=function descendants(t){this.nodesBetween(0,this.size,t);},e.prototype.textBetween=function textBetween(t,e,r,n){var o="",i=!0;return this.nodesBetween(t,e,function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!r):s.isLeaf&&n?(o+="function"==typeof n?n(s):n,i=!r):!i&&s.isBlock&&(o+=r,i=!0);},0),o;},e.prototype.append=function append(t){if(!t.size)return this;if(!this.size)return t;var r=this.lastChild,n=t.firstChild,o=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(o[o.length-1]=r.withText(r.text+n.text),i=1);i<t.content.length;i++){o.push(t.content[i]);}return new e(o,this.size+t.size);},e.prototype.cut=function cut(t,r){if(null==r&&(r=this.size),0==t&&r==this.size)return this;var n=[],o=0;if(r>t)for(var i=0,s=0;s<r;i++){var a=this.content[i],c=s+a.nodeSize;c>t&&((s<t||c>r)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,r-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,r-s-1))),n.push(a),o+=a.nodeSize),s=c;}return new e(n,o);},e.prototype.cutByIndex=function cutByIndex(t,r){return t==r?e.empty:0==t&&r==this.content.length?this:new e(this.content.slice(t,r));},e.prototype.replaceChild=function replaceChild(t,r){var n=this.content[t];if(n==r)return this;var o=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return o[t]=r,new e(o,i);},e.prototype.addToStart=function addToStart(t){return new e([t].concat(this.content),this.size+t.nodeSize);},e.prototype.addToEnd=function addToEnd(t){return new e(this.content.concat(t),this.size+t.nodeSize);},e.prototype.eq=function eq(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++){if(!this.content[e].eq(t.content[e]))return!1;}return!0;},n.firstChild.get=function(){return this.content.length?this.content[0]:null;},n.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null;},n.childCount.get=function(){return this.content.length;},e.prototype.child=function child(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e;},e.prototype.maybeChild=function maybeChild(t){return this.content[t];},e.prototype.forEach=function forEach(t){for(var e=0,r=0;e<this.content.length;e++){var n=this.content[e];t(n,r,e),r+=n.nodeSize;}},e.prototype.findDiffStart=function findDiffStart$1(t,e){return void 0===e&&(e=0),findDiffStart(this,t,e);},e.prototype.findDiffEnd=function findDiffEnd$1(t,e,r){return void 0===e&&(e=this.size),void 0===r&&(r=t.size),findDiffEnd(this,t,e,r);},e.prototype.findIndex=function findIndex(t,e){if(void 0===e&&(e=-1),0==t)return retIndex(0,t);if(t==this.size)return retIndex(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var r=0,n=0;;r++){var o=n+this.child(r).nodeSize;if(o>=t)return o==t||e>0?retIndex(r+1,o):retIndex(r,n);n=o;}},e.prototype.toString=function toString(){return"<"+this.toStringInner()+">";},e.prototype.toStringInner=function toStringInner(){return this.content.join(", ");},e.prototype.toJSON=function toJSON(){return this.content.length?this.content.map(function(t){return t.toJSON();}):null;},e.fromJSON=function fromJSON(t,r){if(!r)return e.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new e(r.map(t.nodeFromJSON));},e.fromArray=function fromArray(t){if(!t.length)return e.empty;for(var r,n=0,o=0;o<t.length;o++){var i=t[o];n+=i.nodeSize,o&&i.isText&&t[o-1].sameMarkup(i)?(r||(r=t.slice(0,o)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i);}return new e(r||t,n);},e.from=function from(t){if(!t)return e.empty;if(t instanceof e)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new e([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""));},Object.defineProperties(e.prototype,n);var o={index:0,offset:0};function retIndex(t,e){return o.index=t,o.offset=e,o;}function compareDeep(t,e){if(t===e)return!0;if(!t||"object"!=_typeof2(t)||!e||"object"!=_typeof2(e))return!1;var r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++){if(!compareDeep(t[n],e[n]))return!1;}}else{for(var o in t){if(!(o in e)||!compareDeep(t[o],e[o]))return!1;}for(var i in e){if(!(i in t))return!1;}}return!0;}e.empty=new e([],0);var i=function Mark(t,e){this.type=t,this.attrs=e;};function ReplaceError(t){var e=Error.call(this,t);return e.__proto__=ReplaceError.prototype,e;}i.prototype.addToSet=function addToSet(t){for(var e,r=!1,n=0;n<t.length;n++){var o=t[n];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,n));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,n)),e.push(this),r=!0),e&&e.push(o);}}return e||(e=t.slice()),r||e.push(this),e;},i.prototype.removeFromSet=function removeFromSet(t){for(var e=0;e<t.length;e++){if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));}return t;},i.prototype.isInSet=function isInSet(t){for(var e=0;e<t.length;e++){if(this.eq(t[e]))return!0;}return!1;},i.prototype.eq=function eq(t){return this==t||this.type==t.type&&compareDeep(this.attrs,t.attrs);},i.prototype.toJSON=function toJSON(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break;}return t;},i.fromJSON=function fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var r=t.marks[e.type];if(!r)throw new RangeError("There is no mark type "+e.type+" in this schema");return r.create(e.attrs);},i.sameSet=function sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++){if(!t[r].eq(e[r]))return!1;}return!0;},i.setFrom=function setFrom(t){if(!t||0==t.length)return i.none;if(t instanceof i)return[t];var e=t.slice();return e.sort(function(t,e){return t.type.rank-e.type.rank;}),e;},i.none=[],ReplaceError.prototype=Object.create(Error.prototype),ReplaceError.prototype.constructor=ReplaceError,ReplaceError.prototype.name="ReplaceError";var s=function Slice(t,e,r){this.content=t,this.openStart=e,this.openEnd=r;},a={size:{configurable:!0}};function removeRange(t,e,r){var n=t.findIndex(e),o=n.index,i=n.offset,s=t.maybeChild(o),a=t.findIndex(r),c=a.index,u=a.offset;if(i==e||s.isText){if(u!=r&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r));}if(o!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(o,s.copy(removeRange(s.content,e-i-1,r-i-1)));}function insertInto(t,e,r,n){var o=t.findIndex(e),i=o.index,s=o.offset,a=t.maybeChild(i);if(s==e||a.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));var c=insertInto(a.content,e-s-1,r);return c&&t.replaceChild(i,a.copy(c));}function replace(t,e,r){if(r.openStart>t.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(t,e,r,0);}function replaceOuter(t,r,n,o){var i=t.index(o),s=t.node(o);if(i==r.index(o)&&o<t.depth-n.openStart){var a=replaceOuter(t,r,n,o+1);return s.copy(s.content.replaceChild(i,a));}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=o||r.depth!=o){var c=function prepareSliceForReplace(t,r){for(var n=r.depth-t.openStart,o=r.node(n).copy(t.content),i=n-1;i>=0;i--){o=r.node(i).copy(e.from(o));}return{start:o.resolveNoCache(t.openStart+n),end:o.resolveNoCache(o.content.size-t.openEnd-n)};}(n,t);return index_es_close(s,replaceThreeWay(t,c.start,c.end,r,o));}var u=t.parent,l=u.content;return index_es_close(u,l.cut(0,t.parentOffset).append(n.content).append(l.cut(r.parentOffset)));}return index_es_close(s,replaceTwoWay(t,r,o));}function checkJoin(t,e){if(!e.type.compatibleContent(t.type))throw new ReplaceError("Cannot join "+e.type.name+" onto "+t.type.name);}function joinable(t,e,r){var n=t.node(r);return checkJoin(n,e.node(r)),n;}function addNode(t,e){var r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t);}function addRange(t,e,r,n){var o=(e||t).node(r),i=0,s=e?e.index(r):o.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(addNode(t.nodeAfter,n),i++));for(var a=i;a<s;a++){addNode(o.child(a),n);}e&&e.depth==r&&e.textOffset&&addNode(e.nodeBefore,n);}function index_es_close(t,e){if(!t.type.validContent(e))throw new ReplaceError("Invalid content for node "+t.type.name);return t.copy(e);}function replaceThreeWay(t,r,n,o,i){var s=t.depth>i&&joinable(t,r,i+1),a=o.depth>i&&joinable(n,o,i+1),c=[];return addRange(null,t,i,c),s&&a&&r.index(i)==n.index(i)?(checkJoin(s,a),addNode(index_es_close(s,replaceThreeWay(t,r,n,o,i+1)),c)):(s&&addNode(index_es_close(s,replaceTwoWay(t,r,i+1)),c),addRange(r,n,i,c),a&&addNode(index_es_close(a,replaceTwoWay(n,o,i+1)),c)),addRange(o,null,i,c),new e(c);}function replaceTwoWay(t,r,n){var o=[];(addRange(null,t,n,o),t.depth>n)&&addNode(index_es_close(joinable(t,r,n+1),replaceTwoWay(t,r,n+1)),o);return addRange(r,null,n,o),new e(o);}a.size.get=function(){return this.content.size-this.openStart-this.openEnd;},s.prototype.insertAt=function insertAt(t,e){var r=insertInto(this.content,t+this.openStart,e,null);return r&&new s(r,this.openStart,this.openEnd);},s.prototype.removeBetween=function removeBetween(t,e){return new s(removeRange(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd);},s.prototype.eq=function eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd;},s.prototype.toString=function toString(){return this.content+"("+this.openStart+","+this.openEnd+")";},s.prototype.toJSON=function toJSON(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t;},s.fromJSON=function fromJSON(t,r){if(!r)return s.empty;var n=r.openStart||0,o=r.openEnd||0;if("number"!=typeof n||"number"!=typeof o)throw new RangeError("Invalid input for Slice.fromJSON");return new s(e.fromJSON(t,r.content),n,o);},s.maxOpen=function maxOpen(t,e){void 0===e&&(e=!0);for(var r=0,n=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild){r++;}for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild){n++;}return new s(t,r,n);},Object.defineProperties(s.prototype,a),s.empty=new s(e.empty,0,0);var c=function ResolvedPos(t,e,r){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=r;},u={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};c.prototype.resolveDepth=function resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t;},u.parent.get=function(){return this.node(this.depth);},u.doc.get=function(){return this.node(0);},c.prototype.node=function node(t){return this.path[3*this.resolveDepth(t)];},c.prototype.index=function index(t){return this.path[3*this.resolveDepth(t)+1];},c.prototype.indexAfter=function indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0);},c.prototype.start=function start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1;},c.prototype.end=function end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size;},c.prototype.before=function before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1];},c.prototype.after=function after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize;},u.textOffset.get=function(){return this.pos-this.path[this.path.length-1];},u.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var r=this.pos-this.path[this.path.length-1],n=t.child(e);return r?t.child(e).cut(r):n;},u.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1);},c.prototype.posAtIndex=function posAtIndex(t,e){e=this.resolveDepth(e);for(var r=this.path[3*e],n=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++){n+=r.child(o).nodeSize;}return n;},c.prototype.marks=function marks(){var t=this.parent,e=this.index();if(0==t.content.size)return i.none;if(this.textOffset)return t.child(e).marks;var r=t.maybeChild(e-1),n=t.maybeChild(e);if(!r){var o=r;r=n,n=o;}for(var marks=r.marks,s=0;s<marks.length;s++){!1!==marks[s].type.spec.inclusive||n&&marks[s].isInSet(n.marks)||(marks=marks[s--].removeFromSet(marks));}return marks;},c.prototype.marksAcross=function marksAcross(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var r=e.marks,n=t.parent.maybeChild(t.index()),o=0;o<r.length;o++){!1!==r[o].type.spec.inclusive||n&&r[o].isInSet(n.marks)||(r=r[o--].removeFromSet(r));}return r;},c.prototype.sharedDepth=function sharedDepth(t){for(var e=this.depth;e>0;e--){if(this.start(e)<=t&&this.end(e)>=t)return e;}return 0;},c.prototype.blockRange=function blockRange(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--){if(t.pos<=this.end(r)&&(!e||e(this.node(r))))return new d(this,t,r);}},c.prototype.sameParent=function sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset;},c.prototype.max=function max(t){return t.pos>this.pos?t:this;},c.prototype.min=function min(t){return t.pos<this.pos?t:this;},c.prototype.toString=function toString(){for(var t="",e=1;e<=this.depth;e++){t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);}return t+":"+this.parentOffset;},c.resolve=function resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var r=[],n=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,u=s.offset,l=o-u;if(r.push(i,a,n+u),!l)break;if((i=i.child(a)).isText)break;o=l-1,n+=u+1;}return new c(e,r,o);},c.resolveCached=function resolveCached(t,e){for(var r=0;r<l.length;r++){var n=l[r];if(n.pos==e&&n.doc==t)return n;}var o=l[p]=c.resolve(t,e);return p=(p+1)%f,o;},Object.defineProperties(c.prototype,u);var l=[],p=0,f=12,d=function NodeRange(t,e,r){this.$from=t,this.$to=e,this.depth=r;},h={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};h.start.get=function(){return this.$from.before(this.depth+1);},h.end.get=function(){return this.$to.after(this.depth+1);},h.parent.get=function(){return this.$from.node(this.depth);},h.startIndex.get=function(){return this.$from.index(this.depth);},h.endIndex.get=function(){return this.$to.indexAfter(this.depth);},Object.defineProperties(d.prototype,h);var m=Object.create(null),v=function Node(t,r,n,o){this.type=t,this.attrs=r,this.content=n||e.empty,this.marks=o||i.none;},g={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};g.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size;},g.childCount.get=function(){return this.content.childCount;},v.prototype.child=function child(t){return this.content.child(t);},v.prototype.maybeChild=function maybeChild(t){return this.content.maybeChild(t);},v.prototype.forEach=function forEach(t){this.content.forEach(t);},v.prototype.nodesBetween=function nodesBetween(t,e,r,n){void 0===n&&(n=0),this.content.nodesBetween(t,e,r,n,this);},v.prototype.descendants=function descendants(t){this.nodesBetween(0,this.content.size,t);},g.textContent.get=function(){return this.textBetween(0,this.content.size,"");},v.prototype.textBetween=function textBetween(t,e,r,n){return this.content.textBetween(t,e,r,n);},g.firstChild.get=function(){return this.content.firstChild;},g.lastChild.get=function(){return this.content.lastChild;},v.prototype.eq=function eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content);},v.prototype.sameMarkup=function sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks);},v.prototype.hasMarkup=function hasMarkup(t,e,r){return this.type==t&&compareDeep(this.attrs,e||t.defaultAttrs||m)&&i.sameSet(this.marks,r||i.none);},v.prototype.copy=function copy(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks);},v.prototype.mark=function mark(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t);},v.prototype.cut=function cut(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e));},v.prototype.slice=function slice(t,e,r){if(void 0===e&&(e=this.content.size),void 0===r&&(r=!1),t==e)return s.empty;var n=this.resolve(t),o=this.resolve(e),i=r?0:n.sharedDepth(e),a=n.start(i),c=n.node(i).content.cut(n.pos-a,o.pos-a);return new s(c,n.depth-i,o.depth-i);},v.prototype.replace=function replace$1(t,e,r){return replace(this.resolve(t),this.resolve(e),r);},v.prototype.nodeAt=function nodeAt(t){for(var e=this;;){var r=e.content.findIndex(t),n=r.index,o=r.offset;if(!(e=e.maybeChild(n)))return null;if(o==t||e.isText)return e;t-=o+1;}},v.prototype.childAfter=function childAfter(t){var e=this.content.findIndex(t),r=e.index,n=e.offset;return{node:this.content.maybeChild(r),index:r,offset:n};},v.prototype.childBefore=function childBefore(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),r=e.index,n=e.offset;if(n<t)return{node:this.content.child(r),index:r,offset:n};var o=this.content.child(r-1);return{node:o,index:r-1,offset:n-o.nodeSize};},v.prototype.resolve=function resolve(t){return c.resolveCached(this,t);},v.prototype.resolveNoCache=function resolveNoCache(t){return c.resolve(this,t);},v.prototype.rangeHasMark=function rangeHasMark(t,e,r){var n=!1;return e>t&&this.nodesBetween(t,e,function(t){return r.isInSet(t.marks)&&(n=!0),!n;}),n;},g.isBlock.get=function(){return this.type.isBlock;},g.isTextblock.get=function(){return this.type.isTextblock;},g.inlineContent.get=function(){return this.type.inlineContent;},g.isInline.get=function(){return this.type.isInline;},g.isText.get=function(){return this.type.isText;},g.isLeaf.get=function(){return this.type.isLeaf;},g.isAtom.get=function(){return this.type.isAtom;},v.prototype.toString=function toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,t);},v.prototype.contentMatchAt=function contentMatchAt(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e;},v.prototype.canReplace=function canReplace(t,r,n,o,i){void 0===n&&(n=e.empty),void 0===o&&(o=0),void 0===i&&(i=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,o,i),a=s&&s.matchFragment(this.content,r);if(!a||!a.validEnd)return!1;for(var c=o;c<i;c++){if(!this.type.allowsMarks(n.child(c).marks))return!1;}return!0;},v.prototype.canReplaceWith=function canReplaceWith(t,e,r,n){if(n&&!this.type.allowsMarks(n))return!1;var o=this.contentMatchAt(t).matchType(r),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd;},v.prototype.canAppend=function canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type);},v.prototype.check=function check(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=i.none,e=0;e<this.marks.length;e++){t=this.marks[e].addToSet(t);}if(!i.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(t){return t.type.name;}));this.content.forEach(function(t){return t.check();});},v.prototype.toJSON=function toJSON(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break;}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(t){return t.toJSON();})),t;},v.fromJSON=function fromJSON(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON);}if("text"==r.type){if("string"!=typeof r.text)throw new RangeError("Invalid text node in JSON");return t.text(r.text,n);}var o=e.fromJSON(t,r.content);return t.nodeType(r.type).create(r.attrs,o,n);},Object.defineProperties(v.prototype,g);var y=function(t){function TextNode(e,r,n,o){if(t.call(this,e,r,null,o),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n;}t&&(TextNode.__proto__=t),TextNode.prototype=Object.create(t&&t.prototype),TextNode.prototype.constructor=TextNode;var e={textContent:{configurable:!0},nodeSize:{configurable:!0}};return TextNode.prototype.toString=function toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text));},e.textContent.get=function(){return this.text;},TextNode.prototype.textBetween=function textBetween(t,e){return this.text.slice(t,e);},e.nodeSize.get=function(){return this.text.length;},TextNode.prototype.mark=function mark(t){return t==this.marks?this:new TextNode(this.type,this.attrs,this.text,t);},TextNode.prototype.withText=function withText(t){return t==this.text?this:new TextNode(this.type,this.attrs,t,this.marks);},TextNode.prototype.cut=function cut(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e));},TextNode.prototype.eq=function eq(t){return this.sameMarkup(t)&&this.text==t.text;},TextNode.prototype.toJSON=function toJSON(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e;},Object.defineProperties(TextNode.prototype,e),TextNode;}(v);function wrapMarks(t,e){for(var r=t.length-1;r>=0;r--){e=t[r].type.name+"("+e+")";}return e;}var b=function ContentMatch(t){this.validEnd=t,this.next=[],this.wrapCache=[];},w={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};b.parse=function parse(t,e){var r=new x(t,e);if(null==r.next)return b.empty;var n=parseExpr(r);r.next&&r.err("Unexpected trailing text");var o=function dfa(t){var e=Object.create(null);return explore(nullFrom(t,0));function explore(r){var n=[];r.forEach(function(e){t[e].forEach(function(e){var r=e.term,o=e.to;if(r){var i=n.indexOf(r),s=i>-1&&n[i+1];nullFrom(t,o).forEach(function(t){s||n.push(r,s=[]),-1==s.indexOf(t)&&s.push(t);});}});});for(var o=e[r.join(",")]=new b(r.indexOf(t.length-1)>-1),i=0;i<n.length;i+=2){var s=n[i+1].sort(cmp);o.next.push(n[i],e[s.join(",")]||explore(s));}return o;}}(function nfa(t){var e=[[]];return connect(compile(t,0),node()),e;function node(){return e.push([])-1;}function edge(t,r,n){var o={term:n,to:r};return e[t].push(o),o;}function connect(t,e){t.forEach(function(t){return t.to=e;});}function compile(t,e){if("choice"==t.type)return t.exprs.reduce(function(t,r){return t.concat(compile(r,e));},[]);if("seq"==t.type)for(var r=0;;r++){var n=compile(t.exprs[r],e);if(r==t.exprs.length-1)return n;connect(n,e=node());}else{if("star"==t.type){var o=node();return edge(e,o),connect(compile(t.expr,o),o),[edge(o)];}if("plus"==t.type){var i=node();return connect(compile(t.expr,e),i),connect(compile(t.expr,i),i),[edge(i)];}if("opt"==t.type)return[edge(e)].concat(compile(t.expr,e));if("range"==t.type){for(var s=e,a=0;a<t.min;a++){var c=node();connect(compile(t.expr,s),c),s=c;}if(-1==t.max)connect(compile(t.expr,s),s);else for(var u=t.min;u<t.max;u++){var l=node();edge(s,l),connect(compile(t.expr,s),l),s=l;}return[edge(s)];}if("name"==t.type)return[edge(e,null,t.value)];}}}(n));return function checkForDeadEnds(t,e){for(var r=0,n=[t];r<n.length;r++){for(var o=n[r],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],u=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==n.indexOf(u)&&n.push(u);}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)");}}(o,r),o;},b.prototype.matchType=function matchType(t){for(var e=0;e<this.next.length;e+=2){if(this.next[e]==t)return this.next[e+1];}return null;},b.prototype.matchFragment=function matchFragment(t,e,r){void 0===e&&(e=0),void 0===r&&(r=t.childCount);for(var n=this,o=e;n&&o<r;o++){n=n.matchType(t.child(o).type);}return n;},w.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline;},w.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e;}},b.prototype.compatible=function compatible(t){for(var e=0;e<this.next.length;e+=2){for(var r=0;r<t.next.length;r+=2){if(this.next[e]==t.next[r])return!0;}}return!1;},b.prototype.fillBefore=function fillBefore(t,r,n){void 0===r&&(r=!1),void 0===n&&(n=0);var o=[this];return function search(i,s){var a=i.matchFragment(t,n);if(a&&(!r||a.validEnd))return e.from(s.map(function(t){return t.createAndFill();}));for(var c=0;c<i.next.length;c+=2){var u=i.next[c],l=i.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==o.indexOf(l)){o.push(l);var p=search(l,s.concat(u));if(p)return p;}}}(this,[]);},b.prototype.findWrapping=function findWrapping(t){for(var e=0;e<this.wrapCache.length;e+=2){if(this.wrapCache[e]==t)return this.wrapCache[e+1];}var r=this.computeWrapping(t);return this.wrapCache.push(t,r),r;},b.prototype.computeWrapping=function computeWrapping(t){for(var e=Object.create(null),r=[{match:this,type:null,via:null}];r.length;){var n=r.shift(),o=n.match;if(o.matchType(t)){for(var i=[],s=n;s.type;s=s.via){i.push(s.type);}return i.reverse();}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||n.type&&!o.next[a+1].validEnd||(r.push({match:c.contentMatch,type:c,via:n}),e[c.name]=!0);}}},w.edgeCount.get=function(){return this.next.length>>1;},b.prototype.edge=function edge(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]};},b.prototype.toString=function toString(){var t=[];return function scan(e){t.push(e);for(var r=1;r<e.next.length;r+=2){-1==t.indexOf(e.next[r])&&scan(e.next[r]);}}(this),t.map(function(e,r){for(var n=r+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2){n+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);}return n;}).join("\n");},Object.defineProperties(b.prototype,w),b.empty=new b(!0);var x=function TokenStream(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift();},D={next:{configurable:!0}};function parseExpr(t){var e=[];do{e.push(parseExprSeq(t));}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e};}function parseExprSeq(t){var e=[];do{e.push(parseExprSubscript(t));}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e};}function parseExprSubscript(t){for(var e=function parseExprAtom(t){if(t.eat("(")){var e=parseExpr(t);return t.eat(")")||t.err("Missing closing paren"),e;}if(!/\W/.test(t.next)){var r=function resolveName(t,e){var r=t.nodeTypes,n=r[e];if(n)return[n];var o=[];for(var i in r){var s=r[i];s.groups.indexOf(e)>-1&&o.push(s);}0==o.length&&t.err("No node type or group '"+e+"' found");return o;}(t,t.next).map(function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e};});return t.pos++,1==r.length?r[0]:{type:"choice",exprs:r};}t.err("Unexpected token '"+t.next+"'");}(t);;){if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=parseExprRange(t,e);}}return e;}function parseNum(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e;}function parseExprRange(t,e){var r=parseNum(t),n=r;return t.eat(",")&&(n="}"!=t.next?parseNum(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e};}function cmp(t,e){return e-t;}function nullFrom(t,e){var r=[];return function scan(e){var n=t[e];if(1==n.length&&!n[0].term)return scan(n[0].to);r.push(e);for(var o=0;o<n.length;o++){var i=n[o],s=i.term,a=i.to;s||-1!=r.indexOf(a)||scan(a);}}(e),r.sort(cmp);}function defaultAttrs(t){var e=Object.create(null);for(var r in t){var n=t[r];if(!n.hasDefault)return null;e[r]=n["default"];}return e;}function computeAttrs(t,e){var r=Object.create(null);for(var n in t){var o=e&&e[n];if(void 0===o){var i=t[n];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+n);o=i["default"];}r[n]=o;}return r;}function initAttrs(t){var e=Object.create(null);if(t)for(var r in t){e[r]=new E(t[r]);}return e;}D.next.get=function(){return this.tokens[this.pos];},x.prototype.eat=function eat(t){return this.next==t&&(this.pos++||!0);},x.prototype.err=function err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')");},Object.defineProperties(x.prototype,D);var S=function NodeType(t,e,r){this.name=t,this.schema=e,this.spec=r,this.groups=r.group?r.group.split(" "):[],this.attrs=initAttrs(r.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==t),this.isText="text"==t;},k={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};k.isInline.get=function(){return!this.isBlock;},k.isTextblock.get=function(){return this.isBlock&&this.inlineContent;},k.isLeaf.get=function(){return this.contentMatch==b.empty;},k.isAtom.get=function(){return this.isLeaf||this.spec.atom;},k.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal");},S.prototype.hasRequiredAttrs=function hasRequiredAttrs(){for(var t in this.attrs){if(this.attrs[t].isRequired)return!0;}return!1;},S.prototype.compatibleContent=function compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch);},S.prototype.computeAttrs=function computeAttrs$1(t){return!t&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,t);},S.prototype.create=function create(t,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new v(this,this.computeAttrs(t),e.from(r),i.setFrom(n));},S.prototype.createChecked=function createChecked(t,r,n){if(r=e.from(r),!this.validContent(r))throw new RangeError("Invalid content for node "+this.name);return new v(this,this.computeAttrs(t),r,i.setFrom(n));},S.prototype.createAndFill=function createAndFill(t,r,n){if(t=this.computeAttrs(t),(r=e.from(r)).size){var o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r);}var s=this.contentMatch.matchFragment(r).fillBefore(e.empty,!0);return s?new v(this,t,r.append(s),i.setFrom(n)):null;},S.prototype.validContent=function validContent(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var r=0;r<t.childCount;r++){if(!this.allowsMarks(t.child(r).marks))return!1;}return!0;},S.prototype.allowsMarkType=function allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1;},S.prototype.allowsMarks=function allowsMarks(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++){if(!this.allowsMarkType(t[e].type))return!1;}return!0;},S.prototype.allowedMarks=function allowedMarks(t){if(null==this.markSet)return t;for(var e,r=0;r<t.length;r++){this.allowsMarkType(t[r].type)?e&&e.push(t[r]):e||(e=t.slice(0,r));}return e?e.length?e:i.empty:t;},S.compile=function compile(t,e){var r=Object.create(null);t.forEach(function(t,n){return r[t]=new S(t,e,n);});var n=e.spec.topNode||"doc";if(!r[n])throw new RangeError("Schema is missing its top node type ('"+n+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var o in r.text.attrs){throw new RangeError("The text node type should not have attributes");}return r;},Object.defineProperties(S.prototype,k);var E=function Attribute(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this["default"]=t["default"];},A={isRequired:{configurable:!0}};A.isRequired.get=function(){return!this.hasDefault;},Object.defineProperties(E.prototype,A);var C=function MarkType(t,e,r,n){this.name=t,this.schema=r,this.spec=n,this.attrs=initAttrs(n.attrs),this.rank=e,this.excluded=null;var o=defaultAttrs(this.attrs);this.instance=o&&new i(this,o);};C.prototype.create=function create(t){return!t&&this.instance?this.instance:new i(this,computeAttrs(this.attrs,t));},C.compile=function compile(t,e){var r=Object.create(null),n=0;return t.forEach(function(t,o){return r[t]=new C(t,n++,e,o);}),r;},C.prototype.removeFromSet=function removeFromSet(t){for(var e=0;e<t.length;e++){t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);}return t;},C.prototype.isInSet=function isInSet(t){for(var e=0;e<t.length;e++){if(t[e].type==this)return t[e];}},C.prototype.excludes=function excludes(t){return this.excluded.indexOf(t)>-1;};var O=function Schema(e){for(var r in this.spec={},e){this.spec[r]=e[r];}this.spec.nodes=t.from(e.nodes),this.spec.marks=t.from(e.marks),this.nodes=S.compile(this.spec.nodes,this),this.marks=C.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=b.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?gatherMarks(this,a.split(" ")):""!=a&&i.inlineContent?null:[];}for(var c in this.marks){var u=this.marks[c],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:gatherMarks(this,l.split(" "));}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null);};function gatherMarks(t,e){for(var r=[],n=0;n<e.length;n++){var o=e[n],i=t.marks[o],s=i;if(i)r.push(i);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&r.push(s=c);}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'");}return r;}O.prototype.node=function node(t,e,r,n){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof S))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")");}return t.createChecked(e,r,n);},O.prototype.text=function text(t,e){var r=this.nodes.text;return new y(r,r.defaultAttrs,t,i.setFrom(e));},O.prototype.mark=function mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e);},O.prototype.nodeFromJSON=function nodeFromJSON(t){return v.fromJSON(this,t);},O.prototype.markFromJSON=function markFromJSON(t){return i.fromJSON(this,t);},O.prototype.nodeType=function nodeType(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e;};var M=function DOMParser(t,e){var r=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach(function(t){t.tag?r.tags.push(t):t.style&&r.styles.push(t);}),this.normalizeLists=!this.tags.some(function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var r=t.nodes[e.node];return r.contentMatch.matchType(r);});};M.prototype.parse=function parse(t,e){void 0===e&&(e={});var r=new P(this,e,!1);return r.addAll(t,null,e.from,e.to),r.finish();},M.prototype.parseSlice=function parseSlice(t,e){void 0===e&&(e={});var r=new P(this,e,!0);return r.addAll(t,null,e.from,e.to),s.maxOpen(r.finish());},M.prototype.matchTag=function matchTag(t,e,r){for(var n=r?this.tags.indexOf(r)+1:0;n<this.tags.length;n++){var o=this.tags[n];if(matches(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i;}return o;}}},M.prototype.matchStyle=function matchStyle(t,e,r,n){for(var o=n?this.styles.indexOf(n)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!r.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var s=i.getAttrs(e);if(!1===s)continue;i.attrs=s;}return i;}}},M.schemaRules=function schemaRules(t){var e=[];function insert(t){for(var r=null==t.priority?50:t.priority,n=0;n<e.length;n++){var o=e[n];if((null==o.priority?50:o.priority)<r)break;}e.splice(n,0,t);}var loop=function loop(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach(function(t){insert(t=copy(t)),t.mark=e;});};for(var r in t.marks){loop(r);}var n;for(var o in t.nodes){n=void 0,(n=t.nodes[o].spec.parseDOM)&&n.forEach(function(t){insert(t=copy(t)),t.node=o;});}return e;},M.fromSchema=function fromSchema(t){return t.cached.domParser||(t.cached.domParser=new M(t,M.schemaRules(t)));};var T={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},N={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},R={ol:!0,ul:!0};function wsOptionsFor(t,e,r){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&r;}var I=function NodeContext(t,e,r,n,o,s,a){this.type=t,this.attrs=e,this.solid=o,this.match=s||(4&a?null:t.contentMatch),this.options=a,this.content=[],this.marks=r,this.activeMarks=i.none,this.pendingMarks=n,this.stashMarks=[];};I.prototype.findWrapping=function findWrapping(t){if(!this.match){if(!this.type)return[];var r=this.type.contentMatch.fillBefore(e.from(t));if(!r){var n,o=this.type.contentMatch;return(n=o.findWrapping(t.type))?(this.match=o,n):null;}this.match=this.type.contentMatch.matchFragment(r);}return this.match.findWrapping(t.type);},I.prototype.finish=function finish(t){if(!(1&this.options)){var r,n=this.content[this.content.length-1];n&&n.isText&&(r=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-r[0].length)));}var o=e.from(this.content);return!t&&this.match&&(o=o.append(this.match.fillBefore(e.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o;},I.prototype.popFromStashMark=function popFromStashMark(t){for(var e=this.stashMarks.length-1;e>=0;e--){if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0];}},I.prototype.applyPending=function applyPending(t){for(var e=0,r=this.pendingMarks;e<r.length;e++){var n=r[e];(this.type?this.type.allowsMarkType(n.type):markMayApply(n.type,t))&&!n.isInSet(this.activeMarks)&&(this.activeMarks=n.addToSet(this.activeMarks),this.pendingMarks=n.removeFromSet(this.pendingMarks));}},I.prototype.inlineContext=function inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!T.hasOwnProperty(t.parentNode.nodeName.toLowerCase());};var P=function ParseContext(t,e,r){this.parser=t,this.options=e,this.isOpen=r;var n,o=e.topNode,s=wsOptionsFor(null,e.preserveWhitespace,0)|(r?4:0);n=o?new I(o.type,o.attrs,i.none,i.none,!0,e.topMatch||o.type.contentMatch,s):new I(r?null:t.schema.topNodeType,null,i.none,i.none,!0,null,s),this.nodes=[n],this.open=0,this.find=e.findPositions,this.needsBlock=!1;},_={top:{configurable:!0},currentPos:{configurable:!0}};function matches(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e);}function copy(t){var e={};for(var r in t){e[r]=t[r];}return e;}function markMayApply(t,e){var r=e.schema.nodes,loop=function loop(n){var o=r[n];if(o.allowsMarkType(t)){var i=[],scan=function scan(t){i.push(t);for(var r=0;r<t.edgeCount;r++){var n=t.edge(r),o=n.type,s=n.next;if(o==e)return!0;if(i.indexOf(s)<0&&scan(s))return!0;}};return scan(o.contentMatch)?{v:!0}:void 0;}};for(var n in r){var o=loop(n);if(o)return o.v;}}_.top.get=function(){return this.nodes[this.open];},P.prototype.addDOM=function addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),r=e?this.readStyles(function parseStyles(t){var e,r=/\s*([\w-]+)\s*:\s*([^;]+)/g,n=[];for(;e=r.exec(t);){n.push(e[1],e[2].trim());}return n;}(e)):null,n=this.top;if(null!=r)for(var o=0;o<r.length;o++){this.addPendingMark(r[o]);}if(this.addElement(t),null!=r)for(var i=0;i<r.length;i++){this.removePendingMark(r[i],n);}}},P.prototype.addTextNode=function addTextNode(t){var e=t.nodeValue,r=this.top;if(2&r.options||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&r.options)e=2&r.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var n=r.content[r.content.length-1],o=t.previousSibling;(!n||o&&"BR"==o.nodeName||n.isText&&/[ \t\r\n\u000c]$/.test(n.text))&&(e=e.slice(1));}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t);}else this.findInside(t);},P.prototype.addElement=function addElement(t,e){var r,n=t.nodeName.toLowerCase();R.hasOwnProperty(n)&&this.parser.normalizeLists&&function normalizeList(t){for(var e=t.firstChild,r=null;e;e=e.nextSibling){var n=1==e.nodeType?e.nodeName.toLowerCase():null;n&&R.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):"li"==n?r=e:n&&(r=null);}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(r=this.parser.matchTag(t,this,e));if(o?o.ignore:N.hasOwnProperty(n))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(T.hasOwnProperty(n))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a;}else this.addElementByRule(t,o,!1===o.consuming?r:null);},P.prototype.leafFallback=function leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"));},P.prototype.ignoreFallback=function ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"));},P.prototype.readStyles=function readStyles(t){var e=i.none;t:for(var r=0;r<t.length;r+=2){for(var n=null;;){var o=this.parser.matchStyle(t[r],t[r+1],this,n);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;n=o;}}return e;},P.prototype.addElementByRule=function addElementByRule(t,e,r){var n,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):n=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,r);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach(function(t){return s.insertNode(t);});else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,n);}n&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a);},P.prototype.addAll=function addAll(t,e,r,n){for(var o=r||0,i=r?t.childNodes[r]:t.firstChild,s=null==n?null:t.childNodes[n];i!=s;i=i.nextSibling,++o){this.findAtPoint(t,o),this.addDOM(i),e&&T.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);}this.findAtPoint(t,o);},P.prototype.findPlace=function findPlace(t){for(var e,r,n=this.open;n>=0;n--){var o=this.nodes[n],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,r=o,!i.length))break;if(o.solid)break;}if(!e)return!1;this.sync(r);for(var s=0;s<e.length;s++){this.enterInner(e[s],null,!1);}return!0;},P.prototype.insertNode=function insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e);}if(this.findPlace(t)){this.closeExtra();var r=this.top;r.applyPending(t.type),r.match&&(r.match=r.match.matchType(t.type));for(var n=r.activeMarks,o=0;o<t.marks.length;o++){r.type&&!r.type.allowsMarkType(t.marks[o].type)||(n=t.marks[o].addToSet(n));}return r.content.push(t.mark(n)),!0;}return!1;},P.prototype.enter=function enter(t,e,r){var n=this.findPlace(t.create(e));return n&&this.enterInner(t,e,!0,r),n;},P.prototype.enterInner=function enterInner(t,e,r,n){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=wsOptionsFor(t,n,o.options);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new I(t,e,o.activeMarks,o.pendingMarks,r,null,i)),this.open++;},P.prototype.closeExtra=function closeExtra(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--){this.nodes[e-1].content.push(this.nodes[e].finish(t));}this.nodes.length=this.open+1;}},P.prototype.finish=function finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen);},P.prototype.sync=function sync(t){for(var e=this.open;e>=0;e--){if(this.nodes[e]==t)return void(this.open=e);}},_.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var r=this.nodes[e].content,n=r.length-1;n>=0;n--){t+=r[n].nodeSize;}e&&t++;}return t;},P.prototype.findAtPoint=function findAtPoint(t,e){if(this.find)for(var r=0;r<this.find.length;r++){this.find[r].node==t&&this.find[r].offset==e&&(this.find[r].pos=this.currentPos);}},P.prototype.findInside=function findInside(t){if(this.find)for(var e=0;e<this.find.length;e++){null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos);}},P.prototype.findAround=function findAround(t,e,r){if(t!=e&&this.find)for(var n=0;n<this.find.length;n++){if(null==this.find[n].pos&&1==t.nodeType&&t.contains(this.find[n].node))e.compareDocumentPosition(this.find[n].node)&(r?2:4)&&(this.find[n].pos=this.currentPos);}},P.prototype.findInText=function findInText(t){if(this.find)for(var e=0;e<this.find.length;e++){this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset));}},P.prototype.matchesContext=function matchesContext(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var r=t.split("/"),n=this.options.context,o=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(o?0:1),match=function match(t,s){for(;t>=0;t--){var a=r[t];if(""==a){if(t==r.length-1||0==t)continue;for(;s>=i;s--){if(match(t-1,s))return!0;}return!1;}var c=s>0||0==s&&o?e.nodes[s].type:n&&s>=i?n.node(s-i).type:null;if(!c||c.name!=a&&-1==c.groups.indexOf(a))return!1;s--;}return!0;};return match(r.length-1,this.open);},P.prototype.textblockFromContext=function textblockFromContext(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var r=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r;}for(var n in this.parser.schema.nodes){var o=this.parser.schema.nodes[n];if(o.isTextblock&&o.defaultAttrs)return o;}},P.prototype.addPendingMark=function addPendingMark(t){var e=function findSameMarkInSet(t,e){for(var r=0;r<e.length;r++){if(t.eq(e[r]))return e[r];}}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks);},P.prototype.removePendingMark=function removePendingMark(t,e){for(var r=this.open;r>=0;r--){var n=this.nodes[r];if(n.pendingMarks.lastIndexOf(t)>-1)n.pendingMarks=t.removeFromSet(n.pendingMarks);else{n.activeMarks=t.removeFromSet(n.activeMarks);var o=n.popFromStashMark(t);o&&n.type&&n.type.allowsMarkType(o.type)&&(n.activeMarks=o.addToSet(n.activeMarks));}if(n==e)break;}},Object.defineProperties(P.prototype,_);var B=function DOMSerializer(t,e){this.nodes=t||{},this.marks=e||{};};function gatherToDOM(t){var e={};for(var r in t){var n=t[r].spec.toDOM;n&&(e[r]=n);}return e;}function doc(t){return t.document||window.document;}B.prototype.serializeFragment=function serializeFragment(t,e,r){var n=this;void 0===e&&(e={}),r||(r=doc(e).createDocumentFragment());var o=r,i=null;return t.forEach(function(t){if(i||t.marks.length){i||(i=[]);for(var r=0,s=0;r<i.length&&s<t.marks.length;){var a=t.marks[s];if(n.marks[a.type.name]){if(!a.eq(i[r])||!1===a.type.spec.spanning)break;r+=2,s++;}else s++;}for(;r<i.length;){o=i.pop(),i.pop();}for(;s<t.marks.length;){var c=t.marks[s++],u=n.serializeMark(c,t.isInline,e);u&&(i.push(c,o),o.appendChild(u.dom),o=u.contentDOM||u.dom);}}o.appendChild(n.serializeNodeInner(t,e));}),r;},B.prototype.serializeNodeInner=function serializeNodeInner(t,e){void 0===e&&(e={});var r=B.renderSpec(doc(e),this.nodes[t.type.name](t)),n=r.dom,o=r.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o);}return n;},B.prototype.serializeNode=function serializeNode(t,e){void 0===e&&(e={});for(var r=this.serializeNodeInner(t,e),n=t.marks.length-1;n>=0;n--){var o=this.serializeMark(t.marks[n],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom);}return r;},B.prototype.serializeMark=function serializeMark(t,e,r){void 0===r&&(r={});var n=this.marks[t.type.name];return n&&B.renderSpec(doc(r),n(t,e));},B.renderSpec=function renderSpec(t,e,r){if(void 0===r&&(r=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var n=e[0],o=n.indexOf(" ");o>0&&(r=n.slice(0,o),n=n.slice(o+1));var i=null,s=r?t.createElementNS(r,n):t.createElement(n),a=e[1],c=1;if(a&&"object"==_typeof2(a)&&null==a.nodeType&&!Array.isArray(a))for(var u in c=2,a){if(null!=a[u]){var l=u.indexOf(" ");l>0?s.setAttributeNS(u.slice(0,l),u.slice(l+1),a[u]):s.setAttribute(u,a[u]);}}for(var p=c;p<e.length;p++){var f=e[p];if(0===f){if(p<e.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s};}var d=B.renderSpec(t,f,r),h=d.dom,m=d.contentDOM;if(s.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m;}}return{dom:s,contentDOM:i};},B.fromSchema=function fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new B(this.nodesFromSchema(t),this.marksFromSchema(t)));},B.nodesFromSchema=function nodesFromSchema(t){var e=gatherToDOM(t.nodes);return e.text||(e.text=function(t){return t.text;}),e;},B.marksFromSchema=function marksFromSchema(t){return gatherToDOM(t.marks);};var j=Math.pow(2,16);function recoverIndex(t){return 65535&t;}var L=function MapResult(t,e,r){void 0===e&&(e=!1),void 0===r&&(r=null),this.pos=t,this.deleted=e,this.recover=r;},z=function StepMap(t,e){if(void 0===e&&(e=!1),!t.length&&StepMap.empty)return StepMap.empty;this.ranges=t,this.inverted=e;};z.prototype.recover=function recover(t){var e=0,r=recoverIndex(t);if(!this.inverted)for(var n=0;n<r;n++){e+=this.ranges[3*n+2]-this.ranges[3*n+1];}return this.ranges[3*r]+e+function recoverOffset(t){return(t-(65535&t))/j;}(t);},z.prototype.mapResult=function mapResult(t,e){return void 0===e&&(e=1),this._map(t,e,!1);},z.prototype.map=function map(t,e){return void 0===e&&(e=1),this._map(t,e,!0);},z.prototype._map=function _map(t,e,r){for(var n=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+o],u=this.ranges[s+i],l=a+c;if(t<=l){var p=a+n+((c?t==a?-1:t==l?1:e:e)<0?0:u);if(r)return p;var f=t==(e<0?a:l)?null:s/3+(t-a)*j;return new L(p,e<0?t!=a:t!=l,f);}n+=u-c;}return r?t+n:new L(t+n);},z.prototype.touches=function touches(t,e){for(var r=0,n=recoverIndex(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var c=this.ranges[s+o];if(t<=a+c&&s==3*n)return!0;r+=this.ranges[s+i]-c;}return!1;},z.prototype.forEach=function forEach(t){for(var e=this.inverted?2:1,r=this.inverted?1:2,n=0,o=0;n<this.ranges.length;n+=3){var i=this.ranges[n],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),c=this.ranges[n+e],u=this.ranges[n+r];t(s,s+c,a,a+u),o+=u-c;}},z.prototype.invert=function invert(){return new z(this.ranges,!this.inverted);},z.prototype.toString=function toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges);},z.offset=function offset(t){return 0==t?z.empty:new z(t<0?[0,-t,0]:[0,0,t]);},z.empty=new z([]);var V=function Mapping(t,e,r,n){this.maps=t||[],this.from=r||0,this.to=null==n?this.maps.length:n,this.mirror=e;};function TransformError(t){var e=Error.call(this,t);return e.__proto__=TransformError.prototype,e;}V.prototype.slice=function slice(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new V(this.maps,this.mirror,t,e);},V.prototype.copy=function copy(){return new V(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to);},V.prototype.appendMap=function appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e);},V.prototype.appendMapping=function appendMapping(t){for(var e=0,r=this.maps.length;e<t.maps.length;e++){var n=t.getMirror(e);this.appendMap(t.maps[e],null!=n&&n<e?r+n:null);}},V.prototype.getMirror=function getMirror(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++){if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)];}},V.prototype.setMirror=function setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e);},V.prototype.appendMappingInverted=function appendMappingInverted(t){for(var e=t.maps.length-1,r=this.maps.length+t.maps.length;e>=0;e--){var n=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=n&&n>e?r-n-1:null);}},V.prototype.invert=function invert(){var t=new V();return t.appendMappingInverted(this),t;},V.prototype.map=function map(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var r=this.from;r<this.to;r++){t=this.maps[r].map(t,e);}return t;},V.prototype.mapResult=function mapResult(t,e){return void 0===e&&(e=1),this._map(t,e,!1);},V.prototype._map=function _map(t,e,r){for(var n=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(i.recover);continue;}}i.deleted&&(n=!0),t=i.pos;}return r?t:new L(t,n);},TransformError.prototype=Object.create(Error.prototype),TransformError.prototype.constructor=TransformError,TransformError.prototype.name="TransformError";var $=function Transform(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new V();},H={before:{configurable:!0},docChanged:{configurable:!0}};function mustOverride(){throw new Error("Override me");}H.before.get=function(){return this.docs.length?this.docs[0]:this.doc;},$.prototype.step=function step(t){var e=this.maybeStep(t);if(e.failed)throw new TransformError(e.failed);return this;},$.prototype.maybeStep=function maybeStep(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e;},H.docChanged.get=function(){return this.steps.length>0;},$.prototype.addStep=function addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e;},Object.defineProperties($.prototype,H);var U=Object.create(null),W=function Step(){};W.prototype.apply=function apply(t){return mustOverride();},W.prototype.getMap=function getMap(){return z.empty;},W.prototype.invert=function invert(t){return mustOverride();},W.prototype.map=function map(t){return mustOverride();},W.prototype.merge=function merge(t){return null;},W.prototype.toJSON=function toJSON(){return mustOverride();},W.fromJSON=function fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var r=U[e.stepType];if(!r)throw new RangeError("No step type "+e.stepType+" defined");return r.fromJSON(t,e);},W.jsonID=function jsonID(t,e){if(t in U)throw new RangeError("Duplicate use of step JSON ID "+t);return U[t]=e,e.prototype.jsonID=t,e;};var q=function StepResult(t,e){this.doc=t,this.failed=e;};q.ok=function ok(t){return new q(t,null);},q.fail=function fail(t){return new q(null,t);},q.fromReplace=function fromReplace(t,e,r,n){try{return q.ok(t.replace(e,r,n));}catch(t){if(t instanceof ReplaceError)return q.fail(t.message);throw t;}};var J=function(t){function ReplaceStep(e,r,n,o){t.call(this),this.from=e,this.to=r,this.slice=n,this.structure=!!o;}return t&&(ReplaceStep.__proto__=t),ReplaceStep.prototype=Object.create(t&&t.prototype),ReplaceStep.prototype.constructor=ReplaceStep,ReplaceStep.prototype.apply=function apply(t){return this.structure&&contentBetween(t,this.from,this.to)?q.fail("Structure replace would overwrite content"):q.fromReplace(t,this.from,this.to,this.slice);},ReplaceStep.prototype.getMap=function getMap(){return new z([this.from,this.to-this.from,this.slice.size]);},ReplaceStep.prototype.invert=function invert(t){return new ReplaceStep(this.from,this.from+this.slice.size,t.slice(this.from,this.to));},ReplaceStep.prototype.map=function map(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted?null:new ReplaceStep(e.pos,Math.max(e.pos,r.pos),this.slice);},ReplaceStep.prototype.merge=function merge(t){if(!(t instanceof ReplaceStep)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var e=this.slice.size+t.slice.size==0?s.empty:new s(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new ReplaceStep(t.from,this.to,e,this.structure);}var r=this.slice.size+t.slice.size==0?s.empty:new s(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new ReplaceStep(this.from,this.to+(t.to-t.from),r,this.structure);},ReplaceStep.prototype.toJSON=function toJSON(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t;},ReplaceStep.fromJSON=function fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(e.from,e.to,s.fromJSON(t,e.slice),!!e.structure);},ReplaceStep;}(W);W.jsonID("replace",J);var K=function(t){function ReplaceAroundStep(e,r,n,o,i,s,a){t.call(this),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a;}return t&&(ReplaceAroundStep.__proto__=t),ReplaceAroundStep.prototype=Object.create(t&&t.prototype),ReplaceAroundStep.prototype.constructor=ReplaceAroundStep,ReplaceAroundStep.prototype.apply=function apply(t){if(this.structure&&(contentBetween(t,this.from,this.gapFrom)||contentBetween(t,this.gapTo,this.to)))return q.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return q.fail("Gap is not a flat range");var r=this.slice.insertAt(this.insert,e.content);return r?q.fromReplace(t,this.from,this.to,r):q.fail("Content does not fit in gap");},ReplaceAroundStep.prototype.getMap=function getMap(){return new z([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert]);},ReplaceAroundStep.prototype.invert=function invert(t){var e=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure);},ReplaceAroundStep.prototype.map=function map(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),n=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return e.deleted&&r.deleted||n<e.pos||o>r.pos?null:new ReplaceAroundStep(e.pos,r.pos,n,o,this.slice,this.insert,this.structure);},ReplaceAroundStep.prototype.toJSON=function toJSON(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t;},ReplaceAroundStep.fromJSON=function fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(e.from,e.to,e.gapFrom,e.gapTo,s.fromJSON(t,e.slice),e.insert,!!e.structure);},ReplaceAroundStep;}(W);function contentBetween(t,e,r){for(var n=t.resolve(e),o=r-e,i=n.depth;o>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;){i--,o--;}if(o>0)for(var s=n.node(i).maybeChild(n.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--;}return!1;}function canCut(t,e,r){return(0==e||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r));}function liftTarget(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),r=t.depth;;--r){var n=t.$from.node(r),o=t.$from.index(r),i=t.$to.indexAfter(r);if(r<t.depth&&n.canReplace(o,i,e))return r;if(0==r||n.type.spec.isolating||!canCut(n,o,i))break;}}function findWrapping(t,e,r,n){void 0===n&&(n=t);var o=function findWrappingOutside(t,e){var r=t.parent,n=t.startIndex,o=t.endIndex,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return r.canReplaceWith(n,o,s)?i:null;}(t,e),i=o&&function findWrappingInside(t,e){var r=t.parent,n=t.startIndex,o=t.endIndex,i=r.child(n),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=n;a&&c<o;c++){a=a.matchType(r.child(c).type);}if(!a||!a.validEnd)return null;return s;}(n,e);return i?o.map(withAttrs).concat({type:e,attrs:r}).concat(i.map(withAttrs)):null;}function withAttrs(t){return{type:t,attrs:null};}function index_es_canSplit(t,e,r,n){void 0===r&&(r=1);var o=t.resolve(e),i=o.depth-r,s=n&&n[n.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=r-2;a>i;a--,c--){var u=o.node(a),l=o.index(a);if(u.type.spec.isolating)return!1;var p=u.content.cutByIndex(l,u.childCount),f=n&&n[c]||u;if(f!=u&&(p=p.replaceChild(0,f.type.create(f.attrs))),!u.canReplace(l+1,u.childCount)||!f.type.validContent(p))return!1;}var d=o.indexAfter(i),h=n&&n[0];return o.node(i).canReplaceWith(d,d,h?h.type:o.node(i+1).type);}function index_es_canJoin(t,e){var r=t.resolve(e),n=r.index();return index_es_joinable(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1);}function index_es_joinable(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e);}function mapFragment(t,r,n){for(var o=[],i=0;i<t.childCount;i++){var s=t.child(i);s.content.size&&(s=s.copy(mapFragment(s.content,r,s))),s.isInline&&(s=r(s,n,i)),o.push(s);}return e.fromArray(o);}W.jsonID("replaceAround",K),$.prototype.lift=function(t,r){for(var n=t.$from,o=t.$to,i=t.depth,a=n.before(i+1),c=o.after(i+1),u=a,l=c,p=e.empty,f=0,d=i,h=!1;d>r;d--){h||n.index(d)>0?(h=!0,p=e.from(n.node(d).copy(p)),f++):u--;}for(var m=e.empty,v=0,g=i,y=!1;g>r;g--){y||o.after(g+1)<o.end(g)?(y=!0,m=e.from(o.node(g).copy(m)),v++):l++;}return this.step(new K(u,l,a,c,new s(p.append(m),f,v),p.size-f,!0));},$.prototype.wrap=function(t,r){for(var n=e.empty,o=r.length-1;o>=0;o--){if(n.size){var i=r[o].type.contentMatch.matchFragment(n);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper");}n=e.from(r[o].type.create(r[o].attrs,n));}var a=t.start,c=t.end;return this.step(new K(a,c,a,c,new s(n,0,0),r.length,!0));},$.prototype.setBlockType=function(t,r,n,o){var i=this;if(void 0===r&&(r=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(t,r,function(t,r){if(t.isTextblock&&!t.hasMarkup(n,o)&&function canChangeType(t,e,r){var n=t.resolve(e),o=n.index();return n.parent.canReplaceWith(o,o+1,r);}(i.doc,i.mapping.slice(a).map(r),n)){i.clearIncompatible(i.mapping.slice(a).map(r,1),n);var c=i.mapping.slice(a),u=c.map(r,1),l=c.map(r+t.nodeSize,1);return i.step(new K(u,l,u+1,l-1,new s(e.from(n.create(o,null,t.marks)),0,0),1,!0)),!1;}}),this;},$.prototype.setNodeMarkup=function(t,r,n,o){var i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at given position");r||(r=i.type);var a=r.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(t,t+i.nodeSize,a);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);return this.step(new K(t,t+i.nodeSize,t+1,t+i.nodeSize-1,new s(e.from(a),0,0),1,!0));},$.prototype.split=function(t,r,n){void 0===r&&(r=1);for(var o=this.doc.resolve(t),i=e.empty,a=e.empty,c=o.depth,u=o.depth-r,l=r-1;c>u;c--,l--){i=e.from(o.node(c).copy(i));var p=n&&n[l];a=e.from(p?p.type.create(p.attrs,a):o.node(c).copy(a));}return this.step(new J(t,t,new s(i.append(a),r,r),!0));},$.prototype.join=function(t,e){void 0===e&&(e=1);var r=new J(t-e,t+e,s.empty,!0);return this.step(r);};var G=function(t){function AddMarkStep(e,r,n){t.call(this),this.from=e,this.to=r,this.mark=n;}return t&&(AddMarkStep.__proto__=t),AddMarkStep.prototype=Object.create(t&&t.prototype),AddMarkStep.prototype.constructor=AddMarkStep,AddMarkStep.prototype.apply=function apply(t){var e=this,r=t.slice(this.from,this.to),n=t.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new s(mapFragment(r.content,function(t,r){return t.isAtom&&r.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t;},o),r.openStart,r.openEnd);return q.fromReplace(t,this.from,this.to,i);},AddMarkStep.prototype.invert=function invert(){return new Y(this.from,this.to,this.mark);},AddMarkStep.prototype.map=function map(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new AddMarkStep(e.pos,r.pos,this.mark);},AddMarkStep.prototype.merge=function merge(t){if(t instanceof AddMarkStep&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new AddMarkStep(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark);},AddMarkStep.prototype.toJSON=function toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to};},AddMarkStep.fromJSON=function fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(e.from,e.to,t.markFromJSON(e.mark));},AddMarkStep;}(W);W.jsonID("addMark",G);var Y=function(t){function RemoveMarkStep(e,r,n){t.call(this),this.from=e,this.to=r,this.mark=n;}return t&&(RemoveMarkStep.__proto__=t),RemoveMarkStep.prototype=Object.create(t&&t.prototype),RemoveMarkStep.prototype.constructor=RemoveMarkStep,RemoveMarkStep.prototype.apply=function apply(t){var e=this,r=t.slice(this.from,this.to),n=new s(mapFragment(r.content,function(t){return t.mark(e.mark.removeFromSet(t.marks));}),r.openStart,r.openEnd);return q.fromReplace(t,this.from,this.to,n);},RemoveMarkStep.prototype.invert=function invert(){return new G(this.from,this.to,this.mark);},RemoveMarkStep.prototype.map=function map(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new RemoveMarkStep(e.pos,r.pos,this.mark);},RemoveMarkStep.prototype.merge=function merge(t){if(t instanceof RemoveMarkStep&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new RemoveMarkStep(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark);},RemoveMarkStep.prototype.toJSON=function toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to};},RemoveMarkStep.fromJSON=function fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(e.from,e.to,t.markFromJSON(e.mark));},RemoveMarkStep;}(W);function replaceStep(t,e,r,n){if(void 0===r&&(r=e),void 0===n&&(n=s.empty),e==r&&!n.size)return null;var o=t.resolve(e),i=t.resolve(r);return fitsTrivially(o,i,n)?new J(e,r,n):new Q(o,i,n).fit();}function fitsTrivially(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content);}W.jsonID("removeMark",Y),$.prototype.addMark=function(t,e,r){var n=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,function(n,c,u){if(n.isInline){var l=n.marks;if(!r.isInSet(l)&&u.type.allowsMarkType(r.type)){for(var p=Math.max(c,t),f=Math.min(c+n.nodeSize,e),d=r.addToSet(l),h=0;h<l.length;h++){l[h].isInSet(d)||(s&&s.to==p&&s.mark.eq(l[h])?s.to=f:o.push(s=new Y(p,f,l[h])));}a&&a.to==p?a.to=f:i.push(a=new G(p,f,r));}}}),o.forEach(function(t){return n.step(t);}),i.forEach(function(t){return n.step(t);}),this;},$.prototype.removeMark=function(t,e,r){var n=this;void 0===r&&(r=null);var o=[],i=0;return this.doc.nodesBetween(t,e,function(n,s){if(n.isInline){i++;var a=null;if(r instanceof C)for(var c,u=n.marks;c=r.isInSet(u);){(a||(a=[])).push(c),u=c.removeFromSet(u);}else r?r.isInSet(n.marks)&&(a=[r]):a=n.marks;if(a&&a.length)for(var l=Math.min(s+n.nodeSize,e),p=0;p<a.length;p++){for(var f=a[p],d=void 0,h=0;h<o.length;h++){var m=o[h];m.step==i-1&&f.eq(o[h].style)&&(d=m);}d?(d.to=l,d.step=i):o.push({style:f,from:Math.max(s,t),to:l,step:i});}}}),o.forEach(function(t){return n.step(new Y(t.from,t.to,t.style));}),this;},$.prototype.clearIncompatible=function(t,r,n){void 0===n&&(n=r.contentMatch);for(var o=this.doc.nodeAt(t),i=[],a=t+1,c=0;c<o.childCount;c++){var u=o.child(c),l=a+u.nodeSize,p=n.matchType(u.type,u.attrs);if(p){n=p;for(var f=0;f<u.marks.length;f++){r.allowsMarkType(u.marks[f].type)||this.step(new Y(a,l,u.marks[f]));}}else i.push(new J(a,l,s.empty));a=l;}if(!n.validEnd){var d=n.fillBefore(e.empty,!0);this.replace(a,a,new s(d,0,0));}for(var h=i.length-1;h>=0;h--){this.step(i[h]);}return this;},$.prototype.replace=function(t,e,r){void 0===e&&(e=t),void 0===r&&(r=s.empty);var n=replaceStep(this.doc,t,e,r);return n&&this.step(n),this;},$.prototype.replaceWith=function(t,r,n){return this.replace(t,r,new s(e.from(n),0,0));},$.prototype["delete"]=function(t,e){return this.replace(t,e,s.empty);},$.prototype.insert=function(t,e){return this.replaceWith(t,t,e);};var Q=function Fitter(t,r,n){this.$to=r,this.$from=t,this.unplaced=n,this.frontier=[];for(var o=0;o<=t.depth;o++){var i=t.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(t.indexAfter(o))});}this.placed=e.empty;for(var s=t.depth;s>0;s--){this.placed=e.from(t.node(s).copy(this.placed));}},X={depth:{configurable:!0}};function dropFromFragment(t,e,r){return 0==e?t.cutByIndex(r):t.replaceChild(0,t.firstChild.copy(dropFromFragment(t.firstChild.content,e-1,r)));}function addToFragment(t,e,r){return 0==e?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(addToFragment(t.lastChild.content,e-1,r)));}function contentAt(t,e){for(var r=0;r<e;r++){t=t.firstChild.content;}return t;}function closeNodeStart(t,r,n){if(r<=0)return t;var o=t.content;return r>1&&(o=o.replaceChild(0,closeNodeStart(o.firstChild,r-1,1==o.childCount?n-1:0))),r>0&&(o=t.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(t.type.contentMatch.matchFragment(o).fillBefore(e.empty,!0)))),t.copy(o);}function contentAfterFits(t,e,r,n,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!r.compatibleContent(i.type))return null;var a=n.fillBefore(i.content,!0,s);return a&&!function invalidMarks(t,e,r){for(var n=r;n<e.childCount;n++){if(!t.allowsMarks(e.child(n).marks))return!0;}return!1;}(r,i.content,s)?a:null;}function closeFragment(t,r,n,o,i){if(r<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(closeFragment(s.content,r+1,n,o,s)));}if(r>o){var a=i.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(e.empty,!0));}return t;}function coveredDepths(t,e){for(var r=[],n=Math.min(t.depth,e.depth);n>=0;n--){var o=t.start(n);if(o<t.pos-(t.depth-n)||e.end(n)>e.pos+(e.depth-n)||t.node(n).type.spec.isolating||e.node(n).type.spec.isolating)break;(o==e.start(n)||n==t.depth&&n==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&n&&e.start(n-1)==o-1)&&r.push(n);}return r;}X.depth.get=function(){return this.frontier.length-1;},Q.prototype.fit=function fit(){for(;this.unplaced.size;){var fit=this.findFittable();fit?this.placeNodes(fit):this.openMore()||this.dropNode();}var t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,r=this.$from,n=this.close(t<0?this.$to:r.doc.resolve(t));if(!n)return null;for(var o=this.placed,i=r.depth,a=n.depth;i&&a&&1==o.childCount;){o=o.firstChild.content,i--,a--;}var c=new s(o,i,a);return t>-1?new K(r.pos,t,this.$to.pos,this.$to.end(),c,e):c.size||r.pos!=this.$to.pos?new J(r.pos,n.pos,c):void 0;},Q.prototype.findFittable=function findFittable(){for(var t=1;t<=2;t++){for(var r=this.unplaced.openStart;r>=0;r--){for(var n=void 0,o=(r?(n=contentAt(this.unplaced.content,r-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var s=this.frontier[i],a=s.type,c=s.match,u=void 0,l=void 0;if(1==t&&(o?c.matchType(o.type)||(l=c.fillBefore(e.from(o),!1)):a.compatibleContent(n.type)))return{sliceDepth:r,frontierDepth:i,parent:n,inject:l};if(2==t&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:i,parent:n,wrap:u};if(n&&c.matchType(n.type))break;}}}},Q.prototype.openMore=function openMore(){var t=this.unplaced,e=t.content,r=t.openStart,n=t.openEnd,o=contentAt(e,r);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new s(e,r+1,Math.max(n,o.size+r>=e.size-n?r+1:0)),!0);},Q.prototype.dropNode=function dropNode(){var t=this.unplaced,e=t.content,r=t.openStart,n=t.openEnd,o=contentAt(e,r);if(o.childCount<=1&&r>0){var i=e.size-r<=r+o.size;this.unplaced=new s(dropFromFragment(e,r-1,1),r-1,i?r-1:n);}else this.unplaced=new s(dropFromFragment(e,r,1),r,n);},Q.prototype.placeNodes=function placeNodes(t){for(var r=t.sliceDepth,n=t.frontierDepth,o=t.parent,i=t.inject,a=t.wrap;this.depth>n;){this.closeFrontierNode();}if(a)for(var c=0;c<a.length;c++){this.openFrontierNode(a[c]);}var u=this.unplaced,l=o?o.content:u.content,p=u.openStart-r,f=0,d=[],h=this.frontier[n],m=h.match,v=h.type;if(i){for(var g=0;g<i.childCount;g++){d.push(i.child(g));}m=m.matchFragment(i);}for(var y=l.size+r-(u.content.size-u.openEnd);f<l.childCount;){var b=l.child(f),w=m.matchType(b.type);if(!w)break;(++f>1||0==p||b.content.size)&&(m=w,d.push(closeNodeStart(b.mark(v.allowedMarks(b.marks)),1==f?p:0,f==l.childCount?y:-1)));}var x=f==l.childCount;x||(y=-1),this.placed=addToFragment(this.placed,n,e.from(d)),this.frontier[n].match=m,x&&y<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var D=0,S=l;D<y;D++){var k=S.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),S=k.content;}this.unplaced=x?0==r?s.empty:new s(dropFromFragment(u.content,r-1,1),r-1,y<0?u.openEnd:r-1):new s(dropFromFragment(u.content,r,f),u.openStart,u.openEnd);},Q.prototype.mustMoveInline=function mustMoveInline(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var r=this.$to.depth,n=this.$to.after(r);r>1&&n==this.$to.end(--r);){++n;}return n;},Q.prototype.findCloseLevel=function findCloseLevel(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var r=this.frontier[e],n=r.match,o=r.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=contentAfterFits(t,e,o,n,i);if(s){for(var a=e-1;a>=0;a--){var c=this.frontier[a],u=c.match,l=contentAfterFits(t,a,c.type,u,!0);if(!l||l.childCount)continue t;}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t};}}},Q.prototype.close=function close(t){var close=this.findCloseLevel(t);if(!close)return null;for(;this.depth>close.depth;){this.closeFrontierNode();}close.fit.childCount&&(this.placed=addToFragment(this.placed,close.depth,close.fit)),t=close.move;for(var e=close.depth+1;e<=t.depth;e++){var r=t.node(e),n=r.type.contentMatch.fillBefore(r.content,!0,t.index(e));this.openFrontierNode(r.type,r.attrs,n);}return t;},Q.prototype.openFrontierNode=function openFrontierNode(t,r,n){var o=this.frontier[this.depth];o.match=o.match.matchType(t),this.placed=addToFragment(this.placed,this.depth,e.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch});},Q.prototype.closeFrontierNode=function closeFrontierNode(){var t=this.frontier.pop().match.fillBefore(e.empty,!0);t.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,t));},Object.defineProperties(Q.prototype,X),$.prototype.replaceRange=function(t,e,r){if(!r.size)return this.deleteRange(t,e);var n=this.doc.resolve(t),o=this.doc.resolve(e);if(fitsTrivially(n,o,r))return this.step(new J(t,e,r));var i=coveredDepths(n,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var a=-(n.depth+1);i.unshift(a);for(var c=n.depth,u=n.pos-1;c>0;c--,u--){var l=n.node(c).type.spec;if(l.defining||l.isolating)break;i.indexOf(c)>-1?a=c:n.before(c)==u&&i.splice(1,0,-c);}for(var p=i.indexOf(a),f=[],d=r.openStart,h=r.content,m=0;;m++){var v=h.firstChild;if(f.push(v),m==r.openStart)break;h=v.content;}d>0&&f[d-1].type.spec.defining&&n.node(p).type!=f[d-1].type?d-=1:d>=2&&f[d-1].isTextblock&&f[d-2].type.spec.defining&&n.node(p).type!=f[d-2].type&&(d-=2);for(var g=r.openStart;g>=0;g--){var y=(g+d+1)%(r.openStart+1),b=f[y];if(b)for(var w=0;w<i.length;w++){var x=i[(w+p)%i.length],D=!0;x<0&&(D=!1,x=-x);var S=n.node(x-1),k=n.index(x-1);if(S.canReplaceWith(k,k,b.type,b.marks))return this.replace(n.before(x),D?o.after(x):e,new s(closeFragment(r.content,0,r.openStart,y),y,r.openEnd));}}for(var E=this.steps.length,A=i.length-1;A>=0&&(this.replace(t,e,r),!(this.steps.length>E));A--){var C=i[A];C<0||(t=n.before(C),e=o.after(C));}return this;},$.prototype.replaceRangeWith=function(t,r,n){if(!n.isInline&&t==r&&this.doc.resolve(t).parent.content.size){var o=function insertPoint(t,e,r){var n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(0==n.parentOffset)for(var o=n.depth-1;o>=0;o--){var i=n.index(o);if(n.node(o).canReplaceWith(i,i,r))return n.before(o+1);if(i>0)return null;}if(n.parentOffset==n.parent.content.size)for(var s=n.depth-1;s>=0;s--){var a=n.indexAfter(s);if(n.node(s).canReplaceWith(a,a,r))return n.after(s+1);if(a<n.node(s).childCount)return null;}}(this.doc,t,n.type);null!=o&&(t=r=o);}return this.replaceRange(t,r,new s(e.from(n),0,0));},$.prototype.deleteRange=function(t,e){for(var r=this.doc.resolve(t),n=this.doc.resolve(e),o=coveredDepths(r,n),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||r.node(s).type.contentMatch.validEnd)return this["delete"](r.start(s),n.end(s));if(s>0&&(a||r.node(s-1).canReplace(r.index(s-1),n.indexAfter(s-1))))return this["delete"](r.before(s),n.after(s));}for(var c=1;c<=r.depth&&c<=n.depth;c++){if(t-r.start(c)==r.depth-c&&e>r.end(c)&&n.end(c)-e!=n.depth-c)return this["delete"](r.before(c),e);}return this["delete"](t,e);};var Z=Object.create(null),et=function Selection(t,e,r){this.ranges=r||[new nt(t.min(e),t.max(e))],this.$anchor=t,this.$head=e;},rt={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};rt.anchor.get=function(){return this.$anchor.pos;},rt.head.get=function(){return this.$head.pos;},rt.from.get=function(){return this.$from.pos;},rt.to.get=function(){return this.$to.pos;},rt.$from.get=function(){return this.ranges[0].$from;},rt.$to.get=function(){return this.ranges[0].$to;},rt.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++){if(t[e].$from.pos!=t[e].$to.pos)return!1;}return!0;},et.prototype.content=function content(){return this.$from.node(0).slice(this.from,this.to,!0);},et.prototype.replace=function replace(t,e){void 0===e&&(e=s.empty);for(var r=e.content.lastChild,n=null,o=0;o<e.openEnd;o++){n=r,r=r.lastChild;}for(var i=t.steps.length,a=this.ranges,c=0;c<a.length;c++){var u=a[c],l=u.$from,p=u.$to,f=t.mapping.slice(i);t.replaceRange(f.map(l.pos),f.map(p.pos),c?s.empty:e),0==c&&selectionToInsertionEnd(t,i,(r?r.isInline:n&&n.isTextblock)?-1:1);}},et.prototype.replaceWith=function replaceWith(t,e){for(var r=t.steps.length,n=this.ranges,o=0;o<n.length;o++){var i=n[o],s=i.$from,a=i.$to,c=t.mapping.slice(r),u=c.map(s.pos),l=c.map(a.pos);o?t.deleteRange(u,l):(t.replaceRangeWith(u,l,e),selectionToInsertionEnd(t,r,e.isInline?-1:1));}},et.findFrom=function findFrom(t,e,r){var n=t.parent.inlineContent?new ot(t):findSelectionIn(t.node(0),t.parent,t.pos,t.index(),e,r);if(n)return n;for(var o=t.depth-1;o>=0;o--){var i=e<0?findSelectionIn(t.node(0),t.node(o),t.before(o+1),t.index(o),e,r):findSelectionIn(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,r);if(i)return i;}},et.near=function near(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new ut(t.node(0));},et.atStart=function atStart(t){return findSelectionIn(t,t,0,0,1)||new ut(t);},et.atEnd=function atEnd(t){return findSelectionIn(t,t,t.content.size,t.childCount,-1)||new ut(t);},et.fromJSON=function fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var r=Z[e.type];if(!r)throw new RangeError("No selection type "+e.type+" defined");return r.fromJSON(t,e);},et.jsonID=function jsonID(t,e){if(t in Z)throw new RangeError("Duplicate use of selection JSON ID "+t);return Z[t]=e,e.prototype.jsonID=t,e;},et.prototype.getBookmark=function getBookmark(){return ot.between(this.$anchor,this.$head).getBookmark();},Object.defineProperties(et.prototype,rt),et.prototype.visible=!0;var nt=function SelectionRange(t,e){this.$from=t,this.$to=e;},ot=function(t){function TextSelection(e,r){void 0===r&&(r=e),t.call(this,e,r);}t&&(TextSelection.__proto__=t),TextSelection.prototype=Object.create(t&&t.prototype),TextSelection.prototype.constructor=TextSelection;var e={$cursor:{configurable:!0}};return e.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null;},TextSelection.prototype.map=function map(e,r){var n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return t.near(n);var o=e.resolve(r.map(this.anchor));return new TextSelection(o.parent.inlineContent?o:n,n);},TextSelection.prototype.replace=function replace(e,r){if(void 0===r&&(r=s.empty),t.prototype.replace.call(this,e,r),r==s.empty){var n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n);}},TextSelection.prototype.eq=function eq(t){return t instanceof TextSelection&&t.anchor==this.anchor&&t.head==this.head;},TextSelection.prototype.getBookmark=function getBookmark(){return new it(this.anchor,this.head);},TextSelection.prototype.toJSON=function toJSON(){return{type:"text",anchor:this.anchor,head:this.head};},TextSelection.fromJSON=function fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(t.resolve(e.anchor),t.resolve(e.head));},TextSelection.create=function create(t,e,r){void 0===r&&(r=e);var n=t.resolve(e);return new this(n,r==e?n:t.resolve(r));},TextSelection.between=function between(e,r,n){var o=e.pos-r.pos;if(n&&!o||(n=o>=0?1:-1),!r.parent.inlineContent){var i=t.findFrom(r,n,!0)||t.findFrom(r,-n,!0);if(!i)return t.near(r,n);r=i.$head;}return e.parent.inlineContent||(0==o||(e=(t.findFrom(e,-n,!0)||t.findFrom(e,n,!0)).$anchor).pos<r.pos!=o<0)&&(e=r),new TextSelection(e,r);},Object.defineProperties(TextSelection.prototype,e),TextSelection;}(et);et.jsonID("text",ot);var it=function TextBookmark(t,e){this.anchor=t,this.head=e;};it.prototype.map=function map(t){return new it(t.map(this.anchor),t.map(this.head));},it.prototype.resolve=function resolve(t){return ot.between(t.resolve(this.anchor),t.resolve(this.head));};var st=function(t){function NodeSelection(e){var r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);t.call(this,e,n),this.node=r;}return t&&(NodeSelection.__proto__=t),NodeSelection.prototype=Object.create(t&&t.prototype),NodeSelection.prototype.constructor=NodeSelection,NodeSelection.prototype.map=function map(e,r){var n=r.mapResult(this.anchor),o=n.deleted,i=n.pos,s=e.resolve(i);return o?t.near(s):new NodeSelection(s);},NodeSelection.prototype.content=function content(){return new s(e.from(this.node),0,0);},NodeSelection.prototype.eq=function eq(t){return t instanceof NodeSelection&&t.anchor==this.anchor;},NodeSelection.prototype.toJSON=function toJSON(){return{type:"node",anchor:this.anchor};},NodeSelection.prototype.getBookmark=function getBookmark(){return new ct(this.anchor);},NodeSelection.fromJSON=function fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(t.resolve(e.anchor));},NodeSelection.create=function create(t,e){return new this(t.resolve(e));},NodeSelection.isSelectable=function isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable;},NodeSelection;}(et);st.prototype.visible=!1,et.jsonID("node",st);var ct=function NodeBookmark(t){this.anchor=t;};ct.prototype.map=function map(t){var e=t.mapResult(this.anchor),r=e.deleted,n=e.pos;return r?new it(n,n):new ct(n);},ct.prototype.resolve=function resolve(t){var e=t.resolve(this.anchor),r=e.nodeAfter;return r&&st.isSelectable(r)?new st(e):et.near(e);};var ut=function(t){function AllSelection(e){t.call(this,e.resolve(0),e.resolve(e.content.size));}return t&&(AllSelection.__proto__=t),AllSelection.prototype=Object.create(t&&t.prototype),AllSelection.prototype.constructor=AllSelection,AllSelection.prototype.replace=function replace(e,r){if(void 0===r&&(r=s.empty),r==s.empty){e["delete"](0,e.doc.content.size);var n=t.atStart(e.doc);n.eq(e.selection)||e.setSelection(n);}else t.prototype.replace.call(this,e,r);},AllSelection.prototype.toJSON=function toJSON(){return{type:"all"};},AllSelection.fromJSON=function fromJSON(t){return new AllSelection(t);},AllSelection.prototype.map=function map(t){return new AllSelection(t);},AllSelection.prototype.eq=function eq(t){return t instanceof AllSelection;},AllSelection.prototype.getBookmark=function getBookmark(){return lt;},AllSelection;}(et);et.jsonID("all",ut);var lt={map:function map(){return this;},resolve:function resolve(t){return new ut(t);}};function findSelectionIn(t,e,r,n,o,i){if(e.inlineContent)return ot.create(t,r);for(var s=n-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&st.isSelectable(a))return st.create(t,r-(o<0?a.nodeSize:0));}else{var c=findSelectionIn(t,a,r+o,o<0?a.childCount:0,o,i);if(c)return c;}r+=a.nodeSize*o;}}function selectionToInsertionEnd(t,e,r){var n=t.steps.length-1;if(!(n<e)){var o,i=t.steps[n];if(i instanceof J||i instanceof K)t.mapping.maps[n].forEach(function(t,e,r,n){null==o&&(o=n);}),t.setSelection(et.near(t.doc.resolve(o),r));}}var pt=function(t){function Transaction(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null);}t&&(Transaction.__proto__=t),Transaction.prototype=Object.create(t&&t.prototype),Transaction.prototype.constructor=Transaction;var e={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return e.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection;},Transaction.prototype.setSelection=function setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this;},e.selectionSet.get=function(){return(1&this.updated)>0;},Transaction.prototype.setStoredMarks=function setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this;},Transaction.prototype.ensureMarks=function ensureMarks(t){return i.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this;},Transaction.prototype.addStoredMark=function addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()));},Transaction.prototype.removeStoredMark=function removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()));},e.storedMarksSet.get=function(){return(2&this.updated)>0;},Transaction.prototype.addStep=function addStep(e,r){t.prototype.addStep.call(this,e,r),this.updated=-3&this.updated,this.storedMarks=null;},Transaction.prototype.setTime=function setTime(t){return this.time=t,this;},Transaction.prototype.replaceSelection=function replaceSelection(t){return this.selection.replace(this,t),this;},Transaction.prototype.replaceSelectionWith=function replaceSelectionWith(t,e){var r=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||i.none))),r.replaceWith(this,t),this;},Transaction.prototype.deleteSelection=function deleteSelection(){return this.selection.replace(this),this;},Transaction.prototype.insertText=function insertText(t,e,r){void 0===r&&(r=e);var n=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(n.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,r);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=r==e?i.marks():i.marksAcross(this.doc.resolve(r));}return this.replaceRangeWith(e,r,n.text(t,o)),this.selection.empty||this.setSelection(et.near(this.selection.$to)),this;},Transaction.prototype.setMeta=function setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this;},Transaction.prototype.getMeta=function getMeta(t){return this.meta["string"==typeof t?t:t.key];},e.isGeneric.get=function(){for(var t in this.meta){return!1;}return!0;},Transaction.prototype.scrollIntoView=function scrollIntoView(){return this.updated|=4,this;},e.scrolledIntoView.get=function(){return(4&this.updated)>0;},Object.defineProperties(Transaction.prototype,e),Transaction;}($);function bind(t,e){return e&&t?t.bind(e):t;}var ft=function FieldDesc(t,e,r){this.name=t,this.init=bind(e.init,r),this.apply=bind(e.apply,r);},dt=[new ft("doc",{init:function init(t){return t.doc||t.schema.topNodeType.createAndFill();},apply:function apply(t){return t.doc;}}),new ft("selection",{init:function init(t,e){return t.selection||et.atStart(e.doc);},apply:function apply(t){return t.selection;}}),new ft("storedMarks",{init:function init(t){return t.storedMarks||null;},apply:function apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null;}}),new ft("scrollToSelection",{init:function init(){return 0;},apply:function apply(t,e){return t.scrolledIntoView?e+1:e;}})],ht=function Configuration(t,e){var r=this;this.schema=t,this.fields=dt.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach(function(t){if(r.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");r.plugins.push(t),r.pluginsByKey[t.key]=t,t.spec.state&&r.fields.push(new ft(t.key,t.spec.state,t));});},mt=function EditorState(t){this.config=t;},vt={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};vt.schema.get=function(){return this.config.schema;},vt.plugins.get=function(){return this.config.plugins;},mt.prototype.apply=function apply(t){return this.applyTransaction(t).state;},mt.prototype.filterTransaction=function filterTransaction(t,e){void 0===e&&(e=-1);for(var r=0;r<this.config.plugins.length;r++){if(r!=e){var n=this.config.plugins[r];if(n.spec.filterTransaction&&!n.spec.filterTransaction.call(n,t,this))return!1;}}return!0;},mt.prototype.applyTransaction=function applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],r=this.applyInner(t),n=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=n?n[i].n:0,c=n?n[i].state:this,u=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,r);if(u&&r.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",t),!n){n=[];for(var l=0;l<this.config.plugins.length;l++){n.push(l<i?{state:r,n:e.length}:{state:this,n:0});}}e.push(u),r=r.applyInner(u),o=!0;}n&&(n[i]={state:r,n:e.length});}}if(!o)return{state:r,transactions:e};}},mt.prototype.applyInner=function applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new mt(this.config),r=this.config.fields,n=0;n<r.length;n++){var o=r[n];e[o.name]=o.apply(t,this[o.name],this,e);}for(var i=0;i<gt.length;i++){gt[i](this,t,e);}return e;},vt.tr.get=function(){return new pt(this);},mt.create=function create(t){for(var e=new ht(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new mt(e),n=0;n<e.fields.length;n++){r[e.fields[n].name]=e.fields[n].init(t,r);}return r;},mt.prototype.reconfigure=function reconfigure(t){for(var e=new ht(this.schema,t.plugins),r=e.fields,n=new mt(e),o=0;o<r.length;o++){var i=r[o].name;n[i]=this.hasOwnProperty(i)?this[i]:r[o].init(t,n);}return n;},mt.prototype.toJSON=function toJSON(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map(function(t){return t.toJSON();})),t&&"object"==_typeof2(t))for(var r in t){if("doc"==r||"selection"==r)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var n=t[r],o=n.spec.state;o&&o.toJSON&&(e[r]=o.toJSON.call(n,this[n.key]));}return e;},mt.fromJSON=function fromJSON(t,e,r){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var n=new ht(t.schema,t.plugins),o=new mt(n);return n.fields.forEach(function(n){if("doc"==n.name)o.doc=v.fromJSON(t.schema,e.doc);else if("selection"==n.name)o.selection=et.fromJSON(o.doc,e.selection);else if("storedMarks"==n.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(r)for(var i in r){var s=r[i],a=s.spec.state;if(s.key==n.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[n.name]=a.fromJSON.call(s,t,e[i],o));}o[n.name]=n.init(t,o);}}),o;},mt.addApplyListener=function addApplyListener(t){gt.push(t);},mt.removeApplyListener=function removeApplyListener(t){var e=gt.indexOf(t);e>-1&&gt.splice(e,1);},Object.defineProperties(mt.prototype,vt);var gt=[];function bindProps(t,e,r){for(var n in t){var o=t[n];o instanceof Function?o=o.bind(e):"handleDOMEvents"==n&&(o=bindProps(o,e,{})),r[n]=o;}return r;}var yt=function Plugin(t){this.props={},t.props&&bindProps(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:createKey("plugin");};yt.prototype.getState=function getState(t){return t[this.key];};var bt=Object.create(null);function createKey(t){return t in bt?t+"$"+ ++bt[t]:(bt[t]=0,t+"$");}var wt=function PluginKey(t){void 0===t&&(t="key"),this.key=createKey(t);};function _deleteSelection(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);}function _joinBackward(t,e,r){var n=t.selection.$cursor;if(!n||(r?!r.endOfTextblock("backward",t):n.parentOffset>0))return!1;var o=findCutBefore(n);if(!o){var i=n.blockRange(),a=i&&liftTarget(i);return null!=a&&(e&&e(t.tr.lift(i,a).scrollIntoView()),!0);}var c=o.nodeBefore;if(!c.type.spec.isolating&&deleteBarrier(t,o,e))return!0;if(0==n.parent.content.size&&(textblockAt(c,"end")||st.isSelectable(c))){var u=replaceStep(t.doc,n.before(),n.after(),s.empty);if(u.slice.size<u.to-u.from){if(e){var l=t.tr.step(u);l.setSelection(textblockAt(c,"end")?et.findFrom(l.doc.resolve(l.mapping.map(o.pos,-1)),-1):st.create(l.doc,o.pos-c.nodeSize)),e(l.scrollIntoView());}return!0;}}return!(!c.isAtom||o.depth!=n.depth-1)&&(e&&e(t.tr["delete"](o.pos-c.nodeSize,o.pos).scrollIntoView()),!0);}function textblockAt(t,e,r){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(r&&1!=t.childCount)return!1;}return!1;}function _selectNodeBackward(t,e,r){var n=t.selection,o=n.$head,i=o;if(!n.empty)return!1;if(o.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=findCutBefore(o);}var s=i&&i.nodeBefore;return!(!s||!st.isSelectable(s))&&(e&&e(t.tr.setSelection(st.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0);}function findCutBefore(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break;}return null;}function _joinForward(t,e,r){var n=t.selection.$cursor;if(!n||(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size))return!1;var o=findCutAfter(n);if(!o)return!1;var i=o.nodeAfter;if(deleteBarrier(t,o,e))return!0;if(0==n.parent.content.size&&(textblockAt(i,"start")||st.isSelectable(i))){var a=replaceStep(t.doc,n.before(),n.after(),s.empty);if(a.slice.size<a.to-a.from){if(e){var c=t.tr.step(a);c.setSelection(textblockAt(i,"start")?et.findFrom(c.doc.resolve(c.mapping.map(o.pos)),1):st.create(c.doc,c.mapping.map(o.pos))),e(c.scrollIntoView());}return!0;}}return!(!i.isAtom||o.depth!=n.depth-1)&&(e&&e(t.tr["delete"](o.pos,o.pos+i.nodeSize).scrollIntoView()),!0);}function _selectNodeForward(t,e,r){var n=t.selection,o=n.$head,i=o;if(!n.empty)return!1;if(o.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=findCutAfter(o);}var s=i&&i.nodeAfter;return!(!s||!st.isSelectable(s))&&(e&&e(t.tr.setSelection(st.create(t.doc,i.pos)).scrollIntoView()),!0);}function findCutAfter(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break;}return null;}function _newlineInCode(t,e){var r=t.selection,n=r.$head,o=r.$anchor;return!(!n.parent.type.spec.code||!n.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0);}function defaultBlockAt(t){for(var e=0;e<t.edgeCount;e++){var r=t.edge(e).type;if(r.isTextblock&&!r.hasRequiredAttrs())return r;}return null;}function _exitCode(t,e){var r=t.selection,n=r.$head,o=r.$anchor;if(!n.parent.type.spec.code||!n.sameParent(o))return!1;var i=n.node(-1),s=n.indexAfter(-1),a=defaultBlockAt(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var c=n.after(),u=t.tr.replaceWith(c,c,a.createAndFill());u.setSelection(et.near(u.doc.resolve(c),1)),e(u.scrollIntoView());}return!0;}function _createParagraphNear(t,e){var r=t.selection,n=r.$from,o=r.$to;if(r instanceof ut||n.parent.inlineContent||o.parent.inlineContent)return!1;var i=defaultBlockAt(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!n.parentOffset&&o.index()<o.parent.childCount?n:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(ot.create(a.doc,s+1)),e(a.scrollIntoView());}return!0;}function _liftEmptyBlock(t,e){var r=t.selection.$cursor;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){var n=r.before();if(index_es_canSplit(t.doc,n))return e&&e(t.tr.split(n).scrollIntoView()),!0;}var o=r.blockRange(),i=o&&liftTarget(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0);}function splitBlock(t,e){var r=t.selection,n=r.$from,o=r.$to;if(t.selection instanceof st&&t.selection.node.isBlock)return!(!n.parentOffset||!index_es_canSplit(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;(t.selection instanceof ot||t.selection instanceof ut)&&s.deleteSelection();var a=0==n.depth?null:defaultBlockAt(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=i&&a?[{type:a}]:null,u=index_es_canSplit(s.doc,s.mapping.map(n.pos),1,c);if(c||u||!index_es_canSplit(s.doc,s.mapping.map(n.pos),1,a&&[{type:a}])||(c=[{type:a}],u=!0),u&&(s.split(s.mapping.map(n.pos),1,c),!i&&!n.parentOffset&&n.parent.type!=a)){var l=s.mapping.map(n.before()),p=s.doc.resolve(l);n.node(-1).canReplaceWith(p.index(),p.index()+1,a)&&s.setNodeMarkup(s.mapping.map(n.before()),a);}e(s.scrollIntoView());}return!0;}function deleteBarrier(t,r,n){var o,i,a=r.nodeBefore,c=r.nodeAfter;if(a.type.spec.isolating||c.type.spec.isolating)return!1;if(function joinMaybeClear(t,e,r){var n=e.nodeBefore,o=e.nodeAfter,i=e.index();return!(!(n&&o&&n.type.compatibleContent(o.type))||(!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr["delete"](e.pos-n.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(i,i+1)||!o.isTextblock&&!index_es_canJoin(t.doc,e.pos)||(r&&r(t.tr.clearIncompatible(e.pos,n.type,n.contentMatchAt(n.childCount)).join(e.pos).scrollIntoView()),0)));}(t,r,n))return!0;var u=r.parent.canReplace(r.index(),r.index()+1);if(u&&(o=(i=a.contentMatchAt(a.childCount)).findWrapping(c.type))&&i.matchType(o[0]||c.type).validEnd){if(n){for(var l=r.pos+c.nodeSize,p=e.empty,f=o.length-1;f>=0;f--){p=e.from(o[f].create(null,p));}p=e.from(a.copy(p));var d=t.tr.step(new K(r.pos-1,l,r.pos,l,new s(p,1,0),o.length,!0)),h=l+2*o.length;index_es_canJoin(d.doc,h)&&d.join(h),n(d.scrollIntoView());}return!0;}var m=et.findFrom(r,1),v=m&&m.$from.blockRange(m.$to),g=v&&liftTarget(v);if(null!=g&&g>=r.depth)return n&&n(t.tr.lift(v,g).scrollIntoView()),!0;if(u&&textblockAt(c,"start",!0)&&textblockAt(a,"end")){for(var y=a,b=[];b.push(y),!y.isTextblock;){y=y.lastChild;}for(var w=c,x=1;!w.isTextblock;w=w.firstChild){x++;}if(y.canReplace(y.childCount,y.childCount,w.content)){if(n){for(var D=e.empty,S=b.length-1;S>=0;S--){D=e.from(b[S].copy(D));}n(t.tr.step(new K(r.pos-b.length,r.pos+c.nodeSize,r.pos+x,r.pos+c.nodeSize-x,new s(D,b.length,0),0,!0)).scrollIntoView());}return!0;}}return!1;}function selectTextblockSide(t){return function(e,r){for(var n=e.selection,o=t<0?n.$from:n.$to,i=o.depth;o.node(i).isInline;){if(!i)return!1;i--;}return!!o.node(i).isTextblock&&(r&&r(e.tr.setSelection(ot.create(e.doc,t<0?o.start(i):o.end(i)))),!0);};}wt.prototype.get=function get(t){return t.config.pluginsByKey[this.key];},wt.prototype.getState=function getState(t){return t[this.key];};var xt=selectTextblockSide(-1),Dt=selectTextblockSide(1);function setBlockType(t,e){return function(r,n){var o=r.selection,i=o.from,s=o.to,a=!1;return r.doc.nodesBetween(i,s,function(n,o){if(a)return!1;if(n.isTextblock&&!n.hasMarkup(t,e))if(n.type==t)a=!0;else{var i=r.doc.resolve(o),s=i.index();a=i.parent.canReplaceWith(s,s+1,t);}}),!!a&&(n&&n(r.tr.setBlockType(i,s,t,e).scrollIntoView()),!0);};}function chainCommands(){for(var t=[],e=arguments.length;e--;){t[e]=arguments[e];}return function(e,r,n){for(var o=0;o<t.length;o++){if(t[o](e,r,n))return!0;}return!1;};}var St=chainCommands(_deleteSelection,_joinBackward,_selectNodeBackward),kt=chainCommands(_deleteSelection,_joinForward,_selectNodeForward),Et={Enter:chainCommands(_newlineInCode,_createParagraphNear,_liftEmptyBlock,splitBlock),"Mod-Enter":_exitCode,Backspace:St,"Mod-Backspace":St,"Shift-Backspace":St,Delete:kt,"Mod-Delete":kt,"Mod-a":function selectAll(t,e){return e&&e(t.tr.setSelection(new ut(t.doc))),!0;}},At={"Ctrl-h":Et.Backspace,"Alt-Backspace":Et["Mod-Backspace"],"Ctrl-d":Et.Delete,"Ctrl-Alt-Backspace":Et["Mod-Delete"],"Alt-Delete":Et["Mod-Delete"],"Alt-d":Et["Mod-Delete"],"Ctrl-a":xt,"Ctrl-e":Dt};for(var Ct in Et){At[Ct]=Et[Ct];}Et.Home=xt,Et.End=Dt;"undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&os.platform();function _wrapInList(t,r){return function(n,o){var i=n.selection,a=i.$from,c=i.$to,u=a.blockRange(c),l=!1,p=u;if(!u)return!1;if(u.depth>=2&&a.node(u.depth-1).type.compatibleContent(t)&&0==u.startIndex){if(0==a.index(u.depth-1))return!1;var f=n.doc.resolve(u.start-2);p=new d(f,f,u.depth),u.endIndex<u.parent.childCount&&(u=new d(a,n.doc.resolve(c.end(u.depth)),u.depth)),l=!0;}var h=findWrapping(p,t,r,u);return!!h&&(o&&o(function doWrapInList(t,r,n,o,i){for(var a=e.empty,c=n.length-1;c>=0;c--){a=e.from(n[c].type.create(n[c].attrs,a));}t.step(new K(r.start-(o?2:0),r.end,r.start,r.end,new s(a,0,0),n.length,!0));for(var u=0,l=0;l<n.length;l++){n[l].type==i&&(u=l+1);}for(var p=n.length-u,f=r.start+n.length-(o?2:0),d=r.parent,h=r.startIndex,m=r.endIndex,v=!0;h<m;h++,v=!1){!v&&index_es_canSplit(t.doc,f,p)&&(t.split(f,p),f+=2*p),f+=d.child(h).nodeSize;}return t;}(n.tr,u,h,l,t).scrollIntoView()),!0);};}function _liftListItem(t){return function(r,n){var o=r.selection,i=o.$from,a=o.$to,c=i.blockRange(a,function(e){return e.childCount&&e.firstChild.type==t;});return!!c&&(!n||(i.node(c.depth-1).type==t?function liftToOuterList(t,r,n,o){var i=t.tr,a=o.end,c=o.$to.end(o.depth);a<c&&(i.step(new K(a-1,c,a,c,new s(e.from(n.create(null,o.parent.copy())),1,0),1,!0)),o=new d(i.doc.resolve(o.$from.pos),i.doc.resolve(c),o.depth));return r(i.lift(o,liftTarget(o)).scrollIntoView()),!0;}(r,n,t,c):function liftOutOfList(t,r,n){for(var o=t.tr,i=n.parent,a=n.end,c=n.endIndex-1,u=n.startIndex;c>u;c--){a-=i.child(c).nodeSize,o["delete"](a-1,a+1);}var l=o.doc.resolve(n.start),p=l.nodeAfter;if(o.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;var f=0==n.startIndex,d=n.endIndex==i.childCount,h=l.node(-1),m=l.index(-1);if(!h.canReplace(m+(f?0:1),m+1,p.content.append(d?e.empty:e.from(i))))return!1;var v=l.pos,g=v+p.nodeSize;return o.step(new K(v-(f?1:0),g+(d?1:0),v+1,g-1,new s((f?e.empty:e.from(i.copy(e.empty))).append(d?e.empty:e.from(i.copy(e.empty))),f?0:1,d?0:1),f?0:1)),r(o.scrollIntoView()),!0;}(r,n,c)));};}var Ot={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var Mt=/Edge\/(\d+)/.exec(navigator.userAgent),Tt=/MSIE \d/.test(navigator.userAgent),Nt=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Rt=Ot.ie=!!(Tt||Nt||Mt);Ot.ie_version=Tt?document.documentMode||6:Nt?+Nt[1]:Mt?+Mt[1]:null,Ot.gecko=!Rt&&/gecko\/(\d+)/i.test(navigator.userAgent),Ot.gecko_version=Ot.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Ft=!Rt&&/Chrome\/(\d+)/.exec(navigator.userAgent);Ot.chrome=!!Ft,Ot.chrome_version=Ft&&+Ft[1],Ot.safari=!Rt&&/Apple Computer/.test(navigator.vendor),Ot.ios=Ot.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Ot.mac=Ot.ios||/Mac/.test(navigator.platform),Ot.android=/Android \d/.test(navigator.userAgent),Ot.webkit="webkitFontSmoothing"in document.documentElement.style,Ot.webkit_version=Ot.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];}var domIndex=function domIndex(t){for(var e=0;;e++){if(!(t=t.previousSibling))return e;}},parentNode=function parentNode(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e;},It=null,textRange=function textRange(t,e,r){var n=It||(It=document.createRange());return n.setEnd(t,null==r?t.nodeValue.length:r),n.setStart(t,e||0),n;},isEquivalentPosition=function isEquivalentPosition(t,e,r,n){return r&&(scanFor(t,e,r,n,-1)||scanFor(t,e,r,n,1));},Pt=/^(img|br|input|textarea|hr)$/i;function scanFor(t,e,r,n,o){for(;;){if(t==r&&e==n)return!0;if(e==(o<0?0:nodeSize(t))){var i=t.parentNode;if(1!=i.nodeType||hasBlockDesc(t)||Pt.test(t.nodeName)||"false"==t.contentEditable)return!1;e=domIndex(t)+(o<0?0:1),t=i;}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?nodeSize(t):0;}}}function nodeSize(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length;}function hasBlockDesc(t){for(var e,r=t;r&&!(e=r.pmViewDesc);r=r.parentNode){;}return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t);}var selectionCollapsed=function selectionCollapsed(t){var e=t.isCollapsed;return e&&Ot.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e;};function keyEvent(t,e){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r;}function windowRect(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight};}function getSide(t,e){return"number"==typeof t?t:t[e];}function clientRect(t){var e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n};}function scrollRectIntoView(t,e,r){for(var n=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=r||t.dom;s;s=parentNode(s)){if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,c=a?windowRect(i):clientRect(s),u=0,l=0;if(e.top<c.top+getSide(n,"top")?l=-(c.top-e.top+getSide(o,"top")):e.bottom>c.bottom-getSide(n,"bottom")&&(l=e.bottom-c.bottom+getSide(o,"bottom")),e.left<c.left+getSide(n,"left")?u=-(c.left-e.left+getSide(o,"left")):e.right>c.right-getSide(n,"right")&&(u=e.right-c.right+getSide(o,"right")),u||l)if(a)i.defaultView.scrollBy(u,l);else{var p=s.scrollLeft,f=s.scrollTop;l&&(s.scrollTop+=l),u&&(s.scrollLeft+=u);var d=s.scrollLeft-p,h=s.scrollTop-f;e={left:e.left-d,top:e.top-h,right:e.right-d,bottom:e.bottom-h};}if(a)break;}}}function scrollStack(t){for(var e=[],r=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=r);t=parentNode(t)){;}return e;}function restoreScrollStack(t,e){for(var r=0;r<t.length;r++){var n=t[r],o=n.dom,i=n.top,s=n.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s);}}var _t=null;function findOffsetInNode(t,e){for(var r,n,o=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,u=0;c;c=c.nextSibling,u++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=textRange(c).getClientRects();}for(var p=0;p<l.length;p++){var f=l[p];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);var d=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(d<o){r=c,o=d,n=d&&3==r.nodeType?{left:f.right<e.left?f.right:f.left,top:e.top}:e,1==c.nodeType&&d&&(i=u+(e.left>=(f.left+f.right)/2?1:0));continue;}}!r&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(i=u+1);}}return r&&3==r.nodeType?function findOffsetInText(t,e){for(var r=t.nodeValue.length,n=document.createRange(),o=0;o<r;o++){n.setEnd(t,o+1),n.setStart(t,o);var i=singleRect(n,1);if(i.top!=i.bottom&&inRect(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)};}return{node:t,offset:0};}(r,n):!r||o&&1==r.nodeType?{node:t,offset:i}:findOffsetInNode(r,n);}function inRect(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1;}function elementFromPoint(t,e,r){var n=t.childNodes.length;if(n&&r.top<r.bottom)for(var o=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=o;;){var s=t.childNodes[i];if(1==s.nodeType)for(var a=s.getClientRects(),c=0;c<a.length;c++){var u=a[c];if(inRect(e,u))return elementFromPoint(s,e,u);}if((i=(i+1)%n)==o)break;}return t;}function posAtCoords(t,e){var r,n,o,i,s=t.dom.ownerDocument;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(r=a).offsetNode,i=r.offset);}catch(t){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(o=(n=c).startContainer,i=n.startOffset);}var u,l=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var p=t.dom.getBoundingClientRect();if(!inRect(e,p))return null;if(!(l=elementFromPoint(t.dom,e,p)))return null;}if(Ot.safari)for(var f=l;o&&f;f=parentNode(f)){f.draggable&&(o=i=null);}if(l=function targetKludge(t,e){var r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t;}(l,e),o){if(Ot.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var d,h=o.childNodes[i];"IMG"==h.nodeName&&(d=h.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++;}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(u=function posFromCaret(t,e,r,n){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>n.left||a.top>n.top)o=s.posBefore;else{if(!(a.right<n.left||a.bottom<n.top))break;o=s.posAfter;}}i=s.dom.parentNode;}return o>-1?o:t.docView.posFromDOM(e,r);}(t,o,i,e));}null==u&&(u=function posFromElement(t,e,r){var n=findOffsetInNode(e,r),o=n.node,i=n.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&r.left>(a.left+a.right)/2?1:-1;}return t.docView.posFromDOM(o,i,s);}(t,l,e));var m=t.docView.nearestDesc(l,!0);return{pos:u,inside:m?m.posAtStart-m.border:-1};}function singleRect(t,e){var r=t.getClientRects();return r.length?r[e<0?0:r.length-1]:t.getBoundingClientRect();}var Bt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(t,e,r){var n=t.docView.domFromPos(e,r<0?-1:1),o=n.node,i=n.offset,s=Ot.webkit||Ot.gecko;if(3==o.nodeType){if(!s||!Bt.test(o.nodeValue)&&(r<0?i:i!=o.nodeValue.length)){var a=i,c=i,u=r<0?1:-1;return r<0&&!i?(c++,u=-1):r>=0&&i==o.nodeValue.length?(a--,u=1):r<0?a--:c++,flattenV(singleRect(textRange(o,a,c),u),u<0);}var l=singleRect(textRange(o,i,i),r);if(Ot.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=singleRect(textRange(o,i-1,i-1),-1);if(p.top==l.top){var f=singleRect(textRange(o,i,i+1),-1);if(f.top!=l.top)return flattenV(f,f.left<p.left);}}return l;}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(r<0||i==nodeSize(o))){var d=o.childNodes[i-1];if(1==d.nodeType)return flattenH(d.getBoundingClientRect(),!1);}if(i<nodeSize(o)){var h=o.childNodes[i];if(1==h.nodeType)return flattenH(h.getBoundingClientRect(),!0);}return flattenH(o.getBoundingClientRect(),r>=0);}if(i&&(r<0||i==nodeSize(o))){var m=o.childNodes[i-1],v=3==m.nodeType?textRange(m,nodeSize(m)-(s?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(v)return flattenV(singleRect(v,1),!1);}if(i<nodeSize(o)){for(var g=o.childNodes[i];g.pmViewDesc&&g.pmViewDesc.ignoreForCoords;){g=g.nextSibling;}var y=g?3==g.nodeType?textRange(g,0,s?0:1):1==g.nodeType?g:null:null;if(y)return flattenV(singleRect(y,-1),!0);}return flattenV(singleRect(3==o.nodeType?textRange(o):o,-r),r>=0);}function flattenV(t,e){if(0==t.width)return t;var r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r};}function flattenH(t,e){if(0==t.height)return t;var r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right};}function withFlushedState(t,e,r){var n=t.state,o=t.root.activeElement;n!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return r();}finally{n!=e&&t.updateState(n),o!=t.dom&&o&&o.focus();}}var jt=/[\u0590-\u08ac]/;var Lt=null,zt=null,Vt=!1;function endOfTextblock(t,e,r){return Lt==e&&zt==r?Vt:(Lt=e,zt=r,Vt="up"==r||"down"==r?function endOfTextblockVertical(t,e,r){var n=e.selection,o="up"==r?n.$from:n.$to;return withFlushedState(t,e,function(){for(var e=t.docView.domFromPos(o.pos,"up"==r?-1:1).node;;){var n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break;}e=n.dom.parentNode;}for(var i=coordsAtPos(t,o.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=textRange(s,0,s.nodeValue.length).getClientRects();}for(var c=0;c<a.length;c++){var u=a[c];if(u.bottom>u.top+1&&("up"==r?i.top-u.top>2*(u.bottom-i.top):u.bottom-i.bottom>2*(i.bottom-u.top)))return!1;}}return!0;});}(t,e,r):function endOfTextblockHorizontal(t,e,r){var n=e.selection.$head;if(!n.parent.isTextblock)return!1;var o=n.parentOffset,i=!o,s=o==n.parent.content.size,a=t.root.getSelection();return jt.test(n.parent.textContent)&&a.modify?withFlushedState(t,e,function(){var e=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",r,"character");var c=!(n.depth?t.docView.domAfterPos(n.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c;}):"left"==r||"backward"==r?i:s;}(t,e,r));}var $t=function ViewDesc(t,e,r,n){this.parent=t,this.children=e,this.dom=r,r.pmViewDesc=this,this.contentDOM=n,this.dirty=0;},Ht={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};$t.prototype.matchesWidget=function matchesWidget(){return!1;},$t.prototype.matchesMark=function matchesMark(){return!1;},$t.prototype.matchesNode=function matchesNode(){return!1;},$t.prototype.matchesHack=function matchesHack(t){return!1;},$t.prototype.parseRule=function parseRule(){return null;},$t.prototype.stopEvent=function stopEvent(){return!1;},Ht.size.get=function(){for(var t=0,e=0;e<this.children.length;e++){t+=this.children[e].size;}return t;},Ht.border.get=function(){return 0;},$t.prototype.destroy=function destroy(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++){this.children[t].destroy();}},$t.prototype.posBeforeChild=function posBeforeChild(t){for(var e=0,r=this.posAtStart;e<this.children.length;e++){var n=this.children[e];if(n==t)return r;r+=n.size;}},Ht.posBefore.get=function(){return this.parent.posBeforeChild(this);},Ht.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0;},Ht.posAfter.get=function(){return this.posBefore+this.size;},Ht.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border;},$t.prototype.localPosFromDOM=function localPosFromDOM(t,e,r){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(r<0){var n,o;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;){t=t.parentNode;}n=t.previousSibling;}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);){n=n.previousSibling;}return n?this.posBeforeChild(o)+o.size:this.posAtStart;}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;){t=t.parentNode;}i=t.nextSibling;}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);){i=i.nextSibling;}return i?this.posBeforeChild(s):this.posAtEnd;}var a;if(t==this.dom&&this.contentDOM)a=e>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break;}if(c.parentNode.firstChild!=c)break;}if(null==a&&e==t.childNodes.length)for(var u=t;;u=u.parentNode){if(u==this.dom){a=!0;break;}if(u.parentNode.lastChild!=u)break;}}return(null==a?r>0:a)?this.posAtEnd:this.posAtStart;},$t.prototype.nearestDesc=function nearestDesc(t,e){for(var r=!0,n=t;n;n=n.parentNode){var o=this.getDesc(n);if(o&&(!e||o.node)){if(!r||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;r=!1;}}},$t.prototype.getDesc=function getDesc(t){for(var e=t.pmViewDesc,r=e;r;r=r.parent){if(r==this)return e;}},$t.prototype.posFromDOM=function posFromDOM(t,e,r){for(var n=t;n;n=n.parentNode){var o=this.getDesc(n);if(o)return o.localPosFromDOM(t,e,r);}return-1;},$t.prototype.descAt=function descAt(t){for(var e=0,r=0;e<this.children.length;e++){var n=this.children[e],o=r+n.size;if(r==t&&o!=r){for(;!n.border&&n.children.length;){n=n.children[0];}return n;}if(t<o)return n.descAt(t-r-n.border);r=o;}},$t.prototype.domFromPos=function domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var r=0,n=0,o=0;r<this.children.length;r++){var i=this.children[r],s=o+i.size;if(s>t||i instanceof Yt){n=t-o;break;}o=s;}if(n)return this.children[r].domFromPos(n-this.children[r].border,e);for(var a=void 0;r&&!(a=this.children[r-1]).size&&a instanceof Wt&&a.widget.type.side>=0;r--){;}if(e<=0){for(var c,u=!0;(c=r?this.children[r-1]:null)&&c.dom.parentNode!=this.contentDOM;r--,u=!1){;}return c&&e&&u&&!c.border&&!c.domAtom?c.domFromPos(c.size,e):{node:this.contentDOM,offset:c?domIndex(c.dom)+1:0};}for(var l,p=!0;(l=r<this.children.length?this.children[r]:null)&&l.dom.parentNode!=this.contentDOM;r++,p=!1){;}return l&&p&&!l.border&&!l.domAtom?l.domFromPos(0,e):{node:this.contentDOM,offset:l?domIndex(l.dom):this.contentDOM.childNodes.length};},$t.prototype.parseRange=function parseRange(t,e,r){if(void 0===r&&(r=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var n=-1,o=-1,i=r,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==n&&t<=c){var u=i+a.border;if(t>=u&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,u);t=i;for(var l=s;l>0;l--){var p=this.children[l-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){n=domIndex(p.dom)+1;break;}t-=p.size;}-1==n&&(n=0);}if(n>-1&&(c>e||s==this.children.length-1)){e=c;for(var f=s+1;f<this.children.length;f++){var d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=domIndex(d.dom);break;}e+=d.size;}-1==o&&(o=this.contentDOM.childNodes.length);break;}i=c;}return{node:this.contentDOM,from:t,to:e,fromOffset:n,toOffset:o};},$t.prototype.emptyChildAt=function emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t);},$t.prototype.domAfterPos=function domAfterPos(t){var e=this.domFromPos(t,0),r=e.node,n=e.offset;if(1!=r.nodeType||n==r.childNodes.length)throw new RangeError("No node after pos "+t);return r.childNodes[n];},$t.prototype.setSelection=function setSelection(t,e,r,n){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],u=a+c.size;if(o>a&&i<u)return c.setSelection(t-a-c.border,e-a-c.border,r,n);a=u;}var l=this.domFromPos(t,t?-1:1),p=e==t?l:this.domFromPos(e,e?-1:1),f=r.getSelection(),d=!1;if((Ot.gecko||Ot.safari)&&t==e){var h=l.node,m=l.offset;if(3==h.nodeType){if((d=m&&"\n"==h.nodeValue[m-1])&&m==h.nodeValue.length)for(var v=h,g=void 0;v;v=v.parentNode){if(g=v.nextSibling){"BR"==g.nodeName&&(l=p={node:g.parentNode,offset:domIndex(g)+1});break;}var y=v.pmViewDesc;if(y&&y.node&&y.node.isBlock)break;}}else{var b=h.childNodes[m-1];d=b&&("BR"==b.nodeName||"false"==b.contentEditable);}}if(Ot.gecko&&f.focusNode&&f.focusNode!=p.node&&1==f.focusNode.nodeType){var w=f.focusNode.childNodes[f.focusOffset];w&&"false"==w.contentEditable&&(n=!0);}if(n||d&&Ot.safari||!isEquivalentPosition(l.node,l.offset,f.anchorNode,f.anchorOffset)||!isEquivalentPosition(p.node,p.offset,f.focusNode,f.focusOffset)){var x=!1;if((f.extend||t==e)&&!d){f.collapse(l.node,l.offset);try{t!=e&&f.extend(p.node,p.offset),x=!0;}catch(t){if(!(t instanceof DOMException))throw t;}}if(!x){if(t>e){var D=l;l=p,p=D;}var S=document.createRange();S.setEnd(p.node,p.offset),S.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(S);}}},$t.prototype.ignoreMutation=function ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type;},Ht.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM);},$t.prototype.markDirty=function markDirty(t,e){for(var r=0,n=0;n<this.children.length;n++){var o=this.children[n],i=r+o.size;if(r==i?t<=i&&e>=r:t<i&&e>r){var s=r+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==r||e==i?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2;}r=i;}this.dirty=2;},$t.prototype.markParentsDirty=function markParentsDirty(){for(var t=1,e=this.parent;e;e=e.parent,t++){var r=1==t?2:1;e.dirty<r&&(e.dirty=r);}},Ht.domAtom.get=function(){return!1;},Ht.ignoreForCoords.get=function(){return!1;},Object.defineProperties($t.prototype,Ht);var Ut=[],Wt=function(t){function WidgetViewDesc(e,r,n,o){var i,s=r.type.toDOM;if("function"==typeof s&&(s=s(n,function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o;})),!r.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a;}s.contentEditable=!1,s.classList.add("ProseMirror-widget");}t.call(this,e,Ut,s,null),this.widget=r,i=this;}t&&(WidgetViewDesc.__proto__=t),WidgetViewDesc.prototype=Object.create(t&&t.prototype),WidgetViewDesc.prototype.constructor=WidgetViewDesc;var e={domAtom:{configurable:!0}};return WidgetViewDesc.prototype.matchesWidget=function matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type);},WidgetViewDesc.prototype.parseRule=function parseRule(){return{ignore:!0};},WidgetViewDesc.prototype.stopEvent=function stopEvent(t){var e=this.widget.spec.stopEvent;return!!e&&e(t);},WidgetViewDesc.prototype.ignoreMutation=function ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection;},WidgetViewDesc.prototype.destroy=function destroy(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this);},e.domAtom.get=function(){return!0;},Object.defineProperties(WidgetViewDesc.prototype,e),WidgetViewDesc;}($t),qt=function(t){function CompositionViewDesc(e,r,n,o){t.call(this,e,Ut,r,null),this.textDOM=n,this.text=o;}t&&(CompositionViewDesc.__proto__=t),CompositionViewDesc.prototype=Object.create(t&&t.prototype),CompositionViewDesc.prototype.constructor=CompositionViewDesc;var e={size:{configurable:!0}};return e.size.get=function(){return this.text.length;},CompositionViewDesc.prototype.localPosFromDOM=function localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e;},CompositionViewDesc.prototype.domFromPos=function domFromPos(t){return{node:this.textDOM,offset:t};},CompositionViewDesc.prototype.ignoreMutation=function ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue;},Object.defineProperties(CompositionViewDesc.prototype,e),CompositionViewDesc;}($t),Jt=function(t){function MarkViewDesc(e,r,n,o){t.call(this,e,[],n,o),this.mark=r;}return t&&(MarkViewDesc.__proto__=t),MarkViewDesc.prototype=Object.create(t&&t.prototype),MarkViewDesc.prototype.constructor=MarkViewDesc,MarkViewDesc.create=function create(t,e,r,n){var o=n.nodeViews[e.type.name],i=o&&o(e,n,r);return i&&i.dom||(i=B.renderSpec(document,e.type.spec.toDOM(e,r))),new MarkViewDesc(t,e,i.dom,i.contentDOM||i.dom);},MarkViewDesc.prototype.parseRule=function parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM};},MarkViewDesc.prototype.matchesMark=function matchesMark(t){return 3!=this.dirty&&this.mark.eq(t);},MarkViewDesc.prototype.markDirty=function markDirty(e,r){if(t.prototype.markDirty.call(this,e,r),0!=this.dirty){for(var n=this.parent;!n.node;){n=n.parent;}n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=0;}},MarkViewDesc.prototype.slice=function slice(t,e,r){var n=MarkViewDesc.create(this.parent,this.mark,!0,r),o=this.children,i=this.size;e<i&&(o=replaceNodes(o,e,i,r)),t>0&&(o=replaceNodes(o,0,t,r));for(var s=0;s<o.length;s++){o[s].parent=n;}return n.children=o,n;},MarkViewDesc;}($t),Kt=function(t){function NodeViewDesc(e,r,n,o,i,s,a,c,u){t.call(this,e,r.isLeaf?Ut:[],i,s),this.nodeDOM=a,this.node=r,this.outerDeco=n,this.innerDeco=o,s&&this.updateChildren(c,u);}t&&(NodeViewDesc.__proto__=t),NodeViewDesc.prototype=Object.create(t&&t.prototype),NodeViewDesc.prototype.constructor=NodeViewDesc;var r={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return NodeViewDesc.create=function create(t,e,r,n,o,i){var s,a,c=o.nodeViews[e.type.name],u=c&&c(e,o,function(){return a?a.parent?a.parent.posBeforeChild(a):void 0:i;},r,n),l=u&&u.dom,p=u&&u.contentDOM;if(e.isText){if(l){if(3!=l.nodeType)throw new RangeError("Text must be rendered as a DOM text node");}else l=document.createTextNode(e.text);}else l||(l=(s=B.renderSpec(document,e.type.spec.toDOM(e))).dom,p=s.contentDOM);p||e.isText||"BR"==l.nodeName||(l.hasAttribute("contenteditable")||(l.contentEditable=!1),e.type.spec.draggable&&(l.draggable=!0));var f=l;return l=applyOuterDeco(l,r,e),u?a=new Qt(t,e,r,n,l,p,f,u,o,i+1):e.isText?new Gt(t,e,r,n,l,f,o):new NodeViewDesc(t,e,r,n,l,p,f,o,i+1);},NodeViewDesc.prototype.parseRule=function parseRule(){var t=this;if(this.node.type.spec.reparseInView)return null;var r={node:this.node.type.name,attrs:this.node.attrs};return"pre"==this.node.type.whitespace&&(r.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?r.contentElement=this.contentDOM:r.getContent=function(){return t.contentDOM?e.empty:t.node.content;},r;},NodeViewDesc.prototype.matchesNode=function matchesNode(t,e,r){return 0==this.dirty&&t.eq(this.node)&&sameOuterDeco(e,this.outerDeco)&&r.eq(this.innerDeco);},r.size.get=function(){return this.node.nodeSize;},r.border.get=function(){return this.node.isLeaf?0:1;},NodeViewDesc.prototype.updateChildren=function updateChildren(t,e){var r=this,n=this.node.inlineContent,o=e,s=t.composing&&this.localCompositionInfo(t,e),a=s&&s.pos>-1?s:null,c=s&&s.pos<0,u=new Zt(this,a&&a.node);!function iterDeco(t,e,r,n){var o=e.locals(t),i=0;if(0==o.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);n(a,o,e.forChild(i,a),s),i+=a.nodeSize;}return;}for(var c=0,u=[],l=null,p=0;;){if(c<o.length&&o[c].to==i){for(var f=o[c++],d=void 0;c<o.length&&o[c].to==i;){(d||(d=[f])).push(o[c++]);}if(d){d.sort(compareSide);for(var h=0;h<d.length;h++){r(d[h],p,!!l);}}else r(f,p,!!l);}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(p<t.childCount))break;v=p,m=t.child(p++);}for(var g=0;g<u.length;g++){u[g].to<=i&&u.splice(g--,1);}for(;c<o.length&&o[c].from<=i&&o[c].to>i;){u.push(o[c++]);}var y=i+m.nodeSize;if(m.isText){var b=y;c<o.length&&o[c].from<b&&(b=o[c].from);for(var w=0;w<u.length;w++){u[w].to<b&&(b=u[w].to);}b<y&&(l=m.cut(b-i),m=m.cut(0,b-i),y=b,v=-1);}n(m,u.length?m.isInline&&!m.isLeaf?u.filter(function(t){return!t.inline;}):u.slice():Ut,e.forChild(i,m),v),i=y;}}(this.node,this.innerDeco,function(e,s,a){e.spec.marks?u.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!a&&u.syncToMarks(s==r.node.childCount?i.none:r.node.child(s).marks,n,t),u.placeWidget(e,t,o);},function(e,r,i,a){var l;u.syncToMarks(e.marks,n,t),u.findNodeMatch(e,r,i,a)||c&&t.state.selection.from>o&&t.state.selection.to<o+e.nodeSize&&(l=u.findIndexWithChild(s.node))>-1&&u.updateNodeAt(e,r,i,l,t)||u.updateNextNode(e,r,i,t,a)||u.addNode(e,r,i,t,o),o+=e.nodeSize;}),u.syncToMarks(Ut,n,t),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),renderDescs(this.contentDOM,this.children,t),Ot.ios&&function iosHacks(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e;}}(this.dom));},NodeViewDesc.prototype.localCompositionInfo=function localCompositionInfo(t,e){var r=t.state.selection,n=r.from,o=r.to;if(!(!(t.state.selection instanceof ot)||n<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=function nearbyTextNode(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=nodeSize(t=t.childNodes[e-1]);}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0;}}}(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,c=function findTextInFragment(t,e,r,n){for(var o=0,i=0;o<t.childCount&&i<=n;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;o<t.childCount;){var u=t.child(o++);if(i+=u.nodeSize,!u.isText)break;c+=u.text;}if(i>=r&&a<n){var l=c.lastIndexOf(e,n-a-1);if(l>=0&&l+e.length+a>=r)return a+l;}}}return-1;}(this.node.content,a,n-e,o-e);return c<0?null:{node:s,pos:c,text:a};}return{node:s,pos:-1};}}},NodeViewDesc.prototype.protectLocalComposition=function protectLocalComposition(t,e){var r=e.node,n=e.pos,o=e.text;if(!this.getDesc(r)){for(var i=r;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;){i.parentNode.removeChild(i.previousSibling);}for(;i.nextSibling;){i.parentNode.removeChild(i.nextSibling);}i.pmViewDesc&&(i.pmViewDesc=null);}var s=new qt(this,i,r,o);t.compositionNodes.push(s),this.children=replaceNodes(this.children,n,n+o.length,t,s);}},NodeViewDesc.prototype.update=function update(t,e,r,n){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,r,n),!0);},NodeViewDesc.prototype.updateInner=function updateInner(t,e,r,n){this.updateOuterDeco(e),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(n,this.posAtStart),this.dirty=0;},NodeViewDesc.prototype.updateOuterDeco=function updateOuterDeco(t){if(!sameOuterDeco(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,r=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,e),computeOuterDeco(t,this.node,e)),this.dom!=r&&(r.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t;}},NodeViewDesc.prototype.selectNode=function selectNode(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0);},NodeViewDesc.prototype.deselectNode=function deselectNode(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable");},r.domAtom.get=function(){return this.node.isAtom;},Object.defineProperties(NodeViewDesc.prototype,r),NodeViewDesc;}($t);function docViewDesc(t,e,r,n,o){return applyOuterDeco(n,e,t),new Kt(null,t,e,r,n,n,n,o,0);}var Gt=function(t){function TextViewDesc(e,r,n,o,i,s,a){t.call(this,e,r,n,o,i,null,s,a);}t&&(TextViewDesc.__proto__=t),TextViewDesc.prototype=Object.create(t&&t.prototype),TextViewDesc.prototype.constructor=TextViewDesc;var e={domAtom:{configurable:!0}};return TextViewDesc.prototype.parseRule=function parseRule(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;){t=t.parentNode;}return{skip:t||!0};},TextViewDesc.prototype.update=function update(t,e,r,n){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,n.trackWrites==this.nodeDOM&&(n.trackWrites=null)),this.node=t,this.dirty=0,!0);},TextViewDesc.prototype.inParent=function inParent(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode){if(e==t)return!0;}return!1;},TextViewDesc.prototype.domFromPos=function domFromPos(t){return{node:this.nodeDOM,offset:t};},TextViewDesc.prototype.localPosFromDOM=function localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,r,n);},TextViewDesc.prototype.ignoreMutation=function ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type;},TextViewDesc.prototype.slice=function slice(t,e,r){var n=this.node.cut(t,e),o=document.createTextNode(n.text);return new TextViewDesc(this.parent,n,this.outerDeco,this.innerDeco,o,o,r);},TextViewDesc.prototype.markDirty=function markDirty(e,r){t.prototype.markDirty.call(this,e,r),this.dom==this.nodeDOM||0!=e&&r!=this.nodeDOM.nodeValue.length||(this.dirty=3);},e.domAtom.get=function(){return!1;},Object.defineProperties(TextViewDesc.prototype,e),TextViewDesc;}(Kt),Yt=function(t){function TrailingHackViewDesc(){t.apply(this,arguments);}t&&(TrailingHackViewDesc.__proto__=t),TrailingHackViewDesc.prototype=Object.create(t&&t.prototype),TrailingHackViewDesc.prototype.constructor=TrailingHackViewDesc;var e={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return TrailingHackViewDesc.prototype.parseRule=function parseRule(){return{ignore:!0};},TrailingHackViewDesc.prototype.matchesHack=function matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t;},e.domAtom.get=function(){return!0;},e.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName;},Object.defineProperties(TrailingHackViewDesc.prototype,e),TrailingHackViewDesc;}($t),Qt=function(t){function CustomNodeViewDesc(e,r,n,o,i,s,a,c,u,l){t.call(this,e,r,n,o,i,s,a,u,l),this.spec=c;}return t&&(CustomNodeViewDesc.__proto__=t),CustomNodeViewDesc.prototype=Object.create(t&&t.prototype),CustomNodeViewDesc.prototype.constructor=CustomNodeViewDesc,CustomNodeViewDesc.prototype.update=function update(e,r,n,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,o),i;}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,r,n,o);},CustomNodeViewDesc.prototype.selectNode=function selectNode(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this);},CustomNodeViewDesc.prototype.deselectNode=function deselectNode(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this);},CustomNodeViewDesc.prototype.setSelection=function setSelection(e,r,n,o){this.spec.setSelection?this.spec.setSelection(e,r,n):t.prototype.setSelection.call(this,e,r,n,o);},CustomNodeViewDesc.prototype.destroy=function destroy(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this);},CustomNodeViewDesc.prototype.stopEvent=function stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t);},CustomNodeViewDesc.prototype.ignoreMutation=function ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e);},CustomNodeViewDesc;}(Kt);function renderDescs(t,e,r){for(var n=t.firstChild,o=!1,i=0;i<e.length;i++){var s=e[i],a=s.dom;if(a.parentNode==t){for(;a!=n;){n=rm(n),o=!0;}n=n.nextSibling;}else o=!0,t.insertBefore(a,n);if(s instanceof Jt){var c=n?n.previousSibling:t.lastChild;renderDescs(s.contentDOM,s.children,r),n=c?c.nextSibling:t.firstChild;}}for(;n;){n=rm(n),o=!0;}o&&r.trackWrites==t&&(r.trackWrites=null);}function OuterDecoLevel(t){t&&(this.nodeName=t);}OuterDecoLevel.prototype=Object.create(null);var Xt=[new OuterDecoLevel()];function computeOuterDeco(t,e,r){if(0==t.length)return Xt;for(var n=r?Xt[0]:new OuterDecoLevel(),o=[n],i=0;i<t.length;i++){var s=t[i].type.attrs;if(s)for(var a in s.nodeName&&o.push(n=new OuterDecoLevel(s.nodeName)),s){var c=s[a];null!=c&&(r&&1==o.length&&o.push(n=new OuterDecoLevel(e.isInline?"span":"div")),"class"==a?n["class"]=(n["class"]?n["class"]+" ":"")+c:"style"==a?n.style=(n.style?n.style+";":"")+c:"nodeName"!=a&&(n[a]=c));}}return o;}function patchOuterDeco(t,e,r,n){if(r==Xt&&n==Xt)return e;for(var o=e,i=0;i<n.length;i++){var s=n[i],a=r[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=o.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).pmIsDeco=!0,c.appendChild(o),a=Xt[0]),o=c;}patchAttributes(o,a||Xt[0],s);}return o;}function patchAttributes(t,e,r){for(var n in e){"class"==n||"style"==n||"nodeName"==n||n in r||t.removeAttribute(n);}for(var o in r){"class"!=o&&"style"!=o&&"nodeName"!=o&&r[o]!=e[o]&&t.setAttribute(o,r[o]);}if(e["class"]!=r["class"]){for(var i=e["class"]?e["class"].split(" ").filter(Boolean):Ut,s=r["class"]?r["class"].split(" ").filter(Boolean):Ut,a=0;a<i.length;a++){-1==s.indexOf(i[a])&&t.classList.remove(i[a]);}for(var c=0;c<s.length;c++){-1==i.indexOf(s[c])&&t.classList.add(s[c]);}0==t.classList.length&&t.removeAttribute("class");}if(e.style!=r.style){if(e.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(e.style);){t.style.removeProperty(u[1]);}r.style&&(t.style.cssText+=r.style);}}function applyOuterDeco(t,e,r){return patchOuterDeco(t,t,Xt,computeOuterDeco(e,r,1!=t.nodeType));}function sameOuterDeco(t,e){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++){if(!t[r].type.eq(e[r].type))return!1;}return!0;}function rm(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e;}var Zt=function ViewTreeUpdater(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function preMatch(t,e){var r=e,n=r.children.length,o=t.childCount,i=new Map(),s=[];t:for(;o>0;){for(var a=void 0;;){if(n){var c=r.children[n-1];if(!(c instanceof Jt)){a=c,n--;break;}r=c,n=c.children.length;}else{if(r==e)break t;n=r.parent.children.indexOf(r),r=r.parent;}}var u=a.node;if(u){if(u!=t.child(o-1))break;--o,i.set(a,o),s.push(a);}}return{index:o,matched:i,matches:s.reverse()};}(t.node.content,t);};function compareSide(t,e){return t.type.side-e.type.side;}function replaceNodes(t,e,r,n,o){for(var i=[],s=0,a=0;s<t.length;s++){var c=t[s],u=a,l=a+=c.size;u>=r||l<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,n)),o&&(i.push(o),o=null),l>r&&i.push(c.slice(r-u,c.size,n)));}return i;}function selectionFromDOM(t,e){var r=t.root.getSelection(),n=t.state.doc;if(!r.focusNode)return null;var o=t.docView.nearestDesc(r.focusNode),i=o&&0==o.size,s=t.docView.posFromDOM(r.focusNode,r.focusOffset);if(s<0)return null;var a,c,u=n.resolve(s);if(selectionCollapsed(r)){for(a=u;o&&!o.node;){o=o.parent;}if(o&&o.node.isAtom&&st.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function isOnEdge(t,e,r){for(var n=0==e,o=e==nodeSize(t);n||o;){if(t==r)return!0;var i=domIndex(t);if(!(t=t.parentNode))return!1;n=n&&0==i,o=o&&i==nodeSize(t);}}(r.focusNode,r.focusOffset,o.dom))){var l=o.posBefore;c=new st(s==l?u:n.resolve(l));}}else{var p=t.docView.posFromDOM(r.anchorNode,r.anchorOffset);if(p<0)return null;a=n.resolve(p);}c||(c=selectionBetween(t,a,u,"pointer"==e||t.state.selection.head<u.pos&&!i?1:-1));return c;}function editorOwnsSelection(t){return t.editable?t.hasFocus():hasSelection(t)&&document.activeElement&&document.activeElement.contains(t.dom);}function selectionToDOM(t,e){var r=t.state.selection;if(syncNodeSelection(t,r),editorOwnsSelection(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault&&Ot.chrome){var n=t.root.getSelection(),o=t.domObserver.currentSelection;if(n.anchorNode&&isEquivalentPosition(n.anchorNode,n.anchorOffset,o.anchorNode,o.anchorOffset))return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection();}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function selectCursorWrapper(t){var e=t.root.getSelection(),r=document.createRange(),n=t.cursorWrapper.dom,o="IMG"==n.nodeName;o?r.setEnd(n.parentNode,domIndex(n)+1):r.setEnd(n,0);r.collapse(!1),e.removeAllRanges(),e.addRange(r),!o&&!t.state.selection.visible&&Ot.ie&&Ot.ie_version<=11&&(n.disabled=!0,n.disabled=!1);}(t);else{var i,s,a=r.anchor,c=r.head;!te||r instanceof ot||(r.$from.parent.inlineContent||(i=temporarilyEditableNear(t,r.from)),r.empty||r.$from.parent.inlineContent||(s=temporarilyEditableNear(t,r.to))),t.docView.setSelection(a,c,t.root,e),te&&(i&&resetEditable(i),s&&resetEditable(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function removeClassOnSelectionChange(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var r=t.root.getSelection(),n=r.anchorNode,o=r.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){r.anchorNode==n&&r.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout(function(){editorOwnsSelection(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection");},20));});}(t));}t.domObserver.setCurSelection(),t.domObserver.connectSelection();}}Zt.prototype.destroyBetween=function destroyBetween(t,e){if(t!=e){for(var r=t;r<e;r++){this.top.children[r].destroy();}this.top.children.splice(t,e-t),this.changed=!0;}},Zt.prototype.destroyRest=function destroyRest(){this.destroyBetween(this.index,this.top.children.length);},Zt.prototype.syncToMarks=function syncToMarks(t,e,r){for(var n=0,o=this.stack.length>>1,i=Math.min(o,t.length);n<i&&(n==o-1?this.top:this.stack[n+1<<1]).matchesMark(t[n])&&!1!==t[n].type.spec.spanning;){n++;}for(;n<o;){this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;}for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){if(this.top.children[a].matchesMark(t[o])){s=a;break;}}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=Jt.create(this.top,t[o],e,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0;}this.index=0,o++;}},Zt.prototype.findNodeMatch=function findNodeMatch(t,e,r,n){var o,i=-1;if(n>=this.preMatch.index&&(o=this.preMatch.matches[n-this.preMatch.index]).parent==this.top&&o.matchesNode(t,e,r))i=this.top.children.indexOf(o,this.index);else for(var s=this.index,a=Math.min(this.top.children.length,s+5);s<a;s++){var c=this.top.children[s];if(c.matchesNode(t,e,r)&&!this.preMatch.matched.has(c)){i=s;break;}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0);},Zt.prototype.updateNodeAt=function updateNodeAt(t,e,r,n,o){return!!this.top.children[n].update(t,e,r,o)&&(this.destroyBetween(this.index,n),this.index=n+1,!0);},Zt.prototype.findIndexWithChild=function findIndexWithChild(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var r=t.pmViewDesc;if(r)for(var n=this.index;n<this.top.children.length;n++){if(this.top.children[n]==r)return n;}return-1;}t=e;}},Zt.prototype.updateNextNode=function updateNextNode(t,e,r,n,o){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof Kt){var a=this.preMatch.matched.get(s);if(null!=a&&a!=o)return!1;var c=s.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&sameOuterDeco(e,s.outerDeco)))&&s.update(t,e,r,n))return this.destroyBetween(this.index,i),s.dom!=c&&(this.changed=!0),this.index++,!0;break;}}return!1;},Zt.prototype.addNode=function addNode(t,e,r,n,o){this.top.children.splice(this.index++,0,Kt.create(this.top,t,e,r,n,o)),this.changed=!0;},Zt.prototype.placeWidget=function placeWidget(t,e,r){var n=this.index<this.top.children.length?this.top.children[this.index]:null;if(!n||!n.matchesWidget(t)||t!=n.widget&&n.widget.type.toDOM.parentNode){var o=new Wt(this.top,t,e,r);this.top.children.splice(this.index++,0,o),this.changed=!0;}else this.index++;},Zt.prototype.addTextblockHacks=function addTextblockHacks(){for(var t=this.top.children[this.index-1];t instanceof Jt;){t=t.children[t.children.length-1];}t&&t instanceof Gt&&!/\n$/.test(t.node.text)||((Ot.safari||Ot.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"));},Zt.prototype.addHackNode=function addHackNode(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),"BR"==t&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Yt(this.top,Ut,e,null)),this.changed=!0;}};var te=Ot.safari||Ot.chrome&&Ot.chrome_version<63;function temporarilyEditableNear(t,e){var r=t.docView.domFromPos(e,0),n=r.node,o=r.offset,i=o<n.childNodes.length?n.childNodes[o]:null,s=o?n.childNodes[o-1]:null;if(Ot.safari&&i&&"false"==i.contentEditable)return setEditable(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return setEditable(i);if(s)return setEditable(s);}}function setEditable(t){return t.contentEditable="true",Ot.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t;}function resetEditable(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null);}function syncNodeSelection(t,e){if(e instanceof st){var r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(clearNodeSelection(t),r&&r.selectNode(),t.lastSelectedViewDesc=r);}else clearNodeSelection(t);}function clearNodeSelection(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null);}function selectionBetween(t,e,r,n){return t.someProp("createSelectionBetween",function(n){return n(t,e,r);})||ot.between(e,r,n);}function hasSelection(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode));}catch(t){return!1;}}function moveSelectionBlock(t,e){var r=t.selection,n=r.$anchor,o=r.$head,i=e>0?n.max(o):n.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&et.findFrom(s,e);}function apply(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0;}function selectHorizontally(t,e,r){var n=t.state.selection;if(!(n instanceof ot)){if(n instanceof st&&n.node.isInline)return apply(t,new ot(e>0?n.$to:n.$from));var o=moveSelectionBlock(t.state,e);return!!o&&apply(t,o);}if(!n.empty||r.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=moveSelectionBlock(t.state,e);return!!(i&&i instanceof st)&&apply(t,i);}if(!(Ot.mac&&r.indexOf("m")>-1)){var s,a=n.$head,c=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!c||c.isText)return!1;var u=e<0?a.pos-c.nodeSize:a.pos;return!!(c.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM)&&(st.isSelectable(c)?apply(t,new st(e<0?t.state.doc.resolve(a.pos-c.nodeSize):a)):!!Ot.webkit&&apply(t,new ot(t.state.doc.resolve(e<0?u:u+c.nodeSize))));}}function nodeLen(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length;}function isIgnorable(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName);}function skipIgnoredNodesLeft(t){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r){var o,i,s=!1;for(Ot.gecko&&1==r.nodeType&&n<nodeLen(r)&&isIgnorable(r.childNodes[n])&&(s=!0);;){if(n>0){if(1!=r.nodeType)break;var a=r.childNodes[n-1];if(isIgnorable(a))o=r,i=--n;else{if(3!=a.nodeType)break;n=(r=a).nodeValue.length;}}else{if(isBlockNode(r))break;for(var c=r.previousSibling;c&&isIgnorable(c);){o=r.parentNode,i=domIndex(c),c=c.previousSibling;}if(c)n=nodeLen(r=c);else{if((r=r.parentNode)==t.dom)break;n=0;}}}s?setSelFocus(t,e,r,n):o&&setSelFocus(t,e,o,i);}}function skipIgnoredNodesRight(t){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r){for(var o,i,s=nodeLen(r);;){if(n<s){if(1!=r.nodeType)break;if(!isIgnorable(r.childNodes[n]))break;o=r,i=++n;}else{if(isBlockNode(r))break;for(var a=r.nextSibling;a&&isIgnorable(a);){o=a.parentNode,i=domIndex(a)+1,a=a.nextSibling;}if(a)n=0,s=nodeLen(r=a);else{if((r=r.parentNode)==t.dom)break;n=s=0;}}}o&&setSelFocus(t,e,o,i);}}function isBlockNode(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock;}function setSelFocus(t,e,r,n){if(selectionCollapsed(e)){var o=document.createRange();o.setEnd(r,n),o.setStart(r,n),e.removeAllRanges(),e.addRange(o);}else e.extend&&e.extend(r,n);t.domObserver.setCurSelection();var i=t.state;setTimeout(function(){t.state==i&&selectionToDOM(t);},50);}function selectVertically(t,e,r){var n=t.state.selection;if(n instanceof ot&&!n.empty||r.indexOf("s")>-1)return!1;if(Ot.mac&&r.indexOf("m")>-1)return!1;var o=n.$from,i=n.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=moveSelectionBlock(t.state,e);if(s&&s instanceof st)return apply(t,s);}if(!o.parent.inlineContent){var a=e<0?o:i,c=n instanceof ut?et.near(a,e):et.findFrom(a,e);return!!c&&apply(t,c);}return!1;}function stopNativeHorizontalDelete(t,e){if(!(t.state.selection instanceof ot))return!0;var r=t.state.selection,n=r.$head,o=r.$anchor,i=r.empty;if(!n.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a["delete"](n.pos-s.nodeSize,n.pos):a["delete"](n.pos,n.pos+s.nodeSize),t.dispatch(a),!0;}return!1;}function switchEditable(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start();}function captureKeyDown(t,e){var r=e.keyCode,n=function getMods(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e;}(e);return 8==r||Ot.mac&&72==r&&"c"==n?stopNativeHorizontalDelete(t,-1)||skipIgnoredNodesLeft(t):46==r||Ot.mac&&68==r&&"c"==n?stopNativeHorizontalDelete(t,1)||skipIgnoredNodesRight(t):13==r||27==r||(37==r?selectHorizontally(t,-1,n)||skipIgnoredNodesLeft(t):39==r?selectHorizontally(t,1,n)||skipIgnoredNodesRight(t):38==r?selectVertically(t,-1,n)||skipIgnoredNodesLeft(t):40==r?function safariDownArrowBug(t){if(Ot.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),r=e.focusNode,n=e.focusOffset;if(r&&1==r.nodeType&&0==n&&r.firstChild&&"false"==r.firstChild.contentEditable){var o=r.firstChild;switchEditable(t,o,!0),setTimeout(function(){return switchEditable(t,o,!1);},20);}}}(t)||selectVertically(t,1,n)||skipIgnoredNodesRight(t):n==(Ot.mac?"m":"c")&&(66==r||73==r||89==r||90==r));}function ruleFromNode(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(Ot.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r};}if(t.parentNode.lastChild==t||Ot.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0};}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};}function readDOMChange(t,r,n,o,i){if(r<0){var s=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,a=selectionFromDOM(t,s);if(a&&!t.state.selection.eq(a)){var c=t.state.tr.setSelection(a);"pointer"==s?c.setMeta("pointer",!0):"key"==s&&c.scrollIntoView(),t.dispatch(c);}}else{var u=t.state.doc.resolve(r),l=u.sharedDepth(n);r=u.before(l+1),n=t.state.doc.resolve(n).after(l+1);var p=t.state.selection,f=function parseBetween(t,e,r){var n=t.docView.parseRange(e,r),o=n.node,i=n.fromOffset,s=n.toOffset,a=n.from,c=n.to,u=t.root.getSelection(),l=null,p=u.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(l=[{node:p,offset:u.anchorOffset}],selectionCollapsed(u)||l.push({node:u.focusNode,offset:u.focusOffset})),Ot.chrome&&8===t.lastKeyCode)for(var f=s;f>i;f--){var d=o.childNodes[f-1],h=d.pmViewDesc;if("BR"==d.nodeName&&!h){s=f;break;}if(!h||h.size)break;}var m=t.state.doc,v=t.someProp("domParser")||M.fromSchema(t.state.schema),g=m.resolve(a),y=null,b=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:"pre"!=g.parent.type.whitespace||"full",editableContent:!0,findPositions:l,ruleFromNode:ruleFromNode,context:g});if(l&&null!=l[0].pos){var w=l[0].pos,x=l[1]&&l[1].pos;null==x&&(x=w),y={anchor:w+a,head:x+a};}return{doc:b,sel:y,from:a,to:c};}(t,r,n);if(Ot.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var d=t.cursorWrapper.deco.type.toDOM.nextSibling,h=d&&d.nodeValue?d.nodeValue.length:1;f.sel={anchor:f.sel.anchor+h,head:f.sel.anchor+h};}var m,v,g=t.state.doc,y=g.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(m=t.state.selection.to,v="end"):(m=t.state.selection.from,v="start"),t.lastKeyCode=null;var b=function findDiff(t,e,r,n,o){var i=t.findDiffStart(e,r);if(null==i)return null;var s=t.findDiffEnd(e,r+t.size,r+e.size),a=s.a,c=s.b;if("end"==o){n-=a+Math.max(0,i-Math.min(a,c))-i;}if(a<i&&t.size<e.size){c=(i-=n<=i&&n>=a?i-n:0)+(c-a),a=i;}else if(c<i){a=(i-=n<=i&&n>=c?i-n:0)+(a-c),c=i;}return{start:i,endA:a,endB:c};}(y.content,f.doc.content,f.from,m,v);if(!b){if(!(o&&p instanceof ot&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if((Ot.ios&&t.lastIOSEnter>Date.now()-225||Ot.android)&&i.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName;})&&t.someProp("handleKeyDown",function(e){return e(t,keyEvent(13,"Enter"));}))return void(t.lastIOSEnter=0);if(f.sel){var w=resolveSelection(t,t.state.doc,f.sel);w&&!w.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(w));}return;}b={start:p.from,endA:p.to,endB:p.to};}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof ot&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),Ot.ie&&Ot.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>f.from&&" "==f.doc.textBetween(b.start-f.from-1,b.start-f.from+1)&&(b.start--,b.endA--,b.endB--);var x,D=f.doc.resolveNoCache(b.start-f.from),S=f.doc.resolveNoCache(b.endB-f.from),k=D.sameParent(S)&&D.parent.inlineContent;if((Ot.ios&&t.lastIOSEnter>Date.now()-225&&(!k||i.some(function(t){return"DIV"==t.nodeName||"P"==t.nodeName;}))||!k&&D.pos<f.doc.content.size&&(x=et.findFrom(f.doc.resolve(D.pos+1),1,!0))&&x.head==S.pos)&&t.someProp("handleKeyDown",function(e){return e(t,keyEvent(13,"Enter"));}))t.lastIOSEnter=0;else if(t.state.selection.anchor>b.start&&function looksLikeJoin(t,e,r,n,o){if(!n.parent.isTextblock||r-e<=o.pos-n.pos||skipClosingAndOpening(n,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(skipClosingAndOpening(i,!0,!0));if(!s.parent.isTextblock||s.pos>r||skipClosingAndOpening(s,!0,!1)<r)return!1;return n.parent.content.cut(n.parentOffset).eq(s.parent.content);}(g,b.start,b.endA,D,S)&&t.someProp("handleKeyDown",function(e){return e(t,keyEvent(8,"Backspace"));}))Ot.android&&Ot.chrome&&t.domObserver.suppressSelectionUpdates();else{Ot.chrome&&Ot.android&&b.toB==b.from&&(t.lastAndroidDelete=Date.now()),Ot.android&&!k&&D.start()!=S.start()&&0==S.parentOffset&&D.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==b.endA&&(b.endB-=2,S=f.doc.resolveNoCache(b.endB-f.from),setTimeout(function(){t.someProp("handleKeyDown",function(e){return e(t,keyEvent(13,"Enter"));});},20));var E,A,C,O,T=b.start,N=b.endA;if(k)if(D.pos==S.pos)Ot.ie&&Ot.ie_version<=11&&0==D.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout(function(){return selectionToDOM(t);},20)),E=t.state.tr["delete"](T,N),A=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(O=g.resolve(b.start))&&(C=function isMarkChange(t,r){for(var n,o,i,s=t.firstChild.marks,a=r.firstChild.marks,c=s,u=a,l=0;l<a.length;l++){c=a[l].removeFromSet(c);}for(var p=0;p<s.length;p++){u=s[p].removeFromSet(u);}if(1==c.length&&0==u.length)o=c[0],n="add",i=function i(t){return t.mark(o.addToSet(t.marks));};else{if(0!=c.length||1!=u.length)return null;o=u[0],n="remove",i=function i(t){return t.mark(o.removeFromSet(t.marks));};}for(var f=[],d=0;d<r.childCount;d++){f.push(i(r.child(d)));}if(e.from(f).eq(t))return{mark:o,type:n};}(D.parent.content.cut(D.parentOffset,S.parentOffset),O.parent.content.cut(O.parentOffset,b.endA-O.start()))))E=t.state.tr,"add"==C.type?E.addMark(T,N,C.mark):E.removeMark(T,N,C.mark);else if(D.parent.child(D.index()).isText&&D.index()==S.index()-(S.textOffset?0:1)){var R=D.parent.textBetween(D.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",function(e){return e(t,T,N,R);}))return;E=t.state.tr.insertText(R,T,N);}if(E||(E=t.state.tr.replace(T,N,f.doc.slice(b.start-f.from,b.endB-f.from))),f.sel){var I=resolveSelection(t,E.doc,f.sel);I&&!(Ot.chrome&&Ot.android&&t.composing&&I.empty&&(b.start!=b.endB||t.lastAndroidDelete<Date.now()-100)&&(I.head==T||I.head==E.mapping.map(N)-1)||Ot.ie&&I.empty&&I.head==T)&&E.setSelection(I);}A&&E.ensureMarks(A),t.dispatch(E.scrollIntoView());}}}function resolveSelection(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:selectionBetween(t,e.resolve(r.anchor),e.resolve(r.head));}function skipClosingAndOpening(t,e,r){for(var n=t.depth,o=e?t.end():t.pos;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);){n--,o++,e=!1;}if(r)for(var i=t.node(n).maybeChild(t.indexAfter(n));i&&!i.isLeaf;){i=i.firstChild,o++;}return o;}function serializeForClipboard(t,e){for(var r=[],n=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==n.childCount&&1==n.firstChild.childCount;){o--,i--;var s=n.firstChild;r.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),n=s.content;}var a=t.someProp("clipboardSerializer")||B.fromSchema(t.state.schema),c=detachedDoc(),u=c.createElement("div");u.appendChild(a.serializeFragment(n,{document:c}));for(var l,p=u.firstChild;p&&1==p.nodeType&&(l=re[p.nodeName.toLowerCase()]);){for(var f=l.length-1;f>=0;f--){for(var d=c.createElement(l[f]);u.firstChild;){d.appendChild(u.firstChild);}u.appendChild(d),"tbody"!=l[f]&&(o++,i++);}p=u.firstChild;}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(r)),{dom:u,text:t.someProp("clipboardTextSerializer",function(t){return t(e);})||e.content.textBetween(0,e.content.size,"\n\n")};}function parseFromClipboard(t,r,n,o,i){var a,c,u=i.parent.type.spec.code;if(!n&&!r)return null;var l=r&&(o||u||!n);if(l){if(t.someProp("transformPastedText",function(t){r=t(r,u||o);}),u)return r?new s(e.from(t.state.schema.text(r.replace(/\r\n?/g,"\n"))),0,0):s.empty;var p=t.someProp("clipboardTextParser",function(t){return t(r,i,o);});if(p)c=p;else{var f=i.marks(),d=t.state.schema,h=B.fromSchema(d);a=document.createElement("div"),r.split(/(?:\r\n?|\n)+/).forEach(function(t){var e=a.appendChild(document.createElement("p"));t&&e.appendChild(h.serializeNode(d.text(t,f)));});}}else t.someProp("transformPastedHTML",function(t){n=t(n);}),a=function readHTML(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var r,n=detachedDoc().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t);(r=o&&re[o[1].toLowerCase()])&&(t=r.map(function(t){return"<"+t+">";}).join("")+t+r.map(function(t){return"</"+t+">";}).reverse().join(""));if(n.innerHTML=t,r)for(var i=0;i<r.length;i++){n=n.querySelector(r[i])||n;}return n;}(n),Ot.webkit&&function restoreReplacedSpaces(t){for(var e=t.querySelectorAll(Ot.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<e.length;r++){var n=e[r];1==n.childNodes.length&&""==n.textContent&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n);}}(a);var m=a&&a.querySelector("[data-pm-slice]"),v=m&&/^(\d+) (\d+) (.*)/.exec(m.getAttribute("data-pm-slice"));if(!c){var g=t.someProp("clipboardParser")||t.someProp("domParser")||M.fromSchema(t.state.schema);c=g.parseSlice(a,{preserveWhitespace:!(!l&&!v),context:i,ruleFromNode:function ruleFromNode(t){if("BR"==t.nodeName&&!t.nextSibling&&t.parentNode&&!ee.test(t.parentNode.nodeName))return{ignore:!0};}});}if(v)c=function addContext(t,r){if(!t.size)return t;var n,o=t.content.firstChild.type.schema;try{n=JSON.parse(r);}catch(e){return t;}for(var i=t.content,a=t.openStart,c=t.openEnd,u=n.length-2;u>=0;u-=2){var l=o.nodes[n[u]];if(!l||l.hasRequiredAttrs())break;i=e.from(l.create(n[u+1],i)),a++,c++;}return new s(i,a,c);}(closeSlice(c,+v[1],+v[2]),v[3]);else if(c=s.maxOpen(function normalizeSiblings(t,r){if(t.childCount<2)return t;for(var loop=function loop(n){var o=r.node(n).contentMatchAt(r.index(n)),i=void 0,s=[];if(t.forEach(function(t){if(s){var e,r=o.findWrapping(t.type);if(!r)return s=null;if(e=s.length&&i.length&&addToSibling(r,i,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=closeRight(s[s.length-1],i.length));var n=withWrappers(t,r);s.push(n),o=o.matchType(n.type,n.attrs),i=r;}}}),s)return{v:e.from(s)};},n=r.depth;n>=0;n--){var o=loop(n);if(o)return o.v;}return t;}(c.content,i),!0),c.openStart||c.openEnd){for(var y=0,b=0,w=c.content.firstChild;y<c.openStart&&!w.type.spec.isolating;y++,w=w.firstChild){;}for(var x=c.content.lastChild;b<c.openEnd&&!x.type.spec.isolating;b++,x=x.lastChild){;}c=closeSlice(c,y,b);}return t.someProp("transformPasted",function(t){c=t(c);}),c;}var ee=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function withWrappers(t,r,n){void 0===n&&(n=0);for(var o=r.length-1;o>=n;o--){t=r[o].create(null,e.from(t));}return t;}function addToSibling(t,r,n,o,i){if(i<t.length&&i<r.length&&t[i]==r[i]){var s=addToSibling(t,r,n,o.lastChild,i+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(i==t.length-1?n.type:t[i+1]))return o.copy(o.content.append(e.from(withWrappers(n,t,i+1))));}}function closeRight(t,r){if(0==r)return t;var n=t.content.replaceChild(t.childCount-1,closeRight(t.lastChild,r-1)),o=t.contentMatchAt(t.childCount).fillBefore(e.empty,!0);return t.copy(n.append(o));}function closeRange(t,r,n,o,i,s){var a=r<0?t.firstChild:t.lastChild,c=a.content;return i<o-1&&(c=closeRange(c,r,n,o,i+1,s)),i>=n&&(c=r<0?a.contentMatchAt(0).fillBefore(c,t.childCount>1||s<=i).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(e.empty,!0))),t.replaceChild(r<0?0:t.childCount-1,a.copy(c));}function closeSlice(t,e,r){return e<t.openStart&&(t=new s(closeRange(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new s(closeRange(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t;}var re={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ne=null;function detachedDoc(){return ne||(ne=document.implementation.createHTMLDocument("title"));}var oe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ie=Ot.ie&&Ot.ie_version<=11,se=function SelectionState(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null;};se.prototype.set=function set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset;},se.prototype.eq=function eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset;};var ae=function DOMObserver(t,e){var r=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(t){for(var e=0;e<t.length;e++){r.queue.push(t[e]);}Ot.ie&&Ot.ie_version<=11&&t.some(function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length;})?r.flushSoon():r.flush();}),this.currentSelection=new se(),ie&&(this.onCharData=function(t){r.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),r.flushSoon();}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1;};ae.prototype.flushSoon=function flushSoon(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush();},20));},ae.prototype.forceFlush=function forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush());},ae.prototype.start=function start(){this.observer&&this.observer.observe(this.view.dom,oe),ie&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection();},ae.prototype.stop=function stop(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var r=0;r<e.length;r++){this.queue.push(e[r]);}window.setTimeout(function(){return t.flush();},20);}this.observer.disconnect();}ie&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection();},ae.prototype.connectSelection=function connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange);},ae.prototype.disconnectSelection=function disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange);},ae.prototype.suppressSelectionUpdates=function suppressSelectionUpdates(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1;},50);},ae.prototype.onSelectionChange=function onSelectionChange(){if(function hasFocusAndSelection(t){return(!t.editable||t.root.activeElement==t.dom)&&hasSelection(t);}(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(Ot.ie&&Ot.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&isEquivalentPosition(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon();}this.flush();}},ae.prototype.setCurSelection=function setCurSelection(){this.currentSelection.set(this.view.root.getSelection());},ae.prototype.ignoreSelectionChange=function ignoreSelectionChange(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(e);return r&&r.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0;},ae.prototype.flush=function flush(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&hasSelection(this.view)&&!this.ignoreSelectionChange(e),n=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(n=n<0?c.from:Math.min(c.from,n),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(i=!0));}if(Ot.gecko&&s.length>1){var u=s.filter(function(t){return"BR"==t.nodeName;});if(2==u.length){var l=u[0],p=u[1];l.parentNode&&l.parentNode.parentNode==p.parentNode?p.remove():l.remove();}}(n>-1||r)&&(n>-1&&(this.view.docView.markDirty(n,o),function checkCSS(t){if(ce)return;ce=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.");}(this.view)),this.handleDOMChange(n,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||selectionToDOM(this.view),this.currentSelection.set(e));}},ae.prototype.registerMutation=function registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;var r=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(r==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!r||r.ignoreMutation(t))return null;if("childList"==t.type){for(var n=0;n<t.addedNodes.length;n++){e.push(t.addedNodes[n]);}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};var o=t.previousSibling,i=t.nextSibling;if(Ot.ie&&Ot.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s],c=a.previousSibling,u=a.nextSibling;(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c),(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u);}var l=o&&o.parentNode==t.target?domIndex(o)+1:0,p=r.localPosFromDOM(t.target,l,-1),f=i&&i.parentNode==t.target?domIndex(i):t.target.childNodes.length;return{from:p,to:r.localPosFromDOM(t.target,f,1)};}return"attributes"==t.type?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue};};var ce=!1;var ue={},le={};function setSelectionOrigin(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now();}function ensureListeners(t){t.someProp("handleDOMEvents",function(e){for(var r in e){t.eventHandlers[r]||t.dom.addEventListener(r,t.eventHandlers[r]=function(e){return runCustomHandler(t,e);});}});}function runCustomHandler(t,e){return t.someProp("handleDOMEvents",function(r){var n=r[e.type];return!!n&&(n(t,e)||e.defaultPrevented);});}function eventCoords(t){return{left:t.clientX,top:t.clientY};}function runHandlerOnContext(t,e,r,n,o){if(-1==n)return!1;for(var i=t.state.doc.resolve(n),loop=function loop(n){if(t.someProp(e,function(e){return n>i.depth?e(t,r,i.nodeAfter,i.before(n),o,!0):e(t,r,i.node(n),i.before(n),o,!1);}))return{v:!0};},s=i.depth+1;s>0;s--){var a=loop(s);if(a)return a.v;}return!1;}function updateSelection(t,e,r){t.focused||t.focus();var n=t.state.tr.setSelection(e);"pointer"==r&&n.setMeta("pointer",!0),t.dispatch(n);}function handleSingleClick(t,e,r,n,o){return runHandlerOnContext(t,"handleClickOn",e,r,n)||t.someProp("handleClick",function(r){return r(t,e,n);})||(o?function selectClickedNode(t,e){if(-1==e)return!1;var r,n,o=t.state.selection;o instanceof st&&(r=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(st.isSelectable(a)){n=r&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break;}}return null!=n&&(updateSelection(t,st.create(t.state.doc,n),"pointer"),!0);}(t,r):function selectClickedLeaf(t,e){if(-1==e)return!1;var r=t.state.doc.resolve(e),n=r.nodeAfter;return!!(n&&n.isAtom&&st.isSelectable(n))&&(updateSelection(t,new st(r),"pointer"),!0);}(t,r));}function handleDoubleClick(t,e,r,n){return runHandlerOnContext(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",function(r){return r(t,e,n);});}function handleTripleClick(t,e,r,n){return runHandlerOnContext(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",function(r){return r(t,e,n);})||function defaultTripleClick(t,e,r){if(0!=r.button)return!1;var n=t.state.doc;if(-1==e)return!!n.inlineContent&&(updateSelection(t,ot.create(n,0,n.content.size),"pointer"),!0);for(var o=n.resolve(e),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)updateSelection(t,ot.create(n,a+1,a+1+s.content.size),"pointer");else{if(!st.isSelectable(s))continue;updateSelection(t,st.create(n,a),"pointer");}return!0;}}(t,r,n);}function forceDOMFlush(t){return endComposition(t);}le.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!inOrNearComposition(t,e)&&(t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!Ot.android||!Ot.chrome||13!=e.keyCode))if(229!=e.keyCode&&t.domObserver.forceFlush(),!Ot.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",function(r){return r(t,e);})||captureKeyDown(t,e)?e.preventDefault():setSelectionOrigin(t,"key");else{var r=Date.now();t.lastIOSEnter=r,t.lastIOSEnterFallbackTimeout=setTimeout(function(){t.lastIOSEnter==r&&(t.someProp("handleKeyDown",function(e){return e(t,keyEvent(13,"Enter"));}),t.lastIOSEnter=0);},200);}},le.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1);},le.keypress=function(t,e){if(!(inOrNearComposition(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||Ot.mac&&e.metaKey))if(t.someProp("handleKeyPress",function(r){return r(t,e);}))e.preventDefault();else{var r=t.state.selection;if(!(r instanceof ot&&r.$from.sameParent(r.$to))){var n=String.fromCharCode(e.charCode);t.someProp("handleTextInput",function(e){return e(t,r.$from.pos,r.$to.pos,n);})||t.dispatch(t.state.tr.insertText(n).scrollIntoView()),e.preventDefault();}}};var pe=Ot.mac?"metaKey":"ctrlKey";ue.mousedown=function(t,e){t.shiftKey=e.shiftKey;var r=forceDOMFlush(t),n=Date.now(),o="singleClick";n-t.lastClick.time<500&&function isNear(t,e){var r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100;}(e,t.lastClick)&&!e[pe]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:n,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(eventCoords(e));i&&("singleClick"==o?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new fe(t,i,e,r)):("doubleClick"==o?handleDoubleClick:handleTripleClick)(t,i.pos,i.inside,e)?e.preventDefault():setSelectionOrigin(t,"pointer"));};var fe=function MouseDown(t,e,r,n){var o,i,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=r,this.flushed=n,this.selectNode=r[pe],this.allowDefault=r.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,i=a.depth?a.before():0;}this.mightDrag=null;var c=n?null:r.target,u=c?t.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var l=t.state.selection;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof st&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Ot.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false");},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(t,"pointer");};function inOrNearComposition(t,e){return!!t.composing||!!(Ot.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0);}fe.prototype.done=function done(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return selectionToDOM(t.view);}),this.view.mouseDown=null;},fe.prototype.up=function up(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(eventCoords(t))),this.allowDefault||!e?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||Ot.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Ot.chrome&&!(this.view.state.selection instanceof ot)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,et.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):setSelectionOrigin(this.view,"pointer");}},fe.prototype.move=function move(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),setSelectionOrigin(this.view,"pointer"),0==t.buttons&&this.done();},ue.touchdown=function(t){forceDOMFlush(t),setSelectionOrigin(t,"pointer");},ue.contextmenu=function(t){return forceDOMFlush(t);};var de=Ot.android?5e3:-1;function scheduleComposeEnd(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout(function(){return endComposition(t);},e));}function clearComposition(t){for(t.composing&&(t.composing=!1,t.compositionEndedAt=function timestampFromCustomEvent(){var t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp;}());t.compositionNodes.length>0;){t.compositionNodes.pop().markParentsDirty();}}function endComposition(t,e){if(!(Ot.android&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),clearComposition(t),e||t.docView.dirty){var r=selectionFromDOM(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):t.updateState(t.state),!0;}return!1;}}le.compositionstart=le.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,r=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(function(t){return!1===t.type.spec.inclusive;})))t.markCursor=t.state.storedMarks||r.marks(),endComposition(t,!0),t.markCursor=null;else if(endComposition(t),Ot.gecko&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var n=t.root.getSelection(),o=n.focusNode,i=n.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){n.collapse(s,s.nodeValue.length);break;}o=s,i=-1;}t.composing=!0;}scheduleComposeEnd(t,de);},le.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,scheduleComposeEnd(t,20));};var he=Ot.ie&&Ot.ie_version<15||Ot.ios&&Ot.webkit_version<604;function doPaste(t,e,r,n){var o=parseFromClipboard(t,e,r,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",function(e){return e(t,n,o||s.empty);}))return!0;if(!o)return!1;var i=function sliceSingleNode(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null;}(o),a=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0;}ue.copy=le.cut=function(t,e){var r=t.state.selection,n="cut"==e.type;if(!r.empty){var o=he?null:e.clipboardData,i=serializeForClipboard(t,r.content()),s=i.dom,a=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function captureCopy(t,e){if(t.dom.parentNode){var r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(o),setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r),t.focus();},50);}}(t,s),n&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"));}},le.paste=function(t,e){if(!t.composing||Ot.android){var r=he?null:e.clipboardData;r&&doPaste(t,r.getData("text/plain"),r.getData("text/html"),e)?e.preventDefault():function capturePaste(t,e){if(t.dom.parentNode){var r=t.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(function(){t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?doPaste(t,n.value,null,e):doPaste(t,n.textContent,n.innerHTML,e);},50);}}(t,e);}};var me=function Dragging(t,e){this.slice=t,this.move=e;},ve=Ot.mac?"altKey":"ctrlKey";for(var ge in ue.dragstart=function(t,e){var r=t.mouseDown;if(r&&r.done(),e.dataTransfer){var n=t.state.selection,o=n.empty?null:t.posAtCoords(eventCoords(e));if(o&&o.pos>=n.from&&o.pos<=(n instanceof st?n.to-1:n.to));else if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(st.create(t.state.doc,r.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);i&&i.node.type.spec.draggable&&i!=t.docView&&t.dispatch(t.state.tr.setSelection(st.create(t.state.doc,i.posBefore)));}var s=t.state.selection.content(),a=serializeForClipboard(t,s),c=a.dom,u=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData(he?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",he||e.dataTransfer.setData("text/plain",u),t.dragging=new me(s,!e[ve]);}},ue.dragend=function(t){var e=t.dragging;window.setTimeout(function(){t.dragging==e&&(t.dragging=null);},50);},le.dragover=le.dragenter=function(t,e){return e.preventDefault();},le.drop=function(t,e){var r=t.dragging;if(t.dragging=null,e.dataTransfer){var n=t.posAtCoords(eventCoords(e));if(n){var o=t.state.doc.resolve(n.pos);if(o){var i=r&&r.slice;i?t.someProp("transformPasted",function(t){i=t(i);}):i=parseFromClipboard(t,e.dataTransfer.getData(he?"Text":"text/plain"),he?null:e.dataTransfer.getData("text/html"),!1,o);var a=r&&!e[ve];if(t.someProp("handleDrop",function(r){return r(t,e,i||s.empty,a);}))e.preventDefault();else if(i){e.preventDefault();var c=i?function dropPoint(t,e,r){var n=t.resolve(e);if(!r.content.size)return e;for(var o=r.content,i=0;i<r.openStart;i++){o=o.firstChild.content;}for(var s=1;s<=(0==r.openStart&&r.size?2:1);s++){for(var a=n.depth;a>=0;a--){var c=a==n.depth?0:n.pos<=(n.start(a+1)+n.end(a+1))/2?-1:1,u=n.index(a)+(c>0?1:0),l=n.node(a),p=!1;if(1==s)p=l.canReplace(u,u,o);else{var f=l.contentMatchAt(u).findWrapping(o.firstChild.type);p=f&&l.canReplaceWith(u,u,f[0]);}if(p)return 0==c?n.pos:c<0?n.before(a+1):n.after(a+1);}}return null;}(t.state.doc,o.pos,i):o.pos;null==c&&(c=o.pos);var u=t.state.tr;a&&u.deleteSelection();var l=u.mapping.map(c),p=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,f=u.doc;if(p?u.replaceRangeWith(l,l,i.content.firstChild):u.replaceRange(l,l,i),!u.doc.eq(f)){var d=u.doc.resolve(l);if(p&&st.isSelectable(i.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(i.content.firstChild))u.setSelection(new st(d));else{var h=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach(function(t,e,r,n){return h=n;}),u.setSelection(selectionBetween(t,d,u.doc.resolve(h)));}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"));}}}}}},ue.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&selectionToDOM(t);},20));},ue.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1);},ue.beforeinput=function(t,e){if(Ot.chrome&&Ot.android&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();var r=t.domChangeCount;setTimeout(function(){if(t.domChangeCount==r&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",function(e){return e(t,keyEvent(8,"Backspace"));}))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr["delete"](e.pos-1,e.pos).scrollIntoView());}},50);}},le){ue[ge]=le[ge];}function compareObjs(t,e){if(t==e)return!0;for(var r in t){if(t[r]!==e[r])return!1;}for(var n in e){if(!(n in t))return!1;}return!0;}var ye=function WidgetType(t,e){this.spec=e||ke,this.side=this.spec.side||0,this.toDOM=t;};ye.prototype.map=function map(t,e,r,n){var o=t.mapResult(e.from+n,this.side<0?-1:1),i=o.pos;return o.deleted?null:new xe(i-r,i-r,this);},ye.prototype.valid=function valid(){return!0;},ye.prototype.eq=function eq(t){return this==t||t instanceof ye&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&compareObjs(this.spec,t.spec));},ye.prototype.destroy=function destroy(t){this.spec.destroy&&this.spec.destroy(t);};var be=function InlineType(t,e){this.spec=e||ke,this.attrs=t;};be.prototype.map=function map(t,e,r,n){var o=t.map(e.from+n,this.spec.inclusiveStart?-1:1)-r,i=t.map(e.to+n,this.spec.inclusiveEnd?1:-1)-r;return o>=i?null:new xe(o,i,this);},be.prototype.valid=function valid(t,e){return e.from<e.to;},be.prototype.eq=function eq(t){return this==t||t instanceof be&&compareObjs(this.attrs,t.attrs)&&compareObjs(this.spec,t.spec);},be.is=function is(t){return t.type instanceof be;};var we=function NodeType(t,e){this.spec=e||ke,this.attrs=t;};we.prototype.map=function map(t,e,r,n){var o=t.mapResult(e.from+n,1);if(o.deleted)return null;var i=t.mapResult(e.to+n,-1);return i.deleted||i.pos<=o.pos?null:new xe(o.pos-r,i.pos-r,this);},we.prototype.valid=function valid(t,e){var r,n=t.content.findIndex(e.from),o=n.index,i=n.offset;return i==e.from&&!(r=t.child(o)).isText&&i+r.nodeSize==e.to;},we.prototype.eq=function eq(t){return this==t||t instanceof we&&compareObjs(this.attrs,t.attrs)&&compareObjs(this.spec,t.spec);};var xe=function Decoration(t,e,r){this.from=t,this.to=e,this.type=r;},De={spec:{configurable:!0},inline:{configurable:!0}};xe.prototype.copy=function copy(t,e){return new xe(t,e,this.type);},xe.prototype.eq=function eq(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to;},xe.prototype.map=function map(t,e,r){return this.type.map(t,this,e,r);},xe.widget=function widget(t,e,r){return new xe(t,t,new ye(e,r));},xe.inline=function inline(t,e,r,n){return new xe(t,e,new be(r,n));},xe.node=function node(t,e,r,n){return new xe(t,e,new we(r,n));},De.spec.get=function(){return this.type.spec;},De.inline.get=function(){return this.type instanceof be;},Object.defineProperties(xe.prototype,De);var Se=[],ke={},Ee=function DecorationSet(t,e){this.local=t&&t.length?t:Se,this.children=e&&e.length?e:Se;};Ee.create=function create(t,e){return e.length?buildTree(e,t,0,ke):Ae;},Ee.prototype.find=function find(t,e,r){var n=[];return this.findInner(null==t?0:t,null==e?1e9:e,n,0,r),n;},Ee.prototype.findInner=function findInner(t,e,r,n,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&r.push(s.copy(s.from+n,s.to+n));}for(var a=0;a<this.children.length;a+=3){if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,r,n+c,o);}}},Ee.prototype.map=function map(t,e,r){return this==Ae||0==t.maps.length?this:this.mapInner(t,e,0,0,r||ke);},Ee.prototype.mapInner=function mapInner(t,e,r,n,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,r,n);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec);}return this.children.length?function mapChildren(t,e,r,n,o,i,s){for(var a=t.slice(),shift=function shift(t,e,r,n){for(var s=0;s<a.length;s+=3){var c=a[s+1],u=void 0;-1==c||t>c+i||(e>=a[s]+i?a[s+1]=-1:r>=o&&(u=n-r-(e-t))&&(a[s]+=u,a[s+1]+=u));}},c=0;c<r.maps.length;c++){r.maps[c].forEach(shift);}for(var u=!1,l=0;l<a.length;l+=3){if(-1==a[l+1]){var p=r.map(t[l]+i),f=p-o;if(f<0||f>=n.content.size){u=!0;continue;}var d=r.map(t[l+1]+i,-1)-o,h=n.content.findIndex(f),m=h.index,v=h.offset,g=n.maybeChild(m);if(g&&v==f&&v+g.nodeSize==d){var y=a[l+2].mapInner(r,g,p+1,t[l]+i+1,s);y!=Ae?(a[l]=f,a[l+1]=d,a[l+2]=y):(a[l+1]=-2,u=!0);}else u=!0;}}if(u){var b=function mapAndGatherRemainingDecorations(t,e,r,n,o,i,s){function gather(t,e){for(var i=0;i<t.local.length;i++){var a=t.local[i].map(n,o,e);a?r.push(a):s.onRemove&&s.onRemove(t.local[i].spec);}for(var c=0;c<t.children.length;c+=3){gather(t.children[c+2],t.children[c]+e+1);}}for(var a=0;a<t.length;a+=3){-1==t[a+1]&&gather(t[a+2],e[a]+i+1);}return r;}(a,t,e||[],r,o,i,s),w=buildTree(b,n,0,s);e=w.local;for(var x=0;x<a.length;x+=3){a[x+1]<0&&(a.splice(x,3),x-=3);}for(var D=0,S=0;D<w.children.length;D+=3){for(var k=w.children[D];S<a.length&&a[S]<k;){S+=3;}a.splice(S,0,w.children[D],w.children[D+1],w.children[D+2]);}}return new Ee(e&&e.sort(byPos),a);}(this.children,i,t,e,r,n,o):i?new Ee(i.sort(byPos)):Ae;},Ee.prototype.add=function add(t,e){return e.length?this==Ae?Ee.create(t,e):this.addInner(t,e,0):this;},Ee.prototype.addInner=function addInner(t,e,r){var n,o=this,i=0;t.forEach(function(t,s){var a,c=s+r;if(a=takeSpansForNode(e,t,c)){for(n||(n=o.children.slice());i<n.length&&n[i]<s;){i+=3;}n[i]==s?n[i+2]=n[i+2].addInner(t,a,c+1):n.splice(i,0,s,s+t.nodeSize,buildTree(a,t,c+1,ke)),i+=3;}});for(var s=moveSpans(i?withoutNulls(e):e,-r),a=0;a<s.length;a++){s[a].type.valid(t,s[a])||s.splice(a--,1);}return new Ee(s.length?this.local.concat(s).sort(byPos):this.local,n||this.children);},Ee.prototype.remove=function remove(t){return 0==t.length||this==Ae?this:this.removeInner(t,0);},Ee.prototype.removeInner=function removeInner(t,e){for(var r=this.children,n=this.local,o=0;o<r.length;o+=3){for(var i=void 0,s=r[o]+e,a=r[o+1]+e,c=0,u=void 0;c<t.length;c++){(u=t[c])&&u.from>s&&u.to<a&&(t[c]=null,(i||(i=[])).push(u));}if(i){r==this.children&&(r=this.children.slice());var l=r[o+2].removeInner(i,s+1);l!=Ae?r[o+2]=l:(r.splice(o,3),o-=3);}}if(n.length)for(var p=0,f=void 0;p<t.length;p++){if(f=t[p])for(var d=0;d<n.length;d++){n[d].eq(f,e)&&(n==this.local&&(n=this.local.slice()),n.splice(d--,1));}}return r==this.children&&n==this.local?this:n.length||r.length?new Ee(n,r):Ae;},Ee.prototype.forChild=function forChild(t,e){if(this==Ae)return this;if(e.isLeaf)return Ee.empty;for(var r,n,o=0;o<this.children.length;o+=3){if(this.children[o]>=t){this.children[o]==t&&(r=this.children[o+2]);break;}}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof be){var u=Math.max(i,c.from)-i,l=Math.min(s,c.to)-i;u<l&&(n||(n=[])).push(c.copy(u,l));}}if(n){var p=new Ee(n.sort(byPos));return r?new Ce([p,r]):p;}return r||Ae;},Ee.prototype.eq=function eq(t){if(this==t)return!0;if(!(t instanceof Ee)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++){if(!this.local[e].eq(t.local[e]))return!1;}for(var r=0;r<this.children.length;r+=3){if(this.children[r]!=t.children[r]||this.children[r+1]!=t.children[r+1]||!this.children[r+2].eq(t.children[r+2]))return!1;}return!0;},Ee.prototype.locals=function locals(t){return removeOverlap(this.localsInner(t));},Ee.prototype.localsInner=function localsInner(t){if(this==Ae)return Se;if(t.inlineContent||!this.local.some(be.is))return this.local;for(var e=[],r=0;r<this.local.length;r++){this.local[r].type instanceof be||e.push(this.local[r]);}return e;};var Ae=new Ee();Ee.empty=Ae,Ee.removeOverlap=removeOverlap;var Ce=function DecorationGroup(t){this.members=t;};function moveSpans(t,e){if(!e||!t.length)return t;for(var r=[],n=0;n<t.length;n++){var o=t[n];r.push(new xe(o.from+e,o.to+e,o.type));}return r;}function takeSpansForNode(t,e,r){if(e.isLeaf)return null;for(var n=r+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++){(s=t[i])&&s.from>r&&s.to<n&&((o||(o=[])).push(s),t[i]=null);}return o;}function withoutNulls(t){for(var e=[],r=0;r<t.length;r++){null!=t[r]&&e.push(t[r]);}return e;}function buildTree(t,e,r,n){var o=[],i=!1;e.forEach(function(e,s){var a=takeSpansForNode(t,e,s+r);if(a){i=!0;var c=buildTree(a,e,r+s+1,n);c!=Ae&&o.push(s,s+e.nodeSize,c);}});for(var s=moveSpans(i?withoutNulls(t):t,-r).sort(byPos),a=0;a<s.length;a++){s[a].type.valid(e,s[a])||(n.onRemove&&n.onRemove(s[a].spec),s.splice(a--,1));}return s.length||o.length?new Ee(s,o):Ae;}function byPos(t,e){return t.from-e.from||t.to-e.to;}function removeOverlap(t){for(var e=t,r=0;r<e.length-1;r++){var n=e[r];if(n.from!=n.to)for(var o=r+1;o<e.length;o++){var i=e[o];if(i.from!=n.from){i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),insertAhead(e,o,n.copy(i.from,n.to)));break;}i.to!=n.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,n.to),insertAhead(e,o+1,i.copy(n.to,i.to)));}}return e;}function insertAhead(t,e,r){for(;e<t.length&&byPos(r,t[e])>0;){e++;}t.splice(e,0,r);}function viewDecorations(t){var e=[];return t.someProp("decorations",function(r){var n=r(t.state);n&&n!=Ae&&e.push(n);}),t.cursorWrapper&&e.push(Ee.create(t.state.doc,[t.cursorWrapper.deco])),Ce.from(e);}Ce.prototype.map=function map(t,e){var r=this.members.map(function(r){return r.map(t,e,ke);});return Ce.from(r);},Ce.prototype.forChild=function forChild(t,e){if(e.isLeaf)return Ee.empty;for(var r=[],n=0;n<this.members.length;n++){var o=this.members[n].forChild(t,e);o!=Ae&&(o instanceof Ce?r=r.concat(o.members):r.push(o));}return Ce.from(r);},Ce.prototype.eq=function eq(t){if(!(t instanceof Ce)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++){if(!this.members[e].eq(t.members[e]))return!1;}return!0;},Ce.prototype.locals=function locals(t){for(var e,r=!0,n=0;n<this.members.length;n++){var locals=this.members[n].localsInner(t);if(locals.length)if(e){r&&(e=e.slice(),r=!1);for(var o=0;o<locals.length;o++){e.push(locals[o]);}}else e=locals;}return e?removeOverlap(r?e:e.sort(byPos)):Se;},Ce.from=function from(t){switch(t.length){case 0:return Ae;case 1:return t[0];default:return new Ce(t);}};var Oe=function EditorView(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=getEditable(this),this.markCursor=null,this.cursorWrapper=null,updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function initInput(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new ae(t,function(e,r,n,o){return readDOMChange(t,e,r,n,o);}),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var loop=function loop(e){var r=ue[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function eventBelongsToView(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var r=e.target;r!=t.dom;r=r.parentNode){if(!r||11==r.nodeType||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;}return!0;}(t,e)||runCustomHandler(t,e)||!t.editable&&e.type in le||r(t,e);});};for(var e in ue){loop(e);}Ot.safari&&t.dom.addEventListener("input",function(){return null;}),ensureListeners(t);}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews();},Me={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function computeDocDeco(t){var e=Object.create(null);return e["class"]="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",function(r){if("function"==typeof r&&(r=r(t.state)),r)for(var n in r){"class"==n&&(e["class"]+=" "+r[n]),"style"==n?e.style=(e.style?e.style+";":"")+r[n]:e[n]||"contenteditable"==n||"nodeName"==n||(e[n]=String(r[n]));}}),[xe.node(0,t.state.doc.content.size,e)];}function updateCursorWrapper(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:xe.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})};}else t.cursorWrapper=null;}function getEditable(t){return!t.someProp("editable",function(e){return!1===e(t.state);});}function buildNodeViews(t){var e={};return t.someProp("nodeViews",function(t){for(var r in t){Object.prototype.hasOwnProperty.call(e,r)||(e[r]=t[r]);}}),e;}function checkStateComponent(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component");}Me.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t){this._props[e]=t[e];}this._props.state=this.state;}return this._props;},Oe.prototype.update=function update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this),this._props=t,t.plugins&&(t.plugins.forEach(checkStateComponent),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0);},Oe.prototype.setProps=function setProps(t){var e={};for(var r in this._props){e[r]=this._props[r];}for(var n in e.state=this.state,t){e[n]=t[n];}this.update(e);},Oe.prototype.updateState=function updateState(t){this.updateStateInner(t,this.state.plugins!=t.plugins);},Oe.prototype.updateStateInner=function updateStateInner(t,e){var r=this,n=this.state,o=!1,i=!1;if(t.storedMarks&&this.composing&&(clearComposition(this),i=!0),this.state=t,e){var s=buildNodeViews(this);(function changedNodeViews(t,e){var r=0,n=0;for(var o in t){if(t[o]!=e[o])return!0;r++;}for(var i in e){n++;}return r!=n;})(s,this.nodeViews)&&(this.nodeViews=s,o=!0),ensureListeners(this);}this.editable=getEditable(this),updateCursorWrapper(this);var a=viewDecorations(this),c=computeDocDeco(this),u=e?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(t.doc,c,a);!l&&t.selection.eq(n.selection)||(i=!0);var p="preserve"==u&&i&&null==this.dom.style.overflowAnchor&&function storeScrollPos(t){for(var e,r,n=t.dom.getBoundingClientRect(),o=Math.max(0,n.top),i=(n.left+n.right)/2,s=o+1;s<Math.min(innerHeight,n.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=o-20){e=a,r=c.top;break;}}}return{refDOM:e,refTop:r,stack:scrollStack(t.dom)};}(this);if(i){this.domObserver.stop();var f=l&&(Ot.ie||Ot.chrome)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&function selectionContextChanged(t,e){var r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r);}(n.selection,t.selection);if(l){var d=Ot.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,c,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(t.doc,c,a,this.dom,this)),d&&!this.trackWrites&&(f=!0);}f||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&function anchorInRightPlace(t){var e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.root.getSelection();return isEquivalentPosition(e.node,e.offset,r.anchorNode,r.anchorOffset);}(this))?selectionToDOM(this,f):(syncNodeSelection(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start();}if(this.updatePluginViews(n),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var h=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(t){return t(r);})||(t.selection instanceof st?scrollRectIntoView(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),h):scrollRectIntoView(this,this.coordsAtPos(t.selection.head,1),h));}else p&&function resetScrollPos(t){var e=t.refDOM,r=t.refTop,n=t.stack,o=e?e.getBoundingClientRect().top:0;restoreScrollStack(n,0==o?0:o-r);}(p);},Oe.prototype.destroyPluginViews=function destroyPluginViews(){for(var t;t=this.pluginViews.pop();){t.destroy&&t.destroy();}},Oe.prototype.updatePluginViews=function updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var r=this.pluginViews[e];r.update&&r.update(this,t);}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var n=0;n<this.directPlugins.length;n++){var o=this.directPlugins[n];o.spec.view&&this.pluginViews.push(o.spec.view(this));}for(var i=0;i<this.state.plugins.length;i++){var s=this.state.plugins[i];s.spec.view&&this.pluginViews.push(s.spec.view(this));}}},Oe.prototype.someProp=function someProp(t,e){var r,n=this._props&&this._props[t];if(null!=n&&(r=e?e(n):n))return r;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[t];if(null!=i&&(r=e?e(i):i))return r;}var s=this.state.plugins;if(s)for(var a=0;a<s.length;a++){var c=s[a].props[t];if(null!=c&&(r=e?e(c):c))return r;}},Oe.prototype.hasFocus=function hasFocus(){return this.root.activeElement==this.dom;},Oe.prototype.focus=function focus(){this.domObserver.stop(),this.editable&&function focusPreventScroll(t){if(t.setActive)return t.setActive();if(_t)return t.focus(_t);var e=scrollStack(t);t.focus(null==_t?{get preventScroll(){return _t={preventScroll:!0},!0;}}:void 0),_t||(_t=!1,restoreScrollStack(e,0));}(this.dom),selectionToDOM(this),this.domObserver.start();},Me.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode){if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection();}),this._root=e;}return t||document;},Oe.prototype.posAtCoords=function posAtCoords$1(t){return posAtCoords(this,t);},Oe.prototype.coordsAtPos=function coordsAtPos$1(t,e){return void 0===e&&(e=1),coordsAtPos(this,t,e);},Oe.prototype.domAtPos=function domAtPos(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e);},Oe.prototype.nodeDOM=function nodeDOM(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null;},Oe.prototype.posAtDOM=function posAtDOM(t,e,r){void 0===r&&(r=-1);var n=this.docView.posFromDOM(t,e,r);if(null==n)throw new RangeError("DOM position not inside the editor");return n;},Oe.prototype.endOfTextblock=function endOfTextblock$1(t,e){return endOfTextblock(this,e||this.state,t);},Oe.prototype.destroy=function destroy(){this.docView&&(!function destroyInput(t){for(var e in t.domObserver.stop(),t.eventHandlers){t.dom.removeEventListener(e,t.eventHandlers[e]);}clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout);}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null);},Me.isDestroyed.get=function(){return null==this.docView;},Oe.prototype.dispatchEvent=function dispatchEvent$1(t){return function dispatchEvent(t,e){runCustomHandler(t,e)||!ue[e.type]||!t.editable&&e.type in le||ue[e.type](t,e);}(this,t);},Oe.prototype.dispatch=function dispatch(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t));},Object.defineProperties(Oe.prototype,Me);for(var Te={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Ne={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Re="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Fe="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),Ie="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Pe="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),_e="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Be=Re&&(Pe||+Re[1]<57)||Ie&&Pe,je=0;je<10;je++){Te[48+je]=Te[96+je]=String(je);}for(je=1;je<=24;je++){Te[je+111]="F"+je;}for(je=65;je<=90;je++){Te[je]=String.fromCharCode(je+32),Ne[je]=String.fromCharCode(je);}for(var Le in Te){Ne.hasOwnProperty(Le)||(Ne[Le]=Te[Le]);}var ze="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function normalizeKeyName(t){var e,r,n,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var c=i[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))n=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);ze?o=!0:r=!0;}}return e&&(s="Alt-"+s),r&&(s="Ctrl-"+s),o&&(s="Meta-"+s),n&&(s="Shift-"+s),s;}function modifiers(t,e,r){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==r&&e.shiftKey&&(t="Shift-"+t),t;}function keydownHandler(t){var e=function normalize(t){var e=Object.create(null);for(var r in t){e[normalizeKeyName(r)]=t[r];}return e;}(t);return function(t,r){var n,o=function keyName(t){var e=!(Be&&(t.ctrlKey||t.altKey||t.metaKey)||(Fe||_e)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?Ne:Te)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e;}(r),i=1==o.length&&" "!=o,s=e[modifiers(o,r,!i)];if(s&&s(t.state,t.dispatch,t))return!0;if(i&&(r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(n=Te[r.keyCode])&&n!=o){var a=e[modifiers(n,r,!0)];if(a&&a(t.state,t.dispatch,t))return!0;}else if(i&&r.shiftKey){var c=e[modifiers(o,r,!0)];if(c&&c(t.state,t.dispatch,t))return!0;}return!1;};}function isPlainObject(t){return"Object"===function getType(t){return Object.prototype.toString.call(t).slice(8,-1);}(t)&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype;}function mergeDeep(t,e){var r=_objectSpread({},t);return isPlainObject(t)&&isPlainObject(e)&&Object.keys(e).forEach(function(n){isPlainObject(e[n])?n in t?r[n]=mergeDeep(t[n],e[n]):Object.assign(r,_defineProperty({},n,e[n])):Object.assign(r,_defineProperty({},n,e[n]));}),r;}function isFunction(t){return"function"==typeof t;}function callOrReturn(t,e){for(var _len=arguments.length,r=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){r[_key-2]=arguments[_key];}return isFunction(t)?e?t.bind(e).apply(void 0,r):t.apply(void 0,r):t;}function getExtensionField(t,e,r){if(void 0===t.config[e]&&t.parent)return getExtensionField(t.parent,e,r);if("function"==typeof t.config[e]){return t.config[e].bind(_objectSpread(_objectSpread({},r),{},{parent:t.parent?getExtensionField(t.parent,e,r):null}));}return t.config[e];}var Extension=/*#__PURE__*/function(){function Extension(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Extension);this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=_objectSpread(_objectSpread({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn("[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"".concat(this.name,"\".")),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{};}_createClass(Extension,[{key:"configure",value:function configure(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.extend();return e.options=mergeDeep(this.options,t),e.storage=callOrReturn(getExtensionField(e,"addStorage",{name:e.name,options:e.options})),e;}},{key:"extend",value:function extend(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=new Extension(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn("[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"".concat(e.name,"\".")),e.options=callOrReturn(getExtensionField(e,"addOptions",{name:e.name})),e.storage=callOrReturn(getExtensionField(e,"addStorage",{name:e.name,options:e.options})),e;}}],[{key:"create",value:function create(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new Extension(t);}}]);return Extension;}();function getTextBetween(t,e,r){var n=e.from,o=e.to,_ref=r||{},_ref$blockSeparator=_ref.blockSeparator,i=_ref$blockSeparator===void 0?"\n\n":_ref$blockSeparator,_ref$textSerializers=_ref.textSerializers,s=_ref$textSerializers===void 0?{}:_ref$textSerializers;var a="",c=!0;return t.nodesBetween(n,o,function(t,e,r,u){var l;var p=null==s?void 0:s[t.type.name];p?(t.isBlock&&!c&&(a+=i,c=!0),a+=p({node:t,pos:e,parent:r,index:u})):t.isText?(a+=null===(l=null==t?void 0:t.text)||void 0===l?void 0:l.slice(Math.max(n,e)-e,o-e),c=!1):t.isBlock&&!c&&(a+=i,c=!0);}),a;}function getTextSeralizersFromSchema(t){return Object.fromEntries(Object.entries(t.nodes).filter(function(_ref2){var _ref3=_slicedToArray(_ref2,2),t=_ref3[1];return t.spec.toText;}).map(function(_ref4){var _ref5=_slicedToArray(_ref4,2),t=_ref5[0],e=_ref5[1];return[t,e.spec.toText];}));}var Ve=Extension.create({name:"clipboardTextSerializer",addProseMirrorPlugins:function addProseMirrorPlugins(){var _this=this;return[new yt({key:new wt("clipboardTextSerializer"),props:{clipboardTextSerializer:function clipboardTextSerializer(){var t=_this.editor,e=t.state,r=t.schema,n=e.doc,o=e.selection,i=o.ranges,s=Math.min.apply(Math,_toConsumableArray(i.map(function(t){return t.$from.pos;}))),a=Math.max.apply(Math,_toConsumableArray(i.map(function(t){return t.$to.pos;})));return getTextBetween(n,{from:s,to:a},{textSerializers:getTextSeralizersFromSchema(r)});}}})];}});var $e=Object.freeze({__proto__:null,blur:function blur(){return function(_ref6){var t=_ref6.editor,e=_ref6.view;return requestAnimationFrame(function(){var r;t.isDestroyed||(e.dom.blur(),null===(r=null===window||void 0===window?void 0:window.getSelection())||void 0===r||r.removeAllRanges());}),!0;};}});var He=Object.freeze({__proto__:null,clearContent:function clearContent(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return function(_ref7){var e=_ref7.commands;return e.setContent("",t);};}});var Ue=Object.freeze({__proto__:null,clearNodes:function clearNodes(){return function(_ref8){var t=_ref8.state,e=_ref8.tr,r=_ref8.dispatch;var n=e.selection,o=n.ranges;return!r||(o.forEach(function(_ref9){var r=_ref9.$from,n=_ref9.$to;t.doc.nodesBetween(r.pos,n.pos,function(t,r){if(t.type.isText)return;var n=e.doc,o=e.mapping,i=n.resolve(o.map(r)),s=n.resolve(o.map(r+t.nodeSize)),a=i.blockRange(s);if(!a)return;var c=liftTarget(a);if(t.type.isTextblock){var _i$parent$contentMatc=i.parent.contentMatchAt(i.index()),_t2=_i$parent$contentMatc.defaultType;e.setNodeMarkup(a.start,_t2);}(c||0===c)&&e.lift(a,c);});}),!0);};}});var We=Object.freeze({__proto__:null,command:function command(t){return function(e){return t(e);};}});var qe=Object.freeze({__proto__:null,createParagraphNear:function createParagraphNear(){return function(_ref10){var t=_ref10.state,e=_ref10.dispatch;return _createParagraphNear(t,e);};}});function getNodeType(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error("There is no node type named '".concat(t,"'. Maybe you forgot to add the extension?"));return e.nodes[t];}return t;}var Je=Object.freeze({__proto__:null,deleteNode:function deleteNode(t){return function(_ref11){var e=_ref11.tr,r=_ref11.state,n=_ref11.dispatch;var o=getNodeType(t,r.schema),i=e.selection.$anchor;for(var _t3=i.depth;_t3>0;_t3-=1){if(i.node(_t3).type===o){if(n){var _r2=i.before(_t3),_n2=i.after(_t3);e["delete"](_r2,_n2).scrollIntoView();}return!0;}}return!1;};}});var Ke=Object.freeze({__proto__:null,deleteRange:function deleteRange(t){return function(_ref12){var e=_ref12.tr,r=_ref12.dispatch;var n=t.from,o=t.to;return r&&e["delete"](n,o),!0;};}});var Ge=Object.freeze({__proto__:null,deleteSelection:function deleteSelection(){return function(_ref13){var t=_ref13.state,e=_ref13.dispatch;return _deleteSelection(t,e);};}});var Ye=Object.freeze({__proto__:null,enter:function enter(){return function(_ref14){var t=_ref14.commands;return t.keyboardShortcut("Enter");};}});var Qe=Object.freeze({__proto__:null,exitCode:function exitCode(){return function(_ref15){var t=_ref15.state,e=_ref15.dispatch;return _exitCode(t,e);};}});function getMarkType(t,e){if("string"==typeof t){if(!e.marks[t])throw Error("There is no mark type named '".concat(t,"'. Maybe you forgot to add the extension?"));return e.marks[t];}return t;}function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t);}function objectIncludes(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{strict:!0};var n=Object.keys(e);return!n.length||n.every(function(n){return r.strict?e[n]===t[n]:isRegExp(e[n])?e[n].test(t[n]):e[n]===t[n];});}function findMarkInSet(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return t.find(function(t){return t.type===e&&objectIncludes(t.attrs,r);});}function isMarkInSet(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return!!findMarkInSet(t,e,r);}function getMarkRange(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!t||!e)return;var n=t.parent.childAfter(t.parentOffset);if(!n.node)return;var o=findMarkInSet(n.node.marks,e,r);if(!o)return;var i=t.index(),s=t.start()+n.offset,a=i+1,c=s+n.node.nodeSize;for(findMarkInSet(n.node.marks,e,r);i>0&&o.isInSet(t.parent.child(i-1).marks);){i-=1,s-=t.parent.child(i).nodeSize;}for(;a<t.parent.childCount&&isMarkInSet(t.parent.child(a).marks,e,r);){c+=t.parent.child(a).nodeSize,a+=1;}return{from:s,to:c};}var Xe=Object.freeze({__proto__:null,extendMarkRange:function extendMarkRange(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref16){var r=_ref16.tr,n=_ref16.state,o=_ref16.dispatch;var i=getMarkType(t,n.schema),s=r.doc,a=r.selection,c=a.$from,u=a.from,l=a.to;if(o){var _t4=getMarkRange(c,i,e);if(_t4&&_t4.from<=u&&_t4.to>=l){var _e3=ot.create(s,_t4.from,_t4.to);r.setSelection(_e3);}}return!0;};}});var Ze=Object.freeze({__proto__:null,first:function first(t){return function(e){var r="function"==typeof t?t(e):t;for(var _t5=0;_t5<r.length;_t5+=1){if(r[_t5](e))return!0;}return!1;};}});function isObject(t){return t&&"object"==_typeof2(t)&&!Array.isArray(t)&&!function isClass(t){var e;return"class"===(null===(e=t.constructor)||void 0===e?void 0:e.toString().substring(0,5));}(t);}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;}function minMax(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return Math.min(Math.max(t,e),r);}function resolveFocusPosition(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!e)return null;var r=et.atStart(t),n=et.atEnd(t);if("start"===e||!0===e)return r;if("end"===e)return n;var o=r.from,i=n.to;return"all"===e?ot.create(t,minMax(0,o,i),minMax(t.content.size,o,i)):ot.create(t,minMax(e,o,i),minMax(e,o,i));}var tr=Object.freeze({__proto__:null,focus:function focus(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1?arguments[1]:undefined;return function(_ref17){var r=_ref17.editor,n=_ref17.view,o=_ref17.tr,i=_ref17.dispatch;e=_objectSpread({scrollIntoView:!0},e);var delayedFocus=function delayedFocus(){isiOS()&&n.dom.focus(),requestAnimationFrame(function(){r.isDestroyed||(n.focus(),(null==e?void 0:e.scrollIntoView)&&r.commands.scrollIntoView());});};if(n.hasFocus()&&null===t||!1===t)return!0;if(i&&null===t&&!function isTextSelection(t){return isObject(t)&&t instanceof ot;}(r.state.selection))return delayedFocus(),!0;var s=resolveFocusPosition(r.state.doc,t)||r.state.selection,a=r.state.selection.eq(s);return i&&(a||o.setSelection(s),a&&o.storedMarks&&o.setStoredMarks(o.storedMarks),delayedFocus()),!0;};}});var er=Object.freeze({__proto__:null,forEach:function forEach(t,e){return function(r){return t.every(function(t,n){return e(t,_objectSpread(_objectSpread({},r),{},{index:n}));});};}});var rr=Object.freeze({__proto__:null,insertContent:function insertContent(t,e){return function(_ref18){var r=_ref18.tr,n=_ref18.commands;return n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e);};}});function elementFromString(t){var e="<body>".concat(t,"</body>");return new window.DOMParser().parseFromString(e,"text/html").body;}function createNodeFromContent(t,r,n){if(n=_objectSpread({slice:!0,parseOptions:{}},n),"object"==_typeof2(t)&&null!==t)try{return Array.isArray(t)?e.fromArray(t.map(function(t){return r.nodeFromJSON(t);})):r.nodeFromJSON(t);}catch(e){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",e),createNodeFromContent("",r,n);}if("string"==typeof t){var _e4=M.fromSchema(r);return n.slice?_e4.parseSlice(elementFromString(t),n.parseOptions).content:_e4.parse(elementFromString(t),n.parseOptions);}return createNodeFromContent("",r,n);}var nr=Object.freeze({__proto__:null,insertContentAt:function insertContentAt(t,e,r){return function(_ref19){var n=_ref19.tr,o=_ref19.dispatch,i=_ref19.editor;if(o){r=_objectSpread({parseOptions:{},updateSelection:!0},r);var _o2=createNodeFromContent(e,i.schema,{parseOptions:_objectSpread({preserveWhitespace:"full"},r.parseOptions)});if("<>"===_o2.toString())return!0;var _ref20="number"==typeof t?{from:t,to:t}:t,_s2=_ref20.from,_a=_ref20.to,_c=!0,_u=!0;if((_o2.toString().startsWith("<")?_o2:[_o2]).forEach(function(t){t.check(),_c=!!_c&&t.isText&&0===t.marks.length,_u=!!_u&&t.isBlock;}),_s2===_a&&_u){var _n$doc$resolve=n.doc.resolve(_s2),_t6=_n$doc$resolve.parent;_t6.isTextblock&&!_t6.type.spec.code&&!_t6.childCount&&(_s2-=1,_a+=1);}_c?n.insertText(e,_s2,_a):n.replaceWith(_s2,_a,_o2),r.updateSelection&&function tiptap_core_esm_selectionToInsertionEnd(t,e,r){var n=t.steps.length-1;if(n<e)return;var o=t.steps[n];if(!(o instanceof J||o instanceof K))return;var i=t.mapping.maps[n];var s=0;i.forEach(function(t,e,r,n){0===s&&(s=n);}),t.setSelection(et.near(t.doc.resolve(s),r));}(n,n.steps.length-1,-1);}return!0;};}});var or=Object.freeze({__proto__:null,joinBackward:function joinBackward(){return function(_ref21){var t=_ref21.state,e=_ref21.dispatch;return _joinBackward(t,e);};}});var ir=Object.freeze({__proto__:null,joinForward:function joinForward(){return function(_ref22){var t=_ref22.state,e=_ref22.dispatch;return _joinForward(t,e);};}});function isMacOS(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);}var sr=Object.freeze({__proto__:null,keyboardShortcut:function keyboardShortcut(t){return function(_ref23){var e=_ref23.editor,r=_ref23.view,n=_ref23.tr,o=_ref23.dispatch;var i=function tiptap_core_esm_normalizeKeyName(t){var e=t.split(/-(?!$)/);var r,n,o,i,s=e[e.length-1];"Space"===s&&(s=" ");for(var _t7=0;_t7<e.length-1;_t7+=1){var _s3=e[_t7];if(/^(cmd|meta|m)$/i.test(_s3))i=!0;else if(/^a(lt)?$/i.test(_s3))r=!0;else if(/^(c|ctrl|control)$/i.test(_s3))n=!0;else if(/^s(hift)?$/i.test(_s3))o=!0;else{if(!/^mod$/i.test(_s3))throw new Error("Unrecognized modifier name: ".concat(_s3));isiOS()||isMacOS()?i=!0:n=!0;}}return r&&(s="Alt-".concat(s)),n&&(s="Ctrl-".concat(s)),i&&(s="Meta-".concat(s)),o&&(s="Shift-".concat(s)),s;}(t).split(/-(?!$)/),s=i.find(function(t){return!["Alt","Ctrl","Meta","Shift"].includes(t);}),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(function(){r.someProp("handleKeyDown",function(t){return t(r,a);});});return null==c||c.steps.forEach(function(t){var e=t.map(n.mapping);e&&o&&n.maybeStep(e);}),!0;};}});function isNodeActive(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var _t$selection=t.selection,n=_t$selection.from,o=_t$selection.to,i=_t$selection.empty,s=e?getNodeType(e,t.schema):null,a=[];t.doc.nodesBetween(n,o,function(t,e){if(t.isText)return;var r=Math.max(n,e),i=Math.min(o,e+t.nodeSize);a.push({node:t,from:r,to:i});});var c=o-n,u=a.filter(function(t){return!s||s.name===t.node.type.name;}).filter(function(t){return objectIncludes(t.node.attrs,r,{strict:!1});});if(i)return!!u.length;return u.reduce(function(t,e){return t+e.to-e.from;},0)>=c;}var ar=Object.freeze({__proto__:null,lift:function lift(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref24){var r=_ref24.state,n=_ref24.dispatch;return!!isNodeActive(r,getNodeType(t,r.schema),e)&&function lift(t,e){var r=t.selection,n=r.$from,o=r.$to,i=n.blockRange(o),s=i&&liftTarget(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0);}(r,n);};}});var cr=Object.freeze({__proto__:null,liftEmptyBlock:function liftEmptyBlock(){return function(_ref25){var t=_ref25.state,e=_ref25.dispatch;return _liftEmptyBlock(t,e);};}});var ur=Object.freeze({__proto__:null,liftListItem:function liftListItem(t){return function(_ref26){var e=_ref26.state,r=_ref26.dispatch;return _liftListItem(getNodeType(t,e.schema))(e,r);};}});var lr=Object.freeze({__proto__:null,newlineInCode:function newlineInCode(){return function(_ref27){var t=_ref27.state,e=_ref27.dispatch;return _newlineInCode(t,e);};}});function getSchemaTypeNameByName(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null;}function deleteProps(t,e){var r="string"==typeof e?[e]:e;return Object.keys(t).reduce(function(e,n){return r.includes(n)||(e[n]=t[n]),e;},{});}var pr=Object.freeze({__proto__:null,resetAttributes:function resetAttributes(t,e){return function(_ref28){var r=_ref28.tr,n=_ref28.state,o=_ref28.dispatch;var i=null,s=null;var a=getSchemaTypeNameByName("string"==typeof t?t:t.name,n.schema);return!!a&&("node"===a&&(i=getNodeType(t,n.schema)),"mark"===a&&(s=getMarkType(t,n.schema)),o&&r.selection.ranges.forEach(function(t){n.doc.nodesBetween(t.$from.pos,t.$to.pos,function(t,n){i&&i===t.type&&r.setNodeMarkup(n,void 0,deleteProps(t.attrs,e)),s&&t.marks.length&&t.marks.forEach(function(o){s===o.type&&r.addMark(n,n+t.nodeSize,s.create(deleteProps(o.attrs,e)));});});}),!0);};}});var fr=Object.freeze({__proto__:null,scrollIntoView:function scrollIntoView(){return function(_ref29){var t=_ref29.tr,e=_ref29.dispatch;return e&&t.scrollIntoView(),!0;};}});var dr=Object.freeze({__proto__:null,selectAll:function selectAll(){return function(_ref30){var t=_ref30.tr,e=_ref30.commands;return e.setTextSelection({from:0,to:t.doc.content.size});};}});var hr=Object.freeze({__proto__:null,selectNodeBackward:function selectNodeBackward(){return function(_ref31){var t=_ref31.state,e=_ref31.dispatch;return _selectNodeBackward(t,e);};}});var mr=Object.freeze({__proto__:null,selectNodeForward:function selectNodeForward(){return function(_ref32){var t=_ref32.state,e=_ref32.dispatch;return _selectNodeForward(t,e);};}});var vr=Object.freeze({__proto__:null,selectParentNode:function selectParentNode(){return function(_ref33){var t=_ref33.state,e=_ref33.dispatch;return function selectParentNode(t,e){var r,n=t.selection,o=n.$from,i=n.to,s=o.sharedDepth(i);return 0!=s&&(r=o.before(s),e&&e(t.tr.setSelection(st.create(t.doc,r))),!0);}(t,e);};}});var gr=Object.freeze({__proto__:null,selectTextblockEnd:function selectTextblockEnd(){return function(_ref34){var t=_ref34.state,e=_ref34.dispatch;return Dt(t,e);};}});var yr=Object.freeze({__proto__:null,selectTextblockStart:function selectTextblockStart(){return function(_ref35){var t=_ref35.state,e=_ref35.dispatch;return xt(t,e);};}});function createDocument(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return createNodeFromContent(t,e,{slice:!1,parseOptions:r});}var br=Object.freeze({__proto__:null,setContent:function setContent(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return function(_ref36){var n=_ref36.tr,o=_ref36.editor,i=_ref36.dispatch;var s=n.doc,a=createDocument(t,o.schema,r),c=ot.create(s,0,s.content.size);return i&&n.setSelection(c).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0;};}});function getMarkAttributes(t,e){var r=getMarkType(e,t.schema),_t$selection2=t.selection,n=_t$selection2.from,o=_t$selection2.to,i=_t$selection2.empty,s=[];i?(t.storedMarks&&s.push.apply(s,_toConsumableArray(t.storedMarks)),s.push.apply(s,_toConsumableArray(t.selection.$head.marks()))):t.doc.nodesBetween(n,o,function(t){s.push.apply(s,_toConsumableArray(t.marks));});var a=s.find(function(t){return t.type.name===r.name;});return a?_objectSpread({},a.attrs):{};}var wr=Object.freeze({__proto__:null,setMark:function setMark(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref37){var r=_ref37.tr,n=_ref37.state,o=_ref37.dispatch;var i=r.selection,s=i.empty,a=i.ranges,c=getMarkType(t,n.schema);if(o)if(s){var _t8=getMarkAttributes(n,c);r.addStoredMark(c.create(_objectSpread(_objectSpread({},_t8),e)));}else a.forEach(function(t){var o=t.$from.pos,i=t.$to.pos;n.doc.nodesBetween(o,i,function(t,n){var s=Math.max(n,o),a=Math.min(n+t.nodeSize,i);t.marks.find(function(t){return t.type===c;})?t.marks.forEach(function(t){c===t.type&&r.addMark(s,a,c.create(_objectSpread(_objectSpread({},t.attrs),e)));}):r.addMark(s,a,c.create(e));});});return!0;};}});var xr=Object.freeze({__proto__:null,setMeta:function setMeta(t,e){return function(_ref38){var r=_ref38.tr;return r.setMeta(t,e),!0;};}});var Dr=Object.freeze({__proto__:null,setNode:function setNode(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref39){var r=_ref39.state,n=_ref39.dispatch,o=_ref39.chain;var i=getNodeType(t,r.schema);return i.isTextblock?o().command(function(_ref40){var t=_ref40.commands;return!!setBlockType(i,e)(r)||t.clearNodes();}).command(function(_ref41){var t=_ref41.state;return setBlockType(i,e)(t,n);}).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1);};}});var Sr=Object.freeze({__proto__:null,setNodeSelection:function setNodeSelection(t){return function(_ref42){var e=_ref42.tr,r=_ref42.dispatch;if(r){var _r3=e.doc,_n3=et.atStart(_r3).from,_o3=et.atEnd(_r3).to,_i2=minMax(t,_n3,_o3),_s4=st.create(_r3,_i2);e.setSelection(_s4);}return!0;};}});var kr=Object.freeze({__proto__:null,setTextSelection:function setTextSelection(t){return function(_ref43){var e=_ref43.tr,r=_ref43.dispatch;if(r){var _r4=e.doc,_ref44="number"==typeof t?{from:t,to:t}:t,_n4=_ref44.from,_o4=_ref44.to,_i3=ot.atStart(_r4).from,_s5=ot.atEnd(_r4).to,_a2=minMax(_n4,_i3,_s5),_c2=minMax(_o4,_i3,_s5),_u2=ot.create(_r4,_a2,_c2);e.setSelection(_u2);}return!0;};}});var Er=Object.freeze({__proto__:null,sinkListItem:function sinkListItem(t){return function(_ref45){var r=_ref45.state,n=_ref45.dispatch;return function sinkListItem(t){return function(r,n){var o=r.selection,i=o.$from,a=o.$to,c=i.blockRange(a,function(e){return e.childCount&&e.firstChild.type==t;});if(!c)return!1;var u=c.startIndex;if(0==u)return!1;var l=c.parent,p=l.child(u-1);if(p.type!=t)return!1;if(n){var f=p.lastChild&&p.lastChild.type==l.type,d=e.from(f?t.create():null),h=new s(e.from(t.create(null,e.from(l.type.create(null,d)))),f?3:1,0),m=c.start,v=c.end;n(r.tr.step(new K(m-(f?3:1),v,m,v,h,1,!0)).scrollIntoView());}return!0;};}(getNodeType(t,r.schema))(r,n);};}});function getSplittedAttributes(t,e,r){return Object.fromEntries(Object.entries(r).filter(function(_ref46){var _ref47=_slicedToArray(_ref46,1),r=_ref47[0];var n=t.find(function(t){return t.type===e&&t.name===r;});return!!n&&n.attribute.keepOnSplit;}));}function ensureMarks(t,e){var r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){var _n5=r.filter(function(t){return null==e?void 0:e.includes(t.type.name);});t.tr.ensureMarks(_n5);}}var Ar=Object.freeze({__proto__:null,splitBlock:function splitBlock(){var _ref48=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref48$keepMarks=_ref48.keepMarks,t=_ref48$keepMarks===void 0?!0:_ref48$keepMarks;return function(_ref49){var e=_ref49.tr,r=_ref49.state,n=_ref49.dispatch,o=_ref49.editor;var i=e.selection,s=e.doc,a=i.$from,c=i.$to,u=getSplittedAttributes(o.extensionManager.attributes,a.node().type.name,a.node().attrs);if(i instanceof st&&i.node.isBlock)return!(!a.parentOffset||!index_es_canSplit(s,a.pos))&&(n&&(t&&ensureMarks(r,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(n){var _n6=c.parentOffset===c.parent.content.size;i instanceof ot&&e.deleteSelection();var _s6=0===a.depth?void 0:function defaultBlockAt$1(t){for(var _e5=0;_e5<t.edgeCount;_e5+=1){var _t$edge=t.edge(_e5),_r5=_t$edge.type;if(_r5.isTextblock&&!_r5.hasRequiredAttrs())return _r5;}return null;}(a.node(-1).contentMatchAt(a.indexAfter(-1)));var _l=_n6&&_s6?[{type:_s6,attrs:u}]:void 0,_p=index_es_canSplit(e.doc,e.mapping.map(a.pos),1,_l);if(_l||_p||!index_es_canSplit(e.doc,e.mapping.map(a.pos),1,_s6?[{type:_s6}]:void 0)||(_p=!0,_l=_s6?[{type:_s6,attrs:u}]:void 0),_p&&(e.split(e.mapping.map(a.pos),1,_l),_s6&&!_n6&&!a.parentOffset&&a.parent.type!==_s6)){var _t9=e.mapping.map(a.before()),_r6=e.doc.resolve(_t9);a.node(-1).canReplaceWith(_r6.index(),_r6.index()+1,_s6)&&e.setNodeMarkup(e.mapping.map(a.before()),_s6);}t&&ensureMarks(r,o.extensionManager.splittableMarks),e.scrollIntoView();}return!0;};}});var Cr=Object.freeze({__proto__:null,splitListItem:function splitListItem(t){return function(_ref50){var r=_ref50.tr,n=_ref50.state,o=_ref50.dispatch,i=_ref50.editor;var a;var c=getNodeType(t,n.schema),_n$selection=n.selection,u=_n$selection.$from,l=_n$selection.$to,p=n.selection.node;if(p&&p.isBlock||u.depth<2||!u.sameParent(l))return!1;var f=u.node(-1);if(f.type!==c)return!1;var d=i.extensionManager.attributes;if(0===u.parent.content.size&&u.node(-1).childCount===u.indexAfter(-1)){if(2===u.depth||u.node(-3).type!==c||u.index(-2)!==u.node(-2).childCount-1)return!1;if(o){var _t10=e.empty;var _n7=u.index(-1)?1:u.index(-2)?2:3;for(var _r7=u.depth-_n7;_r7>=u.depth-3;_r7-=1){_t10=e.from(u.node(_r7).copy(_t10));}var _o5=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,_i4=getSplittedAttributes(d,u.node().type.name,u.node().attrs),_l2=(null===(a=c.contentMatch.defaultType)||void 0===a?void 0:a.createAndFill(_i4))||void 0;_t10=_t10.append(e.from(c.createAndFill(null,_l2)||void 0));var _p2=u.before(u.depth-(_n7-1));r.replace(_p2,u.after(-_o5),new s(_t10,4-_n7,0));var _f=-1;r.doc.nodesBetween(_p2,r.doc.content.size,function(t,e){if(_f>-1)return!1;t.isTextblock&&0===t.content.size&&(_f=e+1);}),_f>-1&&r.setSelection(ot.near(r.doc.resolve(_f))),r.scrollIntoView();}return!0;}var h=l.pos===u.end()?f.contentMatchAt(0).defaultType:null,m=getSplittedAttributes(d,f.type.name,f.attrs),v=getSplittedAttributes(d,u.node().type.name,u.node().attrs);r["delete"](u.pos,l.pos);var g=h?[{type:c,attrs:m},{type:h,attrs:v}]:[{type:c,attrs:m}];return!!index_es_canSplit(r.doc,u.pos,2)&&(o&&r.split(u.pos,2,g).scrollIntoView(),!0);};}});function findParentNodeClosestToPos(t,e){for(var _r8=t.depth;_r8>0;_r8-=1){var _n8=t.node(_r8);if(e(_n8))return{pos:_r8>0?t.before(_r8):0,start:t.start(_r8),depth:_r8,node:_n8};}}function findParentNode(t){return function(e){return findParentNodeClosestToPos(e.$from,t);};}function splitExtensions(t){return{baseExtensions:t.filter(function(t){return"extension"===t.type;}),nodeExtensions:t.filter(function(t){return"node"===t.type;}),markExtensions:t.filter(function(t){return"mark"===t.type;})};}function isList(t,e){var _splitExtensions=splitExtensions(e),r=_splitExtensions.nodeExtensions,n=r.find(function(e){return e.name===t;});if(!n)return!1;var o=callOrReturn(getExtensionField(n,"group",{name:n.name,options:n.options,storage:n.storage}));return"string"==typeof o&&o.split(" ").includes("list");}var joinListBackwards=function joinListBackwards(t,e){var r=findParentNode(function(t){return t.type===e;})(t.selection);if(!r)return!0;var n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(void 0===n)return!0;var o=t.doc.nodeAt(n);return r.node.type!==(null==o?void 0:o.type)||!index_es_canJoin(t.doc,r.pos)||(t.join(r.pos),!0);},joinListForwards=function joinListForwards(t,e){var r=findParentNode(function(t){return t.type===e;})(t.selection);if(!r)return!0;var n=t.doc.resolve(r.start).after(r.depth);if(void 0===n)return!0;var o=t.doc.nodeAt(n);return r.node.type!==(null==o?void 0:o.type)||!index_es_canJoin(t.doc,n)||(t.join(n),!0);};var Or=Object.freeze({__proto__:null,toggleList:function toggleList(t,e){return function(_ref51){var r=_ref51.editor,n=_ref51.tr,o=_ref51.state,i=_ref51.dispatch,s=_ref51.chain,a=_ref51.commands,c=_ref51.can;var u=r.extensionManager.extensions,l=getNodeType(t,o.schema),p=getNodeType(e,o.schema),f=o.selection,d=f.$from,h=f.$to,m=d.blockRange(h);if(!m)return!1;var v=findParentNode(function(t){return isList(t.type.name,u);})(f);if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===l)return a.liftListItem(p);if(isList(v.node.type.name,u)&&l.validContent(v.node.content)&&i)return s().command(function(){return n.setNodeMarkup(v.pos,l),!0;}).command(function(){return joinListBackwards(n,l);}).command(function(){return joinListForwards(n,l);}).run();}return s().command(function(){return!!c().wrapInList(l)||a.clearNodes();}).wrapInList(l).command(function(){return joinListBackwards(n,l);}).command(function(){return joinListForwards(n,l);}).run();};}});function isMarkActive(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var _t$selection3=t.selection,n=_t$selection3.empty,o=_t$selection3.ranges,i=e?getMarkType(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(function(t){return!i||i.name===t.type.name;}).find(function(t){return objectIncludes(t.attrs,r,{strict:!1});});var s=0;var a=[];if(o.forEach(function(_ref52){var e=_ref52.$from,r=_ref52.$to;var n=e.pos,o=r.pos;t.doc.nodesBetween(n,o,function(t,e){if(!t.isText&&!t.marks.length)return;var r=Math.max(n,e),i=Math.min(o,e+t.nodeSize);s+=i-r,a.push.apply(a,_toConsumableArray(t.marks.map(function(t){return{mark:t,from:r,to:i};})));});}),0===s)return!1;var c=a.filter(function(t){return!i||i.name===t.mark.type.name;}).filter(function(t){return objectIncludes(t.mark.attrs,r,{strict:!1});}).reduce(function(t,e){return t+e.to-e.from;},0),u=a.filter(function(t){return!i||t.mark.type!==i&&t.mark.type.excludes(i);}).reduce(function(t,e){return t+e.to-e.from;},0);return(c>0?c+u:c)>=s;}var Mr=Object.freeze({__proto__:null,toggleMark:function toggleMark(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return function(_ref53){var n=_ref53.state,o=_ref53.commands;var _r$extendEmptyMarkRan=r.extendEmptyMarkRange,i=_r$extendEmptyMarkRan===void 0?!1:_r$extendEmptyMarkRan,s=getMarkType(t,n.schema);return isMarkActive(n,s,e)?o.unsetMark(s,{extendEmptyMarkRange:i}):o.setMark(s,e);};}});var Tr=Object.freeze({__proto__:null,toggleNode:function toggleNode(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return function(_ref54){var n=_ref54.state,o=_ref54.commands;var i=getNodeType(t,n.schema),s=getNodeType(e,n.schema);return isNodeActive(n,i,r)?o.setNode(s):o.setNode(i,r);};}});var Nr=Object.freeze({__proto__:null,toggleWrap:function toggleWrap(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref55){var r=_ref55.state,n=_ref55.commands;var o=getNodeType(t,r.schema);return isNodeActive(r,o,e)?n.lift(o):n.wrapIn(o,e);};}});var Rr=Object.freeze({__proto__:null,undoInputRule:function undoInputRule(){return function(_ref56){var t=_ref56.state,e=_ref56.dispatch;var r=t.plugins;for(var _n9=0;_n9<r.length;_n9+=1){var _o6=r[_n9];var _i5=void 0;if(_o6.spec.isInputRules&&(_i5=_o6.getState(t))){if(e){var _e6=t.tr,_r9=_i5.transform;for(var _t11=_r9.steps.length-1;_t11>=0;_t11-=1){_e6.step(_r9.steps[_t11].invert(_r9.docs[_t11]));}if(_i5.text){var _r10=_e6.doc.resolve(_i5.from).marks();_e6.replaceWith(_i5.from,_i5.to,t.schema.text(_i5.text,_r10));}else _e6["delete"](_i5.from,_i5.to);}return!0;}}return!1;};}});var Fr=Object.freeze({__proto__:null,unsetAllMarks:function unsetAllMarks(){return function(_ref57){var t=_ref57.tr,e=_ref57.dispatch;var r=t.selection,n=r.empty,o=r.ranges;return n||e&&o.forEach(function(e){t.removeMark(e.$from.pos,e.$to.pos);}),!0;};}});var Ir=Object.freeze({__proto__:null,unsetMark:function unsetMark(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref58){var r=_ref58.tr,n=_ref58.state,o=_ref58.dispatch;var i;var _e$extendEmptyMarkRan=e.extendEmptyMarkRange,s=_e$extendEmptyMarkRan===void 0?!1:_e$extendEmptyMarkRan,a=r.selection,c=getMarkType(t,n.schema),u=a.$from,l=a.empty,p=a.ranges;if(!o)return!0;if(l&&s){var _t12=a.from,_e7=a.to;var _n10=null===(i=u.marks().find(function(t){return t.type===c;}))||void 0===i?void 0:i.attrs,_o7=getMarkRange(u,c,_n10);_o7&&(_t12=_o7.from,_e7=_o7.to),r.removeMark(_t12,_e7,c);}else p.forEach(function(t){r.removeMark(t.$from.pos,t.$to.pos,c);});return r.removeStoredMark(c),!0;};}});var Pr=Object.freeze({__proto__:null,updateAttributes:function updateAttributes(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref59){var r=_ref59.tr,n=_ref59.state,o=_ref59.dispatch;var i=null,s=null;var a=getSchemaTypeNameByName("string"==typeof t?t:t.name,n.schema);return!!a&&("node"===a&&(i=getNodeType(t,n.schema)),"mark"===a&&(s=getMarkType(t,n.schema)),o&&r.selection.ranges.forEach(function(t){var o=t.$from.pos,a=t.$to.pos;n.doc.nodesBetween(o,a,function(t,n){i&&i===t.type&&r.setNodeMarkup(n,void 0,_objectSpread(_objectSpread({},t.attrs),e)),s&&t.marks.length&&t.marks.forEach(function(i){if(s===i.type){var _c3=Math.max(n,o),_u3=Math.min(n+t.nodeSize,a);r.addMark(_c3,_u3,s.create(_objectSpread(_objectSpread({},i.attrs),e)));}});});}),!0);};}});var _r=Object.freeze({__proto__:null,wrapIn:function wrapIn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref60){var r=_ref60.state,n=_ref60.dispatch;return function wrapIn(t,e){return function(r,n){var o=r.selection,i=o.$from,s=o.$to,a=i.blockRange(s),c=a&&findWrapping(a,t,e);return!!c&&(n&&n(r.tr.wrap(a,c).scrollIntoView()),!0);};}(getNodeType(t,r.schema),e)(r,n);};}});var Br=Object.freeze({__proto__:null,wrapInList:function wrapInList(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return function(_ref61){var r=_ref61.state,n=_ref61.dispatch;return _wrapInList(getNodeType(t,r.schema),e)(r,n);};}});var jr=Extension.create({name:"commands",addCommands:function addCommands(){return _objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},$e),He),Ue),We),qe),Je),Ke),Ge),Ye),Qe),Xe),Ze),tr),er),rr),nr),or),ir),sr),ar),cr),ur),lr),pr),fr),dr),hr),mr),vr),gr),yr),br),wr),xr),Dr),Sr),kr),Er),Ar),Cr),Or),Mr),Tr),Nr),Rr),Fr),Ir),Pr),_r),Br);}}),Lr=Extension.create({name:"editable",addProseMirrorPlugins:function addProseMirrorPlugins(){var _this2=this;return[new yt({key:new wt("editable"),props:{editable:function editable(){return _this2.editor.options.editable;}}})];}}),zr=Extension.create({name:"focusEvents",addProseMirrorPlugins:function addProseMirrorPlugins(){var t=this.editor;return[new yt({key:new wt("focusEvents"),props:{handleDOMEvents:{focus:function focus(e,r){t.isFocused=!0;var n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1;},blur:function blur(e,r){t.isFocused=!1;var n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1;}}}})];}});function createChainableState(t){var e=t.state,r=t.transaction;var n=r.selection,o=r.doc,i=r.storedMarks;return _objectSpread(_objectSpread({},e),{},{schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i;},get selection(){return n;},get doc(){return o;},get tr(){return n=r.selection,o=r.doc,i=r.storedMarks,r;}});}var CommandManager=/*#__PURE__*/function(){function CommandManager(t){_classCallCheck(this,CommandManager);this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state;}_createClass(CommandManager,[{key:"hasCustomState",get:function get(){return!!this.customState;}},{key:"state",get:function get(){return this.customState||this.editor.state;}},{key:"commands",get:function get(){var _this3=this;var t=this.rawCommands,e=this.editor,r=this.state,n=e.view,o=r.tr,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(function(_ref62){var _ref63=_slicedToArray(_ref62,2),t=_ref63[0],e=_ref63[1];return[t,function(){var r=e.apply(void 0,arguments)(i);return o.getMeta("preventDispatch")||_this3.hasCustomState||n.dispatch(o),r;}];}));}},{key:"chain",get:function get(){var _this4=this;return function(){return _this4.createChain();};}},{key:"can",get:function get(){var _this5=this;return function(){return _this5.createCan();};}},{key:"createChain",value:function createChain(t){var _this6=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var r=this.rawCommands,n=this.editor,o=this.state,i=n.view,s=[],a=!!t,c=t||o.tr,u=_objectSpread(_objectSpread({},Object.fromEntries(Object.entries(r).map(function(_ref64){var _ref65=_slicedToArray(_ref64,2),t=_ref65[0],r=_ref65[1];return[t,function(){var n=_this6.buildProps(c,e),o=r.apply(void 0,arguments)(n);return s.push(o),u;}];}))),{},{run:function run(){return a||!e||c.getMeta("preventDispatch")||_this6.hasCustomState||i.dispatch(c),s.every(function(t){return!0===t;});}});return u;}},{key:"createCan",value:function createCan(t){var _this7=this;var e=this.rawCommands,r=this.state,n=void 0,o=t||r.tr,i=this.buildProps(o,n),s=Object.fromEntries(Object.entries(e).map(function(_ref66){var _ref67=_slicedToArray(_ref66,2),t=_ref67[0],e=_ref67[1];return[t,function(){return e.apply(void 0,arguments)(_objectSpread(_objectSpread({},i),{},{dispatch:n}));}];}));return _objectSpread(_objectSpread({},s),{},{chain:function chain(){return _this7.createChain(o,n);}});}},{key:"buildProps",value:function buildProps(t){var _this8=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var r=this.rawCommands,n=this.editor,o=this.state,i=n.view;o.storedMarks&&t.setStoredMarks(o.storedMarks);var s={tr:t,editor:n,view:i,state:createChainableState({state:o,transaction:t}),dispatch:e?function(){}:void 0,chain:function chain(){return _this8.createChain(t);},can:function can(){return _this8.createCan(t);},get commands(){return Object.fromEntries(Object.entries(r).map(function(_ref68){var _ref69=_slicedToArray(_ref68,2),t=_ref69[0],e=_ref69[1];return[t,function(){return e.apply(void 0,arguments)(s);}];}));}};return s;}}]);return CommandManager;}();var Vr=Extension.create({name:"keymap",addKeyboardShortcuts:function addKeyboardShortcuts(){var _this9=this;var handleBackspace=function handleBackspace(){return _this9.editor.commands.first(function(_ref70){var t=_ref70.commands;return[function(){return t.undoInputRule();},function(){return t.command(function(_ref71){var e=_ref71.tr;var r=e.selection,n=e.doc,o=r.empty,i=r.$anchor,s=i.pos,a=i.parent,c=et.atStart(n).from===s;return!(!(o&&c&&a.type.isTextblock)||a.textContent.length)&&t.clearNodes();});},function(){return t.deleteSelection();},function(){return t.joinBackward();},function(){return t.selectNodeBackward();}];});},handleDelete=function handleDelete(){return _this9.editor.commands.first(function(_ref72){var t=_ref72.commands;return[function(){return t.deleteSelection();},function(){return t.joinForward();},function(){return t.selectNodeForward();}];});},t={Enter:function Enter(){return _this9.editor.commands.first(function(_ref73){var t=_ref73.commands;return[function(){return t.newlineInCode();},function(){return t.createParagraphNear();},function(){return t.liftEmptyBlock();},function(){return t.splitBlock();}];});},"Mod-Enter":function ModEnter(){return _this9.editor.commands.exitCode();},Backspace:handleBackspace,"Mod-Backspace":handleBackspace,"Shift-Backspace":handleBackspace,Delete:handleDelete,"Mod-Delete":handleDelete,"Mod-a":function ModA(){return _this9.editor.commands.selectAll();}},e=_objectSpread(_objectSpread({},t),{},{Home:function Home(){return _this9.editor.commands.selectTextblockStart();},End:function End(){return _this9.editor.commands.selectTextblockEnd();}}),r=_objectSpread(_objectSpread({},t),{},{"Ctrl-h":handleBackspace,"Alt-Backspace":handleBackspace,"Ctrl-d":handleDelete,"Ctrl-Alt-Backspace":handleDelete,"Alt-Delete":handleDelete,"Alt-d":handleDelete,"Ctrl-a":function CtrlA(){return _this9.editor.commands.selectTextblockStart();},"Ctrl-e":function CtrlE(){return _this9.editor.commands.selectTextblockEnd();}});return isiOS()||isMacOS()?r:e;},addProseMirrorPlugins:function addProseMirrorPlugins(){var _this10=this;return[new yt({key:new wt("clearDocument"),appendTransaction:function appendTransaction(t,e,r){if(!(t.some(function(t){return t.docChanged;})&&!e.doc.eq(r.doc)))return;var _e$selection=e.selection,n=_e$selection.empty,o=_e$selection.from,i=_e$selection.to,s=et.atStart(e.doc).from,a=et.atEnd(e.doc).to,c=o===s&&i===a,u=0===r.doc.textBetween(0,r.doc.content.size," "," ").length;if(n||!c||!u)return;var l=r.tr,p=createChainableState({state:r,transaction:l}),_CommandManager=new CommandManager({editor:_this10.editor,state:p}),f=_CommandManager.commands;return f.clearNodes(),l.steps.length?l:void 0;}})];}}),$r=Extension.create({name:"tabindex",addProseMirrorPlugins:function addProseMirrorPlugins(){var _this11=this;return[new yt({key:new wt("tabindex"),props:{attributes:function attributes(){if(_this11.editor.isEditable)return{tabindex:"0"};}}})];}});var Hr=Object.freeze({__proto__:null,ClipboardTextSerializer:Ve,Commands:jr,Editable:Lr,FocusEvents:zr,Keymap:Vr,Tabindex:$r});function _getAttributes(t,e){var r=getSchemaTypeNameByName("string"==typeof e?e:e.name,t.schema);return"node"===r?function getNodeAttributes(t,e){var r=getNodeType(e,t.schema),_t$selection4=t.selection,n=_t$selection4.from,o=_t$selection4.to,i=[];t.doc.nodesBetween(n,o,function(t){i.push(t);});var s=i.reverse().find(function(t){return t.type.name===r.name;});return s?_objectSpread({},s.attrs):{};}(t,e):"mark"===r?getMarkAttributes(t,e):{};}function getHTMLFromFragment(t,e){var r=B.fromSchema(e).serializeFragment(t),n=document.implementation.createHTMLDocument().createElement("div");return n.appendChild(r),n.innerHTML;}function _getText(t,e){return getTextBetween(t,{from:0,to:t.content.size},e);}var InputRule=/*#__PURE__*/_createClass(function InputRule(t){_classCallCheck(this,InputRule);this.find=t.find,this.handler=t.handler;});function run$1(t){var e;var r=t.editor,n=t.from,o=t.to,i=t.text,s=t.rules,a=t.plugin,c=r.view;if(c.composing)return!1;var u=c.state.doc.resolve(n);if(u.parent.type.spec.code||(null===(e=u.nodeBefore||u.nodeAfter)||void 0===e?void 0:e.marks.find(function(t){return t.type.spec.code;})))return!1;var l=!1;var p=u.parent.textBetween(Math.max(0,u.parentOffset-500),u.parentOffset,void 0," ")+i;return s.forEach(function(t){if(l)return;var e=function(t,e){if(isRegExp(e))return e.exec(t);var r=e(t);if(!r)return null;var n=[];return n.push(r.text),n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n;}(p,t.find);if(!e)return;var s=c.state.tr,u=createChainableState({state:c.state,transaction:s}),f={from:n-(e[0].length-i.length),to:o},_CommandManager2=new CommandManager({editor:r,state:u}),d=_CommandManager2.commands,h=_CommandManager2.chain,m=_CommandManager2.can;null!==t.handler({state:u,range:f,match:e,commands:d,chain:h,can:m})&&s.steps.length&&(s.setMeta(a,{transform:s,from:n,to:o,text:i}),c.dispatch(s),l=!0);}),l;}function inputRulesPlugin(t){var e=t.editor,r=t.rules,n=new yt({state:{init:function init(){return null;},apply:function apply(t,e){var r=t.getMeta(this);return r||(t.selectionSet||t.docChanged?null:e);}},props:{handleTextInput:function handleTextInput(t,o,i,s){return run$1({editor:e,from:o,to:i,text:s,rules:r,plugin:n});},handleDOMEvents:{compositionend:function compositionend(t){return setTimeout(function(){var o=t.state.selection.$cursor;o&&run$1({editor:e,from:o.pos,to:o.pos,text:"",rules:r,plugin:n});}),!1;}},handleKeyDown:function handleKeyDown(t,o){if("Enter"!==o.key)return!1;var i=t.state.selection.$cursor;return!!i&&run$1({editor:e,from:i.pos,to:i.pos,text:"\n",rules:r,plugin:n});}},isInputRules:!0});return n;}var PasteRule=/*#__PURE__*/_createClass(function PasteRule(t){_classCallCheck(this,PasteRule);this.find=t.find,this.handler=t.handler;});function run(t){var e=t.editor,r=t.state,n=t.from,o=t.to,i=t.rule,_CommandManager3=new CommandManager({editor:e,state:r}),s=_CommandManager3.commands,a=_CommandManager3.chain,c=_CommandManager3.can,u=[];r.doc.nodesBetween(n,o,function(t,e){if(!t.isTextblock||t.type.spec.code)return;var l=Math.max(n,e),p=Math.min(o,e+t.content.size),f=function(t,e){if(isRegExp(e))return _toConsumableArray(t.matchAll(e));var r=e(t);return r?r.map(function(e){var r=[];return r.push(e.text),r.index=e.index,r.input=t,r.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),r.push(e.replaceWith)),r;}):[];}(t.textBetween(l-e,p-e,void 0,""),i.find);f.forEach(function(t){if(void 0===t.index)return;var e=l+t.index+1,n=e+t[0].length,o={from:r.tr.mapping.map(e),to:r.tr.mapping.map(n)},p=i.handler({state:r,range:o,match:t,commands:s,chain:a,can:c});u.push(p);});});return u.every(function(t){return null!==t;});}function pasteRulesPlugin(t){var e=t.editor,r=t.rules;var n=null,o=!1,i=!1;return r.map(function(t){return new yt({view:function view(t){var handleDragstart=function handleDragstart(e){var r;n=(null===(r=t.dom.parentElement)||void 0===r?void 0:r.contains(e.target))?t.dom.parentElement:null;};return window.addEventListener("dragstart",handleDragstart),{destroy:function destroy(){window.removeEventListener("dragstart",handleDragstart);}};},props:{handleDOMEvents:{drop:function drop(t){return i=n===t.dom.parentElement,!1;},paste:function paste(t,e){var r;var n=null===(r=e.clipboardData)||void 0===r?void 0:r.getData("text/html");return o=!!(null==n?void 0:n.includes("data-pm-slice")),!1;}}},appendTransaction:function appendTransaction(r,n,s){var a=r[0],c="paste"===a.getMeta("uiEvent")&&!o,u="drop"===a.getMeta("uiEvent")&&!i;if(!c&&!u)return;var l=n.doc.content.findDiffStart(s.doc.content),p=n.doc.content.findDiffEnd(s.doc.content);if(!function isNumber(t){return"number"==typeof t;}(l)||!p||l===p.b)return;var f=s.tr,d=createChainableState({state:s,transaction:f});return run({editor:e,state:d,from:Math.max(l-1,0),to:p.b,rule:t})&&f.steps.length?f:void 0;}});});}function getAttributesFromExtensions(t){var e=[],_splitExtensions2=splitExtensions(t),r=_splitExtensions2.nodeExtensions,n=_splitExtensions2.markExtensions,o=[].concat(_toConsumableArray(r),_toConsumableArray(n)),i={"default":null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(function(t){var r=getExtensionField(t,"addGlobalAttributes",{name:t.name,options:t.options,storage:t.storage});if(!r)return;r().forEach(function(t){t.types.forEach(function(r){Object.entries(t.attributes).forEach(function(_ref74){var _ref75=_slicedToArray(_ref74,2),t=_ref75[0],n=_ref75[1];e.push({type:r,name:t,attribute:_objectSpread(_objectSpread({},i),n)});});});});}),o.forEach(function(t){var r={name:t.name,options:t.options,storage:t.storage},n=getExtensionField(t,"addAttributes",r);if(!n)return;var o=n();Object.entries(o).forEach(function(_ref76){var _ref77=_slicedToArray(_ref76,2),r=_ref77[0],n=_ref77[1];e.push({type:t.name,name:r,attribute:_objectSpread(_objectSpread({},i),n)});});}),e;}function mergeAttributes(){for(var _len2=arguments.length,t=new Array(_len2),_key2=0;_key2<_len2;_key2++){t[_key2]=arguments[_key2];}return t.filter(function(t){return!!t;}).reduce(function(t,e){var r=_objectSpread({},t);return Object.entries(e).forEach(function(_ref78){var _ref79=_slicedToArray(_ref78,2),t=_ref79[0],e=_ref79[1];r[t]?r[t]="class"===t?[r[t],e].join(" "):"style"===t?[r[t],e].join("; "):e:r[t]=e;}),r;},{});}function getRenderedAttributes(t,e){return e.filter(function(t){return t.attribute.rendered;}).map(function(e){return e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:_defineProperty({},e.name,t.attrs[e.name]);}).reduce(function(t,e){return mergeAttributes(t,e);},{});}function injectExtensionAttributesToParseRule(t,e){return t.style?t:_objectSpread(_objectSpread({},t),{},{getAttrs:function getAttrs(r){var n=t.getAttrs?t.getAttrs(r):t.attrs;if(!1===n)return!1;var o=e.reduce(function(t,e){var n=e.attribute.parseHTML?e.attribute.parseHTML(r):function fromString(t){return"string"!=typeof t?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):"true"===t||"false"!==t&&t;}(r.getAttribute(e.name));return null==n?t:_objectSpread(_objectSpread({},t),{},_defineProperty({},e.name,n));},{});return _objectSpread(_objectSpread({},n),o);}});}function cleanUpSchemaItem(t){return Object.fromEntries(Object.entries(t).filter(function(_ref81){var _ref82=_slicedToArray(_ref81,2),t=_ref82[0],e=_ref82[1];return("attrs"!==t||!function isEmptyObject(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return 0===Object.keys(t).length&&t.constructor===Object;}(e))&&null!=e;}));}function getSchemaByResolvedExtensions(t){var e;var r=getAttributesFromExtensions(t),_splitExtensions3=splitExtensions(t),n=_splitExtensions3.nodeExtensions,o=_splitExtensions3.markExtensions,i=null===(e=n.find(function(t){return getExtensionField(t,"topNode");}))||void 0===e?void 0:e.name,s=Object.fromEntries(n.map(function(e){var n=r.filter(function(t){return t.type===e.name;}),o={name:e.name,options:e.options,storage:e.storage},i=cleanUpSchemaItem(_objectSpread(_objectSpread({},t.reduce(function(t,r){var n=getExtensionField(r,"extendNodeSchema",o);return _objectSpread(_objectSpread({},t),n?n(e):{});},{})),{},{content:callOrReturn(getExtensionField(e,"content",o)),marks:callOrReturn(getExtensionField(e,"marks",o)),group:callOrReturn(getExtensionField(e,"group",o)),inline:callOrReturn(getExtensionField(e,"inline",o)),atom:callOrReturn(getExtensionField(e,"atom",o)),selectable:callOrReturn(getExtensionField(e,"selectable",o)),draggable:callOrReturn(getExtensionField(e,"draggable",o)),code:callOrReturn(getExtensionField(e,"code",o)),defining:callOrReturn(getExtensionField(e,"defining",o)),isolating:callOrReturn(getExtensionField(e,"isolating",o)),attrs:Object.fromEntries(n.map(function(t){var e;return[t.name,{"default":null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e["default"]}];}))})),s=callOrReturn(getExtensionField(e,"parseHTML",o));s&&(i.parseDOM=s.map(function(t){return injectExtensionAttributesToParseRule(t,n);}));var a=getExtensionField(e,"renderHTML",o);a&&(i.toDOM=function(t){return a({node:t,HTMLAttributes:getRenderedAttributes(t,n)});});var c=getExtensionField(e,"renderText",o);return c&&(i.toText=c),[e.name,i];})),a=Object.fromEntries(o.map(function(e){var n=r.filter(function(t){return t.type===e.name;}),o={name:e.name,options:e.options,storage:e.storage},i=cleanUpSchemaItem(_objectSpread(_objectSpread({},t.reduce(function(t,r){var n=getExtensionField(r,"extendMarkSchema",o);return _objectSpread(_objectSpread({},t),n?n(e):{});},{})),{},{inclusive:callOrReturn(getExtensionField(e,"inclusive",o)),excludes:callOrReturn(getExtensionField(e,"excludes",o)),group:callOrReturn(getExtensionField(e,"group",o)),spanning:callOrReturn(getExtensionField(e,"spanning",o)),code:callOrReturn(getExtensionField(e,"code",o)),attrs:Object.fromEntries(n.map(function(t){var e;return[t.name,{"default":null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e["default"]}];}))})),s=callOrReturn(getExtensionField(e,"parseHTML",o));s&&(i.parseDOM=s.map(function(t){return injectExtensionAttributesToParseRule(t,n);}));var a=getExtensionField(e,"renderHTML",o);return a&&(i.toDOM=function(t){return a({mark:t,HTMLAttributes:getRenderedAttributes(t,n)});}),[e.name,i];}));return new O({topNode:i,nodes:s,marks:a});}function getSchemaTypeByName(t,e){return e.nodes[t]||e.marks[t]||null;}function isExtensionRulesEnabled(t,e){return Array.isArray(e)?e.some(function(e){return("string"==typeof e?e:e.name)===t.name;}):e;}var ExtensionManager=/*#__PURE__*/function(){function ExtensionManager(t,e){var _this12=this;_classCallCheck(this,ExtensionManager);this.splittableMarks=[],this.editor=e,this.extensions=ExtensionManager.resolve(t),this.schema=getSchemaByResolvedExtensions(this.extensions),this.extensions.forEach(function(t){var e;_this12.editor.extensionStorage[t.name]=t.storage;var r={name:t.name,options:t.options,storage:t.storage,editor:_this12.editor,type:getSchemaTypeByName(t.name,_this12.schema)};if("mark"===t.type){(null===(e=callOrReturn(getExtensionField(t,"keepOnSplit",r)))||void 0===e||e)&&_this12.splittableMarks.push(t.name);}var n=getExtensionField(t,"onBeforeCreate",r);n&&_this12.editor.on("beforeCreate",n);var o=getExtensionField(t,"onCreate",r);o&&_this12.editor.on("create",o);var i=getExtensionField(t,"onUpdate",r);i&&_this12.editor.on("update",i);var s=getExtensionField(t,"onSelectionUpdate",r);s&&_this12.editor.on("selectionUpdate",s);var a=getExtensionField(t,"onTransaction",r);a&&_this12.editor.on("transaction",a);var c=getExtensionField(t,"onFocus",r);c&&_this12.editor.on("focus",c);var u=getExtensionField(t,"onBlur",r);u&&_this12.editor.on("blur",u);var l=getExtensionField(t,"onDestroy",r);l&&_this12.editor.on("destroy",l);});}_createClass(ExtensionManager,[{key:"commands",get:function get(){var _this13=this;return this.extensions.reduce(function(t,e){var r=getExtensionField(e,"addCommands",{name:e.name,options:e.options,storage:e.storage,editor:_this13.editor,type:getSchemaTypeByName(e.name,_this13.schema)});return r?_objectSpread(_objectSpread({},t),r()):t;},{});}},{key:"plugins",get:function get(){var _this14=this;var t=this.editor,e=ExtensionManager.sort(_toConsumableArray(this.extensions).reverse()),r=[],n=[],o=e.map(function(e){var o={name:e.name,options:e.options,storage:e.storage,editor:t,type:getSchemaTypeByName(e.name,_this14.schema)},i=[],s=getExtensionField(e,"addKeyboardShortcuts",o);if(s){var _e8=function keymap(t){return new yt({props:{handleKeyDown:keydownHandler(t)}});}(Object.fromEntries(Object.entries(s()).map(function(_ref83){var _ref84=_slicedToArray(_ref83,2),e=_ref84[0],r=_ref84[1];return[e,function(){return r({editor:t});}];})));i.push(_e8);}var a=getExtensionField(e,"addInputRules",o);isExtensionRulesEnabled(e,t.options.enableInputRules)&&a&&r.push.apply(r,_toConsumableArray(a()));var c=getExtensionField(e,"addPasteRules",o);isExtensionRulesEnabled(e,t.options.enablePasteRules)&&c&&n.push.apply(n,_toConsumableArray(c()));var u=getExtensionField(e,"addProseMirrorPlugins",o);if(u){var _t13=u();i.push.apply(i,_toConsumableArray(_t13));}return i;}).flat();return[inputRulesPlugin({editor:t,rules:r})].concat(_toConsumableArray(pasteRulesPlugin({editor:t,rules:n})),_toConsumableArray(o));}},{key:"attributes",get:function get(){return getAttributesFromExtensions(this.extensions);}},{key:"nodeViews",get:function get(){var _this15=this;var t=this.editor,_splitExtensions4=splitExtensions(this.extensions),e=_splitExtensions4.nodeExtensions;return Object.fromEntries(e.filter(function(t){return!!getExtensionField(t,"addNodeView");}).map(function(e){var r=_this15.attributes.filter(function(t){return t.type===e.name;}),n={name:e.name,options:e.options,storage:e.storage,editor:t,type:getNodeType(e.name,_this15.schema)},o=getExtensionField(e,"addNodeView",n);if(!o)return[];return[e.name,function(n,i,s,a){var c=getRenderedAttributes(n,r);return o()({editor:t,node:n,getPos:s,decorations:a,HTMLAttributes:c,extension:e});}];}));}}],[{key:"resolve",value:function resolve(t){var e=ExtensionManager.sort(ExtensionManager.flatten(t)),r=function findDuplicates(t){var e=t.filter(function(e,r){return t.indexOf(e)!==r;});return _toConsumableArray(new Set(e));}(e.map(function(t){return t.name;}));return r.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(r.map(function(t){return"'".concat(t,"'");}).join(", "),"]. This can lead to issues.")),e;}},{key:"flatten",value:function flatten(t){var _this16=this;return t.map(function(t){var e=getExtensionField(t,"addExtensions",{name:t.name,options:t.options,storage:t.storage});return e?[t].concat(_toConsumableArray(_this16.flatten(e()))):t;}).flat(10);}},{key:"sort",value:function sort(t){return t.sort(function(t,e){var r=getExtensionField(t,"priority")||100,n=getExtensionField(e,"priority")||100;return r>n?-1:r<n?1:0;});}}]);return ExtensionManager;}();var Editor=/*#__PURE__*/function(_EventEmitter){_inherits(Editor,_EventEmitter);var _super=_createSuper(Editor);function Editor(){var _this17;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Editor);_this17=_super.call(this),_this17.isFocused=!1,_this17.extensionStorage={},_this17.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:function onBeforeCreate(){return null;},onCreate:function onCreate(){return null;},onUpdate:function onUpdate(){return null;},onSelectionUpdate:function onSelectionUpdate(){return null;},onTransaction:function onTransaction(){return null;},onFocus:function onFocus(){return null;},onBlur:function onBlur(){return null;},onDestroy:function onDestroy(){return null;}},_this17.isCapturingTransaction=!1,_this17.capturedTransaction=null,_this17.setOptions(t),_this17.createExtensionManager(),_this17.createCommandManager(),_this17.createSchema(),_this17.on("beforeCreate",_this17.options.onBeforeCreate),_this17.emit("beforeCreate",{editor:_assertThisInitialized(_this17)}),_this17.createView(),_this17.injectCSS(),_this17.on("create",_this17.options.onCreate),_this17.on("update",_this17.options.onUpdate),_this17.on("selectionUpdate",_this17.options.onSelectionUpdate),_this17.on("transaction",_this17.options.onTransaction),_this17.on("focus",_this17.options.onFocus),_this17.on("blur",_this17.options.onBlur),_this17.on("destroy",_this17.options.onDestroy),window.setTimeout(function(){_this17.isDestroyed||(_this17.commands.focus(_this17.options.autofocus),_this17.emit("create",{editor:_assertThisInitialized(_this17)}));},0);return _this17;}_createClass(Editor,[{key:"storage",get:function get(){return this.extensionStorage;}},{key:"commands",get:function get(){return this.commandManager.commands;}},{key:"chain",value:function chain(){return this.commandManager.chain();}},{key:"can",value:function can(){return this.commandManager.can();}},{key:"injectCSS",value:function injectCSS(){this.options.injectCSS&&document&&(this.css=function createStyleTag(t){var e=document.querySelector("style[data-tiptap-style]");if(null!==e)return e;var r=document.createElement("style");return r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r;}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}'));}},{key:"setOptions",value:function setOptions(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.options=_objectSpread(_objectSpread({},this.options),t),this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state));}},{key:"setEditable",value:function setEditable(t){this.setOptions({editable:t});}},{key:"isEditable",get:function get(){return this.options.editable&&this.view&&this.view.editable;}},{key:"state",get:function get(){return this.view.state;}},{key:"registerPlugin",value:function registerPlugin(t,e){var r=isFunction(e)?e(t,this.state.plugins):[].concat(_toConsumableArray(this.state.plugins),[t]),n=this.state.reconfigure({plugins:r});this.view.updateState(n);}},{key:"unregisterPlugin",value:function unregisterPlugin(t){if(this.isDestroyed)return;var e="string"==typeof t?"".concat(t,"$"):t.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(function(t){return!t.key.startsWith(e);})});this.view.updateState(r);}},{key:"createExtensionManager",value:function createExtensionManager(){var t=[].concat(_toConsumableArray(this.options.enableCoreExtensions?Object.values(Hr):[]),_toConsumableArray(this.options.extensions)).filter(function(t){return["extension","node","mark"].includes(null==t?void 0:t.type);});this.extensionManager=new ExtensionManager(t,this);}},{key:"createCommandManager",value:function createCommandManager(){this.commandManager=new CommandManager({editor:this});}},{key:"createSchema",value:function createSchema(){this.schema=this.extensionManager.schema;}},{key:"createView",value:function createView(){var t=createDocument(this.options.content,this.schema,this.options.parseOptions),e=resolveFocusPosition(t,this.options.autofocus);this.view=new Oe(this.options.element,_objectSpread(_objectSpread({},this.options.editorProps),{},{dispatchTransaction:this.dispatchTransaction.bind(this),state:mt.create({doc:t,selection:e})}));var r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();this.view.dom.editor=this;}},{key:"createNodeViews",value:function createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews});}},{key:"captureTransaction",value:function captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;var e=this.capturedTransaction;return this.capturedTransaction=null,e;}},{key:"dispatchTransaction",value:function dispatchTransaction(t){var _this18=this;if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach(function(t){var e;return null===(e=_this18.capturedTransaction)||void 0===e?void 0:e.step(t);}):void(this.capturedTransaction=t);var e=this.state.apply(t),r=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});var n=t.getMeta("focus"),o=t.getMeta("blur");n&&this.emit("focus",{editor:this,event:n.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t});}},{key:"getAttributes",value:function getAttributes(t){return _getAttributes(this.state,t);}},{key:"isActive",value:function isActive(t,e){var r="string"==typeof t?t:null,n="string"==typeof t?e:t;return function isActive(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!e)return isNodeActive(t,null,r)||isMarkActive(t,null,r);var n=getSchemaTypeNameByName(e,t.schema);return"node"===n?isNodeActive(t,e,r):"mark"===n&&isMarkActive(t,e,r);}(this.state,r,n);}},{key:"getJSON",value:function getJSON(){return this.state.doc.toJSON();}},{key:"getHTML",value:function getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema);}},{key:"getText",value:function getText(t){var _ref85=t||{},_ref85$blockSeparator=_ref85.blockSeparator,e=_ref85$blockSeparator===void 0?"\n\n":_ref85$blockSeparator,_ref85$textSerializer=_ref85.textSerializers,r=_ref85$textSerializer===void 0?{}:_ref85$textSerializer;return _getText(this.state.doc,{blockSeparator:e,textSerializers:_objectSpread(_objectSpread({},r),getTextSeralizersFromSchema(this.schema))});}},{key:"isEmpty",get:function get(){return function isNodeEmpty(t){var e;var r=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),n=t.toJSON();return JSON.stringify(r)===JSON.stringify(n);}(this.state.doc);}},{key:"getCharacterCount",value:function getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2;}},{key:"destroy",value:function destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners();}},{key:"isDestroyed",get:function get(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView);}}]);return Editor;}(/*#__PURE__*/function(){function EventEmitter(){_classCallCheck(this,EventEmitter);this.callbacks={};}_createClass(EventEmitter,[{key:"on",value:function on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this;}},{key:"emit",value:function emit(t){var _this19=this;for(var _len3=arguments.length,e=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){e[_key3-1]=arguments[_key3];}var r=this.callbacks[t];return r&&r.forEach(function(t){return t.apply(_this19,e);}),this;}},{key:"off",value:function off(t,e){var r=this.callbacks[t];return r&&(e?this.callbacks[t]=r.filter(function(t){return t!==e;}):delete this.callbacks[t]),this;}},{key:"removeAllListeners",value:function removeAllListeners(){this.callbacks={};}}]);return EventEmitter;}());var tiptap_core_esm_Node=/*#__PURE__*/function(){function tiptap_core_esm_Node(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,tiptap_core_esm_Node);this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=_objectSpread(_objectSpread({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn("[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"".concat(this.name,"\".")),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{};}_createClass(tiptap_core_esm_Node,[{key:"configure",value:function configure(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.extend();return e.options=mergeDeep(this.options,t),e.storage=callOrReturn(getExtensionField(e,"addStorage",{name:e.name,options:e.options})),e;}},{key:"extend",value:function extend(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=new tiptap_core_esm_Node(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn("[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"".concat(e.name,"\".")),e.options=callOrReturn(getExtensionField(e,"addOptions",{name:e.name})),e.storage=callOrReturn(getExtensionField(e,"addStorage",{name:e.name,options:e.options})),e;}}],[{key:"create",value:function create(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new tiptap_core_esm_Node(t);}}]);return tiptap_core_esm_Node;}();var tiptap_core_esm_Mark=/*#__PURE__*/function(){function tiptap_core_esm_Mark(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,tiptap_core_esm_Mark);this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=_objectSpread(_objectSpread({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn("[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"".concat(this.name,"\".")),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{};}_createClass(tiptap_core_esm_Mark,[{key:"configure",value:function configure(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=this.extend();return e.options=mergeDeep(this.options,t),e.storage=callOrReturn(getExtensionField(e,"addStorage",{name:e.name,options:e.options})),e;}},{key:"extend",value:function extend(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e=new tiptap_core_esm_Mark(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,t.defaultOptions&&console.warn("[tiptap warn]: BREAKING CHANGE: \"defaultOptions\" is deprecated. Please use \"addOptions\" instead. Found in extension: \"".concat(e.name,"\".")),e.options=callOrReturn(getExtensionField(e,"addOptions",{name:e.name})),e.storage=callOrReturn(getExtensionField(e,"addStorage",{name:e.name,options:e.options})),e;}}],[{key:"create",value:function create(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return new tiptap_core_esm_Mark(t);}}]);return tiptap_core_esm_Mark;}();function getMarksBetween(t,e,r){var n=[];return t===e?r.resolve(t).marks().forEach(function(e){var o=getMarkRange(r.resolve(t-1),e.type);o&&n.push(_objectSpread({mark:e},o));}):r.nodesBetween(t,e,function(t,e){n.push.apply(n,_toConsumableArray(t.marks.map(function(r){return{from:e,to:e+t.nodeSize,mark:r};})));}),n;}function markInputRule(t){return new InputRule({find:t.find,handler:function handler(_ref86){var e=_ref86.state,r=_ref86.range,n=_ref86.match;var o=callOrReturn(t.getAttributes,void 0,n);if(!1===o||null===o)return null;var i=e.tr,s=n[n.length-1],a=n[0];var c=r.to;if(s){var _n11=a.search(/\S/),_u4=r.from+a.indexOf(s),_l3=_u4+s.length;if(getMarksBetween(r.from,r.to,e.doc).filter(function(e){return e.mark.type.excluded.find(function(r){return r===t.type&&r!==e.mark.type;});}).filter(function(t){return t.to>_u4;}).length)return null;_l3<r.to&&i["delete"](_l3,r.to),_u4>r.from&&i["delete"](r.from+_n11,_u4),c=r.from+_n11+s.length,i.addMark(r.from+_n11,c,t.type.create(o||{})),i.removeStoredMark(t.type);}}});}function textblockTypeInputRule(t){return new InputRule({find:t.find,handler:function handler(_ref87){var e=_ref87.state,r=_ref87.range,n=_ref87.match;var o=e.doc.resolve(r.from),i=callOrReturn(t.getAttributes,void 0,n)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t.type))return null;e.tr["delete"](r.from,r.to).setBlockType(r.from,r.from,t.type,i);}});}function wrappingInputRule(t){return new InputRule({find:t.find,handler:function handler(_ref88){var e=_ref88.state,r=_ref88.range,n=_ref88.match;var o=callOrReturn(t.getAttributes,void 0,n)||{},i=e.tr["delete"](r.from,r.to),s=i.doc.resolve(r.from).blockRange(),a=s&&findWrapping(s,t.type,o);if(!a)return null;i.wrap(s,a);var c=i.doc.resolve(r.from-1).nodeBefore;c&&c.type===t.type&&index_es_canJoin(i.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,c))&&i.join(r.from-1);}});}function markPasteRule(t){return new PasteRule({find:t.find,handler:function handler(_ref89){var e=_ref89.state,r=_ref89.range,n=_ref89.match;var o=callOrReturn(t.getAttributes,void 0,n);if(!1===o||null===o)return null;var i=e.tr,s=n[n.length-1],a=n[0];var c=r.to;if(s){var _n12=a.search(/\S/),_u5=r.from+a.indexOf(s),_l4=_u5+s.length;if(getMarksBetween(r.from,r.to,e.doc).filter(function(e){return e.mark.type.excluded.find(function(r){return r===t.type&&r!==e.mark.type;});}).filter(function(t){return t.to>_u5;}).length)return null;_l4<r.to&&i["delete"](_l4,r.to),_u5>r.from&&i["delete"](r.from+_n12,_u5),c=r.from+_n12+s.length,i.addMark(r.from+_n12,c,t.type.create(o||{})),i.removeStoredMark(t.type);}}});}function simplifyChangedRanges(t){var e=function removeDuplicates(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:JSON.stringify;var r={};return t.filter(function(t){var n=e(t);return!Object.prototype.hasOwnProperty.call(r,n)&&(r[n]=!0);});}(t);return 1===e.length?e:e.filter(function(t,r){var n=e.filter(function(t,e){return e!==r;});return!n.some(function(e){return t.oldRange.from>=e.oldRange.from&&t.oldRange.to<=e.oldRange.to&&t.newRange.from>=e.newRange.from&&t.newRange.to<=e.newRange.to;});});}var Ur=/^\s*>\s$/,Wr=tiptap_core_esm_Node.create({name:"blockquote",addOptions:function addOptions(){return{HTMLAttributes:{}};},content:"block+",group:"block",defining:!0,parseHTML:function parseHTML(){return[{tag:"blockquote"}];},renderHTML:function renderHTML(_ref90){var t=_ref90.HTMLAttributes;return["blockquote",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this20=this;return{setBlockquote:function setBlockquote(){return function(_ref91){var t=_ref91.commands;return t.wrapIn(_this20.name);};},toggleBlockquote:function toggleBlockquote(){return function(_ref92){var t=_ref92.commands;return t.toggleWrap(_this20.name);};},unsetBlockquote:function unsetBlockquote(){return function(_ref93){var t=_ref93.commands;return t.lift(_this20.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this21=this;return{"Mod-Shift-b":function ModShiftB(){return _this21.editor.commands.toggleBlockquote();}};},addInputRules:function addInputRules(){return[wrappingInputRule({find:Ur,type:this.type})];}}),qr=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,Jr=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Kr=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Gr=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Yr=tiptap_core_esm_Mark.create({name:"bold",addOptions:function addOptions(){return{HTMLAttributes:{}};},parseHTML:function parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:function getAttrs(t){return"normal"!==t.style.fontWeight&&null;}},{style:"font-weight",getAttrs:function getAttrs(t){return /^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null;}}];},renderHTML:function renderHTML(_ref94){var t=_ref94.HTMLAttributes;return["strong",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this22=this;return{setBold:function setBold(){return function(_ref95){var t=_ref95.commands;return t.setMark(_this22.name);};},toggleBold:function toggleBold(){return function(_ref96){var t=_ref96.commands;return t.toggleMark(_this22.name);};},unsetBold:function unsetBold(){return function(_ref97){var t=_ref97.commands;return t.unsetMark(_this22.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this23=this;return{"Mod-b":function ModB(){return _this23.editor.commands.toggleBold();},"Mod-B":function ModB(){return _this23.editor.commands.toggleBold();}};},addInputRules:function addInputRules(){return[markInputRule({find:qr,type:this.type}),markInputRule({find:Kr,type:this.type})];},addPasteRules:function addPasteRules(){return[markPasteRule({find:Jr,type:this.type}),markPasteRule({find:Gr,type:this.type})];}}),Qr=/^\s*([-+*])\s$/,Xr=tiptap_core_esm_Node.create({name:"bulletList",addOptions:function addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}};},group:"block list",content:function content(){return"".concat(this.options.itemTypeName,"+");},parseHTML:function parseHTML(){return[{tag:"ul"}];},renderHTML:function renderHTML(_ref98){var t=_ref98.HTMLAttributes;return["ul",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this24=this;return{toggleBulletList:function toggleBulletList(){return function(_ref99){var t=_ref99.commands;return t.toggleList(_this24.name,_this24.options.itemTypeName);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this25=this;return{"Mod-Shift-8":function ModShift8(){return _this25.editor.commands.toggleBulletList();}};},addInputRules:function addInputRules(){return[wrappingInputRule({find:Qr,type:this.type})];}}),Zr=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,tn=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,en=tiptap_core_esm_Mark.create({name:"code",addOptions:function addOptions(){return{HTMLAttributes:{}};},excludes:"_",code:!0,parseHTML:function parseHTML(){return[{tag:"code"}];},renderHTML:function renderHTML(_ref100){var t=_ref100.HTMLAttributes;return["code",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this26=this;return{setCode:function setCode(){return function(_ref101){var t=_ref101.commands;return t.setMark(_this26.name);};},toggleCode:function toggleCode(){return function(_ref102){var t=_ref102.commands;return t.toggleMark(_this26.name);};},unsetCode:function unsetCode(){return function(_ref103){var t=_ref103.commands;return t.unsetMark(_this26.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this27=this;return{"Mod-e":function ModE(){return _this27.editor.commands.toggleCode();}};},addInputRules:function addInputRules(){return[markInputRule({find:Zr,type:this.type})];},addPasteRules:function addPasteRules(){return[markPasteRule({find:tn,type:this.type})];}}),rn=/^```([a-z]+)?[\s\n]$/,nn=/^~~~([a-z]+)?[\s\n]$/,on=tiptap_core_esm_Node.create({name:"codeBlock",addOptions:function addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}};},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes:function addAttributes(){var _this28=this;return{language:{"default":null,parseHTML:function parseHTML(t){var e;var r=_this28.options.languageClassPrefix,n=_toConsumableArray((null===(e=t.firstElementChild)||void 0===e?void 0:e.classList)||[]).filter(function(t){return t.startsWith(r);}).map(function(t){return t.replace(r,"");})[0];return n||null;},rendered:!1}};},parseHTML:function parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}];},renderHTML:function renderHTML(_ref104){var t=_ref104.node,e=_ref104.HTMLAttributes;return["pre",mergeAttributes(this.options.HTMLAttributes,e),["code",{"class":t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]];},addCommands:function addCommands(){var _this29=this;return{setCodeBlock:function setCodeBlock(t){return function(_ref105){var e=_ref105.commands;return e.setNode(_this29.name,t);};},toggleCodeBlock:function toggleCodeBlock(t){return function(_ref106){var e=_ref106.commands;return e.toggleNode(_this29.name,"paragraph",t);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this30=this;return{"Mod-Alt-c":function ModAltC(){return _this30.editor.commands.toggleCodeBlock();},Backspace:function Backspace(){var _this30$editor$state$=_this30.editor.state.selection,t=_this30$editor$state$.empty,e=_this30$editor$state$.$anchor,r=1===e.pos;return!(!t||e.parent.type.name!==_this30.name)&&!(!r&&e.parent.textContent.length)&&_this30.editor.commands.clearNodes();},Enter:function Enter(_ref107){var t=_ref107.editor;if(!_this30.options.exitOnTripleEnter)return!1;var e=t.state,r=e.selection,n=r.$from,o=r.empty;if(!o||n.parent.type!==_this30.type)return!1;var i=n.parentOffset===n.parent.nodeSize-2,s=n.parent.textContent.endsWith("\n\n");return!(!i||!s)&&t.chain().command(function(_ref108){var t=_ref108.tr;return t["delete"](n.pos-2,n.pos),!0;}).exitCode().run();},ArrowDown:function ArrowDown(_ref109){var t=_ref109.editor;if(!_this30.options.exitOnArrowDown)return!1;var e=t.state,r=e.selection,n=e.doc,o=r.$from,i=r.empty;if(!i||o.parent.type!==_this30.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;var s=o.after();if(void 0===s)return!1;return!n.nodeAt(s)&&t.commands.exitCode();}};},addInputRules:function addInputRules(){return[textblockTypeInputRule({find:rn,type:this.type,getAttributes:function getAttributes(t){return{language:t[1]};}}),textblockTypeInputRule({find:nn,type:this.type,getAttributes:function getAttributes(t){return{language:t[1]};}})];},addProseMirrorPlugins:function addProseMirrorPlugins(){var _this31=this;return[new yt({key:new wt("codeBlockVSCodeHandler"),props:{handlePaste:function handlePaste(t,e){if(!e.clipboardData)return!1;if(_this31.editor.isActive(_this31.type.name))return!1;var r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),o=n?JSON.parse(n):void 0,i=null==o?void 0:o.mode;if(!r||!i)return!1;var s=t.state.tr;return s.replaceSelectionWith(_this31.type.create({language:i})),s.setSelection(ot.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(r.replace(/\r\n?/g,"\n")),s.setMeta("paste",!0),t.dispatch(s),!0;}}})];}}),sn=tiptap_core_esm_Node.create({name:"doc",topNode:!0,content:"block+"}),an=tiptap_core_esm_Node.create({name:"hardBreak",addOptions:function addOptions(){return{keepMarks:!0,HTMLAttributes:{}};},inline:!0,group:"inline",selectable:!1,parseHTML:function parseHTML(){return[{tag:"br"}];},renderHTML:function renderHTML(_ref110){var t=_ref110.HTMLAttributes;return["br",mergeAttributes(this.options.HTMLAttributes,t)];},renderText:function renderText(){return"\n";},addCommands:function addCommands(){var _this32=this;return{setHardBreak:function setHardBreak(){return function(_ref111){var t=_ref111.commands,e=_ref111.chain,r=_ref111.state,n=_ref111.editor;return t.first([function(){return t.exitCode();},function(){return t.command(function(){var t=r.selection,o=r.storedMarks;if(t.$from.parent.type.spec.isolating)return!1;var i=_this32.options.keepMarks,s=n.extensionManager.splittableMarks,a=o||t.$to.parentOffset&&t.$from.marks();return e().insertContent({type:_this32.name}).command(function(_ref112){var t=_ref112.tr,e=_ref112.dispatch;if(e&&a&&i){var _e9=a.filter(function(t){return s.includes(t.type.name);});t.ensureMarks(_e9);}return!0;}).run();});}]);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this33=this;return{"Mod-Enter":function ModEnter(){return _this33.editor.commands.setHardBreak();},"Shift-Enter":function ShiftEnter(){return _this33.editor.commands.setHardBreak();}};}}),cn=tiptap_core_esm_Node.create({name:"heading",addOptions:function addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}};},content:"inline*",group:"block",defining:!0,addAttributes:function addAttributes(){return{level:{"default":1,rendered:!1}};},parseHTML:function parseHTML(){return this.options.levels.map(function(t){return{tag:"h".concat(t),attrs:{level:t}};});},renderHTML:function renderHTML(_ref113){var t=_ref113.node,e=_ref113.HTMLAttributes;return["h".concat(this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]),mergeAttributes(this.options.HTMLAttributes,e),0];},addCommands:function addCommands(){var _this34=this;return{setHeading:function setHeading(t){return function(_ref114){var e=_ref114.commands;return!!_this34.options.levels.includes(t.level)&&e.setNode(_this34.name,t);};},toggleHeading:function toggleHeading(t){return function(_ref115){var e=_ref115.commands;return!!_this34.options.levels.includes(t.level)&&e.toggleNode(_this34.name,"paragraph",t);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this35=this;return this.options.levels.reduce(function(t,e){return _objectSpread(_objectSpread({},t),{},_defineProperty({},"Mod-Alt-".concat(e),function ModAlt(){return _this35.editor.commands.toggleHeading({level:e});}));},{});},addInputRules:function addInputRules(){var _this36=this;return this.options.levels.map(function(t){return textblockTypeInputRule({find:new RegExp("^(#{1,".concat(t,"})\\s$")),type:_this36.type,getAttributes:{level:t}});});}}),un=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,ln=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,pn=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,fn=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,dn=tiptap_core_esm_Mark.create({name:"italic",addOptions:function addOptions(){return{HTMLAttributes:{}};},parseHTML:function parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:function getAttrs(t){return"normal"!==t.style.fontStyle&&null;}},{style:"font-style=italic"}];},renderHTML:function renderHTML(_ref116){var t=_ref116.HTMLAttributes;return["em",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this37=this;return{setItalic:function setItalic(){return function(_ref117){var t=_ref117.commands;return t.setMark(_this37.name);};},toggleItalic:function toggleItalic(){return function(_ref118){var t=_ref118.commands;return t.toggleMark(_this37.name);};},unsetItalic:function unsetItalic(){return function(_ref119){var t=_ref119.commands;return t.unsetMark(_this37.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this38=this;return{"Mod-i":function ModI(){return _this38.editor.commands.toggleItalic();},"Mod-I":function ModI(){return _this38.editor.commands.toggleItalic();}};},addInputRules:function addInputRules(){return[markInputRule({find:un,type:this.type}),markInputRule({find:pn,type:this.type})];},addPasteRules:function addPasteRules(){return[markPasteRule({find:ln,type:this.type}),markPasteRule({find:fn,type:this.type})];}}),hn=tiptap_core_esm_Node.create({name:"listItem",addOptions:function addOptions(){return{HTMLAttributes:{}};},content:"paragraph block*",defining:!0,parseHTML:function parseHTML(){return[{tag:"li"}];},renderHTML:function renderHTML(_ref120){var t=_ref120.HTMLAttributes;return["li",mergeAttributes(this.options.HTMLAttributes,t),0];},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this39=this;return{Enter:function Enter(){return _this39.editor.commands.splitListItem(_this39.name);},Tab:function Tab(){return _this39.editor.commands.sinkListItem(_this39.name);},"Shift-Tab":function ShiftTab(){return _this39.editor.commands.liftListItem(_this39.name);}};}}),mn=/^(\d+)\.\s$/,vn=tiptap_core_esm_Node.create({name:"orderedList",addOptions:function addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}};},group:"block list",content:function content(){return"".concat(this.options.itemTypeName,"+");},addAttributes:function addAttributes(){return{start:{"default":1,parseHTML:function parseHTML(t){return t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1;}}};},parseHTML:function parseHTML(){return[{tag:"ol"}];},renderHTML:function renderHTML(_ref121){var t=_ref121.HTMLAttributes;var e=t.start,r=_objectWithoutProperties(t,_excluded);return 1===e?["ol",mergeAttributes(this.options.HTMLAttributes,r),0]:["ol",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this40=this;return{toggleOrderedList:function toggleOrderedList(){return function(_ref122){var t=_ref122.commands;return t.toggleList(_this40.name,_this40.options.itemTypeName);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this41=this;return{"Mod-Shift-7":function ModShift7(){return _this41.editor.commands.toggleOrderedList();}};},addInputRules:function addInputRules(){return[wrappingInputRule({find:mn,type:this.type,getAttributes:function getAttributes(t){return{start:+t[1]};},joinPredicate:function joinPredicate(t,e){return e.childCount+e.attrs.start===+t[1];}})];}}),gn=tiptap_core_esm_Node.create({name:"paragraph",priority:1e3,addOptions:function addOptions(){return{HTMLAttributes:{}};},group:"block",content:"inline*",parseHTML:function parseHTML(){return[{tag:"p"}];},renderHTML:function renderHTML(_ref123){var t=_ref123.HTMLAttributes;return["p",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this42=this;return{setParagraph:function setParagraph(){return function(_ref124){var t=_ref124.commands;return t.setNode(_this42.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this43=this;return{"Mod-Alt-0":function ModAlt0(){return _this43.editor.commands.setParagraph();}};}}),yn=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,bn=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,wn=tiptap_core_esm_Mark.create({name:"strike",addOptions:function addOptions(){return{HTMLAttributes:{}};},parseHTML:function parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:function getAttrs(t){return!!t.includes("line-through")&&{};}}];},renderHTML:function renderHTML(_ref125){var t=_ref125.HTMLAttributes;return["s",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this44=this;return{setStrike:function setStrike(){return function(_ref126){var t=_ref126.commands;return t.setMark(_this44.name);};},toggleStrike:function toggleStrike(){return function(_ref127){var t=_ref127.commands;return t.toggleMark(_this44.name);};},unsetStrike:function unsetStrike(){return function(_ref128){var t=_ref128.commands;return t.unsetMark(_this44.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this45=this;return{"Mod-Shift-x":function ModShiftX(){return _this45.editor.commands.toggleStrike();}};},addInputRules:function addInputRules(){return[markInputRule({find:yn,type:this.type})];},addPasteRules:function addPasteRules(){return[markPasteRule({find:bn,type:this.type})];}}),xn=tiptap_core_esm_Node.create({name:"text",group:"inline"}),Dn=tiptap_core_esm_Mark.create({name:"textStyle",addOptions:function addOptions(){return{HTMLAttributes:{}};},parseHTML:function parseHTML(){return[{tag:"span",getAttrs:function getAttrs(t){return!!t.hasAttribute("style")&&{};}}];},renderHTML:function renderHTML(_ref129){var t=_ref129.HTMLAttributes;return["span",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this46=this;return{removeEmptyTextStyle:function removeEmptyTextStyle(){return function(_ref130){var t=_ref130.state,e=_ref130.commands;var r=getMarkAttributes(t,_this46.type);return!!Object.entries(r).some(function(_ref131){var _ref132=_slicedToArray(_ref131,2),t=_ref132[1];return!!t;})||e.unsetMark(_this46.name);};}};}}),Sn=tiptap_core_esm_Mark.create({name:"underline",addOptions:function addOptions(){return{HTMLAttributes:{}};},parseHTML:function parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:function getAttrs(t){return!!t.includes("underline")&&{};}}];},renderHTML:function renderHTML(_ref133){var t=_ref133.HTMLAttributes;return["u",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this47=this;return{setUnderline:function setUnderline(){return function(_ref134){var t=_ref134.commands;return t.setMark(_this47.name);};},toggleUnderline:function toggleUnderline(){return function(_ref135){var t=_ref135.commands;return t.toggleMark(_this47.name);};},unsetUnderline:function unsetUnderline(){return function(_ref136){var t=_ref136.commands;return t.unsetMark(_this47.name);};}};},addKeyboardShortcuts:function addKeyboardShortcuts(){var _this48=this;return{"Mod-u":function ModU(){return _this48.editor.commands.toggleUnderline();},"Mod-U":function ModU(){return _this48.editor.commands.toggleUnderline();}};}});function State(t){this.j={},this.jr=[],this.jd=null,this.t=t;}State.prototype={accepts:function accepts(){return!!this.t;},tt:function tt(t,e){if(e&&e.j)return this.j[t]=e,e;var r=e,n=this.j[t];if(n)return r&&(n.t=r),n;n=kn();var o=On(this,t);return o?(Object.assign(n.j,o.j),n.jr.append(o.jr),n.jr=o.jd,n.t=r||o.t):n.t=r,this.j[t]=n,n;}};var kn=function makeState(){return new State();},En=function makeAcceptingState(t){return new State(t);},An=function makeT(t,e,r){t.j[e]||(t.j[e]=r);},Cn=function makeRegexT(t,e,r){t.jr.push([e,r]);},On=function takeT(t,e){var r=t.j[e];if(r)return r;for(var n=0;n<t.jr.length;n++){var o=t.jr[n][0],i=t.jr[n][1];if(o.test(e))return i;}return t.jd;},Mn=function makeMultiT(t,e,r){for(var n=0;n<e.length;n++){An(t,e[n],r);}},Tn=function makeBatchT(t,e){for(var r=0;r<e.length;r++){var n=e[r][0],o=e[r][1];An(t,n,o);}},Nn=function makeChainT(t,e,r,n){for(var o,i=0,s=e.length;i<s&&(o=t.j[e[i]]);){t=o,i++;}if(i>=s)return[];for(;i<s-1;){o=n(),An(t,e[i],o),t=o,i++;}An(t,e[s-1],r);},Rn="DOMAIN",Fn="LOCALHOST",In="TLD",Pn="NUM",_n="PROTOCOL",Bn="MAILTO",jn="WS",Ln="NL",zn="OPENBRACE",Vn="OPENBRACKET",$n="OPENANGLEBRACKET",Hn="OPENPAREN",Un="CLOSEBRACE",Wn="CLOSEBRACKET",qn="CLOSEANGLEBRACKET",Jn="CLOSEPAREN",Kn="AMPERSAND",Gn="APOSTROPHE",Yn="ASTERISK",Qn="AT",Xn="BACKSLASH",Zn="BACKTICK",to="CARET",eo="COLON",ro="COMMA",no="DOLLAR",oo="DOT",io="EQUALS",so="EXCLAMATION",ao="HYPHEN",co="PERCENT",uo="PIPE",lo="PLUS",po="POUND",fo="QUERY",ho="QUOTE",mo="SEMI",vo="SLASH",go="TILDE",yo="UNDERSCORE",bo="SYM",wo=Object.freeze({__proto__:null,DOMAIN:Rn,LOCALHOST:Fn,TLD:In,NUM:Pn,PROTOCOL:_n,MAILTO:Bn,WS:jn,NL:Ln,OPENBRACE:zn,OPENBRACKET:Vn,OPENANGLEBRACKET:$n,OPENPAREN:Hn,CLOSEBRACE:Un,CLOSEBRACKET:Wn,CLOSEANGLEBRACKET:qn,CLOSEPAREN:Jn,AMPERSAND:Kn,APOSTROPHE:Gn,ASTERISK:Yn,AT:Qn,BACKSLASH:Xn,BACKTICK:Zn,CARET:to,COLON:eo,COMMA:ro,DOLLAR:no,DOT:oo,EQUALS:io,EXCLAMATION:so,HYPHEN:ao,PERCENT:co,PIPE:uo,PLUS:lo,POUND:po,QUERY:fo,QUOTE:ho,SEMI:mo,SLASH:vo,TILDE:go,UNDERSCORE:yo,SYM:bo}),xo="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermgensberater-ctb vermgensberatung-pwb                                                                                                                                                        ".split(" "),Do=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,So=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,ko=/\uFE0F/,Eo=/\d/,Ao=/\s/;function init$2(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=kn(),r=En(Pn),n=En(Rn),o=kn(),i=En(jn),s=[[Eo,n],[Do,n],[So,n],[ko,n]],a=function makeDomainState(){var t=En(Rn);return t.j={"-":o},t.jr=[].concat(s),t;},c=function makeNearDomainState(t){var e=a();return e.t=t,e;};Tn(e,[["'",En(Gn)],["{",En(zn)],["[",En(Vn)],["<",En($n)],["(",En(Hn)],["}",En(Un)],["]",En(Wn)],[">",En(qn)],[")",En(Jn)],["&",En(Kn)],["*",En(Yn)],["@",En(Qn)],["`",En(Zn)],["^",En(to)],[":",En(eo)],[",",En(ro)],["$",En(no)],[".",En(oo)],["=",En(io)],["!",En(so)],["-",En(ao)],["%",En(co)],["|",En(uo)],["+",En(lo)],["#",En(po)],["?",En(fo)],['"',En(ho)],["/",En(vo)],[";",En(mo)],["~",En(go)],["_",En(yo)],["\\",En(Xn)]]),An(e,"\n",En(Ln)),Cn(e,Ao,i),An(i,"\n",kn()),Cn(i,Ao,i);for(var u=0;u<xo.length;u++){Nn(e,xo[u],c(In),a);}var l=a(),p=a(),f=a(),d=a();Nn(e,"file",l,a),Nn(e,"ftp",p,a),Nn(e,"http",f,a),Nn(e,"mailto",d,a);var h=a(),m=En(_n),v=En(Bn);An(p,"s",h),An(p,":",m),An(f,"s",h),An(f,":",m),An(l,":",m),An(h,":",m),An(d,":",v);for(var g=a(),y=0;y<t.length;y++){Nn(e,t[y],g,a);}return An(g,":",m),Nn(e,"localhost",c(Fn),a),Cn(e,Eo,r),Cn(e,Do,n),Cn(e,So,n),Cn(e,ko,n),Cn(r,Eo,r),Cn(r,Do,n),Cn(r,So,n),Cn(r,ko,n),An(r,"-",o),An(n,"-",o),An(o,"-",o),Cn(n,Eo,n),Cn(n,Do,n),Cn(n,So,n),Cn(n,ko,n),Cn(o,Eo,n),Cn(o,Do,n),Cn(o,So,n),Cn(o,ko,n),e.jd=En(bo),e;}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(t){return _typeof2(t);}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof2(t);},_typeof(t);}var Co={defaultProtocol:"http",events:null,format:noop,formatHref:noop,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function Options(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:Co.defaultProtocol,this.events="events"in t?t.events:Co.events,this.format="format"in t?t.format:Co.format,this.formatHref="formatHref"in t?t.formatHref:Co.formatHref,this.nl2br="nl2br"in t?t.nl2br:Co.nl2br,this.tagName="tagName"in t?t.tagName:Co.tagName,this.target="target"in t?t.target:Co.target,this.rel="rel"in t?t.rel:Co.rel,this.validate="validate"in t?t.validate:Co.validate,this.truncate="truncate"in t?t.truncate:Co.truncate,this.className="className"in t?t.className:Co.className,this.attributes=t.attributes||Co.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:Co.ignoreTags,r=0;r<e.length;r++){this.ignoreTags.push(e[r].toUpperCase());}}function noop(t){return t;}Options.prototype={resolve:function resolve(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),rel:this.get("rel",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t),truncate:this.get("truncate",e,t)};},check:function check(t){return this.get("validate",t.toString(),t);},get:function get(t,e,r){var n,o=this[t];if(!o)return o;switch(_typeof(o)){case"function":return o(e,r.t);case"object":return"function"==typeof(n=r.t in o?o[r.t]:Co[t])?n(e,r.t):n;}return o;},getObject:function getObject(t,e,r){var n=this[t];return"function"==typeof n?n(e,r.t):n;}};function MultiToken(){}function createTokenClass(t,e){function Token(e,r){this.t=t,this.v=e,this.tk=r;}return function inherits(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.create(t.prototype);for(var o in r){n[o]=r[o];}return n.constructor=e,e.prototype=n,e;}(MultiToken,Token,e),Token;}MultiToken.prototype={t:"token",isLink:!1,toString:function toString(){return this.v;},toHref:function toHref(){return this.toString();},startIndex:function startIndex(){return this.tk[0].s;},endIndex:function endIndex(){return this.tk[this.tk.length-1].e;},toObject:function toObject(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()};}};var Oo=createTokenClass("email",{isLink:!0}),Mo=createTokenClass("email",{isLink:!0,toHref:function toHref(){return"mailto:"+this.toString();}}),To=createTokenClass("text"),No=createTokenClass("nl"),Ro=createTokenClass("url",{isLink:!0,toHref:function toHref(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Co.defaultProtocol,e=this.tk,r=!1,n=!1,o=[],i=0;e[i].t===_n;){r=!0,o.push(e[i].v),i++;}for(;e[i].t===vo;){n=!0,o.push(e[i].v),i++;}for(;i<e.length;i++){o.push(e[i].v);}return o=o.join(""),r||n||(o="".concat(t,"://").concat(o)),o;},hasProtocol:function hasProtocol(){return this.tk[0].t===_n;}}),Fo=Object.freeze({__proto__:null,MultiToken:MultiToken,Base:MultiToken,createTokenClass:createTokenClass,MailtoEmail:Oo,Email:Mo,Text:To,Nl:No,Url:Ro});function init$1(){var t=kn(),e=kn(),r=kn(),n=kn(),o=kn(),i=kn(),s=kn(),a=En(Ro),c=kn(),u=En(Ro),l=En(Ro),p=kn(),f=kn(),d=kn(),h=kn(),m=kn(),v=En(Ro),g=En(Ro),y=En(Ro),b=En(Ro),w=kn(),x=kn(),D=kn(),S=kn(),k=kn(),E=kn(),A=En(Mo),C=kn(),O=En(Mo),M=En(Oo),T=kn(),N=kn(),R=kn(),I=kn(),P=En(No);An(t,Ln,P),An(t,_n,e),An(t,Bn,r),An(e,vo,n),An(n,vo,o),An(t,In,i),An(t,Rn,i),An(t,Fn,a),An(t,Pn,i),An(o,In,l),An(o,Rn,l),An(o,Pn,l),An(o,Fn,l),An(i,oo,s),An(k,oo,E),An(s,In,a),An(s,Rn,i),An(s,Pn,i),An(s,Fn,i),An(E,In,A),An(E,Rn,k),An(E,Pn,k),An(E,Fn,k),An(a,oo,s),An(A,oo,E),An(a,eo,c),An(a,vo,l),An(c,Pn,u),An(u,vo,l),An(A,eo,C),An(C,Pn,O);var _=[Kn,Yn,Qn,Xn,Zn,to,no,Rn,io,ao,Fn,Pn,co,uo,lo,po,_n,vo,bo,go,In,yo],B=[Gn,qn,Un,Wn,Jn,eo,ro,oo,so,$n,zn,Vn,Hn,fo,ho,mo];An(l,zn,f),An(l,Vn,d),An(l,$n,h),An(l,Hn,m),An(p,zn,f),An(p,Vn,d),An(p,$n,h),An(p,Hn,m),An(f,Un,l),An(d,Wn,l),An(h,qn,l),An(m,Jn,l),An(v,Un,l),An(g,Wn,l),An(y,qn,l),An(b,Jn,l),An(w,Un,l),An(x,Wn,l),An(D,qn,l),An(S,Jn,l),Mn(f,_,v),Mn(d,_,g),Mn(h,_,y),Mn(m,_,b),Mn(f,B,w),Mn(d,B,x),Mn(h,B,D),Mn(m,B,S),Mn(v,_,v),Mn(g,_,g),Mn(y,_,y),Mn(b,_,b),Mn(v,B,v),Mn(g,B,g),Mn(y,B,y),Mn(b,B,b),Mn(w,_,v),Mn(x,_,g),Mn(D,_,y),Mn(S,_,b),Mn(w,B,w),Mn(x,B,x),Mn(D,B,D),Mn(S,B,S),Mn(l,_,l),Mn(p,_,l),Mn(l,B,p),Mn(p,B,p),An(r,In,M),An(r,Rn,M),An(r,Pn,M),An(r,Fn,M),Mn(M,_,M),Mn(M,B,T),Mn(T,_,M),Mn(T,B,T);var j=[Kn,Gn,Yn,Xn,Zn,to,Un,no,Rn,io,ao,Pn,zn,co,uo,lo,po,fo,vo,bo,go,In,yo];return Mn(i,j,N),An(i,Qn,R),Mn(a,j,N),An(a,Qn,R),Mn(s,j,N),Mn(N,j,N),An(N,Qn,R),An(N,oo,I),Mn(I,j,N),An(R,In,k),An(R,Rn,k),An(R,Pn,k),An(R,Fn,A),t;}function parserCreateMultiToken(t,e,r){var n=r[0].s,o=r[r.length-1].e;return new t(e.substr(n,o-n),r);}"undefined"!=typeof console&&console&&console.warn;var Io={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function tokenize(t){return Io.initialized||function init(){Io.scanner={start:init$2(Io.customProtocols),tokens:wo},Io.parser={start:init$1(),tokens:Fo};for(var t={createTokenClass:createTokenClass},e=0;e<Io.pluginQueue.length;e++){Io.pluginQueue[e][1]({scanner:Io.scanner,parser:Io.parser,utils:t});}Io.initialized=!0;}(),function linkify_module_run(t,e,r){for(var n=r.length,o=0,i=[],s=[];o<n;){for(var a=t,c=null,u=null,l=0,p=null,f=-1;o<n&&!(c=On(a,r[o].t));){s.push(r[o++]);}for(;o<n&&(u=c||On(a,r[o].t));){c=null,(a=u).accepts()?(f=0,p=a):f>=0&&f++,o++,l++;}if(f<0)for(var d=o-l;d<o;d++){s.push(r[d]);}else{s.length>0&&(i.push(parserCreateMultiToken(To,e,s)),s=[]),o-=f,l-=f;var h=p.t,m=r.slice(o-l,o);i.push(parserCreateMultiToken(h,e,m));}}return s.length>0&&i.push(parserCreateMultiToken(To,e,s)),i;}(Io.parser.start,t,function linkify_module_run$1(t,e){for(var r=function stringToArray(t){for(var e=[],r=t.length,n=0;n<r;){var o=t.charCodeAt(n),i=void 0,s=o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length;}return e;}(e.replace(/[A-Z]/g,function(t){return t.toLowerCase();})),n=r.length,o=[],i=0,s=0;s<n;){for(var a=t,c=null,u=0,l=null,p=-1,f=-1;s<n&&(c=On(a,r[s]));){(a=c).accepts()?(p=0,f=0,l=a):p>=0&&(p+=r[s].length,f++),u+=r[s].length,i+=r[s].length,s++;}i-=p,s-=f,u-=p,o.push({t:l.t,v:e.substr(i-u,u),s:i-u,e:i});}return o;}(Io.scanner.start,t));}function _find(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=tokenize(t),n=[],o=0;o<r.length;o++){var i=r[o];!i.isLink||e&&i.t!==e||n.push(i.toObject());}return n;}function test(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=tokenize(t);return 1===r.length&&r[0].isLink&&(!e||r[0].t===e);}function autolink(t){return new yt({key:new wt("autolink"),appendTransaction:function appendTransaction(e,r,n){var o=e.some(function(t){return t.docChanged;})&&!r.doc.eq(n.doc),i=e.some(function(t){return t.getMeta("preventAutolink");});if(!o||i)return;var s=n.tr,a=function combineTransactionSteps(t,e){var r=new $(t);return e.forEach(function(t){t.steps.forEach(function(t){r.step(t);});}),r;}(r.doc,e),c=a.mapping,u=function getChangedRanges(t){var e=t.mapping,r=t.steps,n=[];return e.maps.forEach(function(t,o){var i=[];if(t.ranges.length)t.forEach(function(t,e){i.push({from:t,to:e});});else{var _r$o=r[o],_t14=_r$o.from,_e10=_r$o.to;if(void 0===_t14||void 0===_e10)return;i.push({from:_t14,to:_e10});}i.forEach(function(_ref137){var t=_ref137.from,r=_ref137.to;var i=e.slice(o).map(t,-1),s=e.slice(o).map(r),a=e.invert().map(i,-1),c=e.invert().map(s);n.push({oldRange:{from:a,to:c},newRange:{from:i,to:s}});});}),simplifyChangedRanges(n);}(a);return u.forEach(function(_ref138){var e=_ref138.oldRange,o=_ref138.newRange;getMarksBetween(e.from,e.to,r.doc).filter(function(e){return e.mark.type===t.type;}).forEach(function(e){var o=getMarksBetween(c.map(e.from),c.map(e.to),n.doc).filter(function(e){return e.mark.type===t.type;});if(!o.length)return;var i=o[0],a=r.doc.textBetween(e.from,e.to,void 0," "),u=n.doc.textBetween(i.from,i.to,void 0," "),l=test(a),p=test(u);l&&!p&&s.removeMark(i.from,i.to,t.type);}),function findChildrenInRange(t,e,r){var n=[];return t.nodesBetween(e.from,e.to,function(t,e){r(t)&&n.push({node:t,pos:e});}),n;}(n.doc,o,function(t){return t.isTextblock;}).forEach(function(e){_find(n.doc.textBetween(e.pos,e.pos+e.node.nodeSize,void 0," ")).filter(function(t){return t.isLink;}).map(function(t){return _objectSpread(_objectSpread({},t),{},{from:e.pos+t.start+1,to:e.pos+t.end+1});}).filter(function(t){var e=o.from>=t.from&&o.from<=t.to,r=o.to>=t.from&&o.to<=t.to;return e||r;}).forEach(function(e){s.addMark(e.from,e.to,t.type.create({href:e.href}));});});}),s.steps.length?s:void 0;}});}var Po=tiptap_core_esm_Mark.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive:function inclusive(){return this.options.autolink;},addOptions:function addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow"}};},addAttributes:function addAttributes(){return{href:{"default":null},target:{"default":this.options.HTMLAttributes.target}};},parseHTML:function parseHTML(){return[{tag:"a[href]"}];},renderHTML:function renderHTML(_ref139){var t=_ref139.HTMLAttributes;return["a",mergeAttributes(this.options.HTMLAttributes,t),0];},addCommands:function addCommands(){var _this49=this;return{setLink:function setLink(t){return function(_ref140){var e=_ref140.chain;return e().setMark(_this49.name,t).setMeta("preventAutolink",!0).run();};},toggleLink:function toggleLink(t){return function(_ref141){var e=_ref141.chain;return e().toggleMark(_this49.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run();};},unsetLink:function unsetLink(){return function(_ref142){var t=_ref142.chain;return t().unsetMark(_this49.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run();};}};},addPasteRules:function addPasteRules(){return[markPasteRule({find:function find(t){return _find(t).filter(function(t){return t.isLink;}).map(function(t){return{text:t.value,index:t.start,data:t};});},type:this.type,getAttributes:function getAttributes(t){var e;return{href:null===(e=t.data)||void 0===e?void 0:e.href};}})];},addProseMirrorPlugins:function addProseMirrorPlugins(){var t=[];return this.options.autolink&&t.push(autolink({type:this.type})),this.options.openOnClick&&t.push(function clickHandler(t){return new yt({key:new wt("handleClickLink"),props:{handleClick:function handleClick(e,r,n){var o;var i=_getAttributes(e.state,t.type.name);return!(!(null===(o=n.target)||void 0===o?void 0:o.closest("a"))||!i.href||(window.open(i.href,i.target),0));}}});}({type:this.type})),this.options.linkOnPaste&&t.push(function pasteHandler(t){return new yt({key:new wt("handlePasteLink"),props:{handlePaste:function handlePaste(e,r,n){var o=e.state,i=o.selection,s=i.empty;if(s)return!1;var a="";n.content.forEach(function(t){a+=t.textContent;});var c=_find(a).find(function(t){return t.isLink&&t.value===a;});return!(!a||!c||(t.editor.commands.setMark(t.type,{href:c.href}),0));}}});}({editor:this.editor,type:this.type})),t;}}),_o=Po.extend({addProseMirrorPlugins:function addProseMirrorPlugins(){var t=[];return t.push(function customClickHandler(t){return new yt({key:new wt("handleClickLink"),props:{handleClick:function handleClick(e,r,n){var o;var i=_getAttributes(e.state,t.type.name);if((null===(o=n.target)||void 0===o?void 0:o.closest("a"))&&i.href){var _t15=new CustomEvent("custom-link-clicked",{detail:i.href});return document.dispatchEvent(_t15),!0;}return!1;}}});}({type:this.type})),this.options.linkOnPaste&&t.push(function customPasteHandler(t){return new yt({key:new wt("handlePasteLink"),props:{handlePaste:function handlePaste(e,r,n){var o=e.state,i=o.selection,s=i.empty;if(s)return!1;var a="";n.content.forEach(function(t){a+=t.textContent;});var c=_find(a).find(function(t){return t.isLink&&t.value===a;});return!(!a||!c)&&(t.editor.commands.setMark(t.type,{href:c.href}),!0);}}});}({editor:this.editor,type:this.type})),t;}});var updateView=function updateView(t,e){return e(t.tr);};var Bo=Extension.create({name:"search",defaultOptions:{searchTerm:"",replaceTerm:"",results:[],searchResultClass:"search-result",caseSensitive:!1,disableRegex:!1},addCommands:function addCommands(){var _this50=this;return{setSearchTerm:function setSearchTerm(t){return function(_ref143){var e=_ref143.state,r=_ref143.dispatch;return _this50.options.searchTerm=t,_this50.options.results=[],updateView(e,r),!1;};},selectNext:function selectNext(t,e){return function(_ref144){var r=_ref144.state,n=_ref144.dispatch;var o=_this50.options.results;return function(t,e,r,_ref145){var n=_ref145.state;var o=n.selection.from;var i=null,s=0;for(;null==i&&s<r.length;){t?r[s].from>=o&&(i=r[s]):r[s].from>o&&(i=r[s]),s++;}if(null==i&&e&&r.length>0&&(i=r[0]),i){var _t16=ot.create(n.doc,i.from,i.to);n.tr.setSelection(_t16);}}(t,e,o,{state:r}),updateView(r,n),!1;};},selectPrevious:function selectPrevious(){return function(_ref146){var t=_ref146.state,e=_ref146.dispatch;var r=_this50.options.results;return function(t,_ref147){var e=_ref147.state;var r=e.selection.from;var n=null,o=t.length-1;for(;null==n&&o>=0;){t[o].from<r&&(n=t[o]),o--;}if(n){var _t17=ot.create(e.doc,n.from,n.to);e.tr.setSelection(_t17);}}(r,{state:t}),updateView(t,e),!1;};}};},addProseMirrorPlugins:function addProseMirrorPlugins(){var t=this;return[new yt({key:new wt("search"),state:{init:function init(){return Ee.empty;},apply:function apply(_ref148){var e=_ref148.doc,r=_ref148.docChanged;var _t$options=t.options,n=_t$options.searchTerm,o=_t$options.searchResultClass,i=_t$options.disableRegex,s=_t$options.caseSensitive;if(n){var _processSearches=function processSearches(t,e,r){var n=[];var o=[];var i=[];var s=0;if(!e)return{decorationsToReturn:Ee.empty,results:[]};null==t||t.descendants(function(t,e){t.isText?o[s]?o[s]={text:o[s].text+t.text,pos:o[s].pos}:o[s]={text:"".concat(t.text),pos:e}:s+=1;}),o=o.filter(Boolean);for(var _t18=0;_t18<o.length;_t18+=1){var _o$_t=o[_t18],_r12=_o$_t.text,_n13=_o$_t.pos,_s7=_toConsumableArray(_r12.matchAll(e));for(var _t19=0;_t19<_s7.length;_t19+=1){var _e11=_s7[_t19];if(""===_e11[0])break;void 0!==_e11.index&&i.push({from:_n13+_e11.index,to:_n13+_e11.index+_e11[0].length});}}for(var _t20=0;_t20<i.length;_t20+=1){var _e12=i[_t20];n.push(xe.inline(_e12.from,_e12.to,{"class":r}));}return{decorationsToReturn:Ee.create(t,n),results:i};}(e,function(t,e,r){return RegExp(e?t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):t,r?"gu":"gui");}(n,i,s),o),_r11=_processSearches.decorationsToReturn,_a3=_processSearches.results;return t.options.results=_a3,_r11;}return Ee.empty;}},props:{decorations:function decorations(t){return this.getState(t);}}})];}}),jo="done",Lo="disabled";var zo;var Vo=gn.extend({addAttributes:function addAttributes(){var t;return Object.assign(Object.assign({},null===(t=this.parent)||void 0===t?void 0:t.call(this)),{htmlElementClass:{parseHTML:function parseHTML(t){return t.getAttribute("class");},renderHTML:function renderHTML(t){return{"class":t.htmlElementClass};}}});},addProseMirrorPlugins:function addProseMirrorPlugins(){var t=[];return t.push(function checkable_paragraph_extension_clickHandler(t){return new yt({key:new wt("handleClickLink"),props:{handleClick:function handleClick(e,r,n){var o;var i=null===(o=n.target)||void 0===o?void 0:o.closest("p");if(null==i)return!1;var s=i.getBoundingClientRect(),a=(s.left+s.right)/2,c=n.clientX<a,u=t.editor;return c?function rotateNodeState(t,e){var r=findParentNodeClosestToPos(resolvePos(t,e),function(e){return isParagraph(t,e);});if(null!=r.node){var _e13=r.node,_n14=r.pos,_o8={htmlElementClass:rotateState(_e13.attrs.htmlElementClass)},_i6=t.state.tr;_i6.setNodeMarkup(_n14,void 0,Object.assign(Object.assign({},_e13.attrs),_o8)),t.view.dispatch(_i6);}}(u,r):zo()||function deleteNodeAtPos(t,e){var r=resolvePos(t,e),n=findParentNodeClosestToPos(r,function(e){return isParagraph(t,e);});if(null!=n.node){var _e14=r.before(n.depth),_o9=r.after(n.depth),_i7=t.state.tr;_i7["delete"](_e14,_o9),t.view.dispatch(_i7);}}(u,r),!0;}}});}({editor:this.editor,type:this.type})),t;}});function rotateState(t){return t==jo?Lo:t==Lo?"":jo;}function setCheckStateForAll(t,e){var r=t.state.tr,n={htmlElementClass:e};collectAllParagraphs(t).forEach(function(t){var o=t.node,i=t.pos;(function isOfCheckState(t,e){return t.attrs.htmlElementClass==e;})(o,e)||r.setNodeMarkup(i,void 0,Object.assign(Object.assign({},o.attrs),n));}),t.view.dispatch(r);}function moveParagraphUp(t,e,r,n){var o=resolvePos(t,e.start),i=o.before(o.depth),s=o.after(o.depth),a=resolvePos(t,r.start).before(r.depth),c=t.state.tr;if(c["delete"](i,s).insert(a,e.node),n){var _t21=ot.near(c.doc.resolve(a));c.setSelection(_t21),c.scrollIntoView();}t.view.dispatch(c);}function moveChecklistDown(t,e){t.view.focus();var r=t.view.state.selection.$anchor,n=findParentNodeClosestToPos(r,function(e){return isParagraph(t,e);});if(!n)return;var o=function searchFollowingParagraph(t,e,r,n){var o=null,i=null;var s=t.state.doc.content.size,a=findParentNodeClosestToPos(e,function(e){return isParagraph(t,e);});e.after(a.depth)<s&&(i=resolvePos(t,e.after(a.depth)+1),o=findParentNodeClosestToPos(i,function(t){return n(t);}));if(!r){var _e15=o,_r13=i;for(;_e15&&_r13.after(a.depth)<s;){_r13=resolvePos(t,_r13.after(a.depth)+1),_e15=findParentNodeClosestToPos(_r13,function(t){return n(t);}),_e15&&(o=_e15);}}return o;}(t,r,e,function(e){return isParagraph(t,e);});if(o){var _e16=r.before(n.depth),_i8=r.after(n.depth),_s8=resolvePos(t,o.start).after(o.depth)-n.node.nodeSize,_a4=t.state.tr;_a4["delete"](_e16,_i8).insert(_s8,n.node);var _c4=ot.near(_a4.doc.resolve(_s8));_a4.setSelection(_c4),_a4.scrollIntoView(),t.view.dispatch(_a4);}}function sortPendingToTop(t){collectAllParagraphs(t).forEach(function(e){var r=e.node,n=e.pos,o=resolvePos(t,n+1),i=findParentNodeClosestToPos(o,function(e){return isParagraph(t,e);}),s=numericCheckState(r.attrs.htmlElementClass),a=searchPreviousParagraph(t,o,!1,function(e){return function shouldMovePendingToTop(t,e,r){if(!isParagraph(t,r))return!1;var n=numericCheckState(r.attrs.htmlElementClass);return e<n;}(t,s,e);});a&&moveParagraphUp(t,i,a,!1);});}function collectAllParagraphs(t){var e=[];return t.view.state.doc.descendants(function(r,n,o){return!isParagraph(t,r)||(e.push({node:r,pos:n}),!1);}),e;}function sortAlphabetical(t){collectAllParagraphs(t).forEach(function(e){var r=e.node,n=e.pos,o=resolvePos(t,n+1),i=findParentNodeClosestToPos(o,function(e){return isParagraph(t,e);}),s=searchPreviousParagraph(t,o,!1,function(e){return function shouldMoveAlphabetical(t,e,r){if(!isParagraph(t,r))return!1;return e.textContent.localeCompare(r.textContent,void 0,{sensitivity:"base"})<0;}(t,r,e);});s&&moveParagraphUp(t,i,s,!1);});}function searchPreviousParagraph(t,e,r,n){var o=null,i=null;var s=findParentNodeClosestToPos(e,function(e){return isParagraph(t,e);});if(e.before(s.depth)>0&&(i=resolvePos(t,e.before(s.depth)-1),o=findParentNodeClosestToPos(i,function(t){return n(t);})),!r){var _e17=o,_r14=i;for(;_e17&&_e17.pos>0;){_r14=resolvePos(t,_e17.pos-1),_e17=findParentNodeClosestToPos(_r14,function(t){return n(t);}),_e17&&(o=_e17);}}return o;}function numericCheckState(t){return null==t||""==t?0:t==jo?1:2;}function isParagraph(t,e){return function isNodeOfType(t,e){return t&&t.type==e;}(e,t.view.state.schema.nodes.paragraph);}function resolvePos(t,e){return t.state.doc.resolve(e);}function _initializeEditor(t){try{return new Editor({element:t,extensions:[Wr,Yr,Xr,en,on,sn,an,cn.configure({levels:[1,2,3]}),dn,_o.configure({autolink:!0,openOnClick:!1}),hn,vn,gn,wn,xn,Dn,Sn,Bo.configure({searchResultClass:"search-result",caseSensitive:!1,disableRegex:!0})],editable:!0});}catch(t){return t.message+" "+t.stack;}}function _initializeChecklist(t){try{return new Editor({element:t,extensions:[sn,an,cn.configure({levels:[1,2]}),Vo,xn,Dn,Bo.configure({searchResultClass:"search-result",caseSensitive:!1,disableRegex:!0})],editable:!0});}catch(t){return t.message+" "+t.stack;}}function prose_mirror_bundle_registerIsShoppingModeActive(t){!function registerIsShoppingModeActive(t){zo=t;}(t);}function _scrollToTop(t){t.chain().setTextSelection({from:0,to:0}).scrollIntoView().run();}function _scrollToBottom(t){var e=et.atEnd(t.state.doc);t.chain().setTextSelection({from:e.$from.pos,to:e.$to.pos}).scrollIntoView().run();}function scrollToSelection(t){var e,r;var _t$view$domAtPos=t.view.domAtPos(t.state.selection.anchor),n=_t$view$domAtPos.node;n&&(null===(r=(e=n).scrollIntoView)||void 0===r||r.call(e,!1));}function _toggleFormat(t,e,r){switch(e.toLowerCase()){case"heading":t.chain().focus().toggleHeading({level:r}).run();break;case"codeblock":t.chain().focus().toggleCodeBlock().run();break;case"blockquote":t.chain().focus().toggleBlockquote().run();break;case"bulletlist":t.chain().focus().toggleBulletList().run();break;case"orderedlist":t.chain().focus().toggleOrderedList().run();break;default:t.chain().focus().toggleMark(e).run();}}function _isFormatActive(t,e,r){return e=function getCaseSensitiveFormat(t){var e=t.toLowerCase();switch(e){case"codeblock":return"codeBlock";case"bulletlist":return"bulletList";case"orderedlist":return"orderedList";default:return e;}}(e),t.isActive(e,r);}function _searchAndHighlight(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;e.length<r&&(e=""),t.commands.setSearchTerm(e);}function _selectNextWhileTyping(t){t.chain().selectNext(!0,!0).run(),scrollToSelection(t);}function prose_mirror_bundle_selectNext(t){t.chain().focus().selectNext(!1,!1).run(),scrollToSelection(t);}function prose_mirror_bundle_selectPrevious(t){t.chain().focus().selectPrevious().run(),scrollToSelection(t);}function _getSelectedText(t){var _t$state$selection=t.state.selection,e=_t$state$selection.from,r=_t$state$selection.to,n=_t$state$selection.empty;return n?null:t.state.doc.textBetween(e,r," ");}function _selectWordAtCurrentPosition(t){var e=t.view.state.selection,r=e.$from.parent.textContent,n=e.$from.parentOffset,o=0;for(;n-o-1>=0&&!isWhitespace(r[n-o-1]);){o++;}var i=e.$to.parentOffset,s=0;for(;i+s<r.length&&!isWhitespace(r[i+s]);){s++;}return t.commands.setTextSelection({from:e.$from.pos-o,to:e.$to.pos+s}),r.substring(n-o,i+s);}function _makeLinkSuggestion(t){return isValidUrl(t)||isValidUrl(t="https://"+t)||(t="https://"),t;}function _setCheckStateForAllToTodo(t){setCheckStateForAll(t,"");}function _setCheckStateForAllToDone(t){setCheckStateForAll(t,"done");}function _setCheckStateForAllToDisabled(t){setCheckStateForAll(t,"disabled");}function _moveChecklist(t,e,r){e?function moveChecklistUp(t,e){t.view.focus();var r=t.view.state.selection.$anchor,n=findParentNodeClosestToPos(r,function(e){return isParagraph(t,e);});if(!n)return;var o=searchPreviousParagraph(t,r,e,function(e){return isParagraph(t,e);});o&&moveParagraphUp(t,n,o,!0);}(t,r):moveChecklistDown(t,r);}function _sortChecklistPendingToTop(t){sortPendingToTop(t);}function _sortChecklistAlphabetical(t){sortAlphabetical(t);}function isValidUrl(t){try{return new URL(t),!0;}catch(t){return!1;}}function isWhitespace(t){return /[\s]/.test(t);}})(),ProseMirrorBundle=r;})();