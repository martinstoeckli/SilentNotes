var OZ=Object.create;var ac=Object.defineProperty,TZ=Object.defineProperties,xZ=Object.getOwnPropertyDescriptor,IZ=Object.getOwnPropertyDescriptors,AZ=Object.getOwnPropertyNames,ic=Object.getOwnPropertySymbols,wZ=Object.getPrototypeOf,Ev=Object.prototype.hasOwnProperty,q1=Object.prototype.propertyIsEnumerable;var y1=(t,e,r)=>e in t?ac(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e||(e={}))Ev.call(e,r)&&y1(t,r,e[r]);if(ic)for(var r of ic(e))q1.call(e,r)&&y1(t,r,e[r]);return t},ve=(t,e)=>TZ(t,IZ(e)),o=(t,e)=>ac(t,"name",{value:e,configurable:!0});var b1=(t,e)=>{var r={};for(var n in t)Ev.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&ic)for(var n of ic(t))e.indexOf(n)<0&&q1.call(t,n)&&(r[n]=t[n]);return r};var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var RZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of AZ(e))!Ev.call(t,i)&&i!==r&&ac(t,i,{get:()=>e[i],enumerable:!(n=xZ(e,i))||n.enumerable});return t};var Ov=(t,e,r)=>(r=t!=null?OZ(wZ(t)):{},RZ(e||!t||!t.__esModule?ac(r,"default",{value:t,enumerable:!0}):r,t));var w=h((Tv,S1)=>{"use strict";var Qs=o(function(t){return t&&t.Math===Math&&t},"check");S1.exports=Qs(typeof globalThis=="object"&&globalThis)||Qs(typeof window=="object"&&window)||Qs(typeof self=="object"&&self)||Qs(typeof global=="object"&&global)||Qs(typeof Tv=="object"&&Tv)||function(){return this}()||Function("return this")()});var O=h((vtr,E1)=>{"use strict";E1.exports=function(t){try{return!!t()}catch(e){return!0}}});var D=h((gtr,O1)=>{"use strict";var CZ=O();O1.exports=!CZ(function(){return Object.defineProperty({},1,{get:o(function(){return 7},"get")})[1]!==7})});var ya=h((ytr,T1)=>{"use strict";var MZ=O();T1.exports=!MZ(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var C=h((qtr,x1)=>{"use strict";var kZ=ya(),sc=Function.prototype.call;x1.exports=kZ?sc.bind(sc):function(){return sc.apply(sc,arguments)}});var Zs=h(w1=>{"use strict";var I1={}.propertyIsEnumerable,A1=Object.getOwnPropertyDescriptor,PZ=A1&&!I1.call({1:2},1);w1.f=PZ?o(function(e){var r=A1(this,e);return!!r&&r.enumerable},"propertyIsEnumerable"):I1});var dr=h((Etr,R1)=>{"use strict";R1.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var E=h((Otr,k1)=>{"use strict";var C1=ya(),M1=Function.prototype,xv=M1.call,NZ=C1&&M1.bind.bind(xv,xv);k1.exports=C1?NZ:function(t){return function(){return xv.apply(t,arguments)}}});var $e=h((Ttr,N1)=>{"use strict";var P1=E(),DZ=P1({}.toString),LZ=P1("".slice);N1.exports=function(t){return LZ(DZ(t),8,-1)}});var Pt=h((xtr,D1)=>{"use strict";var FZ=E(),$Z=O(),BZ=$e(),Iv=Object,_Z=FZ("".split);D1.exports=$Z(function(){return!Iv("z").propertyIsEnumerable(0)})?function(t){return BZ(t)==="String"?_Z(t,""):Iv(t)}:Iv});var xe=h((Itr,L1)=>{"use strict";L1.exports=function(t){return t==null}});var le=h((Atr,F1)=>{"use strict";var jZ=xe(),UZ=TypeError;F1.exports=function(t){if(jZ(t))throw new UZ("Can't call method on "+t);return t}});var Ie=h((wtr,$1)=>{"use strict";var zZ=Pt(),HZ=le();$1.exports=function(t){return zZ(HZ(t))}});var H=h((Rtr,B1)=>{"use strict";var Av=typeof document=="object"&&document.all;B1.exports=typeof Av>"u"&&Av!==void 0?function(t){return typeof t=="function"||t===Av}:function(t){return typeof t=="function"}});var _=h((Ctr,_1)=>{"use strict";var VZ=H();_1.exports=function(t){return typeof t=="object"?t!==null:VZ(t)}});var $=h((Mtr,j1)=>{"use strict";var wv=w(),WZ=H(),KZ=o(function(t){return WZ(t)?t:void 0},"aFunction");j1.exports=function(t,e){return arguments.length<2?KZ(wv[t]):wv[t]&&wv[t][e]}});var Be=h((Ptr,U1)=>{"use strict";var GZ=E();U1.exports=GZ({}.isPrototypeOf)});var Yr=h((Ntr,V1)=>{"use strict";var JZ=w(),z1=JZ.navigator,H1=z1&&z1.userAgent;V1.exports=H1?String(H1):""});var ct=h((Dtr,X1)=>{"use strict";var Y1=w(),Rv=Yr(),W1=Y1.process,K1=Y1.Deno,G1=W1&&W1.versions||K1&&K1.version,J1=G1&&G1.v8,Xr,oc;J1&&(Xr=J1.split("."),oc=Xr[0]>0&&Xr[0]<4?1:+(Xr[0]+Xr[1]));!oc&&Rv&&(Xr=Rv.match(/Edge\/(\d+)/),(!Xr||Xr[1]>=74)&&(Xr=Rv.match(/Chrome\/(\d+)/),Xr&&(oc=+Xr[1])));X1.exports=oc});var hn=h((Ltr,Z1)=>{"use strict";var Q1=ct(),YZ=O(),XZ=w(),QZ=XZ.String;Z1.exports=!!Object.getOwnPropertySymbols&&!YZ(function(){var t=Symbol("symbol detection");return!QZ(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Q1&&Q1<41})});var Cv=h((Ftr,eA)=>{"use strict";var ZZ=hn();eA.exports=ZZ&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Nt=h(($tr,rA)=>{"use strict";var eee=$(),ree=H(),tee=Be(),nee=Cv(),iee=Object;rA.exports=nee?function(t){return typeof t=="symbol"}:function(t){var e=eee("Symbol");return ree(e)&&tee(e.prototype,iee(t))}});var pn=h((Btr,tA)=>{"use strict";var aee=String;tA.exports=function(t){try{return aee(t)}catch(e){return"Object"}}});var B=h((_tr,nA)=>{"use strict";var see=H(),oee=pn(),uee=TypeError;nA.exports=function(t){if(see(t))return t;throw new uee(oee(t)+" is not a function")}});var be=h((jtr,iA)=>{"use strict";var lee=B(),cee=xe();iA.exports=function(t,e){var r=t[e];return cee(r)?void 0:lee(r)}});var Nv=h((Utr,aA)=>{"use strict";var Mv=C(),kv=H(),Pv=_(),fee=TypeError;aA.exports=function(t,e){var r,n;if(e==="string"&&kv(r=t.toString)&&!Pv(n=Mv(r,t))||kv(r=t.valueOf)&&!Pv(n=Mv(r,t))||e!=="string"&&kv(r=t.toString)&&!Pv(n=Mv(r,t)))return n;throw new fee("Can't convert object to primitive value")}});var G=h((ztr,sA)=>{"use strict";sA.exports=!1});var uc=h((Htr,uA)=>{"use strict";var oA=w(),dee=Object.defineProperty;uA.exports=function(t,e){try{dee(oA,t,{value:e,configurable:!0,writable:!0})}catch(r){oA[t]=e}return e}});var eo=h((Vtr,fA)=>{"use strict";var hee=G(),pee=w(),vee=uc(),lA="__core-js_shared__",cA=fA.exports=pee[lA]||vee(lA,{});(cA.versions||(cA.versions=[])).push({version:"3.40.0",mode:hee?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.40.0/LICENSE",source:"https://github.com/zloirock/core-js"})});var Dt=h((Wtr,hA)=>{"use strict";var dA=eo();hA.exports=function(t,e){return dA[t]||(dA[t]=e||{})}});var J=h((Ktr,pA)=>{"use strict";var gee=le(),mee=Object;pA.exports=function(t){return mee(gee(t))}});var V=h((Gtr,vA)=>{"use strict";var yee=E(),qee=J(),bee=yee({}.hasOwnProperty);vA.exports=Object.hasOwn||o(function(e,r){return bee(qee(e),r)},"hasOwn")});var vn=h((Ytr,gA)=>{"use strict";var See=E(),Eee=0,Oee=Math.random(),Tee=See(1 .toString);gA.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Tee(++Eee+Oee,36)}});var F=h((Xtr,yA)=>{"use strict";var xee=w(),Iee=Dt(),mA=V(),Aee=vn(),wee=hn(),Ree=Cv(),qa=xee.Symbol,Dv=Iee("wks"),Cee=Ree?qa.for||qa:qa&&qa.withoutSetter||Aee;yA.exports=function(t){return mA(Dv,t)||(Dv[t]=wee&&mA(qa,t)?qa[t]:Cee("Symbol."+t)),Dv[t]}});var ro=h((Qtr,SA)=>{"use strict";var Mee=C(),qA=_(),bA=Nt(),kee=be(),Pee=Nv(),Nee=F(),Dee=TypeError,Lee=Nee("toPrimitive");SA.exports=function(t,e){if(!qA(t)||bA(t))return t;var r=kee(t,Lee),n;if(r){if(e===void 0&&(e="default"),n=Mee(r,t,e),!qA(n)||bA(n))return n;throw new Dee("Can't convert object to primitive value")}return e===void 0&&(e="number"),Pee(t,e)}});var ft=h((Ztr,EA)=>{"use strict";var Fee=ro(),$ee=Nt();EA.exports=function(t){var e=Fee(t,"string");return $ee(e)?e:e+""}});var to=h((enr,TA)=>{"use strict";var Bee=w(),OA=_(),Lv=Bee.document,_ee=OA(Lv)&&OA(Lv.createElement);TA.exports=function(t){return _ee?Lv.createElement(t):{}}});var Fv=h((rnr,xA)=>{"use strict";var jee=D(),Uee=O(),zee=to();xA.exports=!jee&&!Uee(function(){return Object.defineProperty(zee("div"),"a",{get:o(function(){return 7},"get")}).a!==7})});var Pe=h(AA=>{"use strict";var Hee=D(),Vee=C(),Wee=Zs(),Kee=dr(),Gee=Ie(),Jee=ft(),Yee=V(),Xee=Fv(),IA=Object.getOwnPropertyDescriptor;AA.f=Hee?IA:o(function(e,r){if(e=Gee(e),r=Jee(r),Xee)try{return IA(e,r)}catch(n){}if(Yee(e,r))return Kee(!Vee(Wee.f,e,r),e[r])},"getOwnPropertyDescriptor")});var $v=h((anr,wA)=>{"use strict";var Qee=D(),Zee=O();wA.exports=Qee&&Zee(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var R=h((snr,RA)=>{"use strict";var ere=_(),rre=String,tre=TypeError;RA.exports=function(t){if(ere(t))return t;throw new tre(rre(t)+" is not an object")}});var oe=h(MA=>{"use strict";var nre=D(),ire=Fv(),are=$v(),lc=R(),CA=ft(),sre=TypeError,Bv=Object.defineProperty,ore=Object.getOwnPropertyDescriptor,_v="enumerable",jv="configurable",Uv="writable";MA.f=nre?are?o(function(e,r,n){if(lc(e),r=CA(r),lc(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Uv in n&&!n[Uv]){var i=ore(e,r);i&&i[Uv]&&(e[r]=n.value,n={configurable:jv in n?n[jv]:i[jv],enumerable:_v in n?n[_v]:i[_v],writable:!1})}return Bv(e,r,n)},"defineProperty"):Bv:o(function(e,r,n){if(lc(e),r=CA(r),lc(n),ire)try{return Bv(e,r,n)}catch(i){}if("get"in n||"set"in n)throw new sre("Accessors not supported");return"value"in n&&(e[r]=n.value),e},"defineProperty")});var Ae=h((lnr,kA)=>{"use strict";var ure=D(),lre=oe(),cre=dr();kA.exports=ure?function(t,e,r){return lre.f(t,e,cre(1,r))}:function(t,e,r){return t[e]=r,t}});var ci=h((cnr,NA)=>{"use strict";var zv=D(),fre=V(),PA=Function.prototype,dre=zv&&Object.getOwnPropertyDescriptor,Hv=fre(PA,"name"),hre=Hv&&o(function(){},"something").name==="something",pre=Hv&&(!zv||zv&&dre(PA,"name").configurable);NA.exports={EXISTS:Hv,PROPER:hre,CONFIGURABLE:pre}});var no=h((dnr,DA)=>{"use strict";var vre=E(),gre=H(),Vv=eo(),mre=vre(Function.toString);gre(Vv.inspectSource)||(Vv.inspectSource=function(t){return mre(t)});DA.exports=Vv.inspectSource});var Wv=h((hnr,FA)=>{"use strict";var yre=w(),qre=H(),LA=yre.WeakMap;FA.exports=qre(LA)&&/native code/.test(String(LA))});var io=h((pnr,BA)=>{"use strict";var bre=Dt(),Sre=vn(),$A=bre("keys");BA.exports=function(t){return $A[t]||($A[t]=Sre(t))}});var ba=h((vnr,_A)=>{"use strict";_A.exports={}});var te=h((gnr,zA)=>{"use strict";var Ere=Wv(),UA=w(),Ore=_(),Tre=Ae(),Kv=V(),Gv=eo(),xre=io(),Ire=ba(),jA="Object already initialized",Jv=UA.TypeError,Are=UA.WeakMap,cc,ao,fc,wre=o(function(t){return fc(t)?ao(t):cc(t,{})},"enforce"),Rre=o(function(t){return function(e){var r;if(!Ore(e)||(r=ao(e)).type!==t)throw new Jv("Incompatible receiver, "+t+" required");return r}},"getterFor");Ere||Gv.state?(Qr=Gv.state||(Gv.state=new Are),Qr.get=Qr.get,Qr.has=Qr.has,Qr.set=Qr.set,cc=o(function(t,e){if(Qr.has(t))throw new Jv(jA);return e.facade=t,Qr.set(t,e),e},"set"),ao=o(function(t){return Qr.get(t)||{}},"get"),fc=o(function(t){return Qr.has(t)},"has")):(fi=xre("state"),Ire[fi]=!0,cc=o(function(t,e){if(Kv(t,fi))throw new Jv(jA);return e.facade=t,Tre(t,fi,e),e},"set"),ao=o(function(t){return Kv(t,fi)?t[fi]:{}},"get"),fc=o(function(t){return Kv(t,fi)},"has"));var Qr,fi;zA.exports={set:cc,get:ao,has:fc,enforce:wre,getterFor:Rre}});var so=h((ynr,WA)=>{"use strict";var Xv=E(),Cre=O(),Mre=H(),dc=V(),Yv=D(),kre=ci().CONFIGURABLE,Pre=no(),VA=te(),Nre=VA.enforce,Dre=VA.get,HA=String,hc=Object.defineProperty,Lre=Xv("".slice),Fre=Xv("".replace),$re=Xv([].join),Bre=Yv&&!Cre(function(){return hc(function(){},"length",{value:8}).length!==8}),_re=String(String).split("String"),jre=WA.exports=function(t,e,r){Lre(HA(e),0,7)==="Symbol("&&(e="["+Fre(HA(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!dc(t,"name")||kre&&t.name!==e)&&(Yv?hc(t,"name",{value:e,configurable:!0}):t.name=e),Bre&&r&&dc(r,"arity")&&t.length!==r.arity&&hc(t,"length",{value:r.arity});try{r&&dc(r,"constructor")&&r.constructor?Yv&&hc(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var n=Nre(t);return dc(n,"source")||(n.source=$re(_re,typeof e=="string"?e:"")),t};Function.prototype.toString=jre(o(function(){return Mre(this)&&Dre(this).source||Pre(this)},"toString"),"toString")});var ie=h((bnr,KA)=>{"use strict";var Ure=H(),zre=oe(),Hre=so(),Vre=uc();KA.exports=function(t,e,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:e;if(Ure(r)&&Hre(r,a,n),n.global)i?t[e]=r:Vre(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch(s){}i?t[e]=r:zre.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var Qv=h((Snr,GA)=>{"use strict";var Wre=Math.ceil,Kre=Math.floor;GA.exports=Math.trunc||o(function(e){var r=+e;return(r>0?Kre:Wre)(r)},"trunc")});var ce=h((Onr,JA)=>{"use strict";var Gre=Qv();JA.exports=function(t){var e=+t;return e!==e||e===0?0:Gre(e)}});var Zr=h((Tnr,YA)=>{"use strict";var Jre=ce(),Yre=Math.max,Xre=Math.min;YA.exports=function(t,e){var r=Jre(t);return r<0?Yre(r+e,0):Xre(r,e)}});var hr=h((xnr,XA)=>{"use strict";var Qre=ce(),Zre=Math.min;XA.exports=function(t){var e=Qre(t);return e>0?Zre(e,9007199254740991):0}});var Q=h((Inr,QA)=>{"use strict";var ete=hr();QA.exports=function(t){return ete(t.length)}});var Sa=h((Anr,ew)=>{"use strict";var rte=Ie(),tte=Zr(),nte=Q(),ZA=o(function(t){return function(e,r,n){var i=rte(e),a=nte(i);if(a===0)return!t&&-1;var s=tte(n,a),u;if(t&&r!==r){for(;a>s;)if(u=i[s++],u!==u)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},"createMethod");ew.exports={includes:ZA(!0),indexOf:ZA(!1)}});var eg=h((Rnr,tw)=>{"use strict";var ite=E(),Zv=V(),ate=Ie(),ste=Sa().indexOf,ote=ba(),rw=ite([].push);tw.exports=function(t,e){var r=ate(t),n=0,i=[],a;for(a in r)!Zv(ote,a)&&Zv(r,a)&&rw(i,a);for(;e.length>n;)Zv(r,a=e[n++])&&(~ste(i,a)||rw(i,a));return i}});var pc=h((Cnr,nw)=>{"use strict";nw.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var gn=h(iw=>{"use strict";var ute=eg(),lte=pc(),cte=lte.concat("length","prototype");iw.f=Object.getOwnPropertyNames||o(function(e){return ute(e,cte)},"getOwnPropertyNames")});var oo=h(aw=>{"use strict";aw.f=Object.getOwnPropertySymbols});var vc=h((Nnr,sw)=>{"use strict";var fte=$(),dte=E(),hte=gn(),pte=oo(),vte=R(),gte=dte([].concat);sw.exports=fte("Reflect","ownKeys")||o(function(e){var r=hte.f(vte(e)),n=pte.f;return n?gte(r,n(e)):r},"ownKeys")});var di=h((Lnr,uw)=>{"use strict";var ow=V(),mte=vc(),yte=Pe(),qte=oe();uw.exports=function(t,e,r){for(var n=mte(e),i=qte.f,a=yte.f,s=0;s<n.length;s++){var u=n[s];!ow(t,u)&&!(r&&ow(r,u))&&i(t,u,a(e,u))}}});var Ea=h((Fnr,lw)=>{"use strict";var bte=O(),Ste=H(),Ete=/#|\.prototype\./,uo=o(function(t,e){var r=Tte[Ote(t)];return r===Ite?!0:r===xte?!1:Ste(e)?bte(e):!!e},"isForced"),Ote=uo.normalize=function(t){return String(t).replace(Ete,".").toLowerCase()},Tte=uo.data={},xte=uo.NATIVE="N",Ite=uo.POLYFILL="P";lw.exports=uo});var m=h((Bnr,cw)=>{"use strict";var gc=w(),Ate=Pe().f,wte=Ae(),Rte=ie(),Cte=uc(),Mte=di(),kte=Ea();cw.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,a,s,u,l,c,f;if(n?s=gc:i?s=gc[r]||Cte(r,{}):s=gc[r]&&gc[r].prototype,s)for(u in e){if(c=e[u],t.dontCallGetSet?(f=Ate(s,u),l=f&&f.value):l=s[u],a=kte(n?u:r+(i?".":"#")+u,t.forced),!a&&l!==void 0){if(typeof c==typeof l)continue;Mte(c,l)}(t.sham||l&&l.sham)&&wte(c,"sham",!0),Rte(s,u,c,t)}}});var mc=h((_nr,dw)=>{"use strict";var Pte=F(),Nte=Pte("toStringTag"),fw={};fw[Nte]="z";dw.exports=String(fw)==="[object z]"});var nr=h((jnr,hw)=>{"use strict";var Dte=mc(),Lte=H(),yc=$e(),Fte=F(),$te=Fte("toStringTag"),Bte=Object,_te=yc(function(){return arguments}())==="Arguments",jte=o(function(t,e){try{return t[e]}catch(r){}},"tryGet");hw.exports=Dte?yc:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=jte(e=Bte(t),$te))=="string"?r:_te?yc(e):(n=yc(e))==="Object"&&Lte(e.callee)?"Arguments":n}});var U=h((znr,pw)=>{"use strict";var Ute=nr(),zte=String;pw.exports=function(t){if(Ute(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return zte(t)}});var hi=h((Hnr,vw)=>{"use strict";var Hte=eg(),Vte=pc();vw.exports=Object.keys||o(function(e){return Hte(e,Vte)},"keys")});var qc=h(gw=>{"use strict";var Wte=D(),Kte=$v(),Gte=oe(),Jte=R(),Yte=Ie(),Xte=hi();gw.f=Wte&&!Kte?Object.defineProperties:o(function(e,r){Jte(e);for(var n=Yte(r),i=Xte(r),a=i.length,s=0,u;a>s;)Gte.f(e,u=i[s++],n[u]);return e},"defineProperties")});var rg=h((Gnr,mw)=>{"use strict";var Qte=$();mw.exports=Qte("document","documentElement")});var Se=h((Jnr,Tw)=>{"use strict";var Zte=R(),ene=qc(),yw=pc(),rne=ba(),tne=rg(),nne=to(),ine=io(),qw=">",bw="<",ng="prototype",ig="script",Ew=ine("IE_PROTO"),tg=o(function(){},"EmptyConstructor"),Ow=o(function(t){return bw+ig+qw+t+bw+"/"+ig+qw},"scriptTag"),Sw=o(function(t){t.write(Ow("")),t.close();var e=t.parentWindow.Object;return t=null,e},"NullProtoObjectViaActiveX"),ane=o(function(){var t=nne("iframe"),e="java"+ig+":",r;return t.style.display="none",tne.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(Ow("document.F=Object")),r.close(),r.F},"NullProtoObjectViaIFrame"),bc,Sc=o(function(){try{bc=new ActiveXObject("htmlfile")}catch(e){}Sc=typeof document<"u"?document.domain&&bc?Sw(bc):ane():Sw(bc);for(var t=yw.length;t--;)delete Sc[ng][yw[t]];return Sc()},"NullProtoObject");rne[Ew]=!0;Tw.exports=Object.create||o(function(e,r){var n;return e!==null?(tg[ng]=Zte(e),n=new tg,tg[ng]=null,n[Ew]=e):n=Sc(),r===void 0?n:ene.f(n,r)},"create")});var pr=h((Xnr,xw)=>{"use strict";var sne=E();xw.exports=sne([].slice)});var Ec=h((Qnr,ww)=>{"use strict";var one=$e(),une=Ie(),Iw=gn().f,lne=pr(),Aw=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],cne=o(function(t){try{return Iw(t)}catch(e){return lne(Aw)}},"getWindowNames");ww.exports.f=o(function(e){return Aw&&one(e)==="Window"?cne(e):Iw(une(e))},"getOwnPropertyNames")});var fe=h((eir,Cw)=>{"use strict";var Rw=so(),fne=oe();Cw.exports=function(t,e,r){return r.get&&Rw(r.get,e,{getter:!0}),r.set&&Rw(r.set,e,{setter:!0}),fne.f(t,e,r)}});var ag=h(Mw=>{"use strict";var dne=F();Mw.f=dne});var Oc=h((tir,kw)=>{"use strict";var hne=w();kw.exports=hne});var ge=h((nir,Nw)=>{"use strict";var Pw=Oc(),pne=V(),vne=ag(),gne=oe().f;Nw.exports=function(t){var e=Pw.Symbol||(Pw.Symbol={});pne(e,t)||gne(e,t,{value:vne.f(t)})}});var sg=h((iir,Dw)=>{"use strict";var mne=C(),yne=$(),qne=F(),bne=ie();Dw.exports=function(){var t=yne("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=qne("toPrimitive");e&&!e[n]&&bne(e,n,function(i){return mne(r,this)},{arity:1})}});var ir=h((air,Fw)=>{"use strict";var Sne=oe().f,Ene=V(),One=F(),Lw=One("toStringTag");Fw.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Ene(t,Lw)&&Sne(t,Lw,{configurable:!0,value:e})}});var mn=h((sir,$w)=>{"use strict";var Tne=$e(),xne=E();$w.exports=function(t){if(Tne(t)==="Function")return xne(t)}});var se=h((oir,_w)=>{"use strict";var Bw=mn(),Ine=B(),Ane=ya(),wne=Bw(Bw.bind);_w.exports=function(t,e){return Ine(t),e===void 0?t:Ane?wne(t,e):function(){return t.apply(e,arguments)}}});var et=h((uir,jw)=>{"use strict";var Rne=$e();jw.exports=Array.isArray||o(function(e){return Rne(e)==="Array"},"isArray")});var rt=h((cir,Ww)=>{"use strict";var Cne=E(),Mne=O(),Uw=H(),kne=nr(),Pne=$(),Nne=no(),zw=o(function(){},"noop"),Hw=Pne("Reflect","construct"),og=/^\s*(?:class|function)\b/,Dne=Cne(og.exec),Lne=!og.test(zw),lo=o(function(e){if(!Uw(e))return!1;try{return Hw(zw,[],e),!0}catch(r){return!1}},"isConstructor"),Vw=o(function(e){if(!Uw(e))return!1;switch(kne(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Lne||!!Dne(og,Nne(e))}catch(r){return!0}},"isConstructor");Vw.sham=!0;Ww.exports=!Hw||Mne(function(){var t;return lo(lo.call)||!lo(Object)||!lo(function(){t=!0})||t})?Vw:lo});var Yw=h((dir,Jw)=>{"use strict";var Kw=et(),Fne=rt(),$ne=_(),Bne=F(),_ne=Bne("species"),Gw=Array;Jw.exports=function(t){var e;return Kw(t)&&(e=t.constructor,Fne(e)&&(e===Gw||Kw(e.prototype))?e=void 0:$ne(e)&&(e=e[_ne],e===null&&(e=void 0))),e===void 0?Gw:e}});var Oa=h((hir,Xw)=>{"use strict";var jne=Yw();Xw.exports=function(t,e){return new(jne(t))(e===0?0:e)}});var Ee=h((pir,Zw)=>{"use strict";var Une=se(),zne=E(),Hne=Pt(),Vne=J(),Wne=Q(),Kne=Oa(),Qw=zne([].push),yn=o(function(t){var e=t===1,r=t===2,n=t===3,i=t===4,a=t===6,s=t===7,u=t===5||a;return function(l,c,f,d){for(var p=Vne(l),v=Hne(p),g=Wne(v),y=Une(c,f),q=0,b=d||Kne,S=e?b(l,g):r||s?b(l,0):void 0,A,k;g>q;q++)if((u||q in v)&&(A=v[q],k=y(A,q,p),t))if(e)S[q]=k;else if(k)switch(t){case 3:return!0;case 5:return A;case 6:return q;case 2:Qw(S,A)}else switch(t){case 4:return!1;case 7:Qw(S,A)}return a?-1:n||i?i:S}},"createMethod");Zw.exports={forEach:yn(0),map:yn(1),filter:yn(2),some:yn(3),every:yn(4),find:yn(5),findIndex:yn(6),filterReject:yn(7)}});var gR=h(()=>{"use strict";var Tc=m(),ho=w(),gg=C(),Gne=E(),Jne=G(),Ta=D(),xa=hn(),Yne=O(),Ne=V(),Xne=Be(),fg=R(),xc=Ie(),mg=ft(),Qne=U(),dg=dr(),Ia=Se(),tR=hi(),Zne=gn(),nR=Ec(),eie=oo(),iR=Pe(),aR=oe(),rie=qc(),sR=Zs(),ug=ie(),tie=fe(),yg=Dt(),nie=io(),oR=ba(),eR=vn(),iie=F(),aie=ag(),sie=ge(),oie=sg(),uie=ir(),uR=te(),Ic=Ee().forEach,vr=nie("hidden"),Ac="Symbol",fo="prototype",lie=uR.set,rR=uR.getterFor(Ac),Rr=Object[fo],pi=ho.Symbol,co=pi&&pi[fo],cie=ho.RangeError,fie=ho.TypeError,lg=ho.QObject,lR=iR.f,vi=aR.f,cR=nR.f,die=sR.f,fR=Gne([].push),Lt=yg("symbols"),po=yg("op-symbols"),hie=yg("wks"),hg=!lg||!lg[fo]||!lg[fo].findChild,dR=o(function(t,e,r){var n=lR(Rr,e);n&&delete Rr[e],vi(t,e,r),n&&t!==Rr&&vi(Rr,e,n)},"fallbackDefineProperty"),pg=Ta&&Yne(function(){return Ia(vi({},"a",{get:o(function(){return vi(this,"a",{value:7}).a},"get")})).a!==7})?dR:vi,cg=o(function(t,e){var r=Lt[t]=Ia(co);return lie(r,{type:Ac,tag:t,description:e}),Ta||(r.description=e),r},"wrap"),wc=o(function(e,r,n){e===Rr&&wc(po,r,n),fg(e);var i=mg(r);return fg(n),Ne(Lt,i)?(n.enumerable?(Ne(e,vr)&&e[vr][i]&&(e[vr][i]=!1),n=Ia(n,{enumerable:dg(0,!1)})):(Ne(e,vr)||vi(e,vr,dg(1,Ia(null))),e[vr][i]=!0),pg(e,i,n)):vi(e,i,n)},"defineProperty"),qg=o(function(e,r){fg(e);var n=xc(r),i=tR(n).concat(vR(n));return Ic(i,function(a){(!Ta||gg(vg,n,a))&&wc(e,a,n[a])}),e},"defineProperties"),pie=o(function(e,r){return r===void 0?Ia(e):qg(Ia(e),r)},"create"),vg=o(function(e){var r=mg(e),n=gg(die,this,r);return this===Rr&&Ne(Lt,r)&&!Ne(po,r)?!1:n||!Ne(this,r)||!Ne(Lt,r)||Ne(this,vr)&&this[vr][r]?n:!0},"propertyIsEnumerable"),hR=o(function(e,r){var n=xc(e),i=mg(r);if(!(n===Rr&&Ne(Lt,i)&&!Ne(po,i))){var a=lR(n,i);return a&&Ne(Lt,i)&&!(Ne(n,vr)&&n[vr][i])&&(a.enumerable=!0),a}},"getOwnPropertyDescriptor"),pR=o(function(e){var r=cR(xc(e)),n=[];return Ic(r,function(i){!Ne(Lt,i)&&!Ne(oR,i)&&fR(n,i)}),n},"getOwnPropertyNames"),vR=o(function(t){var e=t===Rr,r=cR(e?po:xc(t)),n=[];return Ic(r,function(i){Ne(Lt,i)&&(!e||Ne(Rr,i))&&fR(n,Lt[i])}),n},"$getOwnPropertySymbols");xa||(pi=o(function(){if(Xne(co,this))throw new fie("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Qne(arguments[0]),r=eR(e),n=o(function(i){var a=this===void 0?ho:this;a===Rr&&gg(n,po,i),Ne(a,vr)&&Ne(a[vr],r)&&(a[vr][r]=!1);var s=dg(1,i);try{pg(a,r,s)}catch(u){if(!(u instanceof cie))throw u;dR(a,r,s)}},"setter");return Ta&&hg&&pg(Rr,r,{configurable:!0,set:n}),cg(r,e)},"Symbol"),co=pi[fo],ug(co,"toString",o(function(){return rR(this).tag},"toString")),ug(pi,"withoutSetter",function(t){return cg(eR(t),t)}),sR.f=vg,aR.f=wc,rie.f=qg,iR.f=hR,Zne.f=nR.f=pR,eie.f=vR,aie.f=function(t){return cg(iie(t),t)},Ta&&(tie(co,"description",{configurable:!0,get:o(function(){return rR(this).description},"description")}),Jne||ug(Rr,"propertyIsEnumerable",vg,{unsafe:!0})));Tc({global:!0,constructor:!0,wrap:!0,forced:!xa,sham:!xa},{Symbol:pi});Ic(tR(hie),function(t){sie(t)});Tc({target:Ac,stat:!0,forced:!xa},{useSetter:o(function(){hg=!0},"useSetter"),useSimple:o(function(){hg=!1},"useSimple")});Tc({target:"Object",stat:!0,forced:!xa,sham:!Ta},{create:pie,defineProperty:wc,defineProperties:qg,getOwnPropertyDescriptor:hR});Tc({target:"Object",stat:!0,forced:!xa},{getOwnPropertyNames:pR});oie();uie(pi,Ac);oR[vr]=!0});var bg=h((qir,mR)=>{"use strict";var vie=hn();mR.exports=vie&&!!Symbol.for&&!!Symbol.keyFor});var qR=h(()=>{"use strict";var gie=m(),mie=$(),yie=V(),qie=U(),yR=Dt(),bie=bg(),Sg=yR("string-to-symbol-registry"),Sie=yR("symbol-to-string-registry");gie({target:"Symbol",stat:!0,forced:!bie},{for:o(function(t){var e=qie(t);if(yie(Sg,e))return Sg[e];var r=mie("Symbol")(e);return Sg[e]=r,Sie[r]=e,r},"for")})});var SR=h(()=>{"use strict";var Eie=m(),Oie=V(),Tie=Nt(),xie=pn(),Iie=Dt(),Aie=bg(),bR=Iie("symbol-to-string-registry");Eie({target:"Symbol",stat:!0,forced:!Aie},{keyFor:o(function(e){if(!Tie(e))throw new TypeError(xie(e)+" is not a symbol");if(Oie(bR,e))return bR[e]},"keyFor")})});var Xe=h((Iir,xR)=>{"use strict";var wie=ya(),TR=Function.prototype,ER=TR.apply,OR=TR.call;xR.exports=typeof Reflect=="object"&&Reflect.apply||(wie?OR.bind(ER):function(){return OR.apply(ER,arguments)})});var Eg=h((Air,RR)=>{"use strict";var Rie=E(),IR=et(),Cie=H(),AR=$e(),Mie=U(),wR=Rie([].push);RR.exports=function(t){if(Cie(t))return t;if(IR(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];typeof i=="string"?wR(r,i):(typeof i=="number"||AR(i)==="Number"||AR(i)==="String")&&wR(r,Mie(i))}var a=r.length,s=!0;return function(u,l){if(s)return s=!1,l;if(IR(this))return l;for(var c=0;c<a;c++)if(r[c]===u)return l}}}});var Og=h(()=>{"use strict";var kie=m(),FR=$(),$R=Xe(),Pie=C(),vo=E(),BR=O(),CR=H(),MR=Nt(),_R=pr(),Nie=Eg(),Die=hn(),Lie=String,qn=FR("JSON","stringify"),Rc=vo(/./.exec),kR=vo("".charAt),Fie=vo("".charCodeAt),$ie=vo("".replace),Bie=vo(1 .toString),_ie=/[\uD800-\uDFFF]/g,PR=/^[\uD800-\uDBFF]$/,NR=/^[\uDC00-\uDFFF]$/,DR=!Die||BR(function(){var t=FR("Symbol")("stringify detection");return qn([t])!=="[null]"||qn({a:t})!=="{}"||qn(Object(t))!=="{}"}),LR=BR(function(){return qn("\uDF06\uD834")!=='"\\udf06\\ud834"'||qn("\uDEAD")!=='"\\udead"'}),jie=o(function(t,e){var r=_R(arguments),n=Nie(e);if(!(!CR(n)&&(t===void 0||MR(t))))return r[1]=function(i,a){if(CR(n)&&(a=Pie(n,this,Lie(i),a)),!MR(a))return a},$R(qn,null,r)},"stringifyWithSymbolsFix"),Uie=o(function(t,e,r){var n=kR(r,e-1),i=kR(r,e+1);return Rc(PR,t)&&!Rc(NR,i)||Rc(NR,t)&&!Rc(PR,n)?"\\u"+Bie(Fie(t,0),16):t},"fixIllFormed");qn&&kie({target:"JSON",stat:!0,arity:3,forced:DR||LR},{stringify:o(function(e,r,n){var i=_R(arguments),a=$R(DR?jie:qn,null,i);return LR&&typeof a=="string"?$ie(a,_ie,Uie):a},"stringify")})});var UR=h(()=>{"use strict";var zie=m(),Hie=hn(),Vie=O(),jR=oo(),Wie=J(),Kie=!Hie||Vie(function(){jR.f(1)});zie({target:"Object",stat:!0,forced:Kie},{getOwnPropertySymbols:o(function(e){var r=jR.f;return r?r(Wie(e)):[]},"getOwnPropertySymbols")})});var zR=h(()=>{"use strict";gR();qR();SR();Og();UR()});var YR=h(()=>{"use strict";var Gie=m(),Jie=D(),Yie=w(),Cc=E(),Xie=V(),Qie=H(),Zie=Be(),eae=U(),rae=fe(),tae=di(),Ft=Yie.Symbol,gi=Ft&&Ft.prototype;Jie&&Qie(Ft)&&(!("description"in gi)||Ft().description!==void 0)&&(Tg={},go=o(function(){var e=arguments.length<1||arguments[0]===void 0?void 0:eae(arguments[0]),r=Zie(gi,this)?new Ft(e):e===void 0?Ft():Ft(e);return e===""&&(Tg[r]=!0),r},"Symbol"),tae(go,Ft),go.prototype=gi,gi.constructor=go,HR=String(Ft("description detection"))==="Symbol(description detection)",VR=Cc(gi.valueOf),WR=Cc(gi.toString),KR=/^Symbol\((.*)\)[^)]+$/,GR=Cc("".replace),JR=Cc("".slice),rae(gi,"description",{configurable:!0,get:o(function(){var e=VR(this);if(Xie(Tg,e))return"";var r=WR(e),n=HR?JR(r,7,-1):GR(r,KR,"$1");return n===""?void 0:n},"description")}),Gie({global:!0,constructor:!0,forced:!0},{Symbol:go}));var Tg,go,HR,VR,WR,KR,GR,JR});var XR=h(()=>{"use strict";var nae=ge();nae("asyncIterator")});var QR=h(()=>{"use strict";var iae=ge();iae("hasInstance")});var ZR=h(()=>{"use strict";var aae=ge();aae("isConcatSpreadable")});var eC=h(()=>{"use strict";var sae=ge();sae("iterator")});var rC=h(()=>{"use strict";var oae=ge();oae("match")});var tC=h(()=>{"use strict";var uae=ge();uae("matchAll")});var nC=h(()=>{"use strict";var lae=ge();lae("replace")});var iC=h(()=>{"use strict";var cae=ge();cae("search")});var aC=h(()=>{"use strict";var fae=ge();fae("species")});var sC=h(()=>{"use strict";var dae=ge();dae("split")});var oC=h(()=>{"use strict";var hae=ge(),pae=sg();hae("toPrimitive");pae()});var uC=h(()=>{"use strict";var vae=$(),gae=ge(),mae=ir();gae("toStringTag");mae(vae("Symbol"),"Symbol")});var lC=h(()=>{"use strict";var yae=ge();yae("unscopables")});var mo=h((far,cC)=>{"use strict";var qae=E(),bae=B();cC.exports=function(t,e,r){try{return qae(bae(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(n){}}});var xg=h((dar,fC)=>{"use strict";var Sae=_();fC.exports=function(t){return Sae(t)||t===null}});var Ig=h((har,dC)=>{"use strict";var Eae=xg(),Oae=String,Tae=TypeError;dC.exports=function(t){if(Eae(t))return t;throw new Tae("Can't set "+Oae(t)+" as a prototype")}});var Cr=h((par,hC)=>{"use strict";var xae=mo(),Iae=_(),Aae=le(),wae=Ig();hC.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=xae(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch(n){}return o(function(i,a){return Aae(i),wae(a),Iae(i)&&(t?r(i,a):i.__proto__=a),i},"setPrototypeOf")}():void 0)});var Ag=h((mar,pC)=>{"use strict";var Rae=oe().f;pC.exports=function(t,e,r){r in t||Rae(t,r,{configurable:!0,get:o(function(){return e[r]},"get"),set:o(function(n){e[r]=n},"set")})}});var bn=h((qar,gC)=>{"use strict";var Cae=H(),Mae=_(),vC=Cr();gC.exports=function(t,e,r){var n,i;return vC&&Cae(n=e.constructor)&&n!==r&&Mae(i=n.prototype)&&i!==r.prototype&&vC(t,i),t}});var mi=h((bar,mC)=>{"use strict";var kae=U();mC.exports=function(t,e){return t===void 0?arguments.length<2?"":e:kae(t)}});var wg=h((Sar,yC)=>{"use strict";var Pae=_(),Nae=Ae();yC.exports=function(t,e){Pae(e)&&"cause"in e&&Nae(t,"cause",e.cause)}});var Mc=h((Ear,SC)=>{"use strict";var Dae=E(),qC=Error,Lae=Dae("".replace),Fae=function(t){return String(new qC(t).stack)}("zxcasd"),bC=/\n\s*at [^:]*:[^\n]*/,$ae=bC.test(Fae);SC.exports=function(t,e){if($ae&&typeof t=="string"&&!qC.prepareStackTrace)for(;e--;)t=Lae(t,bC,"");return t}});var Rg=h((Oar,EC)=>{"use strict";var Bae=O(),_ae=dr();EC.exports=!Bae(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",_ae(1,7)),t.stack!==7):!0})});var kc=h((Tar,TC)=>{"use strict";var jae=Ae(),Uae=Mc(),zae=Rg(),OC=Error.captureStackTrace;TC.exports=function(t,e,r,n){zae&&(OC?OC(t,e):jae(t,"stack",Uae(r,n)))}});var Cg=h((xar,MC)=>{"use strict";var xC=$(),Hae=V(),IC=Ae(),Vae=Be(),AC=Cr(),wC=di(),RC=Ag(),Wae=bn(),Kae=mi(),Gae=wg(),Jae=kc(),Yae=D(),CC=G();MC.exports=function(t,e,r,n){var i="stackTraceLimit",a=n?2:1,s=t.split("."),u=s[s.length-1],l=xC.apply(null,s);if(l){var c=l.prototype;if(!CC&&Hae(c,"cause")&&delete c.cause,!r)return l;var f=xC("Error"),d=e(function(p,v){var g=Kae(n?v:p,void 0),y=n?new l(p):new l;return g!==void 0&&IC(y,"message",g),Jae(y,d,y.stack,2),this&&Vae(c,this)&&Wae(y,this,d),arguments.length>a&&Gae(y,arguments[a]),y});if(d.prototype=c,u!=="Error"?AC?AC(d,f):wC(d,f,{name:!0}):Yae&&i in l&&(RC(d,l,i),RC(d,l,"prepareStackTrace")),wC(d,l),!CC)try{c.name!==u&&IC(c,"name",u),c.constructor=d}catch(p){}return d}}});var DC=h(()=>{"use strict";var PC=m(),Xae=w(),dt=Xe(),NC=Cg(),Mg="WebAssembly",kC=Xae[Mg],Pc=new Error("e",{cause:7}).cause!==7,yi=o(function(t,e){var r={};r[t]=NC(t,e,Pc),PC({global:!0,constructor:!0,arity:1,forced:Pc},r)},"exportGlobalErrorCauseWrapper"),kg=o(function(t,e){if(kC&&kC[t]){var r={};r[t]=NC(Mg+"."+t,e,Pc),PC({target:Mg,stat:!0,constructor:!0,arity:1,forced:Pc},r)}},"exportWebAssemblyErrorCauseWrapper");yi("Error",function(t){return o(function(r){return dt(t,this,arguments)},"Error")});yi("EvalError",function(t){return o(function(r){return dt(t,this,arguments)},"EvalError")});yi("RangeError",function(t){return o(function(r){return dt(t,this,arguments)},"RangeError")});yi("ReferenceError",function(t){return o(function(r){return dt(t,this,arguments)},"ReferenceError")});yi("SyntaxError",function(t){return o(function(r){return dt(t,this,arguments)},"SyntaxError")});yi("TypeError",function(t){return o(function(r){return dt(t,this,arguments)},"TypeError")});yi("URIError",function(t){return o(function(r){return dt(t,this,arguments)},"URIError")});kg("CompileError",function(t){return o(function(r){return dt(t,this,arguments)},"CompileError")});kg("LinkError",function(t){return o(function(r){return dt(t,this,arguments)},"LinkError")});kg("RuntimeError",function(t){return o(function(r){return dt(t,this,arguments)},"RuntimeError")})});var Pg=h((Rar,FC)=>{"use strict";var Qae=D(),Zae=O(),ese=R(),LC=mi(),Nc=Error.prototype.toString,rse=Zae(function(){if(Qae){var t=Object.create(Object.defineProperty({},"name",{get:o(function(){return this===t},"get")}));if(Nc.call(t)!=="true")return!0}return Nc.call({message:1,name:2})!=="2: 1"||Nc.call({})!=="Error"});FC.exports=rse?o(function(){var e=ese(this),r=LC(e.name,"Error"),n=LC(e.message);return r?n?r+": "+n:r:n},"toString"):Nc});var _C=h(()=>{"use strict";var tse=ie(),$C=Pg(),BC=Error.prototype;BC.toString!==$C&&tse(BC,"toString",$C)});var Dc=h((Par,jC)=>{"use strict";var nse=O();jC.exports=!nse(function(){function t(){}return o(t,"F"),t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var we=h((Dar,zC)=>{"use strict";var ise=V(),ase=H(),sse=J(),ose=io(),use=Dc(),UC=ose("IE_PROTO"),Ng=Object,lse=Ng.prototype;zC.exports=use?Ng.getPrototypeOf:function(t){var e=sse(t);if(ise(e,UC))return e[UC];var r=e.constructor;return ase(r)&&e instanceof r?r.prototype:e instanceof Ng?lse:null}});var qi=h((Lar,HC)=>{"use strict";HC.exports={}});var Lc=h((Far,VC)=>{"use strict";var cse=F(),fse=qi(),dse=cse("iterator"),hse=Array.prototype;VC.exports=function(t){return t!==void 0&&(fse.Array===t||hse[dse]===t)}});var ht=h(($ar,KC)=>{"use strict";var pse=nr(),WC=be(),vse=xe(),gse=qi(),mse=F(),yse=mse("iterator");KC.exports=function(t){if(!vse(t))return WC(t,yse)||WC(t,"@@iterator")||gse[pse(t)]}});var Sn=h((Bar,GC)=>{"use strict";var qse=C(),bse=B(),Sse=R(),Ese=pn(),Ose=ht(),Tse=TypeError;GC.exports=function(t,e){var r=arguments.length<2?Ose(t):e;if(bse(r))return Sse(qse(r,t));throw new Tse(Ese(t)+" is not iterable")}});var $t=h((_ar,YC)=>{"use strict";var xse=C(),JC=R(),Ise=be();YC.exports=function(t,e,r){var n,i;JC(t);try{if(n=Ise(t,"return"),!n){if(e==="throw")throw r;return r}n=xse(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return JC(n),r}});var me=h((jar,eM)=>{"use strict";var Ase=se(),wse=C(),Rse=R(),Cse=pn(),Mse=Lc(),kse=Q(),XC=Be(),Pse=Sn(),Nse=ht(),QC=$t(),Dse=TypeError,Fc=o(function(t,e){this.stopped=t,this.result=e},"Result"),ZC=Fc.prototype;eM.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),u=!!(r&&r.INTERRUPTED),l=Ase(e,n),c,f,d,p,v,g,y,q=o(function(S){return c&&QC(c,"normal",S),new Fc(!0,S)},"stop"),b=o(function(S){return i?(Rse(S),u?l(S[0],S[1],q):l(S[0],S[1])):u?l(S,q):l(S)},"callFn");if(a)c=t.iterator;else if(s)c=t;else{if(f=Nse(t),!f)throw new Dse(Cse(t)+" is not iterable");if(Mse(f)){for(d=0,p=kse(t);p>d;d++)if(v=b(t[d]),v&&XC(ZC,v))return v;return new Fc(!1)}c=Pse(t,f)}for(g=a?t.next:c.next;!(y=wse(g,c)).done;){try{v=b(y.value)}catch(S){QC(c,"throw",S)}if(typeof v=="object"&&v&&XC(ZC,v))return v}return new Fc(!1)}});var tM=h(()=>{"use strict";var Lse=m(),Fse=Be(),$se=we(),$c=Cr(),Bse=di(),rM=Se(),Dg=Ae(),Lg=dr(),_se=wg(),jse=kc(),Use=me(),zse=mi(),Hse=F(),Vse=Hse("toStringTag"),Bc=Error,Wse=[].push,Aa=o(function(e,r){var n=Fse(Fg,this),i;$c?i=$c(new Bc,n?$se(this):Fg):(i=n?this:rM(Fg),Dg(i,Vse,"Error")),r!==void 0&&Dg(i,"message",zse(r)),jse(i,Aa,i.stack,1),arguments.length>2&&_se(i,arguments[2]);var a=[];return Use(e,Wse,{that:a}),Dg(i,"errors",a),i},"AggregateError");$c?$c(Aa,Bc):Bse(Aa,Bc,{name:!0});var Fg=Aa.prototype=rM(Bc.prototype,{constructor:Lg(1,Aa),message:Lg(1,""),name:Lg(1,"AggregateError")});Lse({global:!0,constructor:!0,arity:2},{AggregateError:Aa})});var $g=h(()=>{"use strict";tM()});var sM=h(()=>{"use strict";var Kse=m(),Gse=$(),Jse=Xe(),nM=O(),Yse=Cg(),Bg="AggregateError",iM=Gse(Bg),aM=!nM(function(){return iM([1]).errors[0]!==1})&&nM(function(){return iM([1],Bg,{cause:7}).cause!==7});Kse({global:!0,constructor:!0,arity:2,forced:aM},{AggregateError:Yse(Bg,function(t){return o(function(r,n){return Jse(t,this,arguments)},"AggregateError")},aM,!0)})});var ye=h((Xar,oM)=>{"use strict";var Xse=F(),Qse=Se(),Zse=oe().f,_g=Xse("unscopables"),jg=Array.prototype;jg[_g]===void 0&&Zse(jg,_g,{configurable:!0,value:Qse(null)});oM.exports=function(t){jg[_g][t]=!0}});var Ug=h(()=>{"use strict";var eoe=m(),roe=J(),toe=Q(),noe=ce(),ioe=ye();eoe({target:"Array",proto:!0},{at:o(function(e){var r=roe(this),n=toe(r),i=noe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]},"at")});ioe("at")});var En=h((rsr,uM)=>{"use strict";var aoe=TypeError,soe=9007199254740991;uM.exports=function(t){if(t>soe)throw aoe("Maximum allowed index exceeded");return t}});var Mr=h((tsr,lM)=>{"use strict";var ooe=D(),uoe=oe(),loe=dr();lM.exports=function(t,e,r){ooe?uoe.f(t,e,loe(0,r)):t[e]=r}});var wa=h((nsr,cM)=>{"use strict";var coe=O(),foe=F(),doe=ct(),hoe=foe("species");cM.exports=function(t){return doe>=51||!coe(function(){var e=[],r=e.constructor={};return r[hoe]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var pM=h(()=>{"use strict";var poe=m(),voe=O(),goe=et(),moe=_(),yoe=J(),qoe=Q(),fM=En(),dM=Mr(),boe=Oa(),Soe=wa(),Eoe=F(),Ooe=ct(),hM=Eoe("isConcatSpreadable"),Toe=Ooe>=51||!voe(function(){var t=[];return t[hM]=!1,t.concat()[0]!==t}),xoe=o(function(t){if(!moe(t))return!1;var e=t[hM];return e!==void 0?!!e:goe(t)},"isConcatSpreadable"),Ioe=!Toe||!Soe("concat");poe({target:"Array",proto:!0,arity:1,forced:Ioe},{concat:o(function(e){var r=yoe(this),n=boe(r,0),i=0,a,s,u,l,c;for(a=-1,u=arguments.length;a<u;a++)if(c=a===-1?r:arguments[a],xoe(c))for(l=qoe(c),fM(i+l),s=0;s<l;s++,i++)s in c&&dM(n,i,c[s]);else fM(i+1),dM(n,i++,c);return n.length=i,n},"concat")})});var yo=h((osr,gM)=>{"use strict";var vM=pn(),Aoe=TypeError;gM.exports=function(t,e){if(!delete t[e])throw new Aoe("Cannot delete property "+vM(e)+" of "+vM(t))}});var Hg=h((usr,mM)=>{"use strict";var woe=J(),zg=Zr(),Roe=Q(),Coe=yo(),Moe=Math.min;mM.exports=[].copyWithin||o(function(e,r){var n=woe(this),i=Roe(n),a=zg(e,i),s=zg(r,i),u=arguments.length>2?arguments[2]:void 0,l=Moe((u===void 0?i:zg(u,i))-s,i-a),c=1;for(s<a&&a<s+l&&(c=-1,s+=l-1,a+=l-1);l-- >0;)s in n?n[a]=n[s]:Coe(n,a),a+=c,s+=c;return n},"copyWithin")});var yM=h(()=>{"use strict";var koe=m(),Poe=Hg(),Noe=ye();koe({target:"Array",proto:!0},{copyWithin:Poe});Noe("copyWithin")});var kr=h((dsr,qM)=>{"use strict";var Doe=O();qM.exports=function(t,e){var r=[][t];return!!r&&Doe(function(){r.call(null,e||function(){return 1},1)})}});var bM=h(()=>{"use strict";var Loe=m(),Foe=Ee().every,$oe=kr(),Boe=$oe("every");Loe({target:"Array",proto:!0,forced:!Boe},{every:o(function(e){return Foe(this,e,arguments.length>1?arguments[1]:void 0)},"every")})});var _c=h((gsr,EM)=>{"use strict";var _oe=J(),SM=Zr(),joe=Q();EM.exports=o(function(e){for(var r=_oe(this),n=joe(r),i=arguments.length,a=SM(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,u=s===void 0?n:SM(s,n);u>a;)r[a++]=e;return r},"fill")});var OM=h(()=>{"use strict";var Uoe=m(),zoe=_c(),Hoe=ye();Uoe({target:"Array",proto:!0},{fill:zoe});Hoe("fill")});var TM=h(()=>{"use strict";var Voe=m(),Woe=Ee().filter,Koe=wa(),Goe=Koe("filter");Voe({target:"Array",proto:!0,forced:!Goe},{filter:o(function(e){return Woe(this,e,arguments.length>1?arguments[1]:void 0)},"filter")})});var IM=h(()=>{"use strict";var Joe=m(),Yoe=Ee().find,Xoe=ye(),Vg="find",xM=!0;Vg in[]&&Array(1)[Vg](function(){xM=!1});Joe({target:"Array",proto:!0,forced:xM},{find:o(function(e){return Yoe(this,e,arguments.length>1?arguments[1]:void 0)},"find")});Xoe(Vg)});var wM=h(()=>{"use strict";var Qoe=m(),Zoe=Ee().findIndex,eue=ye(),Wg="findIndex",AM=!0;Wg in[]&&Array(1)[Wg](function(){AM=!1});Qoe({target:"Array",proto:!0,forced:AM},{findIndex:o(function(e){return Zoe(this,e,arguments.length>1?arguments[1]:void 0)},"findIndex")});eue(Wg)});var qo=h((Rsr,CM)=>{"use strict";var rue=se(),tue=Pt(),nue=J(),iue=Q(),RM=o(function(t){var e=t===1;return function(r,n,i){for(var a=nue(r),s=tue(a),u=iue(s),l=rue(n,i),c,f;u-- >0;)if(c=s[u],f=l(c,u,a),f)switch(t){case 0:return c;case 1:return u}return e?-1:void 0}},"createMethod");CM.exports={findLast:RM(0),findLastIndex:RM(1)}});var Kg=h(()=>{"use strict";var aue=m(),sue=qo().findLast,oue=ye();aue({target:"Array",proto:!0},{findLast:o(function(e){return sue(this,e,arguments.length>1?arguments[1]:void 0)},"findLast")});oue("findLast")});var Gg=h(()=>{"use strict";var uue=m(),lue=qo().findLastIndex,cue=ye();uue({target:"Array",proto:!0},{findLastIndex:o(function(e){return lue(this,e,arguments.length>1?arguments[1]:void 0)},"findLastIndex")});cue("findLastIndex")});var Jg=h((Fsr,kM)=>{"use strict";var fue=et(),due=Q(),hue=En(),pue=se(),MM=o(function(t,e,r,n,i,a,s,u){for(var l=i,c=0,f=s?pue(s,u):!1,d,p;c<n;)c in r&&(d=f?f(r[c],c,e):r[c],a>0&&fue(d)?(p=due(d),l=MM(t,e,d,p,l,a-1)-1):(hue(l+1),t[l]=d),l++),c++;return l},"flattenIntoArray");kM.exports=MM});var PM=h(()=>{"use strict";var vue=m(),gue=Jg(),mue=J(),yue=Q(),que=ce(),bue=Oa();vue({target:"Array",proto:!0},{flat:o(function(){var e=arguments.length?arguments[0]:void 0,r=mue(this),n=yue(r),i=bue(r,0);return i.length=gue(i,r,r,n,0,e===void 0?1:que(e)),i},"flat")})});var NM=h(()=>{"use strict";var Sue=m(),Eue=Jg(),Oue=B(),Tue=J(),xue=Q(),Iue=Oa();Sue({target:"Array",proto:!0},{flatMap:o(function(e){var r=Tue(this),n=xue(r),i;return Oue(e),i=Iue(r,0),i.length=Eue(i,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),i},"flatMap")})});var Yg=h((Vsr,DM)=>{"use strict";var Aue=Ee().forEach,wue=kr(),Rue=wue("forEach");DM.exports=Rue?[].forEach:o(function(e){return Aue(this,e,arguments.length>1?arguments[1]:void 0)},"forEach")});var FM=h(()=>{"use strict";var Cue=m(),LM=Yg();Cue({target:"Array",proto:!0,forced:[].forEach!==LM},{forEach:LM})});var jc=h((Jsr,$M)=>{"use strict";var Mue=R(),kue=$t();$M.exports=function(t,e,r,n){try{return n?e(Mue(r)[0],r[1]):e(r)}catch(i){kue(t,"throw",i)}}});var Xg=h((Ysr,jM)=>{"use strict";var Pue=se(),Nue=C(),Due=J(),Lue=jc(),Fue=Lc(),$ue=rt(),Bue=Q(),BM=Mr(),_ue=Sn(),jue=ht(),_M=Array;jM.exports=o(function(e){var r=Due(e),n=$ue(this),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0;s&&(a=Pue(a,i>2?arguments[2]:void 0));var u=jue(r),l=0,c,f,d,p,v,g;if(u&&!(this===_M&&Fue(u)))for(f=n?new this:[],p=_ue(r,u),v=p.next;!(d=Nue(v,p)).done;l++)g=s?Lue(p,a,[d.value,l],!0):d.value,BM(f,l,g);else for(c=Bue(r),f=n?new this(c):_M(c);c>l;l++)g=s?a(r[l],l):r[l],BM(f,l,g);return f.length=l,f},"from")});var bo=h((Qsr,VM)=>{"use strict";var Uue=F(),zM=Uue("iterator"),HM=!1;try{UM=0,Qg={next:o(function(){return{done:!!UM++}},"next"),return:o(function(){HM=!0},"return")},Qg[zM]=function(){return this},Array.from(Qg,function(){throw 2})}catch(t){}var UM,Qg;VM.exports=function(t,e){try{if(!e&&!HM)return!1}catch(i){return!1}var r=!1;try{var n={};n[zM]=function(){return{next:o(function(){return{done:r=!0}},"next")}},t(n)}catch(i){}return r}});var WM=h(()=>{"use strict";var zue=m(),Hue=Xg(),Vue=bo(),Wue=!Vue(function(t){Array.from(t)});zue({target:"Array",stat:!0,forced:Wue},{from:Hue})});var KM=h(()=>{"use strict";var Kue=m(),Gue=Sa().includes,Jue=O(),Yue=ye(),Xue=Jue(function(){return!Array(1).includes()});Kue({target:"Array",proto:!0,forced:Xue},{includes:o(function(e){return Gue(this,e,arguments.length>1?arguments[1]:void 0)},"includes")});Yue("includes")});var JM=h(()=>{"use strict";var Que=m(),Zue=mn(),ele=Sa().indexOf,rle=kr(),Zg=Zue([].indexOf),GM=!!Zg&&1/Zg([1],1,-0)<0,tle=GM||!rle("indexOf");Que({target:"Array",proto:!0,forced:tle},{indexOf:o(function(e){var r=arguments.length>1?arguments[1]:void 0;return GM?Zg(this,e,r)||0:ele(this,e,r)},"indexOf")})});var YM=h(()=>{"use strict";var nle=m(),ile=et();nle({target:"Array",stat:!0},{isArray:ile})});var bi=h((cor,ZM)=>{"use strict";var ale=O(),sle=H(),ole=_(),ule=Se(),XM=we(),lle=ie(),cle=F(),fle=G(),tm=cle("iterator"),QM=!1,Bt,em,rm;[].keys&&(rm=[].keys(),"next"in rm?(em=XM(XM(rm)),em!==Object.prototype&&(Bt=em)):QM=!0);var dle=!ole(Bt)||ale(function(){var t={};return Bt[tm].call(t)!==t});dle?Bt={}:fle&&(Bt=ule(Bt));sle(Bt[tm])||lle(Bt,tm,function(){return this});ZM.exports={IteratorPrototype:Bt,BUGGY_SAFARI_ITERATORS:QM}});var On=h((dor,ek)=>{"use strict";var hle=bi().IteratorPrototype,ple=Se(),vle=dr(),gle=ir(),mle=qi(),yle=o(function(){return this},"returnThis");ek.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=ple(hle,{next:vle(+!n,r)}),gle(t,i,!1,!0),mle[i]=yle,t}});var Hc=h((por,ck)=>{"use strict";var qle=m(),ble=C(),Uc=G(),uk=ci(),Sle=H(),Ele=On(),rk=we(),tk=Cr(),Ole=ir(),Tle=Ae(),nm=ie(),xle=F(),nk=qi(),lk=bi(),Ile=uk.PROPER,Ale=uk.CONFIGURABLE,ik=lk.IteratorPrototype,zc=lk.BUGGY_SAFARI_ITERATORS,So=xle("iterator"),ak="keys",Eo="values",sk="entries",ok=o(function(){return this},"returnThis");ck.exports=function(t,e,r,n,i,a,s){Ele(r,e,n);var u=o(function(b){if(b===i&&p)return p;if(!zc&&b&&b in f)return f[b];switch(b){case ak:return o(function(){return new r(this,b)},"keys");case Eo:return o(function(){return new r(this,b)},"values");case sk:return o(function(){return new r(this,b)},"entries")}return function(){return new r(this)}},"getIterationMethod"),l=e+" Iterator",c=!1,f=t.prototype,d=f[So]||f["@@iterator"]||i&&f[i],p=!zc&&d||u(i),v=e==="Array"&&f.entries||d,g,y,q;if(v&&(g=rk(v.call(new t)),g!==Object.prototype&&g.next&&(!Uc&&rk(g)!==ik&&(tk?tk(g,ik):Sle(g[So])||nm(g,So,ok)),Ole(g,l,!0,!0),Uc&&(nk[l]=ok))),Ile&&i===Eo&&d&&d.name!==Eo&&(!Uc&&Ale?Tle(f,"name",Eo):(c=!0,p=o(function(){return ble(d,this)},"values"))),i)if(y={values:u(Eo),keys:a?p:u(ak),entries:u(sk)},s)for(q in y)(zc||c||!(q in f))&&nm(f,q,y[q]);else qle({target:e,proto:!0,forced:zc||c},y);return(!Uc||s)&&f[So]!==p&&nm(f,So,p,{name:i}),nk[e]=p,y}});var Me=h((gor,fk)=>{"use strict";fk.exports=function(t,e){return{value:t,done:e}}});var Oo=h((mor,gk)=>{"use strict";var wle=Ie(),im=ye(),dk=qi(),pk=te(),Rle=oe().f,Cle=Hc(),Vc=Me(),Mle=G(),kle=D(),vk="Array Iterator",Ple=pk.set,Nle=pk.getterFor(vk);gk.exports=Cle(Array,"Array",function(t,e){Ple(this,{type:vk,target:wle(t),index:0,kind:e})},function(){var t=Nle(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,Vc(void 0,!0);switch(t.kind){case"keys":return Vc(r,!1);case"values":return Vc(e[r],!1)}return Vc([r,e[r]],!1)},"values");var hk=dk.Arguments=dk.Array;im("keys");im("values");im("entries");if(!Mle&&kle&&hk.name!=="values")try{Rle(hk,"name",{value:"values"})}catch(t){}});var mk=h(()=>{"use strict";var Dle=m(),Lle=E(),Fle=Pt(),$le=Ie(),Ble=kr(),_le=Lle([].join),jle=Fle!==Object,Ule=jle||!Ble("join",",");Dle({target:"Array",proto:!0,forced:Ule},{join:o(function(e){return _le($le(this),e===void 0?",":e)},"join")})});var sm=h((Sor,qk)=>{"use strict";var zle=Xe(),Hle=Ie(),Vle=ce(),Wle=Q(),Kle=kr(),Gle=Math.min,am=[].lastIndexOf,yk=!!am&&1/[1].lastIndexOf(1,-0)<0,Jle=Kle("lastIndexOf"),Yle=yk||!Jle;qk.exports=Yle?o(function(e){if(yk)return zle(am,this,arguments)||0;var r=Hle(this),n=Wle(r);if(n===0)return-1;var i=n-1;for(arguments.length>1&&(i=Gle(i,Vle(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===e)return i||0;return-1},"lastIndexOf"):am});var Sk=h(()=>{"use strict";var Xle=m(),bk=sm();Xle({target:"Array",proto:!0,forced:bk!==[].lastIndexOf},{lastIndexOf:bk})});var Ek=h(()=>{"use strict";var Qle=m(),Zle=Ee().map,ece=wa(),rce=ece("map");Qle({target:"Array",proto:!0,forced:!rce},{map:o(function(e){return Zle(this,e,arguments.length>1?arguments[1]:void 0)},"map")})});var Tk=h(()=>{"use strict";var tce=m(),nce=O(),ice=rt(),ace=Mr(),Ok=Array,sce=nce(function(){function t(){}return o(t,"F"),!(Ok.of.call(t)instanceof t)});tce({target:"Array",stat:!0,forced:sce},{of:o(function(){for(var e=0,r=arguments.length,n=new(ice(this)?this:Ok)(r);r>e;)ace(n,e,arguments[e++]);return n.length=r,n},"of")})});var Wc=h((Mor,xk)=>{"use strict";var oce=D(),uce=et(),lce=TypeError,cce=Object.getOwnPropertyDescriptor,fce=oce&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();xk.exports=fce?function(t,e){if(uce(t)&&!cce(t,"length").writable)throw new lce("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}});var Ik=h(()=>{"use strict";var dce=m(),hce=J(),pce=Q(),vce=Wc(),gce=En(),mce=O(),yce=mce(function(){return[].push.call({length:4294967296},1)!==4294967297}),qce=o(function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},"properErrorOnNonWritableLength"),bce=yce||!qce();dce({target:"Array",proto:!0,arity:1,forced:bce},{push:o(function(e){var r=hce(this),n=pce(r),i=arguments.length;gce(n+i);for(var a=0;a<i;a++)r[n]=arguments[a],n++;return vce(r,n),n},"push")})});var To=h((Dor,Ck)=>{"use strict";var Sce=B(),Ece=J(),Oce=Pt(),Tce=Q(),Ak=TypeError,wk="Reduce of empty array with no initial value",Rk=o(function(t){return function(e,r,n,i){var a=Ece(e),s=Oce(a),u=Tce(a);if(Sce(r),u===0&&n<2)throw new Ak(wk);var l=t?u-1:0,c=t?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,t?l<0:u<=l)throw new Ak(wk)}for(;t?l>=0:u>l;l+=c)l in s&&(i=r(i,s[l],l,a));return i}},"createMethod");Ck.exports={left:Rk(!1),right:Rk(!0)}});var Io=h((For,Mk)=>{"use strict";var xo=w(),xce=Yr(),Ice=$e(),Kc=o(function(t){return xce.slice(0,t.length)===t},"userAgentStartsWith");Mk.exports=function(){return Kc("Bun/")?"BUN":Kc("Cloudflare-Workers")?"CLOUDFLARE":Kc("Deno/")?"DENO":Kc("Node.js/")?"NODE":xo.Bun&&typeof Bun.version=="string"?"BUN":xo.Deno&&typeof Deno.version=="object"?"DENO":Ice(xo.process)==="process"?"NODE":xo.window&&xo.document?"BROWSER":"REST"}()});var Si=h((Bor,kk)=>{"use strict";var Ace=Io();kk.exports=Ace==="NODE"});var Nk=h(()=>{"use strict";var wce=m(),Rce=To().left,Cce=kr(),Pk=ct(),Mce=Si(),kce=!Mce&&Pk>79&&Pk<83,Pce=kce||!Cce("reduce");wce({target:"Array",proto:!0,forced:Pce},{reduce:o(function(e){var r=arguments.length;return Rce(this,e,r,r>1?arguments[1]:void 0)},"reduce")})});var Lk=h(()=>{"use strict";var Nce=m(),Dce=To().right,Lce=kr(),Dk=ct(),Fce=Si(),$ce=!Fce&&Dk>79&&Dk<83,Bce=$ce||!Lce("reduceRight");Nce({target:"Array",proto:!0,forced:Bce},{reduceRight:o(function(e){return Dce(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)},"reduceRight")})});var $k=h(()=>{"use strict";var _ce=m(),jce=E(),Uce=et(),zce=jce([].reverse),Fk=[1,2];_ce({target:"Array",proto:!0,forced:String(Fk)===String(Fk.reverse())},{reverse:o(function(){return Uce(this)&&(this.length=this.length),zce(this)},"reverse")})});var jk=h(()=>{"use strict";var Hce=m(),Bk=et(),Vce=rt(),Wce=_(),_k=Zr(),Kce=Q(),Gce=Ie(),Jce=Mr(),Yce=F(),Xce=wa(),Qce=pr(),Zce=Xce("slice"),efe=Yce("species"),om=Array,rfe=Math.max;Hce({target:"Array",proto:!0,forced:!Zce},{slice:o(function(e,r){var n=Gce(this),i=Kce(n),a=_k(e,i),s=_k(r===void 0?i:r,i),u,l,c;if(Bk(n)&&(u=n.constructor,Vce(u)&&(u===om||Bk(u.prototype))?u=void 0:Wce(u)&&(u=u[efe],u===null&&(u=void 0)),u===om||u===void 0))return Qce(n,a,s);for(l=new(u===void 0?om:u)(rfe(s-a,0)),c=0;a<s;a++,c++)a in n&&Jce(l,c,n[a]);return l.length=c,l},"slice")})});var Uk=h(()=>{"use strict";var tfe=m(),nfe=Ee().some,ife=kr(),afe=ife("some");tfe({target:"Array",proto:!0,forced:!afe},{some:o(function(e){return nfe(this,e,arguments.length>1?arguments[1]:void 0)},"some")})});var Gc=h((rur,Hk)=>{"use strict";var zk=pr(),sfe=Math.floor,um=o(function(t,e){var r=t.length;if(r<8)for(var n=1,i,a;n<r;){for(a=n,i=t[n];a&&e(t[a-1],i)>0;)t[a]=t[--a];a!==n++&&(t[a]=i)}else for(var s=sfe(r/2),u=um(zk(t,0,s),e),l=um(zk(t,s),e),c=u.length,f=l.length,d=0,p=0;d<c||p<f;)t[d+p]=d<c&&p<f?e(u[d],l[p])<=0?u[d++]:l[p++]:d<c?u[d++]:l[p++];return t},"sort");Hk.exports=um});var lm=h((nur,Wk)=>{"use strict";var ofe=Yr(),Vk=ofe.match(/firefox\/(\d+)/i);Wk.exports=!!Vk&&+Vk[1]});var cm=h((iur,Kk)=>{"use strict";var ufe=Yr();Kk.exports=/MSIE|Trident/.test(ufe)});var Jc=h((aur,Jk)=>{"use strict";var lfe=Yr(),Gk=lfe.match(/AppleWebKit\/(\d+)\./);Jk.exports=!!Gk&&+Gk[1]});var iP=h(()=>{"use strict";var cfe=m(),tP=E(),ffe=B(),dfe=J(),Yk=Q(),hfe=yo(),Xk=U(),fm=O(),pfe=Gc(),vfe=kr(),Qk=lm(),gfe=cm(),Zk=ct(),eP=Jc(),Tn=[],rP=tP(Tn.sort),mfe=tP(Tn.push),yfe=fm(function(){Tn.sort(void 0)}),qfe=fm(function(){Tn.sort(null)}),bfe=vfe("sort"),nP=!fm(function(){if(Zk)return Zk<70;if(!(Qk&&Qk>3)){if(gfe)return!0;if(eP)return eP<603;var t="",e,r,n,i;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Tn.push({k:r+i,v:n})}for(Tn.sort(function(a,s){return s.v-a.v}),i=0;i<Tn.length;i++)r=Tn[i].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),Sfe=yfe||!qfe||!bfe||!nP,Efe=o(function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:Xk(e)>Xk(r)?1:-1}},"getSortCompare");cfe({target:"Array",proto:!0,forced:Sfe},{sort:o(function(e){e!==void 0&&ffe(e);var r=dfe(this);if(nP)return e===void 0?rP(r):rP(r,e);var n=[],i=Yk(r),a,s;for(s=0;s<i;s++)s in r&&mfe(n,r[s]);for(pfe(n,Efe(e)),a=Yk(n),s=0;s<a;)r[s]=n[s++];for(;s<i;)hfe(r,s++);return r},"sort")})});var xn=h((lur,sP)=>{"use strict";var Ofe=$(),Tfe=fe(),xfe=F(),Ife=D(),aP=xfe("species");sP.exports=function(t){var e=Ofe(t);Ife&&e&&!e[aP]&&Tfe(e,aP,{configurable:!0,get:o(function(){return this},"get")})}});var oP=h(()=>{"use strict";var Afe=xn();Afe("Array")});var uP=h(()=>{"use strict";var wfe=m(),Rfe=J(),Cfe=Zr(),Mfe=ce(),kfe=Q(),Pfe=Wc(),Nfe=En(),Dfe=Oa(),Lfe=Mr(),dm=yo(),Ffe=wa(),$fe=Ffe("splice"),Bfe=Math.max,_fe=Math.min;wfe({target:"Array",proto:!0,forced:!$fe},{splice:o(function(e,r){var n=Rfe(this),i=kfe(n),a=Cfe(e,i),s=arguments.length,u,l,c,f,d,p;for(s===0?u=l=0:s===1?(u=0,l=i-a):(u=s-2,l=_fe(Bfe(Mfe(r),0),i-a)),Nfe(i+u-l),c=Dfe(n,l),f=0;f<l;f++)d=a+f,d in n&&Lfe(c,f,n[d]);if(c.length=l,u<l){for(f=a;f<i-l;f++)d=f+l,p=f+u,d in n?n[p]=n[d]:dm(n,p);for(f=i;f>i-l+u;f--)dm(n,f-1)}else if(u>l)for(f=i-l;f>a;f--)d=f+l-1,p=f+u-1,d in n?n[p]=n[d]:dm(n,p);for(f=0;f<u;f++)n[f+a]=arguments[f+2];return Pfe(n,i-l+u),c},"splice")})});var hm=h((gur,lP)=>{"use strict";var jfe=Q();lP.exports=function(t,e){for(var r=jfe(t),n=new e(r),i=0;i<r;i++)n[i]=t[r-i-1];return n}});var pm=h(()=>{"use strict";var Ufe=m(),zfe=hm(),Hfe=Ie(),Vfe=ye(),Wfe=Array;Ufe({target:"Array",proto:!0},{toReversed:o(function(){return zfe(Hfe(this),Wfe)},"toReversed")});Vfe("toReversed")});var _t=h((bur,cP)=>{"use strict";var Kfe=Q();cP.exports=function(t,e,r){for(var n=0,i=arguments.length>2?r:Kfe(e),a=new t(i);i>n;)a[n]=e[n++];return a}});var vm=h((Sur,fP)=>{"use strict";var Gfe=w();fP.exports=function(t,e){var r=Gfe[t],n=r&&r.prototype;return n&&n[e]}});var gm=h(()=>{"use strict";var Jfe=m(),Yfe=E(),Xfe=B(),Qfe=Ie(),Zfe=_t(),ede=vm(),rde=ye(),tde=Array,nde=Yfe(ede("Array","sort"));Jfe({target:"Array",proto:!0},{toSorted:o(function(e){e!==void 0&&Xfe(e);var r=Qfe(this),n=Zfe(tde,r);return nde(n,e)},"toSorted")});rde("toSorted")});var mm=h(()=>{"use strict";var ide=m(),ade=ye(),sde=En(),ode=Q(),ude=Zr(),lde=Ie(),cde=ce(),fde=Array,dde=Math.max,hde=Math.min;ide({target:"Array",proto:!0},{toSpliced:o(function(e,r){var n=lde(this),i=ode(n),a=ude(e,i),s=arguments.length,u=0,l,c,f,d;for(s===0?l=c=0:s===1?(l=0,c=i-a):(l=s-2,c=hde(dde(cde(r),0),i-a)),f=sde(i+l-c),d=fde(f);u<a;u++)d[u]=n[u];for(;u<a+l;u++)d[u]=arguments[u-a+2];for(;u<f;u++)d[u]=n[u+c-l];return d},"toSpliced")});ade("toSpliced")});var dP=h(()=>{"use strict";var pde=ye();pde("flat")});var hP=h(()=>{"use strict";var vde=ye();vde("flatMap")});var pP=h(()=>{"use strict";var gde=m(),mde=J(),yde=Q(),qde=Wc(),bde=yo(),Sde=En(),Ede=[].unshift(0)!==1,Ode=o(function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},"properErrorOnNonWritableLength"),Tde=Ede||!Ode();gde({target:"Array",proto:!0,arity:1,forced:Tde},{unshift:o(function(e){var r=mde(this),n=yde(r),i=arguments.length;if(i){Sde(n+i);for(var a=n;a--;){var s=a+i;a in r?r[s]=r[a]:bde(r,s)}for(var u=0;u<i;u++)r[u]=arguments[u]}return qde(r,n+i)},"unshift")})});var ym=h((Dur,vP)=>{"use strict";var xde=Q(),Ide=ce(),Ade=RangeError;vP.exports=function(t,e,r,n){var i=xde(t),a=Ide(r),s=a<0?i+a:a;if(s>=i||s<0)throw new Ade("Incorrect index");for(var u=new e(i),l=0;l<i;l++)u[l]=l===s?n:t[l];return u}});var qm=h(()=>{"use strict";var wde=m(),Rde=ym(),Cde=Ie(),Mde=Array;wde({target:"Array",proto:!0},{with:o(function(t,e){return Rde(Cde(this),Mde,t,e)},"with")})});var Ao=h((Bur,gP)=>{"use strict";gP.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"});var Pr=h((_ur,mP)=>{"use strict";var kde=ie();mP.exports=function(t,e,r){for(var n in e)kde(t,n,e[n],r);return t}});var Qe=h((jur,yP)=>{"use strict";var Pde=Be(),Nde=TypeError;yP.exports=function(t,e){if(Pde(e,t))return t;throw new Nde("Incorrect invocation")}});var Ra=h((Uur,qP)=>{"use strict";var Dde=ce(),Lde=hr(),Fde=RangeError;qP.exports=function(t){if(t===void 0)return 0;var e=Dde(t),r=Lde(e);if(e!==r)throw new Fde("Wrong length or index");return r}});var Yc=h((zur,bP)=>{"use strict";bP.exports=Math.sign||o(function(e){var r=+e;return r===0||r!==r?r:r<0?-1:1},"sign")});var bm=h((Vur,EP)=>{"use strict";var $de=2220446049250313e-31,SP=1/$de;EP.exports=function(t){return t+SP-SP}});var Sm=h((Wur,OP)=>{"use strict";var Bde=Yc(),_de=bm(),jde=Math.abs,Ude=2220446049250313e-31;OP.exports=function(t,e,r,n){var i=+t,a=jde(i),s=Bde(i);if(a<n)return s*_de(a/n/e)*n*e;var u=(1+e/Ude)*a,l=u-(u-a);return l>r||l!==l?s*(1/0):s*l}});var Xc=h((Kur,TP)=>{"use strict";var zde=Sm(),Hde=11920928955078125e-23,Vde=34028234663852886e22,Wde=11754943508222875e-54;TP.exports=Math.fround||o(function(e){return zde(e,Hde,Vde,Wde)},"fround")});var IP=h((Jur,xP)=>{"use strict";var Kde=Array,Gde=Math.abs,jt=Math.pow,Jde=Math.floor,Yde=Math.log,Xde=Math.LN2,Qde=o(function(t,e,r){var n=Kde(r),i=r*8-e-1,a=(1<<i)-1,s=a>>1,u=e===23?jt(2,-24)-jt(2,-77):0,l=t<0||t===0&&1/t<0?1:0,c=0,f,d,p;for(t=Gde(t),t!==t||t===1/0?(d=t!==t?1:0,f=a):(f=Jde(Yde(t)/Xde),p=jt(2,-f),t*p<1&&(f--,p*=2),f+s>=1?t+=u/p:t+=u*jt(2,1-s),t*p>=2&&(f++,p/=2),f+s>=a?(d=0,f=a):f+s>=1?(d=(t*p-1)*jt(2,e),f+=s):(d=t*jt(2,s-1)*jt(2,e),f=0));e>=8;)n[c++]=d&255,d/=256,e-=8;for(f=f<<e|d,i+=e;i>0;)n[c++]=f&255,f/=256,i-=8;return n[c-1]|=l*128,n},"pack"),Zde=o(function(t,e){var r=t.length,n=r*8-e-1,i=(1<<n)-1,a=i>>1,s=n-7,u=r-1,l=t[u--],c=l&127,f;for(l>>=7;s>0;)c=c*256+t[u--],s-=8;for(f=c&(1<<-s)-1,c>>=-s,s+=e;s>0;)f=f*256+t[u--],s-=8;if(c===0)c=1-a;else{if(c===i)return f?NaN:l?-1/0:1/0;f+=jt(2,e),c-=a}return(l?-1:1)*f*jt(2,c-e)},"unpack");xP.exports={pack:Qde,unpack:Zde}});var Co=h((Xur,zP)=>{"use strict";var tf=w(),Im=E(),Em=D(),ehe=Ao(),$P=ci(),rhe=Ae(),the=fe(),AP=Pr(),Om=O(),Qc=Qe(),nhe=ce(),ihe=hr(),ef=Ra(),ahe=Xc(),BP=IP(),she=we(),wP=Cr(),ohe=_c(),uhe=pr(),lhe=bn(),che=di(),_P=ir(),Am=te(),fhe=$P.PROPER,RP=$P.CONFIGURABLE,Ma="ArrayBuffer",nf="DataView",ka="prototype",dhe="Wrong length",jP="Wrong index",CP=Am.getterFor(Ma),Ro=Am.getterFor(nf),MP=Am.set,tt=tf[Ma],Tr=tt,Ca=Tr&&Tr[ka],pt=tf[nf],Ei=pt&&pt[ka],kP=Object.prototype,hhe=tf.Array,rf=tf.RangeError,phe=Im(ohe),vhe=Im([].reverse),UP=BP.pack,PP=BP.unpack,NP=o(function(t){return[t&255]},"packInt8"),DP=o(function(t){return[t&255,t>>8&255]},"packInt16"),LP=o(function(t){return[t&255,t>>8&255,t>>16&255,t>>24&255]},"packInt32"),FP=o(function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},"unpackInt32"),ghe=o(function(t){return UP(ahe(t),23,4)},"packFloat32"),mhe=o(function(t){return UP(t,52,8)},"packFloat64"),Zc=o(function(t,e,r){the(t[ka],e,{configurable:!0,get:o(function(){return r(this)[e]},"get")})},"addGetter"),In=o(function(t,e,r,n){var i=Ro(t),a=ef(r),s=!!n;if(a+e>i.byteLength)throw new rf(jP);var u=i.bytes,l=a+i.byteOffset,c=uhe(u,l,l+e);return s?c:vhe(c)},"get"),An=o(function(t,e,r,n,i,a){var s=Ro(t),u=ef(r),l=n(+i),c=!!a;if(u+e>s.byteLength)throw new rf(jP);for(var f=s.bytes,d=u+s.byteOffset,p=0;p<e;p++)f[d+p]=l[c?p:e-p-1]},"set");ehe?(Tm=fhe&&tt.name!==Ma,!Om(function(){tt(1)})||!Om(function(){new tt(-1)})||Om(function(){return new tt,new tt(1.5),new tt(NaN),tt.length!==1||Tm&&!RP})?(Tr=o(function(e){return Qc(this,Ca),lhe(new tt(ef(e)),this,Tr)},"ArrayBuffer"),Tr[ka]=Ca,Ca.constructor=Tr,che(Tr,tt)):Tm&&RP&&rhe(tt,"name",Ma),wP&&she(Ei)!==kP&&wP(Ei,kP),wo=new pt(new Tr(2)),xm=Im(Ei.setInt8),wo.setInt8(0,2147483648),wo.setInt8(1,2147483649),(wo.getInt8(0)||!wo.getInt8(1))&&AP(Ei,{setInt8:o(function(e,r){xm(this,e,r<<24>>24)},"setInt8"),setUint8:o(function(e,r){xm(this,e,r<<24>>24)},"setUint8")},{unsafe:!0})):(Tr=o(function(e){Qc(this,Ca);var r=ef(e);MP(this,{type:Ma,bytes:phe(hhe(r),0),byteLength:r}),Em||(this.byteLength=r,this.detached=!1)},"ArrayBuffer"),Ca=Tr[ka],pt=o(function(e,r,n){Qc(this,Ei),Qc(e,Ca);var i=CP(e),a=i.byteLength,s=nhe(r);if(s<0||s>a)throw new rf("Wrong offset");if(n=n===void 0?a-s:ihe(n),s+n>a)throw new rf(dhe);MP(this,{type:nf,buffer:e,byteLength:n,byteOffset:s,bytes:i.bytes}),Em||(this.buffer=e,this.byteLength=n,this.byteOffset=s)},"DataView"),Ei=pt[ka],Em&&(Zc(Tr,"byteLength",CP),Zc(pt,"buffer",Ro),Zc(pt,"byteLength",Ro),Zc(pt,"byteOffset",Ro)),AP(Ei,{getInt8:o(function(e){return In(this,1,e)[0]<<24>>24},"getInt8"),getUint8:o(function(e){return In(this,1,e)[0]},"getUint8"),getInt16:o(function(e){var r=In(this,2,e,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},"getInt16"),getUint16:o(function(e){var r=In(this,2,e,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},"getUint16"),getInt32:o(function(e){return FP(In(this,4,e,arguments.length>1?arguments[1]:!1))},"getInt32"),getUint32:o(function(e){return FP(In(this,4,e,arguments.length>1?arguments[1]:!1))>>>0},"getUint32"),getFloat32:o(function(e){return PP(In(this,4,e,arguments.length>1?arguments[1]:!1),23)},"getFloat32"),getFloat64:o(function(e){return PP(In(this,8,e,arguments.length>1?arguments[1]:!1),52)},"getFloat64"),setInt8:o(function(e,r){An(this,1,e,NP,r)},"setInt8"),setUint8:o(function(e,r){An(this,1,e,NP,r)},"setUint8"),setInt16:o(function(e,r){An(this,2,e,DP,r,arguments.length>2?arguments[2]:!1)},"setInt16"),setUint16:o(function(e,r){An(this,2,e,DP,r,arguments.length>2?arguments[2]:!1)},"setUint16"),setInt32:o(function(e,r){An(this,4,e,LP,r,arguments.length>2?arguments[2]:!1)},"setInt32"),setUint32:o(function(e,r){An(this,4,e,LP,r,arguments.length>2?arguments[2]:!1)},"setUint32"),setFloat32:o(function(e,r){An(this,4,e,ghe,r,arguments.length>2?arguments[2]:!1)},"setFloat32"),setFloat64:o(function(e,r){An(this,8,e,mhe,r,arguments.length>2?arguments[2]:!1)},"setFloat64")}));var Tm,wo,xm;_P(Tr,Ma);_P(pt,nf);zP.exports={ArrayBuffer:Tr,DataView:pt}});var VP=h(()=>{"use strict";var yhe=m(),qhe=w(),bhe=Co(),She=xn(),wm="ArrayBuffer",HP=bhe[wm],Ehe=qhe[wm];yhe({global:!0,constructor:!0,forced:Ehe!==HP},{ArrayBuffer:HP});She(wm)});var W=h((rlr,rN)=>{"use strict";var Ohe=Ao(),km=D(),ar=w(),JP=H(),of=_(),Rn=V(),Pm=nr(),The=pn(),xhe=Ae(),Rm=ie(),Ihe=fe(),Ahe=Be(),uf=we(),Na=Cr(),whe=F(),Rhe=vn(),YP=te(),XP=YP.enforce,Che=YP.get,af=ar.Int8Array,Cm=af&&af.prototype,WP=ar.Uint8ClampedArray,KP=WP&&WP.prototype,vt=af&&uf(af),nt=Cm&&uf(Cm),Mhe=Object.prototype,Nm=ar.TypeError,GP=whe("toStringTag"),Mm=Rhe("TYPED_ARRAY_TAG"),sf="TypedArrayConstructor",Ut=Ohe&&!!Na&&Pm(ar.opera)!=="Opera",QP=!1,gr,wn,Pa,zt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Dm={BigInt64Array:8,BigUint64Array:8},khe=o(function(e){if(!of(e))return!1;var r=Pm(e);return r==="DataView"||Rn(zt,r)||Rn(Dm,r)},"isView"),ZP=o(function(t){var e=uf(t);if(of(e)){var r=Che(e);return r&&Rn(r,sf)?r[sf]:ZP(e)}},"getTypedArrayConstructor"),eN=o(function(t){if(!of(t))return!1;var e=Pm(t);return Rn(zt,e)||Rn(Dm,e)},"isTypedArray"),Phe=o(function(t){if(eN(t))return t;throw new Nm("Target is not a typed array")},"aTypedArray"),Nhe=o(function(t){if(JP(t)&&(!Na||Ahe(vt,t)))return t;throw new Nm(The(t)+" is not a typed array constructor")},"aTypedArrayConstructor"),Dhe=o(function(t,e,r,n){if(km){if(r)for(var i in zt){var a=ar[i];if(a&&Rn(a.prototype,t))try{delete a.prototype[t]}catch(s){try{a.prototype[t]=e}catch(u){}}}(!nt[t]||r)&&Rm(nt,t,r?e:Ut&&Cm[t]||e,n)}},"exportTypedArrayMethod"),Lhe=o(function(t,e,r){var n,i;if(km){if(Na){if(r){for(n in zt)if(i=ar[n],i&&Rn(i,t))try{delete i[t]}catch(a){}}if(!vt[t]||r)try{return Rm(vt,t,r?e:Ut&&vt[t]||e)}catch(a){}else return}for(n in zt)i=ar[n],i&&(!i[t]||r)&&Rm(i,t,e)}},"exportTypedArrayStaticMethod");for(gr in zt)wn=ar[gr],Pa=wn&&wn.prototype,Pa?XP(Pa)[sf]=wn:Ut=!1;for(gr in Dm)wn=ar[gr],Pa=wn&&wn.prototype,Pa&&(XP(Pa)[sf]=wn);if((!Ut||!JP(vt)||vt===Function.prototype)&&(vt=o(function(){throw new Nm("Incorrect invocation")},"TypedArray"),Ut))for(gr in zt)ar[gr]&&Na(ar[gr],vt);if((!Ut||!nt||nt===Mhe)&&(nt=vt.prototype,Ut))for(gr in zt)ar[gr]&&Na(ar[gr].prototype,nt);Ut&&uf(KP)!==nt&&Na(KP,nt);if(km&&!Rn(nt,GP)){QP=!0,Ihe(nt,GP,{configurable:!0,get:o(function(){return of(this)?this[Mm]:void 0},"get")});for(gr in zt)ar[gr]&&xhe(ar[gr],Mm,gr)}rN.exports={NATIVE_ARRAY_BUFFER_VIEWS:Ut,TYPED_ARRAY_TAG:QP&&Mm,aTypedArray:Phe,aTypedArrayConstructor:Nhe,exportTypedArrayMethod:Dhe,exportTypedArrayStaticMethod:Lhe,getTypedArrayConstructor:ZP,isView:khe,isTypedArray:eN,TypedArray:vt,TypedArrayPrototype:nt}});var nN=h(()=>{"use strict";var Fhe=m(),tN=W(),$he=tN.NATIVE_ARRAY_BUFFER_VIEWS;Fhe({target:"ArrayBuffer",stat:!0,forced:!$he},{isView:tN.isView})});var lN=h(()=>{"use strict";var Bhe=m(),Fm=mn(),_he=O(),oN=Co(),iN=R(),aN=Zr(),jhe=hr(),$m=oN.ArrayBuffer,Lm=oN.DataView,uN=Lm.prototype,sN=Fm($m.prototype.slice),Uhe=Fm(uN.getUint8),zhe=Fm(uN.setUint8),Hhe=_he(function(){return!new $m(2).slice(1,void 0).byteLength});Bhe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Hhe},{slice:o(function(e,r){if(sN&&r===void 0)return sN(iN(this),e);for(var n=iN(this).byteLength,i=aN(e,n),a=aN(r===void 0?n:r,n),s=new $m(jhe(a-i)),u=new Lm(this),l=new Lm(s),c=0;i<a;)zhe(l,c++,Uhe(u,i++));return s},"slice")})});var cN=h(()=>{"use strict";var Vhe=m(),Whe=Co(),Khe=Ao();Vhe({global:!0,constructor:!0,forced:!Khe},{DataView:Whe.DataView})});var fN=h(()=>{"use strict";cN()});var Bm=h((dlr,pN)=>{"use strict";var hN=w(),Ghe=mo(),Jhe=$e(),dN=hN.ArrayBuffer,Yhe=hN.TypeError;pN.exports=dN&&Ghe(dN.prototype,"byteLength","get")||function(t){if(Jhe(t)!=="ArrayBuffer")throw new Yhe("ArrayBuffer expected");return t.byteLength}});var _m=h((hlr,vN)=>{"use strict";var Xhe=w(),Qhe=Ao(),Zhe=Bm(),epe=Xhe.DataView;vN.exports=function(t){if(!Qhe||Zhe(t)!==0)return!1;try{return new epe(t),!1}catch(e){return!0}}});var jm=h(()=>{"use strict";var rpe=D(),tpe=fe(),npe=_m(),gN=ArrayBuffer.prototype;rpe&&!("detached"in gN)&&tpe(gN,"detached",{configurable:!0,get:o(function(){return npe(this)},"detached")})});var Da=h((mlr,mN)=>{"use strict";var ipe=_m(),ape=TypeError;mN.exports=function(t){if(ipe(t))throw new ape("ArrayBuffer is detached");return t}});var Um=h((ylr,yN)=>{"use strict";var spe=w(),ope=Si();yN.exports=function(t){if(ope){try{return spe.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}});var lf=h((qlr,bN)=>{"use strict";var upe=w(),lpe=O(),zm=ct(),Hm=Io(),qN=upe.structuredClone;bN.exports=!!qN&&!lpe(function(){if(Hm==="DENO"&&zm>92||Hm==="NODE"&&zm>94||Hm==="BROWSER"&&zm>97)return!1;var t=new ArrayBuffer(8),e=qN(t,{transfer:[t]});return t.byteLength!==0||e.byteLength!==8})});var Jm=h((blr,ON)=>{"use strict";var Gm=w(),cpe=Um(),fpe=lf(),dpe=Gm.structuredClone,SN=Gm.ArrayBuffer,cf=Gm.MessageChannel,Km=!1,Vm,EN,ff,Wm;if(fpe)Km=o(function(t){dpe(t,{transfer:[t]})},"detach");else if(SN)try{cf||(Vm=cpe("worker_threads"),Vm&&(cf=Vm.MessageChannel)),cf&&(EN=new cf,ff=new SN(2),Wm=o(function(t){EN.port1.postMessage(null,[t])},"$detach"),ff.byteLength===2&&(Wm(ff),ff.byteLength===0&&(Km=Wm)))}catch(t){}ON.exports=Km});var ry=h((Elr,CN)=>{"use strict";var Qm=w(),Zm=E(),AN=mo(),hpe=Ra(),ppe=Da(),vpe=Bm(),TN=Jm(),Ym=lf(),gpe=Qm.structuredClone,wN=Qm.ArrayBuffer,Xm=Qm.DataView,mpe=Math.min,ey=wN.prototype,RN=Xm.prototype,ype=Zm(ey.slice),xN=AN(ey,"resizable","get"),IN=AN(ey,"maxByteLength","get"),qpe=Zm(RN.getInt8),bpe=Zm(RN.setInt8);CN.exports=(Ym||TN)&&function(t,e,r){var n=vpe(t),i=e===void 0?n:hpe(e),a=!xN||!xN(t),s;if(ppe(t),Ym&&(t=gpe(t,{transfer:[t]}),n===i&&(r||a)))return t;if(n>=i&&(!r||a))s=ype(t,0,i);else{var u=r&&!a&&IN?{maxByteLength:IN(t)}:void 0;s=new wN(i,u);for(var l=new Xm(t),c=new Xm(s),f=mpe(i,n),d=0;d<f;d++)bpe(c,d,qpe(l,d))}return Ym||TN(t),s}});var ty=h(()=>{"use strict";var Spe=m(),MN=ry();MN&&Spe({target:"ArrayBuffer",proto:!0},{transfer:o(function(){return MN(this,arguments.length?arguments[0]:void 0,!0)},"transfer")})});var ny=h(()=>{"use strict";var Epe=m(),kN=ry();kN&&Epe({target:"ArrayBuffer",proto:!0},{transferToFixedLength:o(function(){return kN(this,arguments.length?arguments[0]:void 0,!1)},"transferToFixedLength")})});var PN=h(()=>{"use strict";var Ope=m(),Tpe=E(),xpe=O(),Ipe=xpe(function(){return new Date(16e11).getYear()!==120}),Ape=Tpe(Date.prototype.getFullYear);Ope({target:"Date",proto:!0,forced:Ipe},{getYear:o(function(){return Ape(this)-1900},"getYear")})});var DN=h(()=>{"use strict";var wpe=m(),Rpe=E(),NN=Date,Cpe=Rpe(NN.prototype.getTime);wpe({target:"Date",stat:!0},{now:o(function(){return Cpe(new NN)},"now")})});var $N=h(()=>{"use strict";var Mpe=m(),LN=E(),kpe=ce(),FN=Date.prototype,Ppe=LN(FN.getTime),Npe=LN(FN.setFullYear);Mpe({target:"Date",proto:!0},{setYear:o(function(e){Ppe(this);var r=kpe(e),n=r>=0&&r<=99?r+1900:r;return Npe(this,n)},"setYear")})});var BN=h(()=>{"use strict";var Dpe=m();Dpe({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var Mo=h((_lr,_N)=>{"use strict";var Lpe=ce(),Fpe=U(),$pe=le(),Bpe=RangeError;_N.exports=o(function(e){var r=Fpe($pe(this)),n="",i=Lpe(e);if(i<0||i===1/0)throw new Bpe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n},"repeat")});var ko=h((Ulr,HN)=>{"use strict";var zN=E(),_pe=hr(),jN=U(),jpe=Mo(),Upe=le(),zpe=zN(jpe),Hpe=zN("".slice),Vpe=Math.ceil,UN=o(function(t){return function(e,r,n){var i=jN(Upe(e)),a=_pe(r),s=i.length,u=n===void 0?" ":jN(n),l,c;return a<=s||u===""?i:(l=a-s,c=zpe(u,Vpe(l/u.length)),c.length>l&&(c=Hpe(c,0,l)),t?i+c:c+i)}},"createMethod");HN.exports={start:UN(!1),end:UN(!0)}});var KN=h((Hlr,WN)=>{"use strict";var Cn=E(),VN=O(),Oi=ko().start,Wpe=RangeError,Kpe=isFinite,Gpe=Math.abs,Ht=Date.prototype,iy=Ht.toISOString,Jpe=Cn(Ht.getTime),Ype=Cn(Ht.getUTCDate),Xpe=Cn(Ht.getUTCFullYear),Qpe=Cn(Ht.getUTCHours),Zpe=Cn(Ht.getUTCMilliseconds),eve=Cn(Ht.getUTCMinutes),rve=Cn(Ht.getUTCMonth),tve=Cn(Ht.getUTCSeconds);WN.exports=VN(function(){return iy.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!VN(function(){iy.call(new Date(NaN))})?o(function(){if(!Kpe(Jpe(this)))throw new Wpe("Invalid time value");var e=this,r=Xpe(e),n=Zpe(e),i=r<0?"-":r>9999?"+":"";return i+Oi(Gpe(r),i?6:4,0)+"-"+Oi(rve(e)+1,2,0)+"-"+Oi(Ype(e),2,0)+"T"+Oi(Qpe(e),2,0)+":"+Oi(eve(e),2,0)+":"+Oi(tve(e),2,0)+"."+Oi(n,3,0)+"Z"},"toISOString"):iy});var JN=h(()=>{"use strict";var nve=m(),GN=KN();nve({target:"Date",proto:!0,forced:Date.prototype.toISOString!==GN},{toISOString:GN})});var YN=h(()=>{"use strict";var ive=m(),ave=O(),sve=J(),ove=ro(),uve=ave(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:o(function(){return 1},"toISOString")})!==1});ive({target:"Date",proto:!0,arity:1,forced:uve},{toJSON:o(function(e){var r=sve(this),n=ove(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()},"toJSON")})});var QN=h((Xlr,XN)=>{"use strict";var lve=R(),cve=Nv(),fve=TypeError;XN.exports=function(t){if(lve(this),t==="string"||t==="default")t="string";else if(t!=="number")throw new fve("Incorrect hint");return cve(this,t)}});var rD=h(()=>{"use strict";var dve=V(),hve=ie(),pve=QN(),vve=F(),ZN=vve("toPrimitive"),eD=Date.prototype;dve(eD,ZN)||hve(eD,ZN,pve)});var aD=h(()=>{"use strict";var nD=E(),gve=ie(),ay=Date.prototype,tD="Invalid Date",iD="toString",mve=nD(ay[iD]),yve=nD(ay.getTime);String(new Date(NaN))!==tD&&gve(ay,iD,o(function(){var e=yve(this);return e===e?mve(this):tD},"toString"))});var oD=h(()=>{"use strict";var qve=m(),Po=E(),bve=U(),Sve=Po("".charAt),Eve=Po("".charCodeAt),Ove=Po(/./.exec),Tve=Po(1 .toString),xve=Po("".toUpperCase),Ive=/[\w*+\-./@]/,sD=o(function(t,e){for(var r=Tve(t,16);r.length<e;)r="0"+r;return r},"hex");qve({global:!0},{escape:o(function(e){for(var r=bve(e),n="",i=r.length,a=0,s,u;a<i;)s=Sve(r,a++),Ove(Ive,s)?n+=s:(u=Eve(s,0),u<256?n+="%"+sD(u,2):n+="%u"+xve(sD(u,4)));return n},"escape")})});var oy=h((scr,fD)=>{"use strict";var lD=E(),Ave=B(),wve=_(),Rve=V(),uD=pr(),Cve=ya(),cD=Function,Mve=lD([].concat),kve=lD([].join),sy={},Pve=o(function(t,e,r){if(!Rve(sy,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";sy[e]=cD("C,a","return new C("+kve(n,",")+")")}return sy[e](t,r)},"construct");fD.exports=Cve?cD.bind:o(function(e){var r=Ave(this),n=r.prototype,i=uD(arguments,1),a=o(function(){var u=Mve(i,uD(arguments));return this instanceof a?Pve(r,u.length,u):r.apply(e,u)},"bound");return wve(n)&&(a.prototype=n),a},"bind")});var hD=h(()=>{"use strict";var Nve=m(),dD=oy();Nve({target:"Function",proto:!0,forced:Function.bind!==dD},{bind:dD})});var gD=h(()=>{"use strict";var Dve=H(),pD=_(),Lve=oe(),Fve=Be(),$ve=F(),Bve=so(),uy=$ve("hasInstance"),vD=Function.prototype;uy in vD||Lve.f(vD,uy,{value:Bve(function(t){if(!Dve(this)||!pD(t))return!1;var e=this.prototype;return pD(e)?Fve(e,t):t instanceof this},uy)})});var bD=h(()=>{"use strict";var _ve=D(),jve=ci().EXISTS,mD=E(),Uve=fe(),yD=Function.prototype,zve=mD(yD.toString),qD=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Hve=mD(qD.exec),Vve="name";_ve&&!jve&&Uve(yD,Vve,{configurable:!0,get:o(function(){try{return Hve(qD,zve(this))[1]}catch(t){return""}},"get")})});var cy=h(()=>{"use strict";var Wve=m(),ly=w();Wve({global:!0,forced:ly.globalThis!==ly},{globalThis:ly})});var vy=h(()=>{"use strict";var Kve=m(),Gve=w(),Jve=Qe(),Yve=R(),Xve=H(),Qve=we(),Zve=fe(),ege=Mr(),rge=O(),hy=V(),tge=F(),gt=bi().IteratorPrototype,nge=D(),ige=G(),fy="constructor",ED="Iterator",SD=tge("toStringTag"),OD=TypeError,dy=Gve[ED],TD=ige||!Xve(dy)||dy.prototype!==gt||!rge(function(){dy({})}),py=o(function(){if(Jve(this,gt),Qve(this)===gt)throw new OD("Abstract class Iterator not directly constructable")},"Iterator"),xD=o(function(t,e){nge?Zve(gt,t,{configurable:!0,get:o(function(){return e},"get"),set:o(function(r){if(Yve(this),this===gt)throw new OD("You can't redefine this property");hy(this,t)?this[t]=r:ege(this,t,r)},"set")}):gt[t]=e},"defineIteratorPrototypeAccessor");hy(gt,SD)||xD(SD,ED);(TD||!hy(gt,fy)||gt[fy]===Object)&&xD(fy,py);py.prototype=gt;Kve({global:!0,constructor:!0,forced:TD},{Iterator:py})});var he=h((bcr,ID)=>{"use strict";ID.exports=function(t){return{iterator:t,next:t.next,done:!1}}});var No=h((Scr,AD)=>{"use strict";var age=RangeError;AD.exports=function(t){if(t===t)return t;throw new age("NaN is not allowed")}});var La=h((Ecr,wD)=>{"use strict";var sge=ce(),oge=RangeError;wD.exports=function(t){var e=sge(t);if(e<0)throw new oge("The argument can't be less than 0");return e}});var Mn=h((Ocr,ND)=>{"use strict";var uge=C(),lge=Se(),cge=Ae(),fge=Pr(),dge=F(),RD=te(),hge=be(),pge=bi().IteratorPrototype,df=Me(),gy=$t(),vge=dge("toStringTag"),CD="IteratorHelper",MD="WrapForValidIterator",gge=RD.set,kD=o(function(t){var e=RD.getterFor(t?MD:CD);return fge(lge(pge),{next:o(function(){var n=e(this);if(t)return n.nextHandler();if(n.done)return df(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:df(i,n.done)}catch(a){throw n.done=!0,a}},"next"),return:o(function(){var r=e(this),n=r.iterator;if(r.done=!0,t){var i=hge(n,"return");return i?uge(i,n):df(void 0,!0)}if(r.inner)try{gy(r.inner.iterator,"normal")}catch(a){return gy(n,"throw",a)}return n&&gy(n,"normal"),df(void 0,!0)},"return")})},"createIteratorProxyPrototype"),mge=kD(!0),PD=kD(!1);cge(PD,vge,"Iterator Helper");ND.exports=function(t,e,r){var n=o(function(a,s){s?(s.iterator=a.iterator,s.next=a.next):s=a,s.type=e?MD:CD,s.returnHandlerResult=!!r,s.nextHandler=t,s.counter=0,s.done=!1,gge(this,s)},"Iterator");return n.prototype=e?mge:PD,n}});var yy=h(()=>{"use strict";var yge=m(),DD=C(),my=R(),qge=he(),bge=No(),Sge=La(),Ege=Mn(),Oge=G(),Tge=Ege(function(){for(var t=this.iterator,e=this.next,r,n;this.remaining;)if(this.remaining--,r=my(DD(e,t)),n=this.done=!!r.done,n)return;if(r=my(DD(e,t)),n=this.done=!!r.done,!n)return r.value});yge({target:"Iterator",proto:!0,real:!0,forced:Oge},{drop:o(function(e){my(this);var r=Sge(bge(+e));return new Tge(qge(this),{remaining:r})},"drop")})});var qy=h(()=>{"use strict";var xge=m(),Ige=me(),Age=B(),wge=R(),Rge=he();xge({target:"Iterator",proto:!0,real:!0},{every:o(function(e){wge(this),Age(e);var r=Rge(this),n=0;return!Ige(r,function(i,a){if(!e(i,n++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"every")})});var by=h(()=>{"use strict";var Cge=m(),Mge=C(),kge=B(),LD=R(),Pge=he(),Nge=Mn(),Dge=jc(),Lge=G(),Fge=Nge(function(){for(var t=this.iterator,e=this.predicate,r=this.next,n,i,a;;){if(n=LD(Mge(r,t)),i=this.done=!!n.done,i)return;if(a=n.value,Dge(t,e,[a,this.counter++],!0))return a}});Cge({target:"Iterator",proto:!0,real:!0,forced:Lge},{filter:o(function(e){return LD(this),kge(e),new Fge(Pge(this),{predicate:e})},"filter")})});var Sy=h(()=>{"use strict";var $ge=m(),Bge=me(),_ge=B(),jge=R(),Uge=he();$ge({target:"Iterator",proto:!0,real:!0},{find:o(function(e){jge(this),_ge(e);var r=Uge(this),n=0;return Bge(r,function(i,a){if(e(i,n++))return a(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result},"find")})});var Ey=h((Fcr,$D)=>{"use strict";var zge=C(),FD=R(),Hge=he(),Vge=ht();$D.exports=function(t,e){(!e||typeof t!="string")&&FD(t);var r=Vge(t);return Hge(FD(r!==void 0?zge(r,t):t))}});var Ty=h(()=>{"use strict";var Wge=m(),BD=C(),Kge=B(),Oy=R(),Gge=he(),Jge=Ey(),Yge=Mn(),_D=$t(),Xge=G(),Qge=Yge(function(){for(var t=this.iterator,e=this.mapper,r,n;;){if(n=this.inner)try{if(r=Oy(BD(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){_D(t,"throw",i)}if(r=Oy(BD(this.next,t)),this.done=!!r.done)return;try{this.inner=Jge(e(r.value,this.counter++),!1)}catch(i){_D(t,"throw",i)}}});Wge({target:"Iterator",proto:!0,real:!0,forced:Xge},{flatMap:o(function(e){return Oy(this),Kge(e),new Qge(Gge(this),{mapper:e,inner:null})},"flatMap")})});var xy=h(()=>{"use strict";var Zge=m(),eme=me(),rme=B(),tme=R(),nme=he();Zge({target:"Iterator",proto:!0,real:!0},{forEach:o(function(e){tme(this),rme(e);var r=nme(this),n=0;eme(r,function(i){e(i,n++)},{IS_RECORD:!0})},"forEach")})});var Iy=h(()=>{"use strict";var ime=m(),ame=C(),sme=J(),ome=Be(),ume=bi().IteratorPrototype,lme=Mn(),cme=Ey(),fme=G(),dme=lme(function(){return ame(this.next,this.iterator)},!0);ime({target:"Iterator",stat:!0,forced:fme},{from:o(function(e){var r=cme(typeof e=="string"?sme(e):e,!0);return ome(ume,r.iterator)?r.iterator:new dme(r)},"from")})});var Ay=h((Kcr,UD)=>{"use strict";var hme=C(),pme=B(),jD=R(),vme=he(),gme=Mn(),mme=jc(),yme=gme(function(){var t=this.iterator,e=jD(hme(this.next,t)),r=this.done=!!e.done;if(!r)return mme(t,this.mapper,[e.value,this.counter++],!0)});UD.exports=o(function(e){return jD(this),pme(e),new yme(vme(this),{mapper:e})},"map")});var wy=h(()=>{"use strict";var qme=m(),bme=Ay(),Sme=G();qme({target:"Iterator",proto:!0,real:!0,forced:Sme},{map:bme})});var Ry=h(()=>{"use strict";var Eme=m(),Ome=me(),Tme=B(),xme=R(),Ime=he(),Ame=TypeError;Eme({target:"Iterator",proto:!0,real:!0},{reduce:o(function(e){xme(this),Tme(e);var r=Ime(this),n=arguments.length<2,i=n?void 0:arguments[1],a=0;if(Ome(r,function(s){n?(n=!1,i=s):i=e(i,s,a),a++},{IS_RECORD:!0}),n)throw new Ame("Reduce of empty iterator with no initial value");return i},"reduce")})});var Cy=h(()=>{"use strict";var wme=m(),Rme=me(),Cme=B(),Mme=R(),kme=he();wme({target:"Iterator",proto:!0,real:!0},{some:o(function(e){Mme(this),Cme(e);var r=kme(this),n=0;return Rme(r,function(i,a){if(e(i,n++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"some")})});var My=h(()=>{"use strict";var Pme=m(),Nme=C(),zD=R(),Dme=he(),Lme=No(),Fme=La(),$me=Mn(),Bme=$t(),_me=G(),jme=$me(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,Bme(t,"normal",void 0);var e=zD(Nme(this.next,t)),r=this.done=!!e.done;if(!r)return e.value});Pme({target:"Iterator",proto:!0,real:!0,forced:_me},{take:o(function(e){zD(this);var r=Fme(Lme(+e));return new jme(Dme(this),{remaining:r})},"take")})});var ky=h(()=>{"use strict";var Ume=m(),zme=R(),Hme=me(),Vme=he(),Wme=[].push;Ume({target:"Iterator",proto:!0,real:!0},{toArray:o(function(){var e=[];return Hme(Vme(zme(this)),Wme,{that:e,IS_RECORD:!0}),e},"toArray")})});var HD=h(()=>{"use strict";var Kme=w(),Gme=ir();Gme(Kme.JSON,"JSON",!0)});var hf=h((ffr,VD)=>{"use strict";var Jme=O();VD.exports=Jme(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var vf=h((dfr,KD)=>{"use strict";var Yme=O(),Xme=_(),Qme=$e(),WD=hf(),pf=Object.isExtensible,Zme=Yme(function(){pf(1)});KD.exports=Zme||WD?o(function(e){return!Xme(e)||WD&&Qme(e)==="ArrayBuffer"?!1:pf?pf(e):!0},"isExtensible"):pf});var Vt=h((pfr,GD)=>{"use strict";var eye=O();GD.exports=!eye(function(){return Object.isExtensible(Object.preventExtensions({}))})});var kn=h((vfr,XD)=>{"use strict";var rye=m(),tye=E(),nye=ba(),iye=_(),Py=V(),aye=oe().f,JD=gn(),sye=Ec(),Ny=vf(),oye=vn(),uye=Vt(),YD=!1,Wt=oye("meta"),lye=0,Dy=o(function(t){aye(t,Wt,{value:{objectID:"O"+lye++,weakData:{}}})},"setMetadata"),cye=o(function(t,e){if(!iye(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Py(t,Wt)){if(!Ny(t))return"F";if(!e)return"E";Dy(t)}return t[Wt].objectID},"fastKey"),fye=o(function(t,e){if(!Py(t,Wt)){if(!Ny(t))return!0;if(!e)return!1;Dy(t)}return t[Wt].weakData},"getWeakData"),dye=o(function(t){return uye&&YD&&Ny(t)&&!Py(t,Wt)&&Dy(t),t},"onFreeze"),hye=o(function(){pye.enable=function(){},YD=!0;var t=JD.f,e=tye([].splice),r={};r[Wt]=1,t(r).length&&(JD.f=function(n){for(var i=t(n),a=0,s=i.length;a<s;a++)if(i[a]===Wt){e(i,a,1);break}return i},rye({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:sye.f}))},"enable"),pye=XD.exports={enable:hye,fastKey:cye,getWeakData:fye,onFreeze:dye};nye[Wt]=!0});var Do=h((mfr,ZD)=>{"use strict";var vye=m(),gye=w(),mye=E(),QD=Ea(),yye=ie(),qye=kn(),bye=me(),Sye=Qe(),Eye=H(),Oye=xe(),Ly=_(),Fy=O(),Tye=bo(),xye=ir(),Iye=bn();ZD.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",s=gye[t],u=s&&s.prototype,l=s,c={},f=o(function(b){var S=mye(u[b]);yye(u,b,b==="add"?o(function(k){return S(this,k===0?0:k),this},"add"):b==="delete"?function(A){return i&&!Ly(A)?!1:S(this,A===0?0:A)}:b==="get"?o(function(k){return i&&!Ly(k)?void 0:S(this,k===0?0:k)},"get"):b==="has"?o(function(k){return i&&!Ly(k)?!1:S(this,k===0?0:k)},"has"):o(function(k,N){return S(this,k===0?0:k,N),this},"set"))},"fixMethod"),d=QD(t,!Eye(s)||!(i||u.forEach&&!Fy(function(){new s().entries().next()})));if(d)l=r.getConstructor(e,t,n,a),qye.enable();else if(QD(t,!0)){var p=new l,v=p[a](i?{}:-0,1)!==p,g=Fy(function(){p.has(1)}),y=Tye(function(b){new s(b)}),q=!i&&Fy(function(){for(var b=new s,S=5;S--;)b[a](S,S);return!b.has(-0)});y||(l=e(function(b,S){Sye(b,u);var A=Iye(new s,b,l);return Oye(S)||bye(S,A[a],{that:A,AS_ENTRIES:n}),A}),l.prototype=u,u.constructor=l),(g||q)&&(f("delete"),f("has"),n&&f("get")),(q||v)&&f(a),i&&u.clear&&delete u.clear}return c[t]=l,vye({global:!0,constructor:!0,forced:l!==s},c),xye(l,t),i||r.setStrong(l,t,n),l}});var By=h((qfr,aL)=>{"use strict";var eL=Se(),Aye=fe(),rL=Pr(),wye=se(),Rye=Qe(),Cye=xe(),Mye=me(),kye=Hc(),gf=Me(),Pye=xn(),Lo=D(),tL=kn().fastKey,iL=te(),nL=iL.set,$y=iL.getterFor;aL.exports={getConstructor:o(function(t,e,r,n){var i=t(function(c,f){Rye(c,a),nL(c,{type:e,index:eL(null),first:null,last:null,size:0}),Lo||(c.size=0),Cye(f)||Mye(f,c[n],{that:c,AS_ENTRIES:r})}),a=i.prototype,s=$y(e),u=o(function(c,f,d){var p=s(c),v=l(c,f),g,y;return v?v.value=d:(p.last=v={index:y=tL(f,!0),key:f,value:d,previous:g=p.last,next:null,removed:!1},p.first||(p.first=v),g&&(g.next=v),Lo?p.size++:c.size++,y!=="F"&&(p.index[y]=v)),c},"define"),l=o(function(c,f){var d=s(c),p=tL(f),v;if(p!=="F")return d.index[p];for(v=d.first;v;v=v.next)if(v.key===f)return v},"getEntry");return rL(a,{clear:o(function(){for(var f=this,d=s(f),p=d.first;p;)p.removed=!0,p.previous&&(p.previous=p.previous.next=null),p=p.next;d.first=d.last=null,d.index=eL(null),Lo?d.size=0:f.size=0},"clear"),delete:o(function(c){var f=this,d=s(f),p=l(f,c);if(p){var v=p.next,g=p.previous;delete d.index[p.index],p.removed=!0,g&&(g.next=v),v&&(v.previous=g),d.first===p&&(d.first=v),d.last===p&&(d.last=g),Lo?d.size--:f.size--}return!!p},"delete"),forEach:o(function(f){for(var d=s(this),p=wye(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:d.first;)for(p(v.value,v.key,this);v&&v.removed;)v=v.previous},"forEach"),has:o(function(f){return!!l(this,f)},"has")}),rL(a,r?{get:o(function(f){var d=l(this,f);return d&&d.value},"get"),set:o(function(f,d){return u(this,f===0?0:f,d)},"set")}:{add:o(function(f){return u(this,f=f===0?0:f,f)},"add")}),Lo&&Aye(a,"size",{configurable:!0,get:o(function(){return s(this).size},"get")}),i},"getConstructor"),setStrong:o(function(t,e,r){var n=e+" Iterator",i=$y(e),a=$y(n);kye(t,e,function(s,u){nL(this,{type:n,target:s,state:i(s),kind:u,last:null})},function(){for(var s=a(this),u=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=null,gf(void 0,!0)):gf(u==="keys"?l.key:u==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),Pye(e)},"setStrong")}});var sL=h(()=>{"use strict";var Nye=Do(),Dye=By();Nye("Map",function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"Map")},Dye)});var mf=h(()=>{"use strict";sL()});var ke=h((Ifr,oL)=>{"use strict";var yf=E(),Fo=Map.prototype;oL.exports={Map,set:yf(Fo.set),get:yf(Fo.get),has:yf(Fo.has),remove:yf(Fo.delete),proto:Fo}});var _y=h(()=>{"use strict";var Lye=m(),Fye=E(),$ye=B(),Bye=le(),_ye=me(),qf=ke(),uL=G(),jye=O(),lL=qf.Map,Uye=qf.has,zye=qf.get,Hye=qf.set,Vye=Fye([].push),Wye=uL||jye(function(){return lL.groupBy("ab",function(t){return t}).get("a").length!==1});Lye({target:"Map",stat:!0,forced:uL||Wye},{groupBy:o(function(e,r){Bye(e),$ye(r);var n=new lL,i=0;return _ye(e,function(a){var s=r(a,i++);Uye(n,s)?Vye(zye(n,s),a):Hye(n,s,[a])}),n},"groupBy")})});var jy=h((Cfr,cL)=>{"use strict";var Kye=Math.log;cL.exports=Math.log1p||o(function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:Kye(1+r)},"log1p")});var dL=h(()=>{"use strict";var Gye=m(),Jye=jy(),Uy=Math.acosh,Yye=Math.log,fL=Math.sqrt,Xye=Math.LN2,Qye=!Uy||Math.floor(Uy(Number.MAX_VALUE))!==710||Uy(1/0)!==1/0;Gye({target:"Math",stat:!0,forced:Qye},{acosh:o(function(e){var r=+e;return r<1?NaN:r>9490626562425156e-8?Yye(r)+Xye:Jye(r-1+fL(r-1)*fL(r+1))},"acosh")})});var vL=h(()=>{"use strict";var Zye=m(),hL=Math.asinh,eqe=Math.log,rqe=Math.sqrt;function pL(t){var e=+t;return!isFinite(e)||e===0?e:e<0?-pL(-e):eqe(e+rqe(e*e+1))}o(pL,"asinh");var tqe=!(hL&&1/hL(0)>0);Zye({target:"Math",stat:!0,forced:tqe},{asinh:pL})});var mL=h(()=>{"use strict";var nqe=m(),gL=Math.atanh,iqe=Math.log,aqe=!(gL&&1/gL(-0)<0);nqe({target:"Math",stat:!0,forced:aqe},{atanh:o(function(e){var r=+e;return r===0?r:iqe((1+r)/(1-r))/2},"atanh")})});var yL=h(()=>{"use strict";var sqe=m(),oqe=Yc(),uqe=Math.abs,lqe=Math.pow;sqe({target:"Math",stat:!0},{cbrt:o(function(e){var r=+e;return oqe(r)*lqe(uqe(r),1/3)},"cbrt")})});var qL=h(()=>{"use strict";var cqe=m(),fqe=Math.floor,dqe=Math.log,hqe=Math.LOG2E;cqe({target:"Math",stat:!0},{clz32:o(function(e){var r=e>>>0;return r?31-fqe(dqe(r+.5)*hqe):32},"clz32")})});var Bo=h((Kfr,bL)=>{"use strict";var $o=Math.expm1,pqe=Math.exp;bL.exports=!$o||$o(10)>22025.465794806718||$o(10)<22025.465794806718||$o(-2e-17)!==-2e-17?o(function(e){var r=+e;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:pqe(r)-1},"expm1"):$o});var EL=h(()=>{"use strict";var vqe=m(),gqe=Bo(),SL=Math.cosh,mqe=Math.abs,zy=Math.E,yqe=!SL||SL(710)===1/0;vqe({target:"Math",stat:!0,forced:yqe},{cosh:o(function(e){var r=gqe(mqe(e)-1)+1;return(r+1/(r*zy*zy))*(zy/2)},"cosh")})});var TL=h(()=>{"use strict";var qqe=m(),OL=Bo();qqe({target:"Math",stat:!0,forced:OL!==Math.expm1},{expm1:OL})});var xL=h(()=>{"use strict";var bqe=m(),Sqe=Xc();bqe({target:"Math",stat:!0},{fround:Sqe})});var AL=h(()=>{"use strict";var Eqe=m(),IL=Math.hypot,Oqe=Math.abs,Tqe=Math.sqrt,xqe=!!IL&&IL(1/0,NaN)!==1/0;Eqe({target:"Math",stat:!0,arity:2,forced:xqe},{hypot:o(function(e,r){for(var n=0,i=0,a=arguments.length,s=0,u,l;i<a;)u=Oqe(arguments[i++]),s<u?(l=s/u,n=n*l*l+1,s=u):u>0?(l=u/s,n+=l*l):n+=u;return s===1/0?1/0:s*Tqe(n)},"hypot")})});var RL=h(()=>{"use strict";var Iqe=m(),Aqe=O(),wL=Math.imul,wqe=Aqe(function(){return wL(4294967295,5)!==-5||wL.length!==2});Iqe({target:"Math",stat:!0,forced:wqe},{imul:o(function(e,r){var n=65535,i=+e,a=+r,s=n&i,u=n&a;return 0|s*u+((n&i>>>16)*u+s*(n&a>>>16)<<16>>>0)},"imul")})});var Hy=h((udr,CL)=>{"use strict";var Rqe=Math.log,Cqe=Math.LOG10E;CL.exports=Math.log10||o(function(e){return Rqe(e)*Cqe},"log10")});var ML=h(()=>{"use strict";var Mqe=m(),kqe=Hy();Mqe({target:"Math",stat:!0},{log10:kqe})});var kL=h(()=>{"use strict";var Pqe=m(),Nqe=jy();Pqe({target:"Math",stat:!0},{log1p:Nqe})});var Vy=h((pdr,PL)=>{"use strict";var Dqe=Math.log,Lqe=Math.LN2;PL.exports=Math.log2||o(function(e){return Dqe(e)/Lqe},"log2")});var NL=h(()=>{"use strict";var Fqe=m(),$qe=Vy();Fqe({target:"Math",stat:!0},{log2:$qe})});var DL=h(()=>{"use strict";var Bqe=m(),_qe=Yc();Bqe({target:"Math",stat:!0},{sign:_qe})});var $L=h(()=>{"use strict";var jqe=m(),Uqe=O(),LL=Bo(),zqe=Math.abs,FL=Math.exp,Hqe=Math.E,Vqe=Uqe(function(){return Math.sinh(-2e-17)!==-2e-17});jqe({target:"Math",stat:!0,forced:Vqe},{sinh:o(function(e){var r=+e;return zqe(r)<1?(LL(r)-LL(-r))/2:(FL(r-1)-FL(-r-1))*(Hqe/2)},"sinh")})});var jL=h(()=>{"use strict";var Wqe=m(),BL=Bo(),_L=Math.exp;Wqe({target:"Math",stat:!0},{tanh:o(function(e){var r=+e,n=BL(r),i=BL(-r);return n===1/0?1:i===1/0?-1:(n-i)/(_L(r)+_L(-r))},"tanh")})});var UL=h(()=>{"use strict";var Kqe=ir();Kqe(Math,"Math",!0)});var zL=h(()=>{"use strict";var Gqe=m(),Jqe=Qv();Gqe({target:"Math",stat:!0},{trunc:Jqe})});var _o=h((Cdr,HL)=>{"use strict";var Yqe=E();HL.exports=Yqe(1 .valueOf)});var Ti=h((Mdr,VL)=>{"use strict";VL.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var xi=h((kdr,KL)=>{"use strict";var Xqe=E(),Qqe=le(),Zqe=U(),Ky=Ti(),WL=Xqe("".replace),ebe=RegExp("^["+Ky+"]+"),rbe=RegExp("(^|[^"+Ky+"])["+Ky+"]+$"),Wy=o(function(t){return function(e){var r=Zqe(Qqe(e));return t&1&&(r=WL(r,ebe,"")),t&2&&(r=WL(r,rbe,"$1")),r}},"createMethod");KL.exports={start:Wy(1),end:Wy(2),trim:Wy(3)}});var e2=h(()=>{"use strict";var tbe=m(),Gy=G(),nbe=D(),YL=w(),Jy=Oc(),XL=E(),ibe=Ea(),GL=V(),abe=bn(),sbe=Be(),obe=Nt(),QL=ro(),ube=O(),lbe=gn().f,cbe=Pe().f,fbe=oe().f,dbe=_o(),hbe=xi().trim,jo="Number",Fa=YL[jo],JL=Jy[jo],Yy=Fa.prototype,pbe=YL.TypeError,vbe=XL("".slice),bf=XL("".charCodeAt),gbe=o(function(t){var e=QL(t,"number");return typeof e=="bigint"?e:mbe(e)},"toNumeric"),mbe=o(function(t){var e=QL(t,"number"),r,n,i,a,s,u,l,c;if(obe(e))throw new pbe("Cannot convert a Symbol value to a number");if(typeof e=="string"&&e.length>2){if(e=hbe(e),r=bf(e,0),r===43||r===45){if(n=bf(e,2),n===88||n===120)return NaN}else if(r===48){switch(bf(e,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(s=vbe(e,2),u=s.length,l=0;l<u;l++)if(c=bf(s,l),c<48||c>a)return NaN;return parseInt(s,i)}}return+e},"toNumber"),Xy=ibe(jo,!Fa(" 0o1")||!Fa("0b1")||Fa("+0x1")),ybe=o(function(t){return sbe(Yy,t)&&ube(function(){dbe(t)})},"calledWithNew"),Sf=o(function(e){var r=arguments.length<1?0:Fa(gbe(e));return ybe(this)?abe(Object(r),this,Sf):r},"Number");Sf.prototype=Yy;Xy&&!Gy&&(Yy.constructor=Sf);tbe({global:!0,constructor:!0,wrap:!0,forced:Xy},{Number:Sf});var ZL=o(function(t,e){for(var r=nbe?lbe(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)GL(e,i=r[n])&&!GL(t,i)&&fbe(t,i,cbe(e,i))},"copyConstructorProperties");Gy&&JL&&ZL(Jy[jo],JL);(Xy||Gy)&&ZL(Jy[jo],Fa)});var r2=h(()=>{"use strict";var qbe=m();qbe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var Qy=h((Bdr,t2)=>{"use strict";var bbe=w(),Sbe=bbe.isFinite;t2.exports=Number.isFinite||o(function(e){return typeof e=="number"&&Sbe(e)},"isFinite")});var n2=h(()=>{"use strict";var Ebe=m(),Obe=Qy();Ebe({target:"Number",stat:!0},{isFinite:Obe})});var Ef=h((zdr,i2)=>{"use strict";var Tbe=_(),xbe=Math.floor;i2.exports=Number.isInteger||o(function(e){return!Tbe(e)&&isFinite(e)&&xbe(e)===e},"isInteger")});var a2=h(()=>{"use strict";var Ibe=m(),Abe=Ef();Ibe({target:"Number",stat:!0},{isInteger:Abe})});var s2=h(()=>{"use strict";var wbe=m();wbe({target:"Number",stat:!0},{isNaN:o(function(e){return e!==e},"isNaN")})});var o2=h(()=>{"use strict";var Rbe=m(),Cbe=Ef(),Mbe=Math.abs;Rbe({target:"Number",stat:!0},{isSafeInteger:o(function(e){return Cbe(e)&&Mbe(e)<=9007199254740991},"isSafeInteger")})});var u2=h(()=>{"use strict";var kbe=m();kbe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var l2=h(()=>{"use strict";var Pbe=m();Pbe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var Zy=h((nhr,h2)=>{"use strict";var d2=w(),Nbe=O(),Dbe=E(),Lbe=U(),Fbe=xi().trim,$be=Ti(),Bbe=Dbe("".charAt),Of=d2.parseFloat,c2=d2.Symbol,f2=c2&&c2.iterator,_be=1/Of($be+"-0")!==-1/0||f2&&!Nbe(function(){Of(Object(f2))});h2.exports=_be?o(function(e){var r=Fbe(Lbe(e)),n=Of(r);return n===0&&Bbe(r,0)==="-"?-0:n},"parseFloat"):Of});var v2=h(()=>{"use strict";var jbe=m(),p2=Zy();jbe({target:"Number",stat:!0,forced:Number.parseFloat!==p2},{parseFloat:p2})});var eq=h((ohr,S2)=>{"use strict";var q2=w(),Ube=O(),zbe=E(),Hbe=U(),Vbe=xi().trim,g2=Ti(),Uo=q2.parseInt,m2=q2.Symbol,y2=m2&&m2.iterator,b2=/^[+-]?0x/i,Wbe=zbe(b2.exec),Kbe=Uo(g2+"08")!==8||Uo(g2+"0x16")!==22||y2&&!Ube(function(){Uo(Object(y2))});S2.exports=Kbe?o(function(e,r){var n=Vbe(Hbe(e));return Uo(n,r>>>0||(Wbe(b2,n)?16:10))},"parseInt"):Uo});var O2=h(()=>{"use strict";var Gbe=m(),E2=eq();Gbe({target:"Number",stat:!0,forced:Number.parseInt!==E2},{parseInt:E2})});var w2=h(()=>{"use strict";var Jbe=m(),tq=E(),Ybe=ce(),Xbe=_o(),Qbe=Mo(),Zbe=Hy(),rq=O(),eSe=RangeError,T2=String,rSe=isFinite,tSe=Math.abs,nSe=Math.floor,x2=Math.pow,iSe=Math.round,mt=tq(1 .toExponential),aSe=tq(Qbe),I2=tq("".slice),A2=mt(-69e-12,4)==="-6.9000e-11"&&mt(1.255,2)==="1.25e+0"&&mt(12345,3)==="1.235e+4"&&mt(25,0)==="3e+1",sSe=o(function(){return rq(function(){mt(1,1/0)})&&rq(function(){mt(1,-1/0)})},"throwsOnInfinityFraction"),oSe=o(function(){return!rq(function(){mt(1/0,1/0),mt(NaN,1/0)})},"properNonFiniteThisCheck"),uSe=!A2||!sSe()||!oSe();Jbe({target:"Number",proto:!0,forced:uSe},{toExponential:o(function(e){var r=Xbe(this);if(e===void 0)return mt(r);var n=Ybe(e);if(!rSe(r))return String(r);if(n<0||n>20)throw new eSe("Incorrect fraction digits");if(A2)return mt(r,n);var i="",a,s,u,l;if(r<0&&(i="-",r=-r),r===0)s=0,a=aSe("0",n+1);else{var c=Zbe(r);s=nSe(c);var f=x2(10,s-n),d=iSe(r/f);2*r>=(2*d+1)*f&&(d+=1),d>=x2(10,n+1)&&(d/=10,s+=1),a=T2(d)}return n!==0&&(a=I2(a,0,1)+"."+I2(a,1)),s===0?(u="+",l="0"):(u=s>0?"+":"-",l=T2(tSe(s))),a+="e"+u+l,i+a},"toExponential")})});var N2=h(()=>{"use strict";var lSe=m(),aq=E(),cSe=ce(),fSe=_o(),dSe=Mo(),R2=O(),hSe=RangeError,k2=String,P2=Math.floor,iq=aq(dSe),C2=aq("".slice),zo=aq(1 .toFixed),Ba=o(function(t,e,r){return e===0?r:e%2===1?Ba(t,e-1,r*t):Ba(t*t,e/2,r)},"pow"),pSe=o(function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e},"log"),$a=o(function(t,e,r){for(var n=-1,i=r;++n<6;)i+=e*t[n],t[n]=i%1e7,i=P2(i/1e7)},"multiply"),nq=o(function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=P2(n/e),n=n%e*1e7},"divide"),M2=o(function(t){for(var e=6,r="";--e>=0;)if(r!==""||e===0||t[e]!==0){var n=k2(t[e]);r=r===""?n:r+iq("0",7-n.length)+n}return r},"dataToString"),vSe=R2(function(){return zo(8e-5,3)!=="0.000"||zo(.9,0)!=="1"||zo(1.255,2)!=="1.25"||zo(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!R2(function(){zo({})});lSe({target:"Number",proto:!0,forced:vSe},{toFixed:o(function(e){var r=fSe(this),n=cSe(e),i=[0,0,0,0,0,0],a="",s="0",u,l,c,f;if(n<0||n>20)throw new hSe("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return k2(r);if(r<0&&(a="-",r=-r),r>1e-21)if(u=pSe(r*Ba(2,69,1))-69,l=u<0?r*Ba(2,-u,1):r/Ba(2,u,1),l*=4503599627370496,u=52-u,u>0){for($a(i,0,l),c=n;c>=7;)$a(i,1e7,0),c-=7;for($a(i,Ba(10,c,1),0),c=u-1;c>=23;)nq(i,1<<23),c-=23;nq(i,1<<c),$a(i,1,1),nq(i,2),s=M2(i)}else $a(i,0,l),$a(i,1<<-u,0),s=M2(i)+iq("0",n);return n>0?(f=s.length,s=a+(f<=n?"0."+iq("0",n-f)+s:C2(s,0,f-n)+"."+C2(s,f-n))):s=a+s,s},"toFixed")})});var F2=h(()=>{"use strict";var gSe=m(),mSe=E(),D2=O(),L2=_o(),Tf=mSe(1 .toPrecision),ySe=D2(function(){return Tf(1,void 0)!=="1"})||!D2(function(){Tf({})});gSe({target:"Number",proto:!0,forced:ySe},{toPrecision:o(function(e){return e===void 0?Tf(L2(this)):Tf(L2(this),e)},"toPrecision")})});var oq=h((bhr,_2)=>{"use strict";var $2=D(),qSe=E(),bSe=C(),SSe=O(),sq=hi(),ESe=oo(),OSe=Zs(),TSe=J(),xSe=Pt(),_a=Object.assign,B2=Object.defineProperty,ISe=qSe([].concat);_2.exports=!_a||SSe(function(){if($2&&_a({b:1},_a(B2({},"a",{enumerable:!0,get:o(function(){B2(this,"b",{value:3,enumerable:!1})},"get")}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),_a({},t)[r]!==7||sq(_a({},e)).join("")!==n})?o(function(e,r){for(var n=TSe(e),i=arguments.length,a=1,s=ESe.f,u=OSe.f;i>a;)for(var l=xSe(arguments[a++]),c=s?ISe(sq(l),s(l)):sq(l),f=c.length,d=0,p;f>d;)p=c[d++],(!$2||bSe(u,l,p))&&(n[p]=l[p]);return n},"assign"):_a});var U2=h(()=>{"use strict";var ASe=m(),j2=oq();ASe({target:"Object",stat:!0,arity:2,forced:Object.assign!==j2},{assign:j2})});var z2=h(()=>{"use strict";var wSe=m(),RSe=D(),CSe=Se();wSe({target:"Object",stat:!0,sham:!RSe},{create:CSe})});var Ho=h((Ihr,V2)=>{"use strict";var MSe=G(),kSe=w(),PSe=O(),H2=Jc();V2.exports=MSe||!PSe(function(){if(!(H2&&H2<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete kSe[t]}})});var W2=h(()=>{"use strict";var NSe=m(),DSe=D(),LSe=Ho(),FSe=B(),$Se=J(),BSe=oe();DSe&&NSe({target:"Object",proto:!0,forced:LSe},{__defineGetter__:o(function(e,r){BSe.f($Se(this),e,{get:FSe(r),enumerable:!0,configurable:!0})},"__defineGetter__")})});var G2=h(()=>{"use strict";var _Se=m(),jSe=D(),K2=qc().f;_Se({target:"Object",stat:!0,forced:Object.defineProperties!==K2,sham:!jSe},{defineProperties:K2})});var Y2=h(()=>{"use strict";var USe=m(),zSe=D(),J2=oe().f;USe({target:"Object",stat:!0,forced:Object.defineProperty!==J2,sham:!zSe},{defineProperty:J2})});var X2=h(()=>{"use strict";var HSe=m(),VSe=D(),WSe=Ho(),KSe=B(),GSe=J(),JSe=oe();VSe&&HSe({target:"Object",proto:!0,forced:WSe},{__defineSetter__:o(function(e,r){JSe.f(GSe(this),e,{set:KSe(r),enumerable:!0,configurable:!0})},"__defineSetter__")})});var uq=h((Fhr,tF)=>{"use strict";var Z2=D(),YSe=O(),eF=E(),XSe=we(),QSe=hi(),ZSe=Ie(),e0e=Zs().f,rF=eF(e0e),r0e=eF([].push),t0e=Z2&&YSe(function(){var t=Object.create(null);return t[2]=2,!rF(t,2)}),Q2=o(function(t){return function(e){for(var r=ZSe(e),n=QSe(r),i=t0e&&XSe(r)===null,a=n.length,s=0,u=[],l;a>s;)l=n[s++],(!Z2||(i?l in r:rF(r,l)))&&r0e(u,t?[l,r[l]]:r[l]);return u}},"createMethod");tF.exports={entries:Q2(!0),values:Q2(!1)}});var nF=h(()=>{"use strict";var n0e=m(),i0e=uq().entries;n0e({target:"Object",stat:!0},{entries:o(function(e){return i0e(e)},"entries")})});var iF=h(()=>{"use strict";var a0e=m(),s0e=Vt(),o0e=O(),u0e=_(),l0e=kn().onFreeze,lq=Object.freeze,c0e=o0e(function(){lq(1)});a0e({target:"Object",stat:!0,forced:c0e,sham:!s0e},{freeze:o(function(e){return lq&&u0e(e)?lq(l0e(e)):e},"freeze")})});var aF=h(()=>{"use strict";var f0e=m(),d0e=me(),h0e=Mr();f0e({target:"Object",stat:!0},{fromEntries:o(function(e){var r={};return d0e(e,function(n,i){h0e(r,n,i)},{AS_ENTRIES:!0}),r},"fromEntries")})});var uF=h(()=>{"use strict";var p0e=m(),v0e=O(),g0e=Ie(),sF=Pe().f,oF=D(),m0e=!oF||v0e(function(){sF(1)});p0e({target:"Object",stat:!0,forced:m0e,sham:!oF},{getOwnPropertyDescriptor:o(function(e,r){return sF(g0e(e),r)},"getOwnPropertyDescriptor")})});var lF=h(()=>{"use strict";var y0e=m(),q0e=D(),b0e=vc(),S0e=Ie(),E0e=Pe(),O0e=Mr();y0e({target:"Object",stat:!0,sham:!q0e},{getOwnPropertyDescriptors:o(function(e){for(var r=S0e(e),n=E0e.f,i=b0e(r),a={},s=0,u,l;i.length>s;)l=n(r,u=i[s++]),l!==void 0&&O0e(a,u,l);return a},"getOwnPropertyDescriptors")})});var cF=h(()=>{"use strict";var T0e=m(),x0e=O(),I0e=Ec().f,A0e=x0e(function(){return!Object.getOwnPropertyNames(1)});T0e({target:"Object",stat:!0,forced:A0e},{getOwnPropertyNames:I0e})});var dF=h(()=>{"use strict";var w0e=m(),R0e=O(),C0e=J(),fF=we(),M0e=Dc(),k0e=R0e(function(){fF(1)});w0e({target:"Object",stat:!0,forced:k0e,sham:!M0e},{getPrototypeOf:o(function(e){return fF(C0e(e))},"getPrototypeOf")})});var cq=h(()=>{"use strict";var P0e=m(),N0e=$(),D0e=E(),L0e=B(),F0e=le(),$0e=ft(),B0e=me(),_0e=O(),hF=Object.groupBy,j0e=N0e("Object","create"),U0e=D0e([].push),z0e=!hF||_0e(function(){return hF("ab",function(t){return t}).a.length!==1});P0e({target:"Object",stat:!0,forced:z0e},{groupBy:o(function(e,r){F0e(e),L0e(r);var n=j0e(null),i=0;return B0e(e,function(a){var s=$0e(r(a,i++));s in n?U0e(n[s],a):n[s]=[a]}),n},"groupBy")})});var fq=h(()=>{"use strict";var H0e=m(),V0e=V();H0e({target:"Object",stat:!0},{hasOwn:V0e})});var dq=h((cpr,pF)=>{"use strict";pF.exports=Object.is||o(function(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r},"is")});var vF=h(()=>{"use strict";var W0e=m(),K0e=dq();W0e({target:"Object",stat:!0},{is:K0e})});var mF=h(()=>{"use strict";var G0e=m(),gF=vf();G0e({target:"Object",stat:!0,forced:Object.isExtensible!==gF},{isExtensible:gF})});var qF=h(()=>{"use strict";var J0e=m(),Y0e=O(),X0e=_(),Q0e=$e(),yF=hf(),hq=Object.isFrozen,Z0e=yF||Y0e(function(){hq(1)});J0e({target:"Object",stat:!0,forced:Z0e},{isFrozen:o(function(e){return!X0e(e)||yF&&Q0e(e)==="ArrayBuffer"?!0:hq?hq(e):!1},"isFrozen")})});var SF=h(()=>{"use strict";var eEe=m(),rEe=O(),tEe=_(),nEe=$e(),bF=hf(),pq=Object.isSealed,iEe=bF||rEe(function(){pq(1)});eEe({target:"Object",stat:!0,forced:iEe},{isSealed:o(function(e){return!tEe(e)||bF&&nEe(e)==="ArrayBuffer"?!0:pq?pq(e):!1},"isSealed")})});var OF=h(()=>{"use strict";var aEe=m(),sEe=J(),EF=hi(),oEe=O(),uEe=oEe(function(){EF(1)});aEe({target:"Object",stat:!0,forced:uEe},{keys:o(function(e){return EF(sEe(e))},"keys")})});var TF=h(()=>{"use strict";var lEe=m(),cEe=D(),fEe=Ho(),dEe=J(),hEe=ft(),pEe=we(),vEe=Pe().f;cEe&&lEe({target:"Object",proto:!0,forced:fEe},{__lookupGetter__:o(function(e){var r=dEe(this),n=hEe(e),i;do if(i=vEe(r,n))return i.get;while(r=pEe(r))},"__lookupGetter__")})});var xF=h(()=>{"use strict";var gEe=m(),mEe=D(),yEe=Ho(),qEe=J(),bEe=ft(),SEe=we(),EEe=Pe().f;mEe&&gEe({target:"Object",proto:!0,forced:yEe},{__lookupSetter__:o(function(e){var r=qEe(this),n=bEe(e),i;do if(i=EEe(r,n))return i.set;while(r=SEe(r))},"__lookupSetter__")})});var IF=h(()=>{"use strict";var OEe=m(),TEe=_(),xEe=kn().onFreeze,IEe=Vt(),AEe=O(),vq=Object.preventExtensions,wEe=AEe(function(){vq(1)});OEe({target:"Object",stat:!0,forced:wEe,sham:!IEe},{preventExtensions:o(function(e){return vq&&TEe(e)?vq(xEe(e)):e},"preventExtensions")})});var MF=h(()=>{"use strict";var REe=D(),CEe=fe(),MEe=_(),kEe=xg(),PEe=J(),NEe=le(),AF=Object.getPrototypeOf,wF=Object.setPrototypeOf,RF=Object.prototype,CF="__proto__";if(REe&&AF&&wF&&!(CF in RF))try{CEe(RF,CF,{configurable:!0,get:o(function(){return AF(PEe(this))},"__proto__"),set:o(function(e){var r=NEe(this);kEe(e)&&MEe(r)&&wF(r,e)},"__proto__")})}catch(t){}});var kF=h(()=>{"use strict";var DEe=m(),LEe=_(),FEe=kn().onFreeze,$Ee=Vt(),BEe=O(),gq=Object.seal,_Ee=BEe(function(){gq(1)});DEe({target:"Object",stat:!0,forced:_Ee,sham:!$Ee},{seal:o(function(e){return gq&&LEe(e)?gq(FEe(e)):e},"seal")})});var PF=h(()=>{"use strict";var jEe=m(),UEe=Cr();jEe({target:"Object",stat:!0},{setPrototypeOf:UEe})});var DF=h((Upr,NF)=>{"use strict";var zEe=mc(),HEe=nr();NF.exports=zEe?{}.toString:o(function(){return"[object "+HEe(this)+"]"},"toString")});var LF=h(()=>{"use strict";var VEe=mc(),WEe=ie(),KEe=DF();VEe||WEe(Object.prototype,"toString",KEe,{unsafe:!0})});var FF=h(()=>{"use strict";var GEe=m(),JEe=uq().values;GEe({target:"Object",stat:!0},{values:o(function(e){return JEe(e)},"values")})});var BF=h(()=>{"use strict";var YEe=m(),$F=Zy();YEe({global:!0,forced:parseFloat!==$F},{parseFloat:$F})});var jF=h(()=>{"use strict";var XEe=m(),_F=eq();XEe({global:!0,forced:parseInt!==_F},{parseInt:_F})});var Vo=h((Zpr,UF)=>{"use strict";var QEe=rt(),ZEe=pn(),eOe=TypeError;UF.exports=function(t){if(QEe(t))return t;throw new eOe(ZEe(t)+" is not a constructor")}});var Wo=h((evr,HF)=>{"use strict";var zF=R(),rOe=Vo(),tOe=xe(),nOe=F(),iOe=nOe("species");HF.exports=function(t,e){var r=zF(t).constructor,n;return r===void 0||tOe(n=zF(r)[iOe])?e:rOe(n)}});var xr=h((rvr,VF)=>{"use strict";var aOe=TypeError;VF.exports=function(t,e){if(t<e)throw new aOe("Not enough arguments");return t}});var mq=h((tvr,WF)=>{"use strict";var sOe=Yr();WF.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(sOe)});var Jo=h((nvr,r$)=>{"use strict";var Ir=w(),oOe=Xe(),uOe=se(),KF=H(),lOe=V(),e$=O(),GF=rg(),cOe=pr(),JF=to(),fOe=xr(),dOe=mq(),hOe=Si(),Oq=Ir.setImmediate,Tq=Ir.clearImmediate,pOe=Ir.process,yq=Ir.Dispatch,vOe=Ir.Function,YF=Ir.MessageChannel,gOe=Ir.String,qq=0,Ko={},XF="onreadystatechange",Go,Ii,bq,Sq;e$(function(){Go=Ir.location});var xq=o(function(t){if(lOe(Ko,t)){var e=Ko[t];delete Ko[t],e()}},"run"),Eq=o(function(t){return function(){xq(t)}},"runner"),QF=o(function(t){xq(t.data)},"eventListener"),ZF=o(function(t){Ir.postMessage(gOe(t),Go.protocol+"//"+Go.host)},"globalPostMessageDefer");(!Oq||!Tq)&&(Oq=o(function(e){fOe(arguments.length,1);var r=KF(e)?e:vOe(e),n=cOe(arguments,1);return Ko[++qq]=function(){oOe(r,void 0,n)},Ii(qq),qq},"setImmediate"),Tq=o(function(e){delete Ko[e]},"clearImmediate"),hOe?Ii=o(function(t){pOe.nextTick(Eq(t))},"defer"):yq&&yq.now?Ii=o(function(t){yq.now(Eq(t))},"defer"):YF&&!dOe?(bq=new YF,Sq=bq.port2,bq.port1.onmessage=QF,Ii=uOe(Sq.postMessage,Sq)):Ir.addEventListener&&KF(Ir.postMessage)&&!Ir.importScripts&&Go&&Go.protocol!=="file:"&&!e$(ZF)?(Ii=ZF,Ir.addEventListener("message",QF,!1)):XF in JF("script")?Ii=o(function(t){GF.appendChild(JF("script"))[XF]=function(){GF.removeChild(this),xq(t)}},"defer"):Ii=o(function(t){setTimeout(Eq(t),0)},"defer"));r$.exports={set:Oq,clear:Tq}});var Iq=h((avr,n$)=>{"use strict";var t$=w(),mOe=D(),yOe=Object.getOwnPropertyDescriptor;n$.exports=function(t){if(!mOe)return t$[t];var e=yOe(t$,t);return e&&e.value}});var Aq=h((svr,a$)=>{"use strict";var i$=o(function(){this.head=null,this.tail=null},"Queue");i$.prototype={add:o(function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},"add"),get:o(function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}},"get")};a$.exports=i$});var o$=h((uvr,s$)=>{"use strict";var qOe=Yr();s$.exports=/ipad|iphone|ipod/i.test(qOe)&&typeof Pebble<"u"});var l$=h((lvr,u$)=>{"use strict";var bOe=Yr();u$.exports=/web0s(?!.*chrome)/i.test(bOe)});var Pq=h((cvr,v$)=>{"use strict";var Ua=w(),SOe=Iq(),c$=se(),wq=Jo().set,EOe=Aq(),OOe=mq(),TOe=o$(),xOe=l$(),Rq=Si(),f$=Ua.MutationObserver||Ua.WebKitMutationObserver,d$=Ua.document,h$=Ua.process,xf=Ua.Promise,kq=SOe("queueMicrotask"),ja,Cq,Mq,If,p$;kq||(Yo=new EOe,Xo=o(function(){var t,e;for(Rq&&(t=h$.domain)&&t.exit();e=Yo.get();)try{e()}catch(r){throw Yo.head&&ja(),r}t&&t.enter()},"flush"),!OOe&&!Rq&&!xOe&&f$&&d$?(Cq=!0,Mq=d$.createTextNode(""),new f$(Xo).observe(Mq,{characterData:!0}),ja=o(function(){Mq.data=Cq=!Cq},"notify")):!TOe&&xf&&xf.resolve?(If=xf.resolve(void 0),If.constructor=xf,p$=c$(If.then,If),ja=o(function(){p$(Xo)},"notify")):Rq?ja=o(function(){h$.nextTick(Xo)},"notify"):(wq=c$(wq,Ua),ja=o(function(){wq(Xo)},"notify")),kq=o(function(t){Yo.head||ja(),Yo.add(t)},"microtask"));var Yo,Xo;v$.exports=kq});var Nq=h((dvr,g$)=>{"use strict";g$.exports=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch(r){}}});var Pn=h((hvr,m$)=>{"use strict";m$.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var Ai=h((pvr,y$)=>{"use strict";var IOe=w();y$.exports=IOe.Promise});var za=h((vvr,E$)=>{"use strict";var AOe=w(),Qo=Ai(),wOe=H(),ROe=Ea(),COe=no(),MOe=F(),q$=Io(),kOe=G(),Dq=ct(),b$=Qo&&Qo.prototype,POe=MOe("species"),Lq=!1,S$=wOe(AOe.PromiseRejectionEvent),NOe=ROe("Promise",function(){var t=COe(Qo),e=t!==String(Qo);if(!e&&Dq===66||kOe&&!(b$.catch&&b$.finally))return!0;if(!Dq||Dq<51||!/native code/.test(t)){var r=new Qo(function(a){a(1)}),n=o(function(a){a(function(){},function(){})},"FakePromise"),i=r.constructor={};if(i[POe]=n,Lq=r.then(function(){})instanceof n,!Lq)return!0}return!e&&(q$==="BROWSER"||q$==="DENO")&&!S$});E$.exports={CONSTRUCTOR:NOe,REJECTION_EVENT:S$,SUBCLASSING:Lq}});var yt=h((mvr,T$)=>{"use strict";var O$=B(),DOe=TypeError,LOe=o(function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw new DOe("Bad Promise constructor");e=n,r=i}),this.resolve=O$(e),this.reject=O$(r)},"PromiseCapability");T$.exports.f=function(t){return new LOe(t)}});var z$=h(()=>{"use strict";var FOe=m(),$Oe=G(),Cf=Si(),Nn=w(),Ka=C(),x$=ie(),I$=Cr(),BOe=ir(),_Oe=xn(),jOe=B(),Rf=H(),UOe=_(),zOe=Qe(),HOe=Wo(),M$=Jo().set,jq=Pq(),VOe=Nq(),WOe=Pn(),KOe=Aq(),k$=te(),Mf=Ai(),Uq=za(),P$=yt(),kf="Promise",N$=Uq.CONSTRUCTOR,GOe=Uq.REJECTION_EVENT,JOe=Uq.SUBCLASSING,Fq=k$.getterFor(kf),YOe=k$.set,Ha=Mf&&Mf.prototype,wi=Mf,Af=Ha,D$=Nn.TypeError,$q=Nn.document,zq=Nn.process,Bq=P$.f,XOe=Bq,QOe=!!($q&&$q.createEvent&&Nn.dispatchEvent),L$="unhandledrejection",ZOe="rejectionhandled",A$=0,F$=1,eTe=2,Hq=1,$$=2,wf,w$,rTe,R$,B$=o(function(t){var e;return UOe(t)&&Rf(e=t.then)?e:!1},"isThenable"),_$=o(function(t,e){var r=e.value,n=e.state===F$,i=n?t.ok:t.fail,a=t.resolve,s=t.reject,u=t.domain,l,c,f;try{i?(n||(e.rejection===$$&&nTe(e),e.rejection=Hq),i===!0?l=r:(u&&u.enter(),l=i(r),u&&(u.exit(),f=!0)),l===t.promise?s(new D$("Promise-chain cycle")):(c=B$(l))?Ka(c,l,a,s):a(l)):s(r)}catch(d){u&&!f&&u.exit(),s(d)}},"callReaction"),j$=o(function(t,e){t.notified||(t.notified=!0,jq(function(){for(var r=t.reactions,n;n=r.get();)_$(n,t);t.notified=!1,e&&!t.rejection&&tTe(t)}))},"notify"),U$=o(function(t,e,r){var n,i;QOe?(n=$q.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),Nn.dispatchEvent(n)):n={promise:e,reason:r},!GOe&&(i=Nn["on"+t])?i(n):t===L$&&VOe("Unhandled promise rejection",r)},"dispatchEvent"),tTe=o(function(t){Ka(M$,Nn,function(){var e=t.facade,r=t.value,n=C$(t),i;if(n&&(i=WOe(function(){Cf?zq.emit("unhandledRejection",r,e):U$(L$,e,r)}),t.rejection=Cf||C$(t)?$$:Hq,i.error))throw i.value})},"onUnhandled"),C$=o(function(t){return t.rejection!==Hq&&!t.parent},"isUnhandled"),nTe=o(function(t){Ka(M$,Nn,function(){var e=t.facade;Cf?zq.emit("rejectionHandled",e):U$(ZOe,e,t.value)})},"onHandleUnhandled"),Va=o(function(t,e,r){return function(n){t(e,n,r)}},"bind"),Wa=o(function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=eTe,j$(t,!0))},"internalReject"),_q=o(function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new D$("Promise can't be resolved itself");var n=B$(e);n?jq(function(){var i={done:!1};try{Ka(n,e,Va(_q,i,t),Va(Wa,i,t))}catch(a){Wa(i,a,t)}}):(t.value=e,t.state=F$,j$(t,!1))}catch(i){Wa({done:!1},i,t)}}},"internalResolve");if(N$&&(wi=o(function(e){zOe(this,Af),jOe(e),Ka(wf,this);var r=Fq(this);try{e(Va(_q,r),Va(Wa,r))}catch(n){Wa(r,n)}},"Promise"),Af=wi.prototype,wf=o(function(e){YOe(this,{type:kf,done:!1,notified:!1,parent:!1,reactions:new KOe,rejection:!1,state:A$,value:null})},"Promise"),wf.prototype=x$(Af,"then",o(function(e,r){var n=Fq(this),i=Bq(HOe(this,wi));return n.parent=!0,i.ok=Rf(e)?e:!0,i.fail=Rf(r)&&r,i.domain=Cf?zq.domain:void 0,n.state===A$?n.reactions.add(i):jq(function(){_$(i,n)}),i.promise},"then")),w$=o(function(){var t=new wf,e=Fq(t);this.promise=t,this.resolve=Va(_q,e),this.reject=Va(Wa,e)},"OwnPromiseCapability"),P$.f=Bq=o(function(t){return t===wi||t===rTe?new w$(t):XOe(t)},"newPromiseCapability"),!$Oe&&Rf(Mf)&&Ha!==Object.prototype)){R$=Ha.then,JOe||x$(Ha,"then",o(function(e,r){var n=this;return new wi(function(i,a){Ka(R$,n,i,a)}).then(e,r)},"then"),{unsafe:!0});try{delete Ha.constructor}catch(t){}I$&&I$(Ha,Af)}FOe({global:!0,constructor:!0,wrap:!0,forced:N$},{Promise:wi});BOe(wi,kf,!1,!0);_Oe(kf)});var Zo=h((Evr,H$)=>{"use strict";var iTe=Ai(),aTe=bo(),sTe=za().CONSTRUCTOR;H$.exports=sTe||!aTe(function(t){iTe.all(t).then(void 0,function(){})})});var V$=h(()=>{"use strict";var oTe=m(),uTe=C(),lTe=B(),cTe=yt(),fTe=Pn(),dTe=me(),hTe=Zo();oTe({target:"Promise",stat:!0,forced:hTe},{all:o(function(e){var r=this,n=cTe.f(r),i=n.resolve,a=n.reject,s=fTe(function(){var u=lTe(r.resolve),l=[],c=0,f=1;dTe(e,function(d){var p=c++,v=!1;f++,uTe(u,r,d).then(function(g){v||(v=!0,l[p]=g,--f||i(l))},a)}),--f||i(l)});return s.error&&a(s.value),n.promise},"all")})});var K$=h(()=>{"use strict";var pTe=m(),vTe=G(),gTe=za().CONSTRUCTOR,Wq=Ai(),mTe=$(),yTe=H(),qTe=ie(),W$=Wq&&Wq.prototype;pTe({target:"Promise",proto:!0,forced:gTe,real:!0},{catch:o(function(t){return this.then(void 0,t)},"catch")});!vTe&&yTe(Wq)&&(Vq=mTe("Promise").prototype.catch,W$.catch!==Vq&&qTe(W$,"catch",Vq,{unsafe:!0}));var Vq});var G$=h(()=>{"use strict";var bTe=m(),STe=C(),ETe=B(),OTe=yt(),TTe=Pn(),xTe=me(),ITe=Zo();bTe({target:"Promise",stat:!0,forced:ITe},{race:o(function(e){var r=this,n=OTe.f(r),i=n.reject,a=TTe(function(){var s=ETe(r.resolve);xTe(e,function(u){STe(s,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise},"race")})});var J$=h(()=>{"use strict";var ATe=m(),wTe=yt(),RTe=za().CONSTRUCTOR;ATe({target:"Promise",stat:!0,forced:RTe},{reject:o(function(e){var r=wTe.f(this),n=r.reject;return n(e),r.promise},"reject")})});var Kq=h((Dvr,Y$)=>{"use strict";var CTe=R(),MTe=_(),kTe=yt();Y$.exports=function(t,e){if(CTe(t),MTe(e)&&e.constructor===t)return e;var r=kTe.f(t),n=r.resolve;return n(e),r.promise}});var Z$=h(()=>{"use strict";var PTe=m(),NTe=$(),X$=G(),DTe=Ai(),Q$=za().CONSTRUCTOR,LTe=Kq(),FTe=NTe("Promise"),$Te=X$&&!Q$;PTe({target:"Promise",stat:!0,forced:X$||Q$},{resolve:o(function(e){return LTe($Te&&this===FTe?DTe:this,e)},"resolve")})});var eB=h(()=>{"use strict";z$();V$();K$();G$();J$();Z$()});var Gq=h(()=>{"use strict";var BTe=m(),_Te=C(),jTe=B(),UTe=yt(),zTe=Pn(),HTe=me(),VTe=Zo();BTe({target:"Promise",stat:!0,forced:VTe},{allSettled:o(function(e){var r=this,n=UTe.f(r),i=n.resolve,a=n.reject,s=zTe(function(){var u=jTe(r.resolve),l=[],c=0,f=1;HTe(e,function(d){var p=c++,v=!1;f++,_Te(u,r,d).then(function(g){v||(v=!0,l[p]={status:"fulfilled",value:g},--f||i(l))},function(g){v||(v=!0,l[p]={status:"rejected",reason:g},--f||i(l))})}),--f||i(l)});return s.error&&a(s.value),n.promise},"allSettled")})});var Jq=h(()=>{"use strict";var WTe=m(),KTe=C(),GTe=B(),JTe=$(),YTe=yt(),XTe=Pn(),QTe=me(),ZTe=Zo(),rB="No one promise resolved";WTe({target:"Promise",stat:!0,forced:ZTe},{any:o(function(e){var r=this,n=JTe("AggregateError"),i=YTe.f(r),a=i.resolve,s=i.reject,u=XTe(function(){var l=GTe(r.resolve),c=[],f=0,d=1,p=!1;QTe(e,function(v){var g=f++,y=!1;d++,KTe(l,r,v).then(function(q){y||p||(p=!0,a(q))},function(q){y||p||(y=!0,c[g]=q,--d||s(new n(c,rB)))})}),--d||s(new n(c,rB))});return u.error&&s(u.value),i.promise},"any")})});var aB=h(()=>{"use strict";var exe=m(),rxe=G(),Pf=Ai(),txe=O(),nB=$(),iB=H(),nxe=Wo(),tB=Kq(),ixe=ie(),Xq=Pf&&Pf.prototype,axe=!!Pf&&txe(function(){Xq.finally.call({then:o(function(){},"then")},function(){})});exe({target:"Promise",proto:!0,real:!0,forced:axe},{finally:o(function(t){var e=nxe(this,nB("Promise")),r=iB(t);return this.then(r?function(n){return tB(e,t()).then(function(){return n})}:t,r?function(n){return tB(e,t()).then(function(){throw n})}:t)},"finally")});!rxe&&iB(Pf)&&(Yq=nB("Promise").prototype.finally,Xq.finally!==Yq&&ixe(Xq,"finally",Yq,{unsafe:!0}));var Yq});var Zq=h(()=>{"use strict";var sxe=m(),oxe=w(),uxe=Xe(),lxe=pr(),cxe=yt(),fxe=B(),oB=Pn(),Qq=oxe.Promise,sB=!1,dxe=!Qq||!Qq.try||oB(function(){Qq.try(function(t){sB=t===8},8)}).error||!sB;sxe({target:"Promise",stat:!0,forced:dxe},{try:o(function(t){var e=arguments.length>1?lxe(arguments,1):[],r=cxe.f(this),n=oB(function(){return uxe(fxe(t),void 0,e)});return(n.error?r.reject:r.resolve)(n.value),r.promise},"try")})});var eb=h(()=>{"use strict";var hxe=m(),pxe=yt();hxe({target:"Promise",stat:!0},{withResolvers:o(function(){var e=pxe.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}},"withResolvers")})});var uB=h(()=>{"use strict";var vxe=m(),gxe=Xe(),mxe=B(),yxe=R(),qxe=O(),bxe=!qxe(function(){Reflect.apply(function(){})});vxe({target:"Reflect",stat:!0,forced:bxe},{apply:o(function(e,r,n){return gxe(mxe(e),r,yxe(n))},"apply")})});var vB=h(()=>{"use strict";var Sxe=m(),Exe=$(),rb=Xe(),Oxe=oy(),lB=Vo(),Txe=R(),cB=_(),xxe=Se(),dB=O(),tb=Exe("Reflect","construct"),Ixe=Object.prototype,Axe=[].push,hB=dB(function(){function t(){}return o(t,"F"),!(tb(function(){},[],t)instanceof t)}),pB=!dB(function(){tb(function(){})}),fB=hB||pB;Sxe({target:"Reflect",stat:!0,forced:fB,sham:fB},{construct:o(function(e,r){lB(e),Txe(r);var n=arguments.length<3?e:lB(arguments[2]);if(pB&&!hB)return tb(e,r,n);if(e===n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return rb(Axe,i,r),new(rb(Oxe,e,i))}var a=n.prototype,s=xxe(cB(a)?a:Ixe),u=rb(e,s,r);return cB(u)?u:s},"construct")})});var yB=h(()=>{"use strict";var wxe=m(),Rxe=D(),gB=R(),Cxe=ft(),mB=oe(),Mxe=O(),kxe=Mxe(function(){Reflect.defineProperty(mB.f({},1,{value:1}),1,{value:2})});wxe({target:"Reflect",stat:!0,forced:kxe,sham:!Rxe},{defineProperty:o(function(e,r,n){gB(e);var i=Cxe(r);gB(n);try{return mB.f(e,i,n),!0}catch(a){return!1}},"defineProperty")})});var qB=h(()=>{"use strict";var Pxe=m(),Nxe=R(),Dxe=Pe().f;Pxe({target:"Reflect",stat:!0},{deleteProperty:o(function(e,r){var n=Dxe(Nxe(e),r);return n&&!n.configurable?!1:delete e[r]},"deleteProperty")})});var nb=h((pgr,SB)=>{"use strict";var bB=V();SB.exports=function(t){return t!==void 0&&(bB(t,"value")||bB(t,"writable"))}});var OB=h(()=>{"use strict";var Lxe=m(),Fxe=C(),$xe=_(),Bxe=R(),_xe=nb(),jxe=Pe(),Uxe=we();function EB(t,e){var r=arguments.length<3?t:arguments[2],n,i;if(Bxe(t)===r)return t[e];if(n=jxe.f(t,e),n)return _xe(n)?n.value:n.get===void 0?void 0:Fxe(n.get,r);if($xe(i=Uxe(t)))return EB(i,e,r)}o(EB,"get");Lxe({target:"Reflect",stat:!0},{get:EB})});var TB=h(()=>{"use strict";var zxe=m(),Hxe=D(),Vxe=R(),Wxe=Pe();zxe({target:"Reflect",stat:!0,sham:!Hxe},{getOwnPropertyDescriptor:o(function(e,r){return Wxe.f(Vxe(e),r)},"getOwnPropertyDescriptor")})});var xB=h(()=>{"use strict";var Kxe=m(),Gxe=R(),Jxe=we(),Yxe=Dc();Kxe({target:"Reflect",stat:!0,sham:!Yxe},{getPrototypeOf:o(function(e){return Jxe(Gxe(e))},"getPrototypeOf")})});var IB=h(()=>{"use strict";var Xxe=m();Xxe({target:"Reflect",stat:!0},{has:o(function(e,r){return r in e},"has")})});var AB=h(()=>{"use strict";var Qxe=m(),Zxe=R(),eIe=vf();Qxe({target:"Reflect",stat:!0},{isExtensible:o(function(e){return Zxe(e),eIe(e)},"isExtensible")})});var wB=h(()=>{"use strict";var rIe=m(),tIe=vc();rIe({target:"Reflect",stat:!0},{ownKeys:tIe})});var RB=h(()=>{"use strict";var nIe=m(),iIe=$(),aIe=R(),sIe=Vt();nIe({target:"Reflect",stat:!0,sham:!sIe},{preventExtensions:o(function(e){aIe(e);try{var r=iIe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}},"preventExtensions")})});var NB=h(()=>{"use strict";var oIe=m(),uIe=C(),lIe=R(),CB=_(),cIe=nb(),fIe=O(),ib=oe(),MB=Pe(),dIe=we(),kB=dr();function PB(t,e,r){var n=arguments.length<4?t:arguments[3],i=MB.f(lIe(t),e),a,s,u;if(!i){if(CB(s=dIe(t)))return PB(s,e,r,n);i=kB(0)}if(cIe(i)){if(i.writable===!1||!CB(n))return!1;if(a=MB.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,ib.f(n,e,a)}else ib.f(n,e,kB(0,r))}else{if(u=i.set,u===void 0)return!1;uIe(u,n,r)}return!0}o(PB,"set");var hIe=fIe(function(){var t=o(function(){},"Constructor"),e=ib.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});oIe({target:"Reflect",stat:!0,forced:hIe},{set:PB})});var LB=h(()=>{"use strict";var pIe=m(),vIe=R(),gIe=Ig(),DB=Cr();DB&&pIe({target:"Reflect",stat:!0},{setPrototypeOf:o(function(e,r){vIe(e),gIe(r);try{return DB(e,r),!0}catch(n){return!1}},"setPrototypeOf")})});var FB=h(()=>{"use strict";var mIe=m(),yIe=w(),qIe=ir();mIe({global:!0},{Reflect:{}});qIe(yIe.Reflect,"Reflect",!0)});var eu=h((zgr,$B)=>{"use strict";var bIe=_(),SIe=$e(),EIe=F(),OIe=EIe("match");$B.exports=function(t){var e;return bIe(t)&&((e=t[OIe])!==void 0?!!e:SIe(t)==="RegExp")}});var Nf=h((Hgr,BB)=>{"use strict";var TIe=R();BB.exports=function(){var t=TIe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var Ga=h((Vgr,jB)=>{"use strict";var xIe=C(),IIe=V(),AIe=Be(),wIe=Nf(),_B=RegExp.prototype;jB.exports=function(t){var e=t.flags;return e===void 0&&!("flags"in _B)&&!IIe(t,"flags")&&AIe(_B,t)?xIe(wIe,t):e}});var ru=h((Wgr,UB)=>{"use strict";var ab=O(),RIe=w(),sb=RIe.RegExp,ob=ab(function(){var t=sb("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),CIe=ob||ab(function(){return!sb("a","y").sticky}),MIe=ob||ab(function(){var t=sb("^r","gy");return t.lastIndex=2,t.exec("str")!==null});UB.exports={BROKEN_CARET:MIe,MISSED_STICKY:CIe,UNSUPPORTED_Y:ob}});var Df=h((Kgr,zB)=>{"use strict";var kIe=O(),PIe=w(),NIe=PIe.RegExp;zB.exports=kIe(function(){var t=NIe(".","s");return!(t.dotAll&&t.test("\n")&&t.flags==="s")})});var ub=h((Ggr,HB)=>{"use strict";var DIe=O(),LIe=w(),FIe=LIe.RegExp;HB.exports=DIe(function(){var t=FIe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var e_=h(()=>{"use strict";var $Ie=D(),db=w(),tu=E(),BIe=Ea(),_Ie=bn(),jIe=Ae(),UIe=Se(),zIe=gn().f,VB=Be(),HIe=eu(),WB=U(),VIe=Ga(),YB=ru(),WIe=Ag(),KIe=ie(),GIe=O(),JIe=V(),YIe=te().enforce,XIe=xn(),QIe=F(),XB=Df(),QB=ub(),ZIe=QIe("match"),Ln=db.RegExp,Ja=Ln.prototype,e1e=db.SyntaxError,r1e=tu(Ja.exec),Lf=tu("".charAt),KB=tu("".replace),GB=tu("".indexOf),JB=tu("".slice),t1e=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Ri=/a/g,lb=/a/g,n1e=new Ln(Ri)!==Ri,ZB=YB.MISSED_STICKY,i1e=YB.UNSUPPORTED_Y,a1e=$Ie&&(!n1e||ZB||XB||QB||GIe(function(){return lb[ZIe]=!1,Ln(Ri)!==Ri||Ln(lb)===lb||String(Ln(Ri,"i"))!=="/a/i"})),s1e=o(function(t){for(var e=t.length,r=0,n="",i=!1,a;r<=e;r++){if(a=Lf(t,r),a==="\\"){n+=a+Lf(t,++r);continue}!i&&a==="."?n+="[\\s\\S]":(a==="["?i=!0:a==="]"&&(i=!1),n+=a)}return n},"handleDotAll"),o1e=o(function(t){for(var e=t.length,r=0,n="",i=[],a=UIe(null),s=!1,u=!1,l=0,c="",f;r<=e;r++){if(f=Lf(t,r),f==="\\")f+=Lf(t,++r);else if(f==="]")s=!1;else if(!s)switch(!0){case f==="[":s=!0;break;case f==="(":if(n+=f,JB(t,r+1,r+3)==="?:")continue;r1e(t1e,JB(t,r+1))&&(r+=2,u=!0),l++;continue;case(f===">"&&u):if(c===""||JIe(a,c))throw new e1e("Invalid capture group name");a[c]=!0,i[i.length]=[c,l],u=!1,c="";continue}u?c+=f:n+=f}return[n,i]},"handleNCG");if(BIe("RegExp",a1e)){for(Dn=o(function(e,r){var n=VB(Ja,this),i=HIe(e),a=r===void 0,s=[],u=e,l,c,f,d,p,v;if(!n&&i&&a&&e.constructor===Dn)return e;if((i||VB(Ja,e))&&(e=e.source,a&&(r=VIe(u))),e=e===void 0?"":WB(e),r=r===void 0?"":WB(r),u=e,XB&&"dotAll"in Ri&&(c=!!r&&GB(r,"s")>-1,c&&(r=KB(r,/s/g,""))),l=r,ZB&&"sticky"in Ri&&(f=!!r&&GB(r,"y")>-1,f&&i1e&&(r=KB(r,/y/g,""))),QB&&(d=o1e(e),e=d[0],s=d[1]),p=_Ie(Ln(e,r),n?this:Ja,Dn),(c||f||s.length)&&(v=YIe(p),c&&(v.dotAll=!0,v.raw=Dn(s1e(e),l)),f&&(v.sticky=!0),s.length&&(v.groups=s)),e!==u)try{jIe(p,"source",u===""?"(?:)":u)}catch(g){}return p},"RegExp"),cb=zIe(Ln),fb=0;cb.length>fb;)WIe(Dn,Ln,cb[fb++]);Ja.constructor=Dn,Dn.prototype=Ja,KIe(db,"RegExp",Dn,{constructor:!0})}var Dn,cb,fb;XIe("RegExp")});var t_=h(()=>{"use strict";var u1e=D(),l1e=Df(),c1e=$e(),f1e=fe(),d1e=te().get,r_=RegExp.prototype,h1e=TypeError;u1e&&l1e&&f1e(r_,"dotAll",{configurable:!0,get:o(function(){if(this!==r_){if(c1e(this)==="RegExp")return!!d1e(this).dotAll;throw new h1e("Incompatible receiver, RegExp required")}},"dotAll")})});var Bf=h((rmr,i_)=>{"use strict";var Ya=C(),$f=E(),p1e=U(),v1e=Nf(),g1e=ru(),m1e=Dt(),y1e=Se(),q1e=te().get,b1e=Df(),S1e=ub(),E1e=m1e("native-string-replace",String.prototype.replace),Ff=RegExp.prototype.exec,pb=Ff,O1e=$f("".charAt),T1e=$f("".indexOf),x1e=$f("".replace),hb=$f("".slice),vb=function(){var t=/a/,e=/b*/g;return Ya(Ff,t,"a"),Ya(Ff,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),n_=g1e.BROKEN_CARET,gb=/()??/.exec("")[1]!==void 0,I1e=vb||gb||n_||b1e||S1e;I1e&&(pb=o(function(e){var r=this,n=q1e(r),i=p1e(e),a=n.raw,s,u,l,c,f,d,p;if(a)return a.lastIndex=r.lastIndex,s=Ya(pb,a,i),r.lastIndex=a.lastIndex,s;var v=n.groups,g=n_&&r.sticky,y=Ya(v1e,r),q=r.source,b=0,S=i;if(g&&(y=x1e(y,"y",""),T1e(y,"g")===-1&&(y+="g"),S=hb(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&O1e(i,r.lastIndex-1)!=="\n")&&(q="(?: "+q+")",S=" "+S,b++),u=new RegExp("^(?:"+q+")",y)),gb&&(u=new RegExp("^"+q+"$(?!\\s)",y)),vb&&(l=r.lastIndex),c=Ya(Ff,g?u:r,S),g?c?(c.input=hb(c.input,b),c[0]=hb(c[0],b),c.index=r.lastIndex,r.lastIndex+=c[0].length):r.lastIndex=0:vb&&c&&(r.lastIndex=r.global?c.index+c[0].length:l),gb&&c&&c.length>1&&Ya(E1e,c[0],u,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c&&v)for(c.groups=d=y1e(null),f=0;f<v.length;f++)p=v[f],d[p[0]]=c[p[1]];return c},"exec"));i_.exports=pb});var _f=h(()=>{"use strict";var A1e=m(),a_=Bf();A1e({target:"RegExp",proto:!0,forced:/./.exec!==a_},{exec:a_})});var u_=h(()=>{"use strict";var w1e=w(),R1e=D(),C1e=fe(),M1e=Nf(),k1e=O(),s_=w1e.RegExp,o_=s_.prototype,P1e=R1e&&k1e(function(){var t=!0;try{s_(".","d")}catch(l){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=o(function(l,c){Object.defineProperty(e,l,{get:o(function(){return r+=c,!0},"get")})},"addGetter"),a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(a.hasIndices="d");for(var s in a)i(s,a[s]);var u=Object.getOwnPropertyDescriptor(o_,"flags").get.call(e);return u!==n||r!==n});P1e&&C1e(o_,"flags",{configurable:!0,get:M1e})});var c_=h(()=>{"use strict";var N1e=D(),D1e=ru().MISSED_STICKY,L1e=$e(),F1e=fe(),$1e=te().get,l_=RegExp.prototype,B1e=TypeError;N1e&&D1e&&F1e(l_,"sticky",{configurable:!0,get:o(function(){if(this!==l_){if(L1e(this)==="RegExp")return!!$1e(this).sticky;throw new B1e("Incompatible receiver, RegExp required")}},"sticky")})});var h_=h(()=>{"use strict";_f();var _1e=m(),f_=C(),j1e=H(),d_=R(),U1e=U(),z1e=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),H1e=/./.test;_1e({target:"RegExp",proto:!0,forced:!z1e},{test:o(function(t){var e=d_(this),r=U1e(t),n=e.exec;if(!j1e(n))return f_(H1e,e,r);var i=f_(n,e,r);return i===null?!1:(d_(i),!0)},"test")})});var m_=h(()=>{"use strict";var V1e=ci().PROPER,W1e=ie(),K1e=R(),p_=U(),G1e=O(),J1e=Ga(),mb="toString",v_=RegExp.prototype,g_=v_[mb],Y1e=G1e(function(){return g_.call({source:"a",flags:"b"})!=="/a/b"}),X1e=V1e&&g_.name!==mb;(Y1e||X1e)&&W1e(v_,mb,o(function(){var e=K1e(this),r=p_(e.source),n=p_(J1e(e));return"/"+r+"/"+n},"toString"),{unsafe:!0})});var y_=h(()=>{"use strict";var Q1e=Do(),Z1e=By();Q1e("Set",function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"Set")},Z1e)});var q_=h(()=>{"use strict";y_()});var De=h((Emr,b_)=>{"use strict";var yb=E(),jf=Set.prototype;b_.exports={Set,add:yb(jf.add),has:yb(jf.has),remove:yb(jf.delete),proto:jf}});var _e=h((Omr,S_)=>{"use strict";var eAe=De().has;S_.exports=function(t){return eAe(t),t}});var Kt=h((Tmr,E_)=>{"use strict";var rAe=C();E_.exports=function(t,e,r){for(var n=r?t:t.iterator,i=t.next,a,s;!(a=rAe(i,n)).done;)if(s=e(a.value),s!==void 0)return s}});var mr=h((xmr,A_)=>{"use strict";var O_=E(),tAe=Kt(),T_=De(),nAe=T_.Set,x_=T_.proto,iAe=O_(x_.forEach),I_=O_(x_.keys),aAe=I_(new nAe).next;A_.exports=function(t,e,r){return r?tAe({iterator:I_(t),next:aAe},e):iAe(t,e)}});var Uf=h((Imr,R_)=>{"use strict";var w_=De(),sAe=mr(),oAe=w_.Set,uAe=w_.add;R_.exports=function(t){var e=new oAe;return sAe(t,function(r){uAe(e,r)}),e}});var Xa=h((Amr,C_)=>{"use strict";var lAe=mo(),cAe=De();C_.exports=lAe(cAe.proto,"size","get")||function(t){return t.size}});var Fn=h((wmr,L_)=>{"use strict";var M_=B(),N_=R(),k_=C(),fAe=ce(),dAe=he(),P_="Invalid size",hAe=RangeError,pAe=TypeError,vAe=Math.max,D_=o(function(t,e){this.set=t,this.size=vAe(e,0),this.has=M_(t.has),this.keys=M_(t.keys)},"SetRecord");D_.prototype={getIterator:o(function(){return dAe(N_(k_(this.keys,this.set)))},"getIterator"),includes:o(function(t){return k_(this.has,this.set,t)},"includes")};L_.exports=function(t){N_(t);var e=+t.size;if(e!==e)throw new pAe(P_);var r=fAe(e);if(r<0)throw new hAe(P_);return new D_(t,r)}});var qb=h((Cmr,B_)=>{"use strict";var gAe=_e(),$_=De(),mAe=Uf(),yAe=Xa(),qAe=Fn(),bAe=mr(),SAe=Kt(),EAe=$_.has,F_=$_.remove;B_.exports=o(function(e){var r=gAe(this),n=qAe(e),i=mAe(r);return yAe(r)<=n.size?bAe(r,function(a){n.includes(a)&&F_(i,a)}):SAe(n.getIterator(),function(a){EAe(r,a)&&F_(i,a)}),i},"difference")});var $n=h((kmr,U_)=>{"use strict";var OAe=$(),__=o(function(t){return{size:t,has:o(function(){return!1},"has"),keys:o(function(){return{next:o(function(){return{done:!0}},"next")}},"keys")}},"createSetLike"),j_=o(function(t){return{size:t,has:o(function(){return!0},"has"),keys:o(function(){throw new Error("e")},"keys")}},"createSetLikeWithInfinitySize");U_.exports=function(t,e){var r=OAe("Set");try{new r()[t](__(0));try{return new r()[t](__(-1)),!1}catch(i){if(!e)return!0;try{return new r()[t](j_(-1/0)),!1}catch(a){var n=new r;return n.add(1),n.add(2),e(n[t](j_(1/0)))}}}catch(i){return!1}}});var bb=h(()=>{"use strict";var TAe=m(),xAe=qb(),IAe=$n(),AAe=!IAe("difference",function(t){return t.size===0});TAe({target:"Set",proto:!0,real:!0,forced:AAe},{difference:xAe})});var Eb=h((Lmr,H_)=>{"use strict";var wAe=_e(),Sb=De(),RAe=Xa(),CAe=Fn(),MAe=mr(),kAe=Kt(),PAe=Sb.Set,z_=Sb.add,NAe=Sb.has;H_.exports=o(function(e){var r=wAe(this),n=CAe(e),i=new PAe;return RAe(r)>n.size?kAe(n.getIterator(),function(a){NAe(r,a)&&z_(i,a)}):MAe(r,function(a){n.includes(a)&&z_(i,a)}),i},"intersection")});var Ob=h(()=>{"use strict";var DAe=m(),LAe=O(),FAe=Eb(),$Ae=$n(),BAe=!$Ae("intersection",function(t){return t.size===2&&t.has(1)&&t.has(2)})||LAe(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});DAe({target:"Set",proto:!0,real:!0,forced:BAe},{intersection:FAe})});var Tb=h((_mr,V_)=>{"use strict";var _Ae=_e(),jAe=De().has,UAe=Xa(),zAe=Fn(),HAe=mr(),VAe=Kt(),WAe=$t();V_.exports=o(function(e){var r=_Ae(this),n=zAe(e);if(UAe(r)<=n.size)return HAe(r,function(a){if(n.includes(a))return!1},!0)!==!1;var i=n.getIterator();return VAe(i,function(a){if(jAe(r,a))return WAe(i,"normal",!1)})!==!1},"isDisjointFrom")});var xb=h(()=>{"use strict";var KAe=m(),GAe=Tb(),JAe=$n(),YAe=!JAe("isDisjointFrom",function(t){return!t});KAe({target:"Set",proto:!0,real:!0,forced:YAe},{isDisjointFrom:GAe})});var Ib=h((Hmr,W_)=>{"use strict";var XAe=_e(),QAe=Xa(),ZAe=mr(),ewe=Fn();W_.exports=o(function(e){var r=XAe(this),n=ewe(e);return QAe(r)>n.size?!1:ZAe(r,function(i){if(!n.includes(i))return!1},!0)!==!1},"isSubsetOf")});var Ab=h(()=>{"use strict";var rwe=m(),twe=Ib(),nwe=$n(),iwe=!nwe("isSubsetOf",function(t){return t});rwe({target:"Set",proto:!0,real:!0,forced:iwe},{isSubsetOf:twe})});var wb=h((Gmr,K_)=>{"use strict";var awe=_e(),swe=De().has,owe=Xa(),uwe=Fn(),lwe=Kt(),cwe=$t();K_.exports=o(function(e){var r=awe(this),n=uwe(e);if(owe(r)<n.size)return!1;var i=n.getIterator();return lwe(i,function(a){if(!swe(r,a))return cwe(i,"normal",!1)})!==!1},"isSupersetOf")});var Rb=h(()=>{"use strict";var fwe=m(),dwe=wb(),hwe=$n(),pwe=!hwe("isSupersetOf",function(t){return!t});fwe({target:"Set",proto:!0,real:!0,forced:pwe},{isSupersetOf:dwe})});var Mb=h((Qmr,G_)=>{"use strict";var vwe=_e(),Cb=De(),gwe=Uf(),mwe=Fn(),ywe=Kt(),qwe=Cb.add,bwe=Cb.has,Swe=Cb.remove;G_.exports=o(function(e){var r=vwe(this),n=mwe(e).getIterator(),i=gwe(r);return ywe(n,function(a){bwe(r,a)?Swe(i,a):qwe(i,a)}),i},"symmetricDifference")});var kb=h(()=>{"use strict";var Ewe=m(),Owe=Mb(),Twe=$n();Ewe({target:"Set",proto:!0,real:!0,forced:!Twe("symmetricDifference")},{symmetricDifference:Owe})});var Pb=h((tyr,J_)=>{"use strict";var xwe=_e(),Iwe=De().add,Awe=Uf(),wwe=Fn(),Rwe=Kt();J_.exports=o(function(e){var r=xwe(this),n=wwe(e).getIterator(),i=Awe(r);return Rwe(n,function(a){Iwe(i,a)}),i},"union")});var Nb=h(()=>{"use strict";var Cwe=m(),Mwe=Pb(),kwe=$n();Cwe({target:"Set",proto:!0,real:!0,forced:!kwe("union")},{union:Mwe})});var Y_=h(()=>{"use strict";var Pwe=m(),Nwe=E(),Dwe=le(),Lwe=ce(),Fwe=U(),$we=O(),Bwe=Nwe("".charAt),_we=$we(function(){return"\u{20BB7}".at(-2)!=="\uD842"});Pwe({target:"String",proto:!0,forced:_we},{at:o(function(e){var r=Fwe(Dwe(this)),n=r.length,i=Lwe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:Bwe(r,a)},"at")})});var Ci=h((lyr,Z_)=>{"use strict";var Db=E(),jwe=ce(),Uwe=U(),zwe=le(),Hwe=Db("".charAt),X_=Db("".charCodeAt),Vwe=Db("".slice),Q_=o(function(t){return function(e,r){var n=Uwe(zwe(e)),i=jwe(r),a=n.length,s,u;return i<0||i>=a?t?"":void 0:(s=X_(n,i),s<55296||s>56319||i+1===a||(u=X_(n,i+1))<56320||u>57343?t?Hwe(n,i):s:t?Vwe(n,i,i+2):(s-55296<<10)+(u-56320)+65536)}},"createMethod");Z_.exports={codeAt:Q_(!1),charAt:Q_(!0)}});var ej=h(()=>{"use strict";var Wwe=m(),Kwe=Ci().codeAt;Wwe({target:"String",proto:!0},{codePointAt:o(function(e){return Kwe(this,e)},"codePointAt")})});var zf=h((pyr,rj)=>{"use strict";var Gwe=eu(),Jwe=TypeError;rj.exports=function(t){if(Gwe(t))throw new Jwe("The method doesn't accept regular expressions");return t}});var Hf=h((vyr,tj)=>{"use strict";var Ywe=F(),Xwe=Ywe("match");tj.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[Xwe]=!1,"/./"[t](e)}catch(n){}}return!1}});var aj=h(()=>{"use strict";var Qwe=m(),Zwe=mn(),eRe=Pe().f,rRe=hr(),nj=U(),tRe=zf(),nRe=le(),iRe=Hf(),aRe=G(),sRe=Zwe("".slice),oRe=Math.min,ij=iRe("endsWith"),uRe=!aRe&&!ij&&!!function(){var t=eRe(String.prototype,"endsWith");return t&&!t.writable}();Qwe({target:"String",proto:!0,forced:!uRe&&!ij},{endsWith:o(function(e){var r=nj(nRe(this));tRe(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:oRe(rRe(n),i),s=nj(e);return sRe(r,a-s.length,a)===s},"endsWith")})});var Lb=h(()=>{"use strict";var lRe=m(),cRe=E(),fRe=Zr(),dRe=RangeError,sj=String.fromCharCode,oj=String.fromCodePoint,hRe=cRe([].join),pRe=!!oj&&oj.length!==1;lRe({target:"String",stat:!0,arity:1,forced:pRe},{fromCodePoint:o(function(e){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],fRe(a,1114111)!==a)throw new dRe(a+" is not a valid code point");r[i]=a<65536?sj(a):sj(((a-=65536)>>10)+55296,a%1024+56320)}return hRe(r,"")},"fromCodePoint")})});var lj=h(()=>{"use strict";var vRe=m(),gRe=E(),mRe=zf(),yRe=le(),uj=U(),qRe=Hf(),bRe=gRe("".indexOf);vRe({target:"String",proto:!0,forced:!qRe("includes")},{includes:o(function(e){return!!~bRe(uj(yRe(this)),uj(mRe(e)),arguments.length>1?arguments[1]:void 0)},"includes")})});var Fb=h(()=>{"use strict";var SRe=m(),ERe=E(),ORe=le(),TRe=U(),cj=ERe("".charCodeAt);SRe({target:"String",proto:!0},{isWellFormed:o(function(){for(var e=TRe(ORe(this)),r=e.length,n=0;n<r;n++){var i=cj(e,n);if((i&63488)===55296&&(i>=56320||++n>=r||(cj(e,n)&64512)!==56320))return!1}return!0},"isWellFormed")})});var $b=h(()=>{"use strict";var xRe=Ci().charAt,IRe=U(),dj=te(),ARe=Hc(),fj=Me(),hj="String Iterator",wRe=dj.set,RRe=dj.getterFor(hj);ARe(String,"String",function(t){wRe(this,{type:hj,string:IRe(t),index:0})},o(function(){var e=RRe(this),r=e.string,n=e.index,i;return n>=r.length?fj(void 0,!0):(i=xRe(r,n),e.index+=i.length,fj(i,!1))},"next"))});var nu=h((Myr,yj)=>{"use strict";_f();var pj=C(),vj=ie(),CRe=Bf(),gj=O(),mj=F(),MRe=Ae(),kRe=mj("species"),Bb=RegExp.prototype;yj.exports=function(t,e,r,n){var i=mj(t),a=!gj(function(){var c={};return c[i]=function(){return 7},""[t](c)!==7}),s=a&&!gj(function(){var c=!1,f=/a/;return t==="split"&&(f={},f.constructor={},f.constructor[kRe]=function(){return f},f.flags="",f[i]=/./[i]),f.exec=function(){return c=!0,null},f[i](""),!c});if(!a||!s||r){var u=/./[i],l=e(i,""[t],function(c,f,d,p,v){var g=f.exec;return g===CRe||g===Bb.exec?a&&!v?{done:!0,value:pj(u,f,d,p)}:{done:!0,value:pj(c,d,f,p)}:{done:!1}});vj(String.prototype,t,l[0]),vj(Bb,i,l[1])}n&&MRe(Bb[i],"sham",!0)}});var iu=h((kyr,qj)=>{"use strict";var PRe=Ci().charAt;qj.exports=function(t,e,r){return e+(r?PRe(t,e).length:1)}});var Qa=h((Pyr,Sj)=>{"use strict";var bj=C(),NRe=R(),DRe=H(),LRe=$e(),FRe=Bf(),$Re=TypeError;Sj.exports=function(t,e){var r=t.exec;if(DRe(r)){var n=bj(r,t,e);return n!==null&&NRe(n),n}if(LRe(t)==="RegExp")return bj(FRe,t,e);throw new $Re("RegExp#exec called on incompatible receiver")}});var Oj=h(()=>{"use strict";var BRe=C(),_Re=nu(),jRe=R(),URe=xe(),zRe=hr(),_b=U(),HRe=le(),VRe=be(),WRe=iu(),Ej=Qa();_Re("match",function(t,e,r){return[o(function(i){var a=HRe(this),s=URe(i)?void 0:VRe(i,t);return s?BRe(s,i,a):new RegExp(i)[t](_b(a))},"match"),function(n){var i=jRe(this),a=_b(n),s=r(e,i,a);if(s.done)return s.value;if(!i.global)return Ej(i,a);var u=i.unicode;i.lastIndex=0;for(var l=[],c=0,f;(f=Ej(i,a))!==null;){var d=_b(f[0]);l[c]=d,d===""&&(i.lastIndex=WRe(a,zRe(i.lastIndex),u)),c++}return c===0?null:l}]})});var Vb=h(()=>{"use strict";var KRe=m(),Tj=C(),Aj=mn(),GRe=On(),Vf=Me(),xj=le(),wj=hr(),au=U(),JRe=R(),YRe=xe(),XRe=$e(),QRe=eu(),Rj=Ga(),ZRe=be(),eCe=ie(),rCe=O(),tCe=F(),nCe=Wo(),iCe=iu(),aCe=Qa(),Cj=te(),Ub=G(),Wf=tCe("matchAll"),Mj="RegExp String",kj=Mj+" Iterator",sCe=Cj.set,oCe=Cj.getterFor(kj),Ij=RegExp.prototype,uCe=TypeError,zb=Aj("".indexOf),Kf=Aj("".matchAll),jb=!!Kf&&!rCe(function(){Kf("a",/./)}),lCe=GRe(o(function(e,r,n,i){sCe(this,{type:kj,regexp:e,string:r,global:n,unicode:i,done:!1})},"RegExpStringIterator"),Mj,o(function(){var e=oCe(this);if(e.done)return Vf(void 0,!0);var r=e.regexp,n=e.string,i=aCe(r,n);return i===null?(e.done=!0,Vf(void 0,!0)):e.global?(au(i[0])===""&&(r.lastIndex=iCe(n,wj(r.lastIndex),e.unicode)),Vf(i,!1)):(e.done=!0,Vf(i,!1))},"next")),Hb=o(function(t){var e=JRe(this),r=au(t),n=nCe(e,RegExp),i=au(Rj(e)),a,s,u;return a=new n(n===RegExp?e.source:e,i),s=!!~zb(i,"g"),u=!!~zb(i,"u"),a.lastIndex=wj(e.lastIndex),new lCe(a,r,s,u)},"$matchAll");KRe({target:"String",proto:!0,forced:jb},{matchAll:o(function(e){var r=xj(this),n,i,a,s;if(YRe(e)){if(jb)return Kf(r,e)}else{if(QRe(e)&&(n=au(xj(Rj(e))),!~zb(n,"g")))throw new uCe("`.matchAll` does not allow non-global regexes");if(jb)return Kf(r,e);if(a=ZRe(e,Wf),a===void 0&&Ub&&XRe(e)==="RegExp"&&(a=Hb),a)return Tj(a,e,r)}return i=au(r),s=new RegExp(e,"g"),Ub?Tj(Hb,s,i):s[Wf](i)},"matchAll")});Ub||Wf in Ij||eCe(Ij,Wf,Hb)});var Wb=h((_yr,Pj)=>{"use strict";var cCe=Yr();Pj.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(cCe)});var Nj=h(()=>{"use strict";var fCe=m(),dCe=ko().end,hCe=Wb();fCe({target:"String",proto:!0,forced:hCe},{padEnd:o(function(e){return dCe(this,e,arguments.length>1?arguments[1]:void 0)},"padEnd")})});var Dj=h(()=>{"use strict";var pCe=m(),vCe=ko().start,gCe=Wb();pCe({target:"String",proto:!0,forced:gCe},{padStart:o(function(e){return vCe(this,e,arguments.length>1?arguments[1]:void 0)},"padStart")})});var Bj=h(()=>{"use strict";var mCe=m(),$j=E(),yCe=Ie(),qCe=J(),Lj=U(),bCe=Q(),Fj=$j([].push),SCe=$j([].join);mCe({target:"String",stat:!0},{raw:o(function(e){var r=yCe(qCe(e).raw),n=bCe(r);if(!n)return"";for(var i=arguments.length,a=[],s=0;;){if(Fj(a,Lj(r[s++])),s===n)return SCe(a,"");s<i&&Fj(a,Lj(arguments[s]))}},"raw")})});var _j=h(()=>{"use strict";var ECe=m(),OCe=Mo();ECe({target:"String",proto:!0},{repeat:OCe})});var Yb=h((Qyr,jj)=>{"use strict";var Jb=E(),TCe=J(),xCe=Math.floor,Kb=Jb("".charAt),ICe=Jb("".replace),Gb=Jb("".slice),ACe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,wCe=/\$([$&'`]|\d{1,2})/g;jj.exports=function(t,e,r,n,i,a){var s=r+t.length,u=n.length,l=wCe;return i!==void 0&&(i=TCe(i),l=ACe),ICe(a,l,function(c,f){var d;switch(Kb(f,0)){case"$":return"$";case"&":return t;case"`":return Gb(e,0,r);case"'":return Gb(e,s);case"<":d=i[Gb(f,1,-1)];break;default:var p=+f;if(p===0)return c;if(p>u){var v=xCe(p/10);return v===0?c:v<=u?n[v-1]===void 0?Kb(f,1):n[v-1]+Kb(f,1):c}d=n[p-1]}return d===void 0?"":d})}});var Wj=h(()=>{"use strict";var RCe=Xe(),Uj=C(),Gf=E(),CCe=nu(),MCe=O(),kCe=R(),PCe=H(),NCe=xe(),DCe=ce(),LCe=hr(),Za=U(),FCe=le(),$Ce=iu(),BCe=be(),_Ce=Yb(),jCe=Qa(),UCe=F(),Qb=UCe("replace"),zCe=Math.max,HCe=Math.min,VCe=Gf([].concat),Xb=Gf([].push),zj=Gf("".indexOf),Hj=Gf("".slice),WCe=o(function(t){return t===void 0?t:String(t)},"maybeToString"),KCe=function(){return"a".replace(/./,"$0")==="$0"}(),Vj=function(){return/./[Qb]?/./[Qb]("a","$0")==="":!1}(),GCe=!MCe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});CCe("replace",function(t,e,r){var n=Vj?"$":"$0";return[o(function(a,s){var u=FCe(this),l=NCe(a)?void 0:BCe(a,Qb);return l?Uj(l,a,u,s):Uj(e,Za(u),a,s)},"replace"),function(i,a){var s=kCe(this),u=Za(i);if(typeof a=="string"&&zj(a,n)===-1&&zj(a,"$<")===-1){var l=r(e,s,u,a);if(l.done)return l.value}var c=PCe(a);c||(a=Za(a));var f=s.global,d;f&&(d=s.unicode,s.lastIndex=0);for(var p=[],v;v=jCe(s,u),!(v===null||(Xb(p,v),!f));){var g=Za(v[0]);g===""&&(s.lastIndex=$Ce(u,LCe(s.lastIndex),d))}for(var y="",q=0,b=0;b<p.length;b++){v=p[b];for(var S=Za(v[0]),A=zCe(HCe(DCe(v.index),u.length),0),k=[],N,L=1;L<v.length;L++)Xb(k,WCe(v[L]));var re=v.groups;if(c){var ue=VCe([S],k,A,u);re!==void 0&&Xb(ue,re),N=Za(RCe(a,void 0,ue))}else N=_Ce(S,u,A,k,re,a);A>=q&&(y+=Hj(u,q,A)+N,q=A+S.length)}return y+Hj(u,q)}]},!GCe||!KCe||Vj)});var rS=h(()=>{"use strict";var JCe=m(),YCe=C(),eS=E(),Kj=le(),XCe=H(),QCe=xe(),ZCe=eu(),es=U(),eMe=be(),rMe=Ga(),tMe=Yb(),nMe=F(),iMe=G(),aMe=nMe("replace"),sMe=TypeError,Zb=eS("".indexOf),oMe=eS("".replace),Gj=eS("".slice),uMe=Math.max;JCe({target:"String",proto:!0},{replaceAll:o(function(e,r){var n=Kj(this),i,a,s,u,l,c,f,d,p,v,g=0,y="";if(!QCe(e)){if(i=ZCe(e),i&&(a=es(Kj(rMe(e))),!~Zb(a,"g")))throw new sMe("`.replaceAll` does not allow non-global regexes");if(s=eMe(e,aMe),s)return YCe(s,e,n,r);if(iMe&&i)return oMe(es(n),e,r)}for(u=es(n),l=es(e),c=XCe(r),c||(r=es(r)),f=l.length,d=uMe(1,f),p=Zb(u,l);p!==-1;)v=c?es(r(l,p,u)):tMe(l,u,p,[],void 0,r),y+=Gj(u,g,p)+v,g=p+f,p=p+d>u.length?-1:Zb(u,l,p+d);return g<u.length&&(y+=Gj(u,g)),y},"replaceAll")})});var Xj=h(()=>{"use strict";var lMe=C(),cMe=nu(),fMe=R(),dMe=xe(),hMe=le(),Jj=dq(),Yj=U(),pMe=be(),vMe=Qa();cMe("search",function(t,e,r){return[o(function(i){var a=hMe(this),s=dMe(i)?void 0:pMe(i,t);return s?lMe(s,i,a):new RegExp(i)[t](Yj(a))},"search"),function(n){var i=fMe(this),a=Yj(n),s=r(e,i,a);if(s.done)return s.value;var u=i.lastIndex;Jj(u,0)||(i.lastIndex=0);var l=vMe(i,a);return Jj(i.lastIndex,u)||(i.lastIndex=u),l===null?-1:l.index}]})});var tU=h(()=>{"use strict";var tS=C(),rU=E(),gMe=nu(),mMe=R(),yMe=xe(),qMe=le(),bMe=Wo(),SMe=iu(),EMe=hr(),Qj=U(),OMe=be(),Zj=Qa(),TMe=ru(),xMe=O(),rs=TMe.UNSUPPORTED_Y,IMe=4294967295,AMe=Math.min,nS=rU([].push),iS=rU("".slice),wMe=!xMe(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),eU="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;gMe("split",function(t,e,r){var n="0".split(void 0,0).length?function(i,a){return i===void 0&&a===0?[]:tS(e,this,i,a)}:e;return[o(function(a,s){var u=qMe(this),l=yMe(a)?void 0:OMe(a,t);return l?tS(l,a,u,s):tS(n,Qj(u),a,s)},"split"),function(i,a){var s=mMe(this),u=Qj(i);if(!eU){var l=r(n,s,u,a,n!==e);if(l.done)return l.value}var c=bMe(s,RegExp),f=s.unicode,d=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(rs?"g":"y"),p=new c(rs?"^(?:"+s.source+")":s,d),v=a===void 0?IMe:a>>>0;if(v===0)return[];if(u.length===0)return Zj(p,u)===null?[u]:[];for(var g=0,y=0,q=[];y<u.length;){p.lastIndex=rs?0:y;var b=Zj(p,rs?iS(u,y):u),S;if(b===null||(S=AMe(EMe(p.lastIndex+(rs?y:0)),u.length))===g)y=SMe(u,y,f);else{if(nS(q,iS(u,g,y)),q.length===v)return q;for(var A=1;A<=b.length-1;A++)if(nS(q,b[A]),q.length===v)return q;y=g=S}}return nS(q,iS(u,g)),q}]},eU||!wMe,rs)});var aU=h(()=>{"use strict";var RMe=m(),CMe=mn(),MMe=Pe().f,kMe=hr(),nU=U(),PMe=zf(),NMe=le(),DMe=Hf(),LMe=G(),FMe=CMe("".slice),$Me=Math.min,iU=DMe("startsWith"),BMe=!LMe&&!iU&&!!function(){var t=MMe(String.prototype,"startsWith");return t&&!t.writable}();RMe({target:"String",proto:!0,forced:!BMe&&!iU},{startsWith:o(function(e){var r=nU(NMe(this));PMe(e);var n=kMe($Me(arguments.length>1?arguments[1]:void 0,r.length)),i=nU(e);return FMe(r,n,n+i.length)===i},"startsWith")})});var oU=h(()=>{"use strict";var _Me=m(),jMe=E(),UMe=le(),sU=ce(),zMe=U(),HMe=jMe("".slice),VMe=Math.max,WMe=Math.min,KMe=!"".substr||"ab".substr(-1)!=="b";_Me({target:"String",proto:!0,forced:KMe},{substr:o(function(e,r){var n=zMe(UMe(this)),i=n.length,a=sU(e),s,u;return a===1/0&&(a=0),a<0&&(a=VMe(i+a,0)),s=r===void 0?i:sU(r),s<=0||s===1/0?"":(u=WMe(a+s,i),a>=u?"":HMe(n,a,u))},"substr")})});var uS=h(()=>{"use strict";var GMe=m(),cU=C(),oS=E(),JMe=le(),YMe=U(),XMe=O(),QMe=Array,aS=oS("".charAt),uU=oS("".charCodeAt),ZMe=oS([].join),sS="".toWellFormed,eke="\uFFFD",lU=sS&&XMe(function(){return cU(sS,1)!=="1"});GMe({target:"String",proto:!0,forced:lU},{toWellFormed:o(function(){var e=YMe(JMe(this));if(lU)return cU(sS,e);for(var r=e.length,n=QMe(r),i=0;i<r;i++){var a=uU(e,i);(a&63488)!==55296?n[i]=aS(e,i):a>=56320||i+1>=r||(uU(e,i+1)&64512)!==56320?n[i]=eke:(n[i]=aS(e,i),n[++i]=aS(e,i))}return ZMe(n,"")},"toWellFormed")})});var Jf=h((bqr,hU)=>{"use strict";var rke=ci().PROPER,tke=O(),fU=Ti(),dU="\u200B\x85\u180E";hU.exports=function(t){return tke(function(){return!!fU[t]()||dU[t]()!==dU||rke&&fU[t].name!==t})}});var pU=h(()=>{"use strict";var nke=m(),ike=xi().trim,ake=Jf();nke({target:"String",proto:!0,forced:ake("trim")},{trim:o(function(){return ike(this)},"trim")})});var lS=h((Tqr,vU)=>{"use strict";var ske=xi().end,oke=Jf();vU.exports=oke("trimEnd")?o(function(){return ske(this)},"trimEnd"):"".trimEnd});var mU=h(()=>{"use strict";var uke=m(),gU=lS();uke({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==gU},{trimRight:gU})});var qU=h(()=>{"use strict";mU();var lke=m(),yU=lS();lke({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==yU},{trimEnd:yU})});var cS=h((Cqr,bU)=>{"use strict";var cke=xi().start,fke=Jf();bU.exports=fke("trimStart")?o(function(){return cke(this)},"trimStart"):"".trimStart});var EU=h(()=>{"use strict";var dke=m(),SU=cS();dke({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==SU},{trimLeft:SU})});var TU=h(()=>{"use strict";EU();var hke=m(),OU=cS();hke({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==OU},{trimStart:OU})});var yr=h((Lqr,IU)=>{"use strict";var pke=E(),vke=le(),xU=U(),gke=/"/g,mke=pke("".replace);IU.exports=function(t,e,r,n){var i=xU(vke(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+mke(xU(n),gke,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var qr=h((Fqr,AU)=>{"use strict";var yke=O();AU.exports=function(t){return yke(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var wU=h(()=>{"use strict";var qke=m(),bke=yr(),Ske=qr();qke({target:"String",proto:!0,forced:Ske("anchor")},{anchor:o(function(e){return bke(this,"a","name",e)},"anchor")})});var RU=h(()=>{"use strict";var Eke=m(),Oke=yr(),Tke=qr();Eke({target:"String",proto:!0,forced:Tke("big")},{big:o(function(){return Oke(this,"big","","")},"big")})});var CU=h(()=>{"use strict";var xke=m(),Ike=yr(),Ake=qr();xke({target:"String",proto:!0,forced:Ake("blink")},{blink:o(function(){return Ike(this,"blink","","")},"blink")})});var MU=h(()=>{"use strict";var wke=m(),Rke=yr(),Cke=qr();wke({target:"String",proto:!0,forced:Cke("bold")},{bold:o(function(){return Rke(this,"b","","")},"bold")})});var kU=h(()=>{"use strict";var Mke=m(),kke=yr(),Pke=qr();Mke({target:"String",proto:!0,forced:Pke("fixed")},{fixed:o(function(){return kke(this,"tt","","")},"fixed")})});var PU=h(()=>{"use strict";var Nke=m(),Dke=yr(),Lke=qr();Nke({target:"String",proto:!0,forced:Lke("fontcolor")},{fontcolor:o(function(e){return Dke(this,"font","color",e)},"fontcolor")})});var NU=h(()=>{"use strict";var Fke=m(),$ke=yr(),Bke=qr();Fke({target:"String",proto:!0,forced:Bke("fontsize")},{fontsize:o(function(e){return $ke(this,"font","size",e)},"fontsize")})});var DU=h(()=>{"use strict";var _ke=m(),jke=yr(),Uke=qr();_ke({target:"String",proto:!0,forced:Uke("italics")},{italics:o(function(){return jke(this,"i","","")},"italics")})});var LU=h(()=>{"use strict";var zke=m(),Hke=yr(),Vke=qr();zke({target:"String",proto:!0,forced:Vke("link")},{link:o(function(e){return Hke(this,"a","href",e)},"link")})});var FU=h(()=>{"use strict";var Wke=m(),Kke=yr(),Gke=qr();Wke({target:"String",proto:!0,forced:Gke("small")},{small:o(function(){return Kke(this,"small","","")},"small")})});var $U=h(()=>{"use strict";var Jke=m(),Yke=yr(),Xke=qr();Jke({target:"String",proto:!0,forced:Xke("strike")},{strike:o(function(){return Yke(this,"strike","","")},"strike")})});var BU=h(()=>{"use strict";var Qke=m(),Zke=yr(),ePe=qr();Qke({target:"String",proto:!0,forced:ePe("sub")},{sub:o(function(){return Zke(this,"sub","","")},"sub")})});var _U=h(()=>{"use strict";var rPe=m(),tPe=yr(),nPe=qr();rPe({target:"String",proto:!0,forced:nPe("sup")},{sup:o(function(){return tPe(this,"sup","","")},"sup")})});var Yf=h((Obr,UU)=>{"use strict";var jU=w(),fS=O(),iPe=bo(),aPe=W().NATIVE_ARRAY_BUFFER_VIEWS,sPe=jU.ArrayBuffer,Mi=jU.Int8Array;UU.exports=!aPe||!fS(function(){Mi(1)})||!fS(function(){new Mi(-1)})||!iPe(function(t){new Mi,new Mi(null),new Mi(1.5),new Mi(t)},!0)||fS(function(){return new Mi(new sPe(2),1,void 0).length!==1})});var dS=h((Tbr,zU)=>{"use strict";var oPe=La(),uPe=RangeError;zU.exports=function(t,e){var r=oPe(t);if(r%e)throw new uPe("Wrong offset");return r}});var hS=h((xbr,HU)=>{"use strict";var lPe=Math.round;HU.exports=function(t){var e=lPe(t);return e<0?0:e>255?255:e&255}});var Xf=h((Ibr,VU)=>{"use strict";var cPe=nr();VU.exports=function(t){var e=cPe(t);return e==="BigInt64Array"||e==="BigUint64Array"}});var su=h((Abr,WU)=>{"use strict";var fPe=ro(),dPe=TypeError;WU.exports=function(t){var e=fPe(t,"number");if(typeof e=="number")throw new dPe("Can't convert number to bigint");return BigInt(e)}});var pS=h((wbr,KU)=>{"use strict";var hPe=se(),pPe=C(),vPe=Vo(),gPe=J(),mPe=Q(),yPe=Sn(),qPe=ht(),bPe=Lc(),SPe=Xf(),EPe=W().aTypedArrayConstructor,OPe=su();KU.exports=o(function(e){var r=vPe(this),n=gPe(e),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0,u=qPe(n),l,c,f,d,p,v,g,y;if(u&&!bPe(u))for(g=yPe(n,u),y=g.next,n=[];!(v=pPe(y,g)).done;)n.push(v.value);for(s&&i>2&&(a=hPe(a,arguments[2])),c=mPe(n),f=new(EPe(r))(c),d=SPe(f),l=0;c>l;l++)p=s?a(n[l],l):n[l],f[l]=d?OPe(p):+p;return f},"from")});var qt=h((Cbr,SS)=>{"use strict";var GU=m(),az=w(),JU=C(),TPe=D(),xPe=Yf(),cu=W(),sz=Co(),YU=Qe(),IPe=dr(),ou=Ae(),APe=Ef(),wPe=hr(),XU=Ra(),vS=dS(),RPe=hS(),oz=ft(),uu=V(),CPe=nr(),yS=_(),MPe=Nt(),kPe=Se(),PPe=Be(),Qf=Cr(),NPe=gn().f,QU=pS(),DPe=Ee().forEach,LPe=xn(),FPe=fe(),uz=oe(),lz=Pe(),ZU=_t(),ES=te(),$Pe=bn(),qS=ES.get,BPe=ES.set,_Pe=ES.enforce,cz=uz.f,jPe=lz.f,gS=az.RangeError,fz=sz.ArrayBuffer,UPe=fz.prototype,zPe=sz.DataView,Zf=cu.NATIVE_ARRAY_BUFFER_VIEWS,ez=cu.TYPED_ARRAY_TAG,rz=cu.TypedArray,lu=cu.TypedArrayPrototype,bS=cu.isTypedArray,ed="BYTES_PER_ELEMENT",mS="Wrong length",rd=o(function(t,e){FPe(t,e,{configurable:!0,get:o(function(){return qS(this)[e]},"get")})},"addGetter"),tz=o(function(t){var e;return PPe(UPe,t)||(e=CPe(t))==="ArrayBuffer"||e==="SharedArrayBuffer"},"isArrayBuffer"),dz=o(function(t,e){return bS(t)&&!MPe(e)&&e in t&&APe(+e)&&e>=0},"isTypedArrayIndex"),nz=o(function(e,r){return r=oz(r),dz(e,r)?IPe(2,e[r]):jPe(e,r)},"getOwnPropertyDescriptor"),iz=o(function(e,r,n){return r=oz(r),dz(e,r)&&yS(n)&&uu(n,"value")&&!uu(n,"get")&&!uu(n,"set")&&!n.configurable&&(!uu(n,"writable")||n.writable)&&(!uu(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):cz(e,r,n)},"defineProperty");TPe?(Zf||(lz.f=nz,uz.f=iz,rd(lu,"buffer"),rd(lu,"byteOffset"),rd(lu,"byteLength"),rd(lu,"length")),GU({target:"Object",stat:!0,forced:!Zf},{getOwnPropertyDescriptor:nz,defineProperty:iz}),SS.exports=function(t,e,r){var n=t.match(/\d+/)[0]/8,i=t+(r?"Clamped":"")+"Array",a="get"+t,s="set"+t,u=az[i],l=u,c=l&&l.prototype,f={},d=o(function(y,q){var b=qS(y);return b.view[a](q*n+b.byteOffset,!0)},"getter"),p=o(function(y,q,b){var S=qS(y);S.view[s](q*n+S.byteOffset,r?RPe(b):b,!0)},"setter"),v=o(function(y,q){cz(y,q,{get:o(function(){return d(this,q)},"get"),set:o(function(b){return p(this,q,b)},"set"),enumerable:!0})},"addElement");Zf?xPe&&(l=e(function(y,q,b,S){return YU(y,c),$Pe(function(){return yS(q)?tz(q)?S!==void 0?new u(q,vS(b,n),S):b!==void 0?new u(q,vS(b,n)):new u(q):bS(q)?ZU(l,q):JU(QU,l,q):new u(XU(q))}(),y,l)}),Qf&&Qf(l,rz),DPe(NPe(u),function(y){y in l||ou(l,y,u[y])}),l.prototype=c):(l=e(function(y,q,b,S){YU(y,c);var A=0,k=0,N,L,re;if(!yS(q))re=XU(q),L=re*n,N=new fz(L);else if(tz(q)){N=q,k=vS(b,n);var ue=q.byteLength;if(S===void 0){if(ue%n)throw new gS(mS);if(L=ue-k,L<0)throw new gS(mS)}else if(L=wPe(S)*n,L+k>ue)throw new gS(mS);re=L/n}else return bS(q)?ZU(l,q):JU(QU,l,q);for(BPe(y,{buffer:N,byteOffset:k,byteLength:L,length:re,view:new zPe(N)});A<re;)v(y,A++)}),Qf&&Qf(l,rz),c=l.prototype=kPe(lu)),c.constructor!==l&&ou(c,"constructor",l),_Pe(c).TypedArrayConstructor=l,ez&&ou(c,ez,i);var g=l!==u;f[i]=l,GU({global:!0,constructor:!0,forced:g,sham:!Zf},f),ed in l||ou(l,ed,n),ed in c||ou(c,ed,n),LPe(i)}):SS.exports=function(){}});var hz=h(()=>{"use strict";var HPe=qt();HPe("Float32",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Float32Array")})});var pz=h(()=>{"use strict";var VPe=qt();VPe("Float64",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Float64Array")})});var vz=h(()=>{"use strict";var WPe=qt();WPe("Int8",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Int8Array")})});var gz=h(()=>{"use strict";var KPe=qt();KPe("Int16",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Int16Array")})});var mz=h(()=>{"use strict";var GPe=qt();GPe("Int32",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Int32Array")})});var yz=h(()=>{"use strict";var JPe=qt();JPe("Uint8",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint8Array")})});var qz=h(()=>{"use strict";var YPe=qt();YPe("Uint8",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint8ClampedArray")},!0)});var bz=h(()=>{"use strict";var XPe=qt();XPe("Uint16",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint16Array")})});var Sz=h(()=>{"use strict";var QPe=qt();QPe("Uint32",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint32Array")})});var OS=h(()=>{"use strict";var Ez=W(),ZPe=Q(),eNe=ce(),rNe=Ez.aTypedArray,tNe=Ez.exportTypedArrayMethod;tNe("at",o(function(e){var r=rNe(this),n=ZPe(r),i=eNe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]},"at"))});var Tz=h(()=>{"use strict";var nNe=E(),Oz=W(),iNe=Hg(),aNe=nNe(iNe),sNe=Oz.aTypedArray,oNe=Oz.exportTypedArrayMethod;oNe("copyWithin",o(function(e,r){return aNe(sNe(this),e,r,arguments.length>2?arguments[2]:void 0)},"copyWithin"))});var Iz=h(()=>{"use strict";var xz=W(),uNe=Ee().every,lNe=xz.aTypedArray,cNe=xz.exportTypedArrayMethod;cNe("every",o(function(e){return uNe(lNe(this),e,arguments.length>1?arguments[1]:void 0)},"every"))});var wz=h(()=>{"use strict";var Az=W(),fNe=_c(),dNe=su(),hNe=nr(),pNe=C(),vNe=E(),gNe=O(),mNe=Az.aTypedArray,yNe=Az.exportTypedArrayMethod,qNe=vNe("".slice),bNe=gNe(function(){var t=0;return new Int8Array(2).fill({valueOf:o(function(){return t++},"valueOf")}),t!==1});yNe("fill",o(function(e){var r=arguments.length;mNe(this);var n=qNe(hNe(this),0,3)==="Big"?dNe(e):+e;return pNe(fNe,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},"fill"),bNe)});var td=h((mSr,Rz)=>{"use strict";var SNe=_t(),ENe=W().getTypedArrayConstructor;Rz.exports=function(t,e){return SNe(ENe(t),e)}});var Mz=h(()=>{"use strict";var Cz=W(),ONe=Ee().filter,TNe=td(),xNe=Cz.aTypedArray,INe=Cz.exportTypedArrayMethod;INe("filter",o(function(e){var r=ONe(xNe(this),e,arguments.length>1?arguments[1]:void 0);return TNe(this,r)},"filter"))});var Pz=h(()=>{"use strict";var kz=W(),ANe=Ee().find,wNe=kz.aTypedArray,RNe=kz.exportTypedArrayMethod;RNe("find",o(function(e){return ANe(wNe(this),e,arguments.length>1?arguments[1]:void 0)},"find"))});var Dz=h(()=>{"use strict";var Nz=W(),CNe=Ee().findIndex,MNe=Nz.aTypedArray,kNe=Nz.exportTypedArrayMethod;kNe("findIndex",o(function(e){return CNe(MNe(this),e,arguments.length>1?arguments[1]:void 0)},"findIndex"))});var TS=h(()=>{"use strict";var Lz=W(),PNe=qo().findLast,NNe=Lz.aTypedArray,DNe=Lz.exportTypedArrayMethod;DNe("findLast",o(function(e){return PNe(NNe(this),e,arguments.length>1?arguments[1]:void 0)},"findLast"))});var xS=h(()=>{"use strict";var Fz=W(),LNe=qo().findLastIndex,FNe=Fz.aTypedArray,$Ne=Fz.exportTypedArrayMethod;$Ne("findLastIndex",o(function(e){return LNe(FNe(this),e,arguments.length>1?arguments[1]:void 0)},"findLastIndex"))});var Bz=h(()=>{"use strict";var $z=W(),BNe=Ee().forEach,_Ne=$z.aTypedArray,jNe=$z.exportTypedArrayMethod;jNe("forEach",o(function(e){BNe(_Ne(this),e,arguments.length>1?arguments[1]:void 0)},"forEach"))});var _z=h(()=>{"use strict";var UNe=Yf(),zNe=W().exportTypedArrayStaticMethod,HNe=pS();zNe("from",HNe,UNe)});var Uz=h(()=>{"use strict";var jz=W(),VNe=Sa().includes,WNe=jz.aTypedArray,KNe=jz.exportTypedArrayMethod;KNe("includes",o(function(e){return VNe(WNe(this),e,arguments.length>1?arguments[1]:void 0)},"includes"))});var Hz=h(()=>{"use strict";var zz=W(),GNe=Sa().indexOf,JNe=zz.aTypedArray,YNe=zz.exportTypedArrayMethod;YNe("indexOf",o(function(e){return GNe(JNe(this),e,arguments.length>1?arguments[1]:void 0)},"indexOf"))});var Jz=h(()=>{"use strict";var XNe=w(),QNe=O(),IS=E(),Wz=W(),AS=Oo(),ZNe=F(),wS=ZNe("iterator"),Vz=XNe.Uint8Array,eDe=IS(AS.values),rDe=IS(AS.keys),tDe=IS(AS.entries),RS=Wz.aTypedArray,nd=Wz.exportTypedArrayMethod,ts=Vz&&Vz.prototype,id=!QNe(function(){ts[wS].call([1])}),Kz=!!ts&&ts.values&&ts[wS]===ts.values&&ts.values.name==="values",Gz=o(function(){return eDe(RS(this))},"values");nd("entries",o(function(){return tDe(RS(this))},"entries"),id);nd("keys",o(function(){return rDe(RS(this))},"keys"),id);nd("values",Gz,id||!Kz,{name:"values"});nd(wS,Gz,id||!Kz,{name:"values"})});var Xz=h(()=>{"use strict";var Yz=W(),nDe=E(),iDe=Yz.aTypedArray,aDe=Yz.exportTypedArrayMethod,sDe=nDe([].join);aDe("join",o(function(e){return sDe(iDe(this),e)},"join"))});var Zz=h(()=>{"use strict";var Qz=W(),oDe=Xe(),uDe=sm(),lDe=Qz.aTypedArray,cDe=Qz.exportTypedArrayMethod;cDe("lastIndexOf",o(function(e){var r=arguments.length;return oDe(uDe,lDe(this),r>1?[e,arguments[1]]:[e])},"lastIndexOf"))});var eH=h(()=>{"use strict";var CS=W(),fDe=Ee().map,dDe=CS.aTypedArray,hDe=CS.getTypedArrayConstructor,pDe=CS.exportTypedArrayMethod;pDe("map",o(function(e){return fDe(dDe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(hDe(r))(n)})},"map"))});var tH=h(()=>{"use strict";var rH=W(),vDe=Yf(),gDe=rH.aTypedArrayConstructor,mDe=rH.exportTypedArrayStaticMethod;mDe("of",o(function(){for(var e=0,r=arguments.length,n=new(gDe(this))(r);r>e;)n[e]=arguments[e++];return n},"of"),vDe)});var iH=h(()=>{"use strict";var nH=W(),yDe=To().left,qDe=nH.aTypedArray,bDe=nH.exportTypedArrayMethod;bDe("reduce",o(function(e){var r=arguments.length;return yDe(qDe(this),e,r,r>1?arguments[1]:void 0)},"reduce"))});var sH=h(()=>{"use strict";var aH=W(),SDe=To().right,EDe=aH.aTypedArray,ODe=aH.exportTypedArrayMethod;ODe("reduceRight",o(function(e){var r=arguments.length;return SDe(EDe(this),e,r,r>1?arguments[1]:void 0)},"reduceRight"))});var uH=h(()=>{"use strict";var oH=W(),TDe=oH.aTypedArray,xDe=oH.exportTypedArrayMethod,IDe=Math.floor;xDe("reverse",o(function(){for(var e=this,r=TDe(e).length,n=IDe(r/2),i=0,a;i<n;)a=e[i],e[i++]=e[--r],e[r]=a;return e},"reverse"))});var pH=h(()=>{"use strict";var cH=w(),fH=C(),PS=W(),ADe=Q(),wDe=dS(),RDe=J(),dH=O(),CDe=cH.RangeError,MS=cH.Int8Array,lH=MS&&MS.prototype,hH=lH&&lH.set,MDe=PS.aTypedArray,kDe=PS.exportTypedArrayMethod,kS=!dH(function(){var t=new Uint8ClampedArray(2);return fH(hH,t,{length:1,0:3},1),t[1]!==3}),PDe=kS&&PS.NATIVE_ARRAY_BUFFER_VIEWS&&dH(function(){var t=new MS(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});kDe("set",o(function(e){MDe(this);var r=wDe(arguments.length>1?arguments[1]:void 0,1),n=RDe(e);if(kS)return fH(hH,this,n,r);var i=this.length,a=ADe(n),s=0;if(a+r>i)throw new CDe("Wrong length");for(;s<a;)this[r+s]=n[s++]},"set"),!kS||PDe)});var vH=h(()=>{"use strict";var NS=W(),NDe=O(),DDe=pr(),LDe=NS.aTypedArray,FDe=NS.getTypedArrayConstructor,$De=NS.exportTypedArrayMethod,BDe=NDe(function(){new Int8Array(1).slice()});$De("slice",o(function(e,r){for(var n=DDe(LDe(this),e,r),i=FDe(this),a=0,s=n.length,u=new i(s);s>a;)u[a]=n[a++];return u},"slice"),BDe)});var mH=h(()=>{"use strict";var gH=W(),_De=Ee().some,jDe=gH.aTypedArray,UDe=gH.exportTypedArrayMethod;UDe("some",o(function(e){return _De(jDe(this),e,arguments.length>1?arguments[1]:void 0)},"some"))});var OH=h(()=>{"use strict";var zDe=w(),HDe=mn(),DS=O(),VDe=B(),WDe=Gc(),EH=W(),yH=lm(),KDe=cm(),qH=ct(),bH=Jc(),GDe=EH.aTypedArray,JDe=EH.exportTypedArrayMethod,fu=zDe.Uint16Array,ns=fu&&HDe(fu.prototype.sort),YDe=!!ns&&!(DS(function(){ns(new fu(2),null)})&&DS(function(){ns(new fu(2),{})})),SH=!!ns&&!DS(function(){if(qH)return qH<74;if(yH)return yH<67;if(KDe)return!0;if(bH)return bH<602;var t=new fu(516),e=Array(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(ns(t,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),XDe=o(function(t){return function(e,r){return t!==void 0?+t(e,r)||0:r!==r?-1:e!==e?1:e===0&&r===0?1/e>0&&1/r<0?1:-1:e>r}},"getSortCompare");JDe("sort",o(function(e){return e!==void 0&&VDe(e),SH?ns(this,e):WDe(GDe(this),XDe(e))},"sort"),!SH||YDe)});var xH=h(()=>{"use strict";var LS=W(),QDe=hr(),TH=Zr(),ZDe=LS.aTypedArray,eLe=LS.getTypedArrayConstructor,rLe=LS.exportTypedArrayMethod;rLe("subarray",o(function(e,r){var n=ZDe(this),i=n.length,a=TH(e,i),s=eLe(n);return new s(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,QDe((r===void 0?i:TH(r,i))-a))},"subarray"))});var CH=h(()=>{"use strict";var tLe=w(),nLe=Xe(),wH=W(),FS=O(),IH=pr(),ad=tLe.Int8Array,AH=wH.aTypedArray,iLe=wH.exportTypedArrayMethod,RH=[].toLocaleString,aLe=!!ad&&FS(function(){RH.call(new ad(1))}),sLe=FS(function(){return[1,2].toLocaleString()!==new ad([1,2]).toLocaleString()})||!FS(function(){ad.prototype.toLocaleString.call([1,2])});iLe("toLocaleString",o(function(){return nLe(RH,aLe?IH(AH(this)):AH(this),IH(arguments))},"toLocaleString"),sLe)});var BS=h(()=>{"use strict";var oLe=hm(),$S=W(),uLe=$S.aTypedArray,lLe=$S.exportTypedArrayMethod,cLe=$S.getTypedArrayConstructor;lLe("toReversed",o(function(){return oLe(uLe(this),cLe(this))},"toReversed"))});var _S=h(()=>{"use strict";var sd=W(),fLe=E(),dLe=B(),hLe=_t(),pLe=sd.aTypedArray,vLe=sd.getTypedArrayConstructor,gLe=sd.exportTypedArrayMethod,mLe=fLe(sd.TypedArrayPrototype.sort);gLe("toSorted",o(function(e){e!==void 0&&dLe(e);var r=pLe(this),n=hLe(vLe(r),r);return mLe(n,e)},"toSorted"))});var kH=h(()=>{"use strict";var yLe=W().exportTypedArrayMethod,qLe=O(),bLe=w(),SLe=E(),MH=bLe.Uint8Array,ELe=MH&&MH.prototype||{},od=[].toString,OLe=SLe([].join);qLe(function(){od.call({})})&&(od=o(function(){return OLe(this)},"toString"));var TLe=ELe.toString!==od;yLe("toString",od,TLe)});var US=h(()=>{"use strict";var xLe=ym(),jS=W(),ILe=Xf(),ALe=ce(),wLe=su(),RLe=jS.aTypedArray,CLe=jS.getTypedArrayConstructor,MLe=jS.exportTypedArrayMethod,kLe=!!function(){try{new Int8Array(1).with(2,{valueOf:o(function(){throw 8},"valueOf")})}catch(t){return t===8}}();MLe("with",o(function(t,e){var r=RLe(this),n=ALe(t),i=ILe(r)?wLe(e):+e;return xLe(r,CLe(r),n,i)},"with"),!kLe)});var FH=h(()=>{"use strict";var PLe=m(),zS=E(),NLe=U(),PH=String.fromCharCode,NH=zS("".charAt),DH=zS(/./.exec),LH=zS("".slice),DLe=/^[\da-f]{2}$/i,LLe=/^[\da-f]{4}$/i;PLe({global:!0},{unescape:o(function(e){for(var r=NLe(e),n="",i=r.length,a=0,s,u;a<i;){if(s=NH(r,a++),s==="%"){if(NH(r,a)==="u"){if(u=LH(r,a+1,a+5),DH(LLe,u)){n+=PH(parseInt(u,16)),a+=5;continue}}else if(u=LH(r,a,a+2),DH(DLe,u)){n+=PH(parseInt(u,16)),a+=2;continue}}n+=s}return n},"unescape")})});var WS=h((K0r,zH)=>{"use strict";var FLe=E(),$H=Pr(),ud=kn().getWeakData,$Le=Qe(),BLe=R(),_Le=xe(),HS=_(),jLe=me(),_H=Ee(),BH=V(),jH=te(),ULe=jH.set,zLe=jH.getterFor,HLe=_H.find,VLe=_H.findIndex,WLe=FLe([].splice),KLe=0,ld=o(function(t){return t.frozen||(t.frozen=new UH)},"uncaughtFrozenStore"),UH=o(function(){this.entries=[]},"UncaughtFrozenStore"),VS=o(function(t,e){return HLe(t.entries,function(r){return r[0]===e})},"findUncaughtFrozen");UH.prototype={get:o(function(t){var e=VS(this,t);if(e)return e[1]},"get"),has:o(function(t){return!!VS(this,t)},"has"),set:o(function(t,e){var r=VS(this,t);r?r[1]=e:this.entries.push([t,e])},"set"),delete:o(function(t){var e=VLe(this.entries,function(r){return r[0]===t});return~e&&WLe(this.entries,e,1),!!~e},"delete")};zH.exports={getConstructor:o(function(t,e,r,n){var i=t(function(l,c){$Le(l,a),ULe(l,{type:e,id:KLe++,frozen:null}),_Le(c)||jLe(c,l[n],{that:l,AS_ENTRIES:r})}),a=i.prototype,s=zLe(e),u=o(function(l,c,f){var d=s(l),p=ud(BLe(c),!0);return p===!0?ld(d).set(c,f):p[d.id]=f,l},"define");return $H(a,{delete:o(function(l){var c=s(this);if(!HS(l))return!1;var f=ud(l);return f===!0?ld(c).delete(l):f&&BH(f,c.id)&&delete f[c.id]},"delete"),has:o(function(c){var f=s(this);if(!HS(c))return!1;var d=ud(c);return d===!0?ld(f).has(c):d&&BH(d,f.id)},"has")}),$H(a,r?{get:o(function(c){var f=s(this);if(HS(c)){var d=ud(c);if(d===!0)return ld(f).get(c);if(d)return d[f.id]}},"get"),set:o(function(c,f){return u(this,c,f)},"set")}:{add:o(function(c){return u(this,c,!0)},"add")}),i},"getConstructor")}});var XH=h(()=>{"use strict";var GLe=Vt(),HH=w(),hd=E(),VH=Pr(),JLe=kn(),YLe=Do(),WH=WS(),cd=_(),fd=te().enforce,XLe=O(),QLe=Wv(),pu=Object,ZLe=Array.isArray,dd=pu.isExtensible,KH=pu.isFrozen,e2e=pu.isSealed,GH=pu.freeze,r2e=pu.seal,t2e=!HH.ActiveXObject&&"ActiveXObject"in HH,du,JH=o(function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakMap")},"wrapper"),YH=YLe("WeakMap",JH,WH),is=YH.prototype,pd=hd(is.set),n2e=o(function(){return GLe&&XLe(function(){var t=GH([]);return pd(new YH,t,1),!KH(t)})},"hasMSEdgeFreezingBug");QLe&&(t2e?(du=WH.getConstructor(JH,"WeakMap",!0),JLe.enable(),KS=hd(is.delete),hu=hd(is.has),GS=hd(is.get),VH(is,{delete:o(function(t){if(cd(t)&&!dd(t)){var e=fd(this);return e.frozen||(e.frozen=new du),KS(this,t)||e.frozen.delete(t)}return KS(this,t)},"delete"),has:o(function(e){if(cd(e)&&!dd(e)){var r=fd(this);return r.frozen||(r.frozen=new du),hu(this,e)||r.frozen.has(e)}return hu(this,e)},"has"),get:o(function(e){if(cd(e)&&!dd(e)){var r=fd(this);return r.frozen||(r.frozen=new du),hu(this,e)?GS(this,e):r.frozen.get(e)}return GS(this,e)},"get"),set:o(function(e,r){if(cd(e)&&!dd(e)){var n=fd(this);n.frozen||(n.frozen=new du),hu(this,e)?pd(this,e,r):n.frozen.set(e,r)}else pd(this,e,r);return this},"set")})):n2e()&&VH(is,{set:o(function(e,r){var n;return ZLe(e)&&(KH(e)?n=GH:e2e(e)&&(n=r2e)),pd(this,e,r),n&&n(e),this},"set")}));var KS,hu,GS});var vd=h(()=>{"use strict";XH()});var QH=h(()=>{"use strict";var i2e=Do(),a2e=WS();i2e("WeakSet",function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakSet")},a2e)});var ZH=h(()=>{"use strict";QH()});var e3=h(()=>{"use strict";$g()});var n3=h(()=>{"use strict";var s2e=m(),o2e=w(),u2e=Be(),r3=we(),md=Cr(),l2e=di(),t3=Se(),gd=Ae(),JS=dr(),c2e=kc(),f2e=mi(),d2e=F(),h2e=O(),p2e=G(),as=o2e.SuppressedError,v2e=d2e("toStringTag"),yd=Error,g2e=!!as&&as.length!==3,m2e=!!as&&h2e(function(){return new as(1,2,3,{cause:4}).cause===4}),qd=g2e||m2e,ki=o(function(e,r,n){var i=u2e(vu,this),a;return md?a=qd&&(!i||r3(this)===vu)?new as:md(new yd,i?r3(this):vu):(a=i?this:t3(vu),gd(a,v2e,"Error")),n!==void 0&&gd(a,"message",f2e(n)),c2e(a,ki,a.stack,1),gd(a,"error",e),gd(a,"suppressed",r),a},"SuppressedError");md?md(ki,yd):l2e(ki,yd,{name:!0});var vu=ki.prototype=qd?as.prototype:t3(yd.prototype,{constructor:JS(1,ki),message:JS(1,""),name:JS(1,"SuppressedError")});qd&&!p2e&&(vu.constructor=ki);s2e({global:!0,constructor:!0,arity:3,forced:qd},{SuppressedError:ki})});var ss=h((cEr,f3)=>{"use strict";var u3=w(),l3=eo(),c3=H(),y2e=Se(),bd=we(),q2e=ie(),b2e=F(),S2e=G(),i3="USE_FUNCTION_CONSTRUCTOR",a3=b2e("asyncIterator"),s3=u3.AsyncIterator,o3=l3.AsyncIteratorPrototype,bt,YS;if(o3)bt=o3;else if(c3(s3))bt=s3.prototype;else if(l3[i3]||u3[i3])try{YS=bd(bd(bd(Function("return async function*(){}()")()))),bd(YS)===Object.prototype&&(bt=YS)}catch(t){}bt?S2e&&(bt=y2e(bt)):bt={};c3(bt[a3])||q2e(bt,a3,function(){return this});f3.exports=bt});var gu=h((fEr,b3)=>{"use strict";var d3=C(),h3=R(),E2e=Se(),O2e=be(),T2e=Pr(),g3=te(),x2e=$(),I2e=ss(),m3=Me(),XS=x2e("Promise"),y3="AsyncFromSyncIterator",A2e=g3.set,p3=g3.getterFor(y3),v3=o(function(t,e,r){var n=t.done;XS.resolve(t.value).then(function(i){e(m3(i,n))},r)},"asyncFromSyncIteratorContinuation"),q3=o(function(e){e.type=y3,A2e(this,e)},"AsyncIterator");q3.prototype=T2e(E2e(I2e),{next:o(function(){var e=p3(this);return new XS(function(r,n){var i=h3(d3(e.next,e.iterator));v3(i,r,n)})},"next"),return:o(function(){var t=p3(this).iterator;return new XS(function(e,r){var n=O2e(t,"return");if(n===void 0)return e(m3(void 0,!0));var i=h3(d3(n,t));v3(i,e,r)})},"return")});b3.exports=q3});var E3=h((hEr,S3)=>{"use strict";var w2e=C(),R2e=gu(),C2e=R(),M2e=Sn(),k2e=he(),P2e=be(),N2e=F(),D2e=N2e("asyncIterator");S3.exports=function(t,e){var r=arguments.length<2?P2e(t,D2e):e;return r?C2e(w2e(r,t)):new R2e(k2e(M2e(t)))}});var us=h((pEr,O3)=>{"use strict";var L2e=C(),F2e=$(),$2e=be();O3.exports=function(t,e,r,n){try{var i=$2e(t,"return");if(i)return F2e("Promise").resolve(L2e(i,t)).then(function(){e(r)},function(a){n(a)})}catch(a){return n(a)}e(r)}});var Pi=h((vEr,T3)=>{"use strict";var B2e=C(),_2e=B(),QS=R(),j2e=_(),U2e=En(),z2e=$(),H2e=he(),ZS=us(),mu=o(function(t){var e=t===0,r=t===1,n=t===2,i=t===3;return function(a,s,u){QS(a);var l=s!==void 0;(l||!e)&&_2e(s);var c=H2e(a),f=z2e("Promise"),d=c.iterator,p=c.next,v=0;return new f(function(g,y){var q=o(function(S){ZS(d,y,S,y)},"ifAbruptCloseAsyncIterator"),b=o(function(){try{if(l)try{U2e(v)}catch(S){q(S)}f.resolve(QS(B2e(p,d))).then(function(S){try{if(QS(S).done)e?(u.length=v,g(u)):g(i?!1:n||void 0);else{var A=S.value;try{if(l){var k=s(A,v),N=o(function(L){if(r)b();else if(n)L?b():ZS(d,g,!1,y);else if(e)try{u[v++]=L,b()}catch(re){q(re)}else L?ZS(d,g,i||A,y):b()},"handler");j2e(k)?f.resolve(k).then(N,q):N(k)}else u[v++]=A,b()}catch(L){q(L)}}}catch(L){y(L)}},y)}catch(S){y(S)}},"loop");b()})}},"createMethod");T3.exports={toArray:mu(0),forEach:mu(1),every:mu(2),some:mu(3),find:mu(4)}});var e0=h((mEr,w3)=>{"use strict";var V2e=se(),x3=E(),W2e=J(),K2e=rt(),G2e=E3(),J2e=Sn(),Y2e=he(),X2e=ht(),Q2e=be(),Z2e=$(),eFe=vm(),rFe=F(),tFe=gu(),nFe=Pi().toArray,iFe=rFe("asyncIterator"),I3=x3(eFe("Array","values")),aFe=x3(I3([]).next),sFe=o(function(){return new A3(this)},"safeArrayIterator"),A3=o(function(t){this.iterator=I3(t)},"SafeArrayIterator");A3.prototype.next=function(){return aFe(this.iterator)};w3.exports=o(function(e){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,a=n>2?arguments[2]:void 0;return new(Z2e("Promise"))(function(s){var u=W2e(e);i!==void 0&&(i=V2e(i,a));var l=Q2e(u,iFe),c=l?void 0:X2e(u)||sFe,f=K2e(r)?new r:[],d=l?G2e(u,l):new tFe(Y2e(J2e(u,c)));s(nFe(d,i,f))})},"fromAsync")});var C3=h(()=>{"use strict";var oFe=m(),uFe=e0(),lFe=O(),R3=Array.fromAsync,cFe=!R3||lFe(function(){var t=0;return R3.call(function(){return t++,[]},{length:0}),t!==1});oFe({target:"Array",stat:!0,forced:cFe},{fromAsync:uFe})});var M3=h(()=>{"use strict";Ug()});var k3=h(()=>{"use strict";var fFe=m(),dFe=Ee().filterReject,hFe=ye();fFe({target:"Array",proto:!0,forced:!0},{filterOut:o(function(e){return dFe(this,e,arguments.length>1?arguments[1]:void 0)},"filterOut")});hFe("filterOut")});var P3=h(()=>{"use strict";var pFe=m(),vFe=Ee().filterReject,gFe=ye();pFe({target:"Array",proto:!0,forced:!0},{filterReject:o(function(e){return vFe(this,e,arguments.length>1?arguments[1]:void 0)},"filterReject")});gFe("filterReject")});var N3=h(()=>{"use strict";Kg()});var D3=h(()=>{"use strict";Gg()});var Sd=h((PEr,L3)=>{"use strict";var mFe=se(),yFe=E(),qFe=Pt(),bFe=J(),SFe=ft(),EFe=Q(),OFe=Se(),TFe=_t(),xFe=Array,IFe=yFe([].push);L3.exports=function(t,e,r,n){for(var i=bFe(t),a=qFe(i),s=mFe(e,r),u=OFe(null),l=EFe(a),c=0,f,d,p;l>c;c++)p=a[c],d=SFe(s(p,c,i)),d in u?IFe(u[d],p):u[d]=[p];if(n&&(f=n(i),f!==xFe))for(d in u)u[d]=TFe(f,u[d]);return u}});var F3=h(()=>{"use strict";var AFe=m(),wFe=Sd(),RFe=ye();AFe({target:"Array",proto:!0},{group:o(function(e){var r=arguments.length>1?arguments[1]:void 0;return wFe(this,e,r)},"group")});RFe("group")});var $3=h(()=>{"use strict";var CFe=m(),MFe=Sd(),kFe=kr(),PFe=ye();CFe({target:"Array",proto:!0,forced:!kFe("groupBy")},{groupBy:o(function(e){var r=arguments.length>1?arguments[1]:void 0;return MFe(this,e,r)},"groupBy")});PFe("groupBy")});var r0=h((_Er,B3)=>{"use strict";var NFe=se(),DFe=E(),LFe=Pt(),FFe=J(),$Fe=Q(),Ed=ke(),BFe=Ed.Map,_Fe=Ed.get,jFe=Ed.has,UFe=Ed.set,zFe=DFe([].push);B3.exports=o(function(e){for(var r=FFe(this),n=LFe(r),i=NFe(e,arguments.length>1?arguments[1]:void 0),a=new BFe,s=$Fe(n),u=0,l,c;s>u;u++)c=n[u],l=i(c,u,r),jFe(a,l)?zFe(_Fe(a,l),c):UFe(a,l,[c]);return a},"groupToMap")});var _3=h(()=>{"use strict";var HFe=m(),VFe=kr(),WFe=ye(),KFe=r0(),GFe=G();HFe({target:"Array",proto:!0,name:"groupToMap",forced:GFe||!VFe("groupByToMap")},{groupByToMap:KFe});WFe("groupByToMap")});var j3=h(()=>{"use strict";var JFe=m(),YFe=ye(),XFe=r0(),QFe=G();JFe({target:"Array",proto:!0,forced:QFe},{groupToMap:XFe});YFe("groupToMap")});var H3=h(()=>{"use strict";var ZFe=m(),e$e=et(),U3=Object.isFrozen,z3=o(function(t,e){if(!U3||!e$e(t)||!U3(t))return!1;for(var r=0,n=t.length,i;r<n;)if(i=t[r++],!(typeof i=="string"||e&&i===void 0))return!1;return n!==0},"isFrozenStringArray");ZFe({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:o(function(e){if(!z3(e,!0))return!1;var r=e.raw;return r.length===e.length&&z3(r,!1)},"isTemplateObject")})});var V3=h(()=>{"use strict";var r$e=D(),t$e=ye(),n$e=J(),i$e=Q(),a$e=fe();r$e&&(a$e(Array.prototype,"lastIndex",{configurable:!0,get:o(function(){var e=n$e(this),r=i$e(e);return r===0?0:r-1},"lastIndex")}),t$e("lastIndex"))});var G3=h(()=>{"use strict";var s$e=D(),o$e=ye(),W3=J(),K3=Q(),u$e=fe();s$e&&(u$e(Array.prototype,"lastItem",{configurable:!0,get:o(function(){var e=W3(this),r=K3(e);return r===0?void 0:e[r-1]},"lastItem"),set:o(function(e){var r=W3(this),n=K3(r);return r[n===0?0:n-1]=e},"lastItem")}),o$e("lastItem"))});var J3=h(()=>{"use strict";pm()});var Y3=h(()=>{"use strict";gm()});var X3=h(()=>{"use strict";mm()});var Nr=h((oOr,tV)=>{"use strict";var Q3=E(),l$e=Kt(),Z3=ke(),c$e=Z3.Map,eV=Z3.proto,f$e=Q3(eV.forEach),rV=Q3(eV.entries),d$e=rV(new c$e).next;tV.exports=function(t,e,r){return r?l$e({iterator:rV(t),next:d$e},function(n){return e(n[1],n[0])}):f$e(t,e)}});var Od=h((uOr,nV)=>{"use strict";var h$e=E(),p$e=B(),v$e=xe(),g$e=Q(),m$e=J(),t0=ke(),y$e=Nr(),q$e=t0.Map,b$e=t0.has,S$e=t0.set,E$e=h$e([].push);nV.exports=o(function(e){var r=m$e(this),n=g$e(r),i=[],a=new q$e,s=v$e(e)?function(f){return f}:p$e(e),u,l,c;for(u=0;u<n;u++)l=r[u],c=s(l),b$e(a,c)||S$e(a,c,l);return y$e(a,function(f){E$e(i,f)}),i},"uniqueBy")});var iV=h(()=>{"use strict";var O$e=m(),T$e=ye(),x$e=Od();O$e({target:"Array",proto:!0,forced:!0},{uniqueBy:x$e});T$e("uniqueBy")});var aV=h(()=>{"use strict";qm()});var sV=h(()=>{"use strict";jm()});var oV=h(()=>{"use strict";ty()});var uV=h(()=>{"use strict";ny()});var i0=h((bOr,hV)=>{"use strict";var I$e=$(),A$e=C(),w$e=E(),R$e=se(),C$e=R(),M$e=B(),fV=xe(),n0=be(),dV=F(),k$e=dV("asyncDispose"),lV=dV("dispose"),P$e=w$e([].push),N$e=o(function(t,e){if(e==="async-dispose"){var r=n0(t,k$e);return r!==void 0||(r=n0(t,lV),r===void 0)?r:function(){var n=this,i=I$e("Promise");return new i(function(a){A$e(r,n),a(void 0)})}}return n0(t,lV)},"getDisposeMethod"),cV=o(function(t,e,r){return arguments.length<3&&!fV(t)&&(r=M$e(N$e(C$e(t),e))),r===void 0?function(){}:R$e(r,t)},"createDisposableResource");hV.exports=function(t,e,r,n){var i;if(arguments.length<4){if(fV(e)&&r==="sync-dispose")return;i=cV(e,r)}else i=cV(void 0,r,n);P$e(t.stack,i)}});var bV=h(()=>{"use strict";var D$e=m(),xd=D(),gV=$(),pV=B(),L$e=Qe(),mV=ie(),F$e=Pr(),$$e=fe(),yV=F(),qV=te(),a0=i0(),vV=gV("Promise"),B$e=gV("SuppressedError"),_$e=ReferenceError,j$e=yV("asyncDispose"),U$e=yV("toStringTag"),Ad="AsyncDisposableStack",z$e=qV.set,Id=qV.getterFor(Ad),s0="async-dispose",yu="disposed",H$e="pending",Td=o(function(t){var e=Id(t);if(e.state===yu)throw new _$e(Ad+" already disposed");return e},"getPendingAsyncDisposableStackInternalState"),o0=o(function(){z$e(L$e(this,ls),{type:Ad,state:H$e,stack:[]}),xd||(this.disposed=!1)},"AsyncDisposableStack"),ls=o0.prototype;F$e(ls,{disposeAsync:o(function(){var e=this;return new vV(function(r,n){var i=Id(e);if(i.state===yu)return r(void 0);i.state=yu,xd||(e.disposed=!0);var a=i.stack,s=a.length,u=!1,l,c=o(function(d){u?l=new B$e(d,l):(u=!0,l=d),f()},"handleError"),f=o(function(){if(s){var d=a[--s];a[s]=null;try{vV.resolve(d()).then(f,c)}catch(p){c(p)}}else i.stack=null,u?n(l):r(void 0)},"loop");f()})},"disposeAsync"),use:o(function(e){return a0(Td(this),e,s0),e},"use"),adopt:o(function(e,r){var n=Td(this);return pV(r),a0(n,void 0,s0,function(){return r(e)}),e},"adopt"),defer:o(function(e){var r=Td(this);pV(e),a0(r,void 0,s0,e)},"defer"),move:o(function(){var e=Td(this),r=new o0;return Id(r).stack=e.stack,e.stack=[],e.state=yu,xd||(this.disposed=!0),r},"move")});xd&&$$e(ls,"disposed",{configurable:!0,get:o(function(){return Id(this).state===yu},"disposed")});mV(ls,j$e,ls.disposeAsync,{name:"disposeAsync"});mV(ls,U$e,Ad,{nonWritable:!0});D$e({global:!0,constructor:!0},{AsyncDisposableStack:o0})});var xV=h(()=>{"use strict";var V$e=m(),W$e=Qe(),K$e=we(),EV=Ae(),OV=V(),G$e=F(),Bn=ss(),TV=G(),SV=G$e("toStringTag"),J$e=TypeError,u0=o(function(){if(W$e(this,Bn),K$e(this)===Bn)throw new J$e("Abstract class AsyncIterator not directly constructable")},"AsyncIterator");u0.prototype=Bn;OV(Bn,SV)||EV(Bn,SV,"AsyncIterator");(TV||!OV(Bn,"constructor")||Bn.constructor===Object)&&EV(Bn,"constructor",u0);V$e({global:!0,constructor:!0,forced:TV},{AsyncIterator:u0})});var Ni=h((wOr,PV)=>{"use strict";var Y$e=C(),wd=Pn(),IV=R(),X$e=Se(),Q$e=Ae(),Z$e=Pr(),eBe=F(),wV=te(),rBe=$(),tBe=be(),nBe=ss(),l0=Me(),AV=$t(),St=rBe("Promise"),iBe=eBe("toStringTag"),RV="AsyncIteratorHelper",CV="WrapForValidAsyncIterator",aBe=wV.set,MV=o(function(t){var e=!t,r=wV.getterFor(t?CV:RV),n=o(function(i){var a=wd(function(){return r(i)}),s=a.error,u=a.value;return s||e&&u.done?{exit:!0,value:s?St.reject(u):St.resolve(l0(void 0,!0))}:{exit:!1,value:u}},"getStateOrEarlyExit");return Z$e(X$e(nBe),{next:o(function(){var a=n(this),s=a.value;if(a.exit)return s;var u=wd(function(){return IV(s.nextHandler(St))}),l=u.error,c=u.value;return l&&(s.done=!0),l?St.reject(c):St.resolve(c)},"next"),return:o(function(){var i=n(this),a=i.value;if(i.exit)return a;a.done=!0;var s=a.iterator,u,l,c=wd(function(){if(a.inner)try{AV(a.inner.iterator,"normal")}catch(f){return AV(s,"throw",f)}return tBe(s,"return")});return u=l=c.value,c.error?St.reject(l):u===void 0?St.resolve(l0(void 0,!0)):(c=wd(function(){return Y$e(u,s)}),l=c.value,c.error?St.reject(l):t?St.resolve(l):St.resolve(l).then(function(f){return IV(f),l0(void 0,!0)}))},"return")})},"createAsyncIteratorProxyPrototype"),sBe=MV(!0),kV=MV(!1);Q$e(kV,iBe,"Async Iterator Helper");PV.exports=function(t,e){var r=o(function(i,a){a?(a.iterator=i.iterator,a.next=i.next):a=i,a.type=e?CV:RV,a.nextHandler=t,a.counter=0,a.done=!1,aBe(this,a)},"AsyncIterator");return r.prototype=e?sBe:kV,r}});var f0=h((COr,DV)=>{"use strict";var oBe=C(),uBe=B(),c0=R(),lBe=_(),cBe=he(),fBe=Ni(),NV=Me(),dBe=us(),hBe=fBe(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(i,a){var s=o(function(l){e.done=!0,a(l)},"doneAndReject"),u=o(function(l){dBe(r,s,l,s)},"ifAbruptCloseAsyncIterator");t.resolve(c0(oBe(e.next,r))).then(function(l){try{if(c0(l).done)e.done=!0,i(NV(void 0,!0));else{var c=l.value;try{var f=n(c,e.counter++),d=o(function(p){i(NV(p,!1))},"handler");lBe(f)?t.resolve(f).then(d,u):d(f)}catch(p){u(p)}}}catch(p){s(p)}},s)})});DV.exports=o(function(e){return c0(this),uBe(e),new hBe(cBe(this),{mapper:e})},"map")});var d0=h((kOr,LV)=>{"use strict";var pBe=C(),vBe=f0(),gBe=o(function(t,e){return[e,t]},"callback");LV.exports=o(function(){return pBe(vBe,this,gBe)},"indexed")});var FV=h(()=>{"use strict";var mBe=m(),yBe=d0();mBe({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:yBe})});var jV=h(()=>{"use strict";var qBe=C(),bBe=ie(),SBe=$(),EBe=be(),OBe=V(),TBe=F(),$V=ss(),BV=TBe("asyncDispose"),_V=SBe("Promise");OBe($V,BV)||bBe($V,BV,function(){var t=this;return new _V(function(e,r){var n=EBe(t,"return");n?_V.resolve(qBe(n,t)).then(function(){e(void 0)},r):e(void 0)})})});var zV=h(()=>{"use strict";var xBe=m(),IBe=C(),h0=R(),ABe=he(),wBe=No(),RBe=La(),CBe=Ni(),UV=Me(),MBe=G(),kBe=CBe(function(t){var e=this;return new t(function(r,n){var i=o(function(s){e.done=!0,n(s)},"doneAndReject"),a=o(function(){try{t.resolve(h0(IBe(e.next,e.iterator))).then(function(s){try{h0(s).done?(e.done=!0,r(UV(void 0,!0))):e.remaining?(e.remaining--,a()):r(UV(s.value,!1))}catch(u){i(u)}},i)}catch(s){i(s)}},"loop");a()})});xBe({target:"AsyncIterator",proto:!0,real:!0,forced:MBe},{drop:o(function(e){h0(this);var r=RBe(wBe(+e));return new kBe(ABe(this),{remaining:r})},"drop")})});var HV=h(()=>{"use strict";var PBe=m(),NBe=Pi().every;PBe({target:"AsyncIterator",proto:!0,real:!0},{every:o(function(e){return NBe(this,e)},"every")})});var WV=h(()=>{"use strict";var DBe=m(),LBe=C(),FBe=B(),p0=R(),$Be=_(),BBe=he(),_Be=Ni(),VV=Me(),jBe=us(),UBe=G(),zBe=_Be(function(t){var e=this,r=e.iterator,n=e.predicate;return new t(function(i,a){var s=o(function(c){e.done=!0,a(c)},"doneAndReject"),u=o(function(c){jBe(r,s,c,s)},"ifAbruptCloseAsyncIterator"),l=o(function(){try{t.resolve(p0(LBe(e.next,r))).then(function(c){try{if(p0(c).done)e.done=!0,i(VV(void 0,!0));else{var f=c.value;try{var d=n(f,e.counter++),p=o(function(v){v?i(VV(f,!1)):l()},"handler");$Be(d)?t.resolve(d).then(p,u):p(d)}catch(v){u(v)}}}catch(v){s(v)}},s)}catch(c){s(c)}},"loop");l()})});DBe({target:"AsyncIterator",proto:!0,real:!0,forced:UBe},{filter:o(function(e){return p0(this),FBe(e),new zBe(BBe(this),{predicate:e})},"filter")})});var KV=h(()=>{"use strict";var HBe=m(),VBe=Pi().find;HBe({target:"AsyncIterator",proto:!0,real:!0},{find:o(function(e){return VBe(this,e)},"find")})});var v0=h((YOr,YV)=>{"use strict";var WBe=C(),KBe=H(),GV=R(),JV=he(),GBe=ht(),JBe=be(),YBe=F(),XBe=gu(),QBe=YBe("asyncIterator");YV.exports=function(t){var e=GV(t),r=!0,n=JBe(e,QBe),i;return KBe(n)||(n=GBe(e),r=!1),n!==void 0?i=WBe(n,e):(i=e,r=!0),GV(i),JV(r?i:new XBe(JV(i)))}});var ZV=h(()=>{"use strict";var ZBe=m(),XV=C(),e_e=B(),qu=R(),r_e=_(),t_e=he(),n_e=Ni(),QV=Me(),i_e=v0(),a_e=us(),s_e=G(),o_e=n_e(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(i,a){var s=o(function(f){e.done=!0,a(f)},"doneAndReject"),u=o(function(f){a_e(r,s,f,s)},"ifAbruptCloseAsyncIterator"),l=o(function(){try{t.resolve(qu(XV(e.next,r))).then(function(f){try{if(qu(f).done)e.done=!0,i(QV(void 0,!0));else{var d=f.value;try{var p=n(d,e.counter++),v=o(function(g){try{e.inner=i_e(g),c()}catch(y){u(y)}},"handler");r_e(p)?t.resolve(p).then(v,u):v(p)}catch(g){u(g)}}}catch(g){s(g)}},s)}catch(f){s(f)}},"outerLoop"),c=o(function(){var f=e.inner;if(f)try{t.resolve(qu(XV(f.next,f.iterator))).then(function(d){try{qu(d).done?(e.inner=null,l()):i(QV(d.value,!1))}catch(p){u(p)}},u)}catch(d){u(d)}else l()},"innerLoop");c()})});ZBe({target:"AsyncIterator",proto:!0,real:!0,forced:s_e},{flatMap:o(function(e){return qu(this),e_e(e),new o_e(t_e(this),{mapper:e,inner:null})},"flatMap")})});var eW=h(()=>{"use strict";var u_e=m(),l_e=Pi().forEach;u_e({target:"AsyncIterator",proto:!0,real:!0},{forEach:o(function(e){return l_e(this,e)},"forEach")})});var g0=h((nTr,rW)=>{"use strict";var c_e=C(),f_e=Ni();rW.exports=f_e(function(){return c_e(this.next,this.iterator)},!0)});var tW=h(()=>{"use strict";var d_e=m(),h_e=J(),p_e=Be(),v_e=v0(),g_e=ss(),m_e=g0(),y_e=G();d_e({target:"AsyncIterator",stat:!0,forced:y_e},{from:o(function(e){var r=v_e(typeof e=="string"?h_e(e):e);return p_e(g_e,r.iterator)?r.iterator:new m_e(r)},"from")})});var nW=h(()=>{"use strict";var q_e=m(),b_e=d0();q_e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:b_e})});var iW=h(()=>{"use strict";var S_e=m(),E_e=f0(),O_e=G();S_e({target:"AsyncIterator",proto:!0,real:!0,forced:O_e},{map:E_e})});var aW=h(()=>{"use strict";var T_e=m(),x_e=C(),I_e=B(),m0=R(),A_e=_(),w_e=$(),R_e=he(),C_e=us(),y0=w_e("Promise"),M_e=TypeError;T_e({target:"AsyncIterator",proto:!0,real:!0},{reduce:o(function(e){m0(this),I_e(e);var r=R_e(this),n=r.iterator,i=r.next,a=arguments.length<2,s=a?void 0:arguments[1],u=0;return new y0(function(l,c){var f=o(function(p){C_e(n,c,p,c)},"ifAbruptCloseAsyncIterator"),d=o(function(){try{y0.resolve(m0(x_e(i,n))).then(function(p){try{if(m0(p).done)a?c(new M_e("Reduce of empty iterator with no initial value")):l(s);else{var v=p.value;if(a)a=!1,s=v,d();else try{var g=e(s,v,u),y=o(function(q){s=q,d()},"handler");A_e(g)?y0.resolve(g).then(y,f):y(g)}catch(q){f(q)}}u++}catch(q){c(q)}},c)}catch(p){c(p)}},"loop");d()})},"reduce")})});var sW=h(()=>{"use strict";var k_e=m(),P_e=Pi().some;k_e({target:"AsyncIterator",proto:!0,real:!0},{some:o(function(e){return P_e(this,e)},"some")})});var lW=h(()=>{"use strict";var N_e=m(),oW=C(),uW=R(),D_e=he(),L_e=No(),F_e=La(),$_e=Ni(),q0=Me(),B_e=G(),__e=$_e(function(t){var e=this,r=e.iterator,n;if(!e.remaining--){var i=q0(void 0,!0);return e.done=!0,n=r.return,n!==void 0?t.resolve(oW(n,r,void 0)).then(function(){return i}):i}return t.resolve(oW(e.next,r)).then(function(a){return uW(a).done?(e.done=!0,q0(void 0,!0)):q0(a.value,!1)}).then(null,function(a){throw e.done=!0,a})});N_e({target:"AsyncIterator",proto:!0,real:!0,forced:B_e},{take:o(function(e){uW(this);var r=F_e(L_e(+e));return new __e(D_e(this),{remaining:r})},"take")})});var cW=h(()=>{"use strict";var j_e=m(),U_e=Pi().toArray;j_e({target:"AsyncIterator",proto:!0,real:!0},{toArray:o(function(){return U_e(this,void 0,[])},"toArray")})});var Cd=h((OTr,gW)=>{"use strict";var dW=te(),z_e=On(),b0=Me(),H_e=xe(),V_e=_(),W_e=fe(),hW=D(),bu="Incorrect Iterator.range arguments",E0="NumericRangeIterator",K_e=dW.set,pW=dW.getterFor(E0),fW=RangeError,S0=TypeError,vW=z_e(o(function(e,r,n,i,a,s){if(typeof e!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new S0(bu);if(e===1/0||e===-1/0)throw new fW(bu);var u=r>e,l=!1,c;if(n===void 0)c=void 0;else if(V_e(n))c=n.step,l=!!n.inclusive;else if(typeof n==i)c=n;else throw new S0(bu);if(H_e(c)&&(c=u?s:-s),typeof c!=i)throw new S0(bu);if(c===1/0||c===-1/0||c===a&&e!==r)throw new fW(bu);var f=e!==e||r!==r||c!==c||r>e!=c>a;K_e(this,{type:E0,start:e,end:r,step:c,inclusive:l,hitsEnd:f,currentCount:a,zero:a}),hW||(this.start=e,this.end=r,this.step=c,this.inclusive=l)},"NumericRangeIterator"),E0,o(function(){var e=pW(this);if(e.hitsEnd)return b0(void 0,!0);var r=e.start,n=e.end,i=e.step,a=r+i*e.currentCount++;a===n&&(e.hitsEnd=!0);var s=e.inclusive,u;return n>r?u=s?a>n:a>=n:u=s?n>a:n>=a,u?(e.hitsEnd=!0,b0(void 0,!0)):b0(a,!1)},"next")),Rd=o(function(t){W_e(vW.prototype,t,{get:o(function(){return pW(this)[t]},"get"),set:o(function(){},"set"),configurable:!0,enumerable:!1})},"addGetter");hW&&(Rd("start"),Rd("end"),Rd("inclusive"),Rd("step"));gW.exports=vW});var mW=h(()=>{"use strict";var G_e=m(),J_e=Cd();typeof BigInt=="function"&&G_e({target:"BigInt",stat:!0,forced:!0},{range:o(function(e,r,n){return new J_e(e,r,n,"bigint",BigInt(0),BigInt(1))},"range")})});var O0=h((wTr,SW)=>{"use strict";mf();vd();var bW=$(),Y_e=Se(),yW=_(),X_e=Object,Q_e=TypeError,Z_e=bW("Map"),eje=bW("WeakMap"),Md=o(function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=Y_e(null)},"Node");Md.prototype.get=function(t,e){return this[t]||(this[t]=e())};Md.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new eje):this.primitives||(this.primitives=new Z_e),i=n.get(e);return i||n.set(e,i=new Md),i};var qW=new Md;SW.exports=function(){var t=qW,e=arguments.length,r,n;for(r=0;r<e;r++)yW(n=arguments[r])&&(t=t.next(r,n,!0));if(this===X_e&&t===qW)throw new Q_e("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)yW(n=arguments[r])||(t=t.next(r,n,!1));return t}});var OW=h(()=>{"use strict";var rje=m(),tje=Xe(),nje=O0(),ije=$(),EW=Se(),aje=Object,sje=o(function(){var t=ije("Object","freeze");return t?t(EW(null)):EW(null)},"initializer");rje({global:!0,forced:!0},{compositeKey:o(function(){return tje(nje,aje,arguments).get("object",sje)},"compositeKey")})});var xW=h(()=>{"use strict";var oje=m(),uje=O0(),TW=$(),lje=Xe();oje({global:!0,forced:!0},{compositeSymbol:o(function(){return arguments.length===1&&typeof arguments[0]=="string"?TW("Symbol").for(arguments[0]):lje(uje,null,arguments).get("symbol",TW("Symbol"))},"compositeSymbol")})});var CW=h(()=>{"use strict";var cje=m(),fje=E(),RW=Math.pow,IW=31,dje=1023,AW=RW(2,-24),wW=.0009765625,hje=o(function(t){var e=t>>>15,r=t>>>10&IW,n=t&dje;return r===IW?n===0?e===0?1/0:-1/0:NaN:r===0?n*(e===0?AW:-AW):RW(2,r-15)*(e===0?1+n*wW:-1-n*wW)},"unpackFloat16"),pje=fje(DataView.prototype.getUint16);cje({target:"DataView",proto:!0},{getFloat16:o(function(e){var r=pje(this,e,arguments.length>1?arguments[1]:!1);return hje(r)},"getFloat16")})});var MW=h(()=>{"use strict";var vje=m(),gje=E(),mje=gje(DataView.prototype.getUint8);vje({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:o(function(e){return mje(this,e)},"getUint8Clamped")})});var T0=h((UTr,kW)=>{"use strict";var yje=nr(),qje=TypeError;kW.exports=function(t){if(yje(t)==="DataView")return t;throw new qje("Argument is not a DataView")}});var NW=h(()=>{"use strict";var bje=m(),Sje=E(),Eje=T0(),Oje=Ra(),Tje=Vy(),PW=bm(),xje=Math.pow,Ije=65520,Aje=61005353927612305e-21,wje=16777216,x0=1024,Rje=o(function(t){if(t!==t)return 32256;if(t===0)return(1/t===-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=Ije)return e<<15|31744;if(t<Aje)return e<<15|PW(t*wje);var r=Tje(t)|0;if(r===-15)return e<<15|x0;var n=PW((t*xje(2,-r)-1)*x0);return n===x0?e<<15|r+16<<10:e<<15|r+15<<10|n},"packFloat16"),Cje=Sje(DataView.prototype.setUint16);bje({target:"DataView",proto:!0},{setFloat16:o(function(e,r){Eje(this);var n=Oje(e),i=Rje(+r);return Cje(this,n,i,arguments.length>2?arguments[2]:!1)},"setFloat16")})});var DW=h(()=>{"use strict";var Mje=m(),kje=E(),Pje=T0(),Nje=Ra(),Dje=hS(),Lje=kje(DataView.prototype.setUint8);Mje({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:o(function(e,r){Pje(this);var n=Nje(e);return Lje(this,n,Dje(r))},"setUint8Clamped")})});var _W=h(()=>{"use strict";var Fje=m(),Pd=D(),$je=$(),LW=B(),Bje=Qe(),FW=ie(),_je=Pr(),jje=fe(),$W=F(),BW=te(),I0=i0(),Uje=$je("SuppressedError"),zje=ReferenceError,Hje=$W("dispose"),Vje=$W("toStringTag"),Dd="DisposableStack",Wje=BW.set,Nd=BW.getterFor(Dd),A0="sync-dispose",Su="disposed",Kje="pending",kd=o(function(t){var e=Nd(t);if(e.state===Su)throw new zje(Dd+" already disposed");return e},"getPendingDisposableStackInternalState"),w0=o(function(){Wje(Bje(this,cs),{type:Dd,state:Kje,stack:[]}),Pd||(this.disposed=!1)},"DisposableStack"),cs=w0.prototype;_je(cs,{dispose:o(function(){var e=Nd(this);if(e.state!==Su){e.state=Su,Pd||(this.disposed=!0);for(var r=e.stack,n=r.length,i=!1,a;n;){var s=r[--n];r[n]=null;try{s()}catch(u){i?a=new Uje(u,a):(i=!0,a=u)}}if(e.stack=null,i)throw a}},"dispose"),use:o(function(e){return I0(kd(this),e,A0),e},"use"),adopt:o(function(e,r){var n=kd(this);return LW(r),I0(n,void 0,A0,function(){r(e)}),e},"adopt"),defer:o(function(e){var r=kd(this);LW(e),I0(r,void 0,A0,e)},"defer"),move:o(function(){var e=kd(this),r=new w0;return Nd(r).stack=e.stack,e.stack=[],e.state=Su,Pd||(this.disposed=!0),r},"move")});Pd&&jje(cs,"disposed",{configurable:!0,get:o(function(){return Nd(this).state===Su},"disposed")});FW(cs,Hje,cs.dispose,{name:"dispose"});FW(cs,Vje,Dd,{nonWritable:!0});Fje({global:!0,constructor:!0},{DisposableStack:w0})});var HW=h(()=>{"use strict";var Gje=m(),UW=$(),Jje=_(),Yje=nr(),Xje=O(),zW="Error",C0="DOMException",Qje=Object.setPrototypeOf||{}.__proto__,jW=UW(C0),R0=Error,Ld=R0.isError,Zje=!Ld||!Qje||Xje(function(){return jW&&!Ld(new jW(C0))||!Ld(new R0(zW,{cause:o(function(){},"cause")}))||Ld(UW("Object","create")(R0.prototype))});Gje({target:"Error",stat:!0,sham:!0,forced:Zje},{isError:o(function(e){if(!Jje(e))return!1;var r=Yje(e);return r===zW||r===C0},"isError")})});var M0=h((rxr,VW)=>{"use strict";var eUe=E(),rUe=B();VW.exports=o(function(){return eUe(rUe(this))},"demethodize")});var WW=h(()=>{"use strict";var tUe=m(),nUe=M0();tUe({target:"Function",proto:!0,forced:!0},{demethodize:nUe})});var GW=h(()=>{"use strict";var iUe=m(),aUe=E(),sUe=H(),oUe=no(),uUe=V(),lUe=D(),cUe=Object.getOwnPropertyDescriptor,KW=/^\s*class\b/,fUe=aUe(KW.exec),dUe=o(function(t){try{if(!lUe||!fUe(KW,oUe(t)))return!1}catch(r){}var e=cUe(t,"prototype");return!!e&&uUe(e,"writable")&&!e.writable},"isClassConstructor");iUe({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:o(function(e){return sUe(e)&&!dUe(e)},"isCallable")})});var JW=h(()=>{"use strict";var hUe=m(),pUe=rt();hUe({target:"Function",stat:!0,forced:!0},{isConstructor:pUe})});var QW=h(()=>{"use strict";var vUe=F(),gUe=oe().f,YW=vUe("metadata"),XW=Function.prototype;XW[YW]===void 0&&gUe(XW,YW,{value:null})});var ZW=h(()=>{"use strict";var mUe=m(),yUe=M0();mUe({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:yUe})});var e4=h(()=>{"use strict";cy()});var r4=h(()=>{"use strict";vy()});var k0=h((yxr,t4)=>{"use strict";var qUe=C(),bUe=Ay(),SUe=o(function(t,e){return[e,t]},"callback");t4.exports=o(function(){return qUe(bUe,this,SUe)},"indexed")});var n4=h(()=>{"use strict";var EUe=m(),OUe=k0();EUe({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:OUe})});var s4=h(()=>{"use strict";var TUe=m(),i4=C(),xUe=B(),a4=R(),IUe=ht(),AUe=Mn(),wUe=Me(),RUe=Array,CUe=AUe(function(){for(;;){var t=this.iterator;if(!t){var e=this.nextIterableIndex++,r=this.iterables;if(e>=r.length)return this.done=!0,wUe(void 0,!0);var n=r[e];this.iterables[e]=null,t=this.iterator=i4(n.method,n.iterable),this.next=t.next}var i=a4(i4(this.next,t));if(i.done){this.iterator=null,this.next=null;continue}return i}},!1,!0);TUe({target:"Iterator",stat:!0,forced:!0},{concat:o(function(){for(var e=arguments.length,r=RUe(e),n=0;n<e;n++){var i=a4(arguments[n]);r[n]={iterable:i,method:xUe(IUe(i))}}return new CUe({iterables:r,nextIterableIndex:0,iterator:null,next:null})},"concat")})});var l4=h(()=>{"use strict";var MUe=C(),kUe=ie(),PUe=be(),NUe=V(),DUe=F(),o4=bi().IteratorPrototype,u4=DUe("dispose");NUe(o4,u4)||kUe(o4,u4,function(){var t=PUe(this,"return");t&&MUe(t,this)})});var c4=h(()=>{"use strict";yy()});var f4=h(()=>{"use strict";qy()});var d4=h(()=>{"use strict";by()});var h4=h(()=>{"use strict";Sy()});var p4=h(()=>{"use strict";Ty()});var v4=h(()=>{"use strict";xy()});var g4=h(()=>{"use strict";Iy()});var m4=h(()=>{"use strict";var LUe=m(),FUe=k0();LUe({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:FUe})});var y4=h(()=>{"use strict";wy()});var b4=h(()=>{"use strict";var $Ue=m(),q4=Cd(),BUe=TypeError;$Ue({target:"Iterator",stat:!0,forced:!0},{range:o(function(e,r,n){if(typeof e=="number")return new q4(e,r,n,"number",0,1);if(typeof e=="bigint")return new q4(e,r,n,"bigint",BigInt(0),BigInt(1));throw new BUe("Incorrect Iterator.range arguments")},"range")})});var S4=h(()=>{"use strict";Ry()});var E4=h(()=>{"use strict";Cy()});var O4=h(()=>{"use strict";My()});var T4=h(()=>{"use strict";ky()});var I4=h(()=>{"use strict";var _Ue=m(),jUe=R(),UUe=gu(),zUe=g0(),x4=he(),HUe=G();_Ue({target:"Iterator",proto:!0,real:!0,forced:HUe},{toAsync:o(function(){return new zUe(x4(new UUe(x4(jUe(this)))))},"toAsync")})});var P0=h((aIr,A4)=>{"use strict";var VUe=O();A4.exports=!VUe(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t})});var N0=h((sIr,w4)=>{"use strict";var WUe=_(),KUe=te().get;w4.exports=o(function(e){if(!WUe(e))return!1;var r=KUe(e);return!!r&&r.type==="RawJSON"},"isRawJSON")});var R4=h(()=>{"use strict";var GUe=m(),JUe=P0(),YUe=N0();GUe({target:"JSON",stat:!0,forced:!JUe},{isRawJSON:YUe})});var L0=h((cIr,P4)=>{"use strict";var D0=E(),XUe=V(),Fd=SyntaxError,QUe=parseInt,ZUe=String.fromCharCode,eze=D0("".charAt),C4=D0("".slice),M4=D0(/./.exec),k4={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	"},rze=/^[\da-f]{4}$/i,tze=/^[\u0000-\u001F]$/;P4.exports=function(t,e){for(var r=!0,n="";e<t.length;){var i=eze(t,e);if(i==="\\"){var a=C4(t,e,e+2);if(XUe(k4,a))n+=k4[a],e+=2;else if(a==="\\u"){e+=2;var s=C4(t,e,e+4);if(!M4(rze,s))throw new Fd("Bad Unicode escape at: "+e);n+=ZUe(QUe(s,16)),e+=4}else throw new Fd('Unknown escape sequence: "'+a+'"')}else if(i==='"'){r=!1,e++;break}else{if(M4(tze,i))throw new Fd("Bad control character in string literal at: "+e);n+=i,e++}}if(r)throw new Fd("Unterminated string at: "+e);return{value:n,end:e}}});var j4=h(()=>{"use strict";var nze=m(),ize=D(),H0=w(),aze=$(),$d=E(),sze=C(),B4=H(),oze=_(),uze=et(),lze=V(),cze=U(),N4=Q(),j0=Mr(),_4=O(),fze=L0(),dze=hn(),D4=H0.JSON,hze=H0.Number,fs=H0.SyntaxError,V0=D4&&D4.parse,pze=aze("Object","keys"),vze=Object.getOwnPropertyDescriptor,je=$d("".charAt),F0=$d("".slice),$0=$d(/./.exec),L4=$d([].push),B0=/^\d$/,gze=/^[1-9]$/,mze=/^[\d-]$/,Eu=/^[\t\n\r ]$/,_0=0,F4=1,yze=o(function(t,e){t=cze(t);var r=new z0(t,0,""),n=r.parse(),i=n.value,a=r.skip(Eu,n.end);if(a<t.length)throw new fs('Unexpected extra character: "'+je(t,a)+'" after the parsed data at: '+a);return B4(e)?U0({"":i},"",e,n):i},"$parse"),U0=o(function(t,e,r,n){var i=t[e],a=n&&i===n.value,s=a&&typeof n.source=="string"?{source:n.source}:{},u,l,c,f,d;if(oze(i)){var p=uze(i),v=a?n.nodes:p?[]:{};if(p)for(u=v.length,c=N4(i),f=0;f<c;f++)$4(i,f,U0(i,""+f,r,f<u?v[f]:void 0));else for(l=pze(i),c=N4(l),f=0;f<c;f++)d=l[f],$4(i,d,U0(i,d,r,lze(v,d)?v[d]:void 0))}return sze(r,t,e,i,s)},"internalize"),$4=o(function(t,e,r){if(ize){var n=vze(t,e);if(n&&!n.configurable)return}r===void 0?delete t[e]:j0(t,e,r)},"internalizeProperty"),qze=o(function(t,e,r,n){this.value=t,this.end=e,this.source=r,this.nodes=n},"Node"),z0=o(function(t,e){this.source=t,this.index=e},"Context");z0.prototype={fork:o(function(t){return new z0(this.source,t)},"fork"),parse:o(function(){var t=this.source,e=this.skip(Eu,this.index),r=this.fork(e),n=je(t,e);if($0(mze,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case'"':return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new fs('Unexpected character: "'+n+'" at: '+e)},"parse"),node:o(function(t,e,r,n,i){return new qze(e,n,t?null:F0(this.source,r,n),i)},"node"),object:o(function(){for(var t=this.source,e=this.index+1,r=!1,n={},i={};e<t.length;){if(e=this.until(['"',"}"],e),je(t,e)==="}"&&!r){e++;break}var a=this.fork(e).string(),s=a.value;e=a.end,e=this.until([":"],e)+1,e=this.skip(Eu,e),a=this.fork(e).parse(),j0(i,s,a),j0(n,s,a.value),e=this.until([",","}"],a.end);var u=je(t,e);if(u===",")r=!0,e++;else if(u==="}"){e++;break}}return this.node(F4,n,this.index,e,i)},"object"),array:o(function(){for(var t=this.source,e=this.index+1,r=!1,n=[],i=[];e<t.length;){if(e=this.skip(Eu,e),je(t,e)==="]"&&!r){e++;break}var a=this.fork(e).parse();if(L4(i,a),L4(n,a.value),e=this.until([",","]"],a.end),je(t,e)===",")r=!0,e++;else if(je(t,e)==="]"){e++;break}}return this.node(F4,n,this.index,e,i)},"array"),string:o(function(){var t=this.index,e=fze(this.source,this.index+1);return this.node(_0,e.value,t,e.end)},"string"),number:o(function(){var t=this.source,e=this.index,r=e;if(je(t,r)==="-"&&r++,je(t,r)==="0")r++;else if($0(gze,je(t,r)))r=this.skip(B0,r+1);else throw new fs("Failed to parse number at: "+r);if(je(t,r)==="."&&(r=this.skip(B0,r+1)),je(t,r)==="e"||je(t,r)==="E"){r++,(je(t,r)==="+"||je(t,r)==="-")&&r++;var n=r;if(r=this.skip(B0,r),n===r)throw new fs("Failed to parse number's exponent value at: "+r)}return this.node(_0,hze(F0(t,e,r)),e,r)},"number"),keyword:o(function(t){var e=""+t,r=this.index,n=r+e.length;if(F0(this.source,r,n)!==e)throw new fs("Failed to parse value at: "+r);return this.node(_0,t,r,n)},"keyword"),skip:o(function(t,e){for(var r=this.source;e<r.length&&$0(t,je(r,e));e++);return e},"skip"),until:o(function(t,e){e=this.skip(Eu,e);for(var r=je(this.source,e),n=0;n<t.length;n++)if(t[n]===r)return e;throw new fs('Unexpected character: "'+r+'" at: '+e)},"until")};var bze=_4(function(){var t="9007199254740993",e;return V0(t,function(r,n,i){e=i.source}),e!==t}),Sze=dze&&!_4(function(){return 1/V0("-0 	")!==-1/0});nze({target:"JSON",stat:!0,forced:bze},{parse:o(function(e,r){return Sze&&!B4(r)?V0(e):yze(e,r)},"parse")})});var J4=h(()=>{"use strict";var K4=m(),Eze=Vt(),G4=P0(),Bd=$(),Oze=C(),J0=E(),Tze=H(),xze=N0(),Ize=U(),Aze=Mr(),wze=L0(),Rze=Eg(),Cze=vn(),Mze=te().set,kze=String,U4=SyntaxError,Pze=Bd("JSON","parse"),z4=Bd("JSON","stringify"),Nze=Bd("Object","create"),Dze=Bd("Object","freeze"),K0=J0("".charAt),W0=J0("".slice),Lze=J0([].push),G0=Cze(),H4=G0.length,V4="Unacceptable as raw JSON",W4=o(function(t){return t===" "||t==="	"||t==="\n"||t==="\r"},"isWhitespace");K4({target:"JSON",stat:!0,forced:!G4},{rawJSON:o(function(e){var r=Ize(e);if(r===""||W4(K0(r,0))||W4(K0(r,r.length-1)))throw new U4(V4);var n=Pze(r);if(typeof n=="object"&&n!==null)throw new U4(V4);var i=Nze(null);return Mze(i,{type:"RawJSON"}),Aze(i,"rawJSON",r),Eze?Dze(i):i},"rawJSON")});z4&&K4({target:"JSON",stat:!0,arity:3,forced:!G4},{stringify:o(function(e,r,n){var i=Rze(r),a=[],s=z4(e,function(v,g){var y=Tze(i)?Oze(i,this,kze(v),g):g;return xze(y)?G0+(Lze(a,y.rawJSON)-1):y},n);if(typeof s!="string")return s;for(var u="",l=s.length,c=0;c<l;c++){var f=K0(s,c);if(f==='"'){var d=wze(s,++c).end-1,p=W0(s,c,d);u+=W0(p,0,H4)===G0?a[W0(p,H4)]:'"'+p+'"',c=d}else u+=f}return u},"stringify")})});var Ue=h((mIr,Y4)=>{"use strict";var Fze=ke().has;Y4.exports=function(t){return Fze(t),t}});var X4=h(()=>{"use strict";var $ze=m(),Bze=Ue(),_ze=ke().remove;$ze({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=Bze(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=_ze(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var Z4=h(()=>{"use strict";var jze=m(),Uze=Ue(),Y0=ke(),zze=Y0.get,Hze=Y0.has,Q4=Y0.set;jze({target:"Map",proto:!0,real:!0,forced:!0},{emplace:o(function(e,r){var n=Uze(this),i,a;return Hze(n,e)?(i=zze(n,e),"update"in r&&(i=r.update(i,e,n),Q4(n,e,i)),i):(a=r.insert(e,n),Q4(n,e,a),a)},"emplace")})});var eK=h(()=>{"use strict";var Vze=m(),Wze=se(),Kze=Ue(),Gze=Nr();Vze({target:"Map",proto:!0,real:!0,forced:!0},{every:o(function(e){var r=Kze(this),n=Wze(e,arguments.length>1?arguments[1]:void 0);return Gze(r,function(i,a){if(!n(i,a,r))return!1},!0)!==!1},"every")})});var tK=h(()=>{"use strict";var Jze=m(),Yze=se(),Xze=Ue(),rK=ke(),Qze=Nr(),Zze=rK.Map,eHe=rK.set;Jze({target:"Map",proto:!0,real:!0,forced:!0},{filter:o(function(e){var r=Xze(this),n=Yze(e,arguments.length>1?arguments[1]:void 0),i=new Zze;return Qze(r,function(a,s){n(a,s,r)&&eHe(i,s,a)}),i},"filter")})});var nK=h(()=>{"use strict";var rHe=m(),tHe=se(),nHe=Ue(),iHe=Nr();rHe({target:"Map",proto:!0,real:!0,forced:!0},{find:o(function(e){var r=nHe(this),n=tHe(e,arguments.length>1?arguments[1]:void 0),i=iHe(r,function(a,s){if(n(a,s,r))return{value:a}},!0);return i&&i.value},"find")})});var iK=h(()=>{"use strict";var aHe=m(),sHe=se(),oHe=Ue(),uHe=Nr();aHe({target:"Map",proto:!0,real:!0,forced:!0},{findKey:o(function(e){var r=oHe(this),n=sHe(e,arguments.length>1?arguments[1]:void 0),i=uHe(r,function(a,s){if(n(a,s,r))return{key:s}},!0);return i&&i.key},"findKey")})});var Ou=h((LIr,aK)=>{"use strict";var lHe=se(),cHe=R(),fHe=J(),dHe=me();aK.exports=function(t,e,r){return o(function(i){var a=fHe(i),s=arguments.length,u=s>1?arguments[1]:void 0,l=u!==void 0,c=l?lHe(u,s>2?arguments[2]:void 0):void 0,f=new t,d=0;return dHe(a,function(p){var v=l?c(p,d++):p;r?e(f,cHe(v)[0],v[1]):e(f,v)}),f},"from")}});var oK=h(()=>{"use strict";var hHe=m(),sK=ke(),pHe=Ou();hHe({target:"Map",stat:!0,forced:!0},{from:pHe(sK.Map,sK.set,!0)})});var uK=h(()=>{"use strict";var vHe=m(),gHe=Ue(),X0=ke(),mHe=X0.get,yHe=X0.has,qHe=X0.set;vHe({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsert:o(function(e,r){return yHe(gHe(this),e)?mHe(this,e):(qHe(this,e,r),r)},"getOrInsert")})});var lK=h(()=>{"use strict";var bHe=m(),SHe=B(),EHe=Ue(),Q0=ke(),OHe=Q0.get,THe=Q0.has,xHe=Q0.set;bHe({target:"Map",proto:!0,real:!0,forced:!0},{getOrInsertComputed:o(function(e,r){if(EHe(this),SHe(r),THe(this,e))return OHe(this,e);e===0&&1/e===-1/0&&(e=0);var n=r(e);return xHe(this,e,n),n},"getOrInsertComputed")})});var cK=h(()=>{"use strict";_y()});var dK=h((GIr,fK)=>{"use strict";fK.exports=function(t,e){return t===e||t!==t&&e!==e}});var hK=h(()=>{"use strict";var IHe=m(),AHe=dK(),wHe=Ue(),RHe=Nr();IHe({target:"Map",proto:!0,real:!0,forced:!0},{includes:o(function(e){return RHe(wHe(this),function(r){if(AHe(r,e))return!0},!0)===!0},"includes")})});var vK=h(()=>{"use strict";var CHe=m(),MHe=C(),kHe=me(),PHe=H(),pK=B(),NHe=ke().Map;CHe({target:"Map",stat:!0,forced:!0},{keyBy:o(function(e,r){var n=PHe(this)?this:NHe,i=new n;pK(r);var a=pK(i.set);return kHe(e,function(s){MHe(a,i,r(s),s)}),i},"keyBy")})});var gK=h(()=>{"use strict";var DHe=m(),LHe=Ue(),FHe=Nr();DHe({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:o(function(e){var r=FHe(LHe(this),function(n,i){if(n===e)return{key:i}},!0);return r&&r.key},"keyOf")})});var yK=h(()=>{"use strict";var $He=m(),BHe=se(),_He=Ue(),mK=ke(),jHe=Nr(),UHe=mK.Map,zHe=mK.set;$He({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:o(function(e){var r=_He(this),n=BHe(e,arguments.length>1?arguments[1]:void 0),i=new UHe;return jHe(r,function(a,s){zHe(i,n(a,s,r),a)}),i},"mapKeys")})});var bK=h(()=>{"use strict";var HHe=m(),VHe=se(),WHe=Ue(),qK=ke(),KHe=Nr(),GHe=qK.Map,JHe=qK.set;HHe({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:o(function(e){var r=WHe(this),n=VHe(e,arguments.length>1?arguments[1]:void 0),i=new GHe;return KHe(r,function(a,s){JHe(i,s,n(a,s,r))}),i},"mapValues")})});var SK=h(()=>{"use strict";var YHe=m(),XHe=Ue(),QHe=me(),ZHe=ke().set;YHe({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:o(function(e){for(var r=XHe(this),n=arguments.length,i=0;i<n;)QHe(arguments[i++],function(a,s){ZHe(r,a,s)},{AS_ENTRIES:!0});return r},"merge")})});var Tu=h((h1r,EK)=>{"use strict";var e3e=R();EK.exports=function(t,e,r){return o(function(){for(var i=new t,a=arguments.length,s=0;s<a;s++){var u=arguments[s];r?e(i,e3e(u)[0],u[1]):e(i,u)}return i},"of")}});var TK=h(()=>{"use strict";var r3e=m(),OK=ke(),t3e=Tu();r3e({target:"Map",stat:!0,forced:!0},{of:t3e(OK.Map,OK.set,!0)})});var xK=h(()=>{"use strict";var n3e=m(),i3e=B(),a3e=Ue(),s3e=Nr(),o3e=TypeError;n3e({target:"Map",proto:!0,real:!0,forced:!0},{reduce:o(function(e){var r=a3e(this),n=arguments.length<2,i=n?void 0:arguments[1];if(i3e(e),s3e(r,function(a,s){n?(n=!1,i=a):i=e(i,a,s,r)}),n)throw new o3e("Reduce of empty map with no initial value");return i},"reduce")})});var IK=h(()=>{"use strict";var u3e=m(),l3e=se(),c3e=Ue(),f3e=Nr();u3e({target:"Map",proto:!0,real:!0,forced:!0},{some:o(function(e){var r=c3e(this),n=l3e(e,arguments.length>1?arguments[1]:void 0);return f3e(r,function(i,a){if(n(i,a,r))return!0},!0)===!0},"some")})});var wK=h(()=>{"use strict";var d3e=m(),AK=B(),h3e=Ue(),Z0=ke(),p3e=TypeError,v3e=Z0.get,g3e=Z0.has,m3e=Z0.set;d3e({target:"Map",proto:!0,real:!0,forced:!0},{update:o(function(e,r){var n=h3e(this),i=arguments.length;AK(r);var a=g3e(n,e);if(!a&&i<3)throw new p3e("Updating absent value");var s=a?v3e(n,e):AK(i>2?arguments[2]:void 0)(e,n);return m3e(n,e,r(s,e,n)),n},"update")})});var Ud=h((I1r,RK)=>{"use strict";var _d=C(),eE=B(),jd=H(),y3e=R(),q3e=TypeError;RK.exports=o(function(e,r){var n=y3e(this),i=eE(n.get),a=eE(n.has),s=eE(n.set),u=arguments.length>2?arguments[2]:void 0,l;if(!jd(r)&&!jd(u))throw new q3e("At least one callback required");return _d(a,n,e)?(l=_d(i,n,e),jd(r)&&(l=r(l),_d(s,n,e,l))):jd(u)&&(l=u(),_d(s,n,e,l)),l},"upsert")});var CK=h(()=>{"use strict";var b3e=m(),S3e=Ud();b3e({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:S3e})});var MK=h(()=>{"use strict";var E3e=m(),O3e=Ud();E3e({target:"Map",proto:!0,real:!0,forced:!0},{upsert:O3e})});var kK=h(()=>{"use strict";var T3e=m(),x3e=Math.min,I3e=Math.max;T3e({target:"Math",stat:!0,forced:!0},{clamp:o(function(e,r,n){return x3e(n,I3e(r,e))},"clamp")})});var PK=h(()=>{"use strict";var A3e=m();A3e({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var NK=h(()=>{"use strict";var w3e=m(),R3e=180/Math.PI;w3e({target:"Math",stat:!0,forced:!0},{degrees:o(function(e){return e*R3e},"degrees")})});var rE=h((_1r,DK)=>{"use strict";DK.exports=o(function(e,r,n,i,a){var s=+e,u=+r,l=+n,c=+i,f=+a;return s!==s||u!==u||l!==l||c!==c||f!==f?NaN:s===1/0||s===-1/0?s:(s-u)*(f-c)/(l-u)+c},"scale")});var LK=h(()=>{"use strict";var C3e=m(),M3e=rE(),k3e=Xc();C3e({target:"Math",stat:!0,forced:!0},{fscale:o(function(e,r,n,i,a){return k3e(M3e(e,r,n,i,a))},"fscale")})});var FK=h(()=>{"use strict";var P3e=m(),N3e=Sm(),D3e=.0009765625,L3e=65504,F3e=6103515625e-14;P3e({target:"Math",stat:!0},{f16round:o(function(e){return N3e(e,D3e,L3e,F3e)},"f16round")})});var $K=h(()=>{"use strict";var $3e=m();$3e({target:"Math",stat:!0,forced:!0},{iaddh:o(function(e,r,n,i){var a=e>>>0,s=r>>>0,u=n>>>0;return s+(i>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0},"iaddh")})});var BK=h(()=>{"use strict";var B3e=m();B3e({target:"Math",stat:!0,forced:!0},{imulh:o(function(e,r){var n=65535,i=+e,a=+r,s=i&n,u=a&n,l=i>>16,c=a>>16,f=(l*u>>>0)+(s*u>>>16);return l*c+(f>>16)+((s*c>>>0)+(f&n)>>16)},"imulh")})});var _K=h(()=>{"use strict";var _3e=m();_3e({target:"Math",stat:!0,forced:!0},{isubh:o(function(e,r,n,i){var a=e>>>0,s=r>>>0,u=n>>>0;return s-(i>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0},"isubh")})});var jK=h(()=>{"use strict";var j3e=m();j3e({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var UK=h(()=>{"use strict";var U3e=m(),z3e=Math.PI/180;U3e({target:"Math",stat:!0,forced:!0},{radians:o(function(e){return e*z3e},"radians")})});var zK=h(()=>{"use strict";var H3e=m(),V3e=rE();H3e({target:"Math",stat:!0,forced:!0},{scale:V3e})});var KK=h(()=>{"use strict";var W3e=m(),K3e=R(),G3e=Qy(),J3e=On(),Y3e=Me(),HK=te(),VK="Seeded Random",WK=VK+" Generator",X3e='Math.seededPRNG() argument should have a "seed" field with a finite value.',Q3e=HK.set,Z3e=HK.getterFor(WK),eVe=TypeError,rVe=J3e(o(function(e){Q3e(this,{type:WK,seed:e%2147483647})},"SeededRandomGenerator"),VK,o(function(){var e=Z3e(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return Y3e((r&1073741823)/1073741823,!1)},"next"));W3e({target:"Math",stat:!0,forced:!0},{seededPRNG:o(function(e){var r=K3e(e).seed;if(!G3e(r))throw new eVe(X3e);return new rVe(r)},"seededPRNG")})});var GK=h(()=>{"use strict";var tVe=m();tVe({target:"Math",stat:!0,forced:!0},{signbit:o(function(e){var r=+e;return r===r&&r===0?1/r===-1/0:r<0},"signbit")})});var ZK=h(()=>{"use strict";var nVe=m(),iVe=E(),aVe=me(),sVe=RangeError,oVe=TypeError,Dr=1/0,uVe=NaN,Di=Math.abs,aE=Math.pow,JK=iVe([].push),xu=aE(2,1023),lVe=aE(2,53)-1,YK=Number.MAX_VALUE,XK=aE(2,971),Iu={},tE={},nE={},iE={},QK={},zd=o(function(t,e){var r=t+e,n=e-(r-t);return{hi:r,lo:n}},"twosum");nVe({target:"Math",stat:!0},{sumPrecise:o(function(e){var r=[],n=0,i=iE;switch(aVe(e,function(A){if(++n>=lVe)throw new sVe("Maximum allowed index exceeded");if(typeof A!="number")throw new oVe("Value is not a number");i!==Iu&&(A!==A?i=Iu:A===Dr?i=i===tE?Iu:nE:A===-Dr?i=i===nE?Iu:tE:(A!==0||1/A===Dr)&&(i===iE||i===QK)&&(i=QK,JK(r,A)))}),i){case Iu:return uVe;case tE:return-Dr;case nE:return Dr;case iE:return-0}for(var a=[],s=0,u,l,c,f,d,p,v=0;v<r.length;v++){u=r[v];for(var g=0,y=0;y<a.length;y++){if(l=a[y],Di(u)<Di(l)&&(p=u,u=l,l=p),c=zd(u,l),f=c.hi,d=c.lo,Di(f)===Dr){var q=f===Dr?1:-1;s+=q,u=u-q*xu-q*xu,Di(u)<Di(l)&&(p=u,u=l,l=p),c=zd(u,l),f=c.hi,d=c.lo}d!==0&&(a[g++]=d),u=f}a.length=g,u!==0&&JK(a,u)}var b=a.length-1;if(f=0,d=0,s!==0){var S=b>=0?a[b]:0;if(b--,Di(s)>1||s>0&&S>0||s<0&&S<0)return s>0?Dr:-Dr;if(c=zd(s*xu,S/2),f=c.hi,d=c.lo,d*=2,Di(2*f)===Dr)return f>0?f===xu&&d===-(XK/2)&&b>=0&&a[b]<0?YK:Dr:f===-xu&&d===XK/2&&b>=0&&a[b]>0?-YK:-Dr;d!==0&&(a[++b]=d,d=0),f*=2}for(;b>=0&&(c=zd(f,a[b--]),f=c.hi,d=c.lo,d===0););return b>=0&&(d<0&&a[b]<0||d>0&&a[b]>0)&&(l=d*2,u=f+l,l===u-f&&(f=u)),f},"sumPrecise")})});var e6=h(()=>{"use strict";var cVe=m();cVe({target:"Math",stat:!0,forced:!0},{umulh:o(function(e,r){var n=65535,i=+e,a=+r,s=i&n,u=a&n,l=i>>>16,c=a>>>16,f=(l*u>>>0)+(s*u>>>16);return l*c+(f>>>16)+((s*c>>>0)+(f&n)>>>16)},"umulh")})});var n6=h(()=>{"use strict";var fVe=m(),wu=E(),dVe=ce(),Au="Invalid number representation",hVe="Invalid radix",pVe=RangeError,Hd=SyntaxError,vVe=TypeError,r6=parseInt,gVe=Math.pow,t6=/^[\d.a-z]+$/,mVe=wu("".charAt),yVe=wu(t6.exec),qVe=wu(1 .toString),bVe=wu("".slice),SVe=wu("".split);fVe({target:"Number",stat:!0,forced:!0},{fromString:o(function(e,r){var n=1;if(typeof e!="string")throw new vVe(Au);if(!e.length)throw new Hd(Au);if(mVe(e,0)==="-"&&(n=-1,e=bVe(e,1),!e.length))throw new Hd(Au);var i=r===void 0?10:dVe(r);if(i<2||i>36)throw new pVe(hVe);if(!yVe(t6,e))throw new Hd(Au);var a=SVe(e,"."),s=r6(a[0],i);if(a.length>1&&(s+=r6(a[1],i)/gVe(i,a[1].length)),i===10&&qVe(s,i)!==e)throw new Hd(Au);return n*s},"fromString")})});var i6=h(()=>{"use strict";var EVe=m(),OVe=Cd();EVe({target:"Number",stat:!0,forced:!0},{range:o(function(e,r,n){return new OVe(e,r,n,"number",0,1)},"range")})});var a6=h(()=>{"use strict";fq()});var Wd=h((CAr,u6)=>{"use strict";var s6=te(),TVe=On(),Vd=Me(),xVe=V(),IVe=hi(),AVe=J(),o6="Object Iterator",wVe=s6.set,RVe=s6.getterFor(o6);u6.exports=TVe(o(function(e,r){var n=AVe(e);wVe(this,{type:o6,mode:r,object:n,keys:IVe(n),index:0})},"ObjectIterator"),"Object",o(function(){for(var e=RVe(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,Vd(void 0,!0);var n=r[e.index++],i=e.object;if(xVe(i,n)){switch(e.mode){case"keys":return Vd(n,!1);case"values":return Vd(i[n],!1)}return Vd([n,i[n]],!1)}}},"next"))});var l6=h(()=>{"use strict";var CVe=m(),MVe=Wd();CVe({target:"Object",stat:!0,forced:!0},{iterateEntries:o(function(e){return new MVe(e,"entries")},"iterateEntries")})});var c6=h(()=>{"use strict";var kVe=m(),PVe=Wd();kVe({target:"Object",stat:!0,forced:!0},{iterateKeys:o(function(e){return new PVe(e,"keys")},"iterateKeys")})});var f6=h(()=>{"use strict";var NVe=m(),DVe=Wd();NVe({target:"Object",stat:!0,forced:!0},{iterateValues:o(function(e){return new DVe(e,"values")},"iterateValues")})});var d6=h(()=>{"use strict";cq()});var E6=h(()=>{"use strict";var LVe=m(),Kd=C(),Ru=D(),FVe=xn(),h6=B(),$Ve=R(),BVe=Qe(),p6=H(),_Ve=xe(),jVe=_(),Gd=be(),UVe=ie(),sE=Pr(),v6=fe(),ds=Nq(),zVe=F(),g6=te(),HVe=zVe("observable"),oE="Observable",m6="Subscription",y6="SubscriptionObserver",uE=g6.getterFor,lE=g6.set,VVe=uE(oE),q6=uE(m6),Jd=uE(y6),b6=o(function(t){this.observer=$Ve(t),this.cleanup=null,this.subscriptionObserver=null},"SubscriptionState");b6.prototype={type:m6,clean:o(function(){var t=this.cleanup;if(t){this.cleanup=null;try{t()}catch(e){ds(e)}}},"clean"),close:o(function(){if(!Ru){var t=this.facade,e=this.subscriptionObserver;t.closed=!0,e&&(e.closed=!0)}this.observer=null},"close"),isClosed:o(function(){return this.observer===null},"isClosed")};var cE=o(function(t,e){var r=lE(this,new b6(t)),n;Ru||(this.closed=!1);try{(n=Gd(t,"start"))&&Kd(n,t,this)}catch(u){ds(u)}if(!r.isClosed()){var i=r.subscriptionObserver=new fE(r);try{var a=e(i),s=a;_Ve(a)||(r.cleanup=p6(a.unsubscribe)?function(){s.unsubscribe()}:h6(a))}catch(u){i.error(u);return}r.isClosed()&&r.clean()}},"Subscription");cE.prototype=sE({},{unsubscribe:o(function(){var e=q6(this);e.isClosed()||(e.close(),e.clean())},"unsubscribe")});Ru&&v6(cE.prototype,"closed",{configurable:!0,get:o(function(){return q6(this).isClosed()},"closed")});var fE=o(function(t){lE(this,{type:y6,subscriptionState:t}),Ru||(this.closed=!1)},"SubscriptionObserver");fE.prototype=sE({},{next:o(function(e){var r=Jd(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=Gd(n,"next");i&&Kd(i,n,e)}catch(a){ds(a)}}},"next"),error:o(function(e){var r=Jd(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=Gd(n,"error");i?Kd(i,n,e):ds(e)}catch(a){ds(a)}r.clean()}},"error"),complete:o(function(){var e=Jd(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=Gd(r,"complete");n&&Kd(n,r)}catch(i){ds(i)}e.clean()}},"complete")});Ru&&v6(fE.prototype,"closed",{configurable:!0,get:o(function(){return Jd(this).subscriptionState.isClosed()},"closed")});var S6=o(function(e){BVe(this,dE),lE(this,{type:oE,subscriber:h6(e)})},"Observable"),dE=S6.prototype;sE(dE,{subscribe:o(function(e){var r=arguments.length;return new cE(p6(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:jVe(e)?e:{},VVe(this).subscriber)},"subscribe")});UVe(dE,HVe,function(){return this});LVe({global:!0,constructor:!0,forced:!0},{Observable:S6});FVe(oE)});var T6=h(()=>{"use strict";var WVe=m(),KVe=$(),GVe=C(),O6=R(),JVe=rt(),YVe=Sn(),XVe=be(),QVe=me(),ZVe=F(),eWe=ZVe("observable");WVe({target:"Observable",stat:!0,forced:!0},{from:o(function(e){var r=JVe(this)?this:KVe("Observable"),n=XVe(O6(e),eWe);if(n){var i=O6(GVe(n,e));return i.constructor===r?i:new r(function(s){return i.subscribe(s)})}var a=YVe(e);return new r(function(s){QVe(a,function(u,l){if(s.next(u),s.closed)return l()},{IS_ITERATOR:!0,INTERRUPTED:!0}),s.complete()})},"from")})});var I6=h(()=>{"use strict";var rWe=m(),x6=$(),tWe=rt(),nWe=x6("Array");rWe({target:"Observable",stat:!0,forced:!0},{of:o(function(){for(var e=tWe(this)?this:x6("Observable"),r=arguments.length,n=nWe(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(a){for(var s=0;s<r;s++)if(a.next(n[s]),a.closed)return;a.complete()})},"of")})});var A6=h(()=>{"use strict";E6();T6();I6()});var w6=h(()=>{"use strict";Gq()});var R6=h(()=>{"use strict";Jq()});var C6=h(()=>{"use strict";Zq()});var M6=h(()=>{"use strict";eb()});var Et=h((uwr,D6)=>{"use strict";mf();vd();var N6=$(),iWe=E(),aWe=Dt(),k6=N6("Map"),sWe=N6("WeakMap"),oWe=iWe([].push),P6=aWe("metadata"),hE=P6.store||(P6.store=new sWe),Cu=o(function(t,e,r){var n=hE.get(t);if(!n){if(!r)return;hE.set(t,n=new k6)}var i=n.get(e);if(!i){if(!r)return;n.set(e,i=new k6)}return i},"getOrCreateMetadataMap"),uWe=o(function(t,e,r){var n=Cu(e,r,!1);return n===void 0?!1:n.has(t)},"ordinaryHasOwnMetadata"),lWe=o(function(t,e,r){var n=Cu(e,r,!1);return n===void 0?void 0:n.get(t)},"ordinaryGetOwnMetadata"),cWe=o(function(t,e,r,n){Cu(r,n,!0).set(t,e)},"ordinaryDefineOwnMetadata"),fWe=o(function(t,e){var r=Cu(t,e,!1),n=[];return r&&r.forEach(function(i,a){oWe(n,a)}),n},"ordinaryOwnMetadataKeys"),dWe=o(function(t){return t===void 0||typeof t=="symbol"?t:String(t)},"toMetadataKey");D6.exports={store:hE,getMap:Cu,has:uWe,get:lWe,set:cWe,keys:fWe,toKey:dWe}});var F6=h(()=>{"use strict";var hWe=m(),L6=Et(),pWe=R(),vWe=L6.toKey,gWe=L6.set;hWe({target:"Reflect",stat:!0},{defineMetadata:o(function(e,r,n){var i=arguments.length<4?void 0:vWe(arguments[3]);gWe(e,r,pWe(n),i)},"defineMetadata")})});var B6=h(()=>{"use strict";var mWe=m(),pE=Et(),yWe=R(),qWe=pE.toKey,bWe=pE.getMap,$6=pE.store;mWe({target:"Reflect",stat:!0},{deleteMetadata:o(function(e,r){var n=arguments.length<3?void 0:qWe(arguments[2]),i=bWe(yWe(r),n,!1);if(i===void 0||!i.delete(e))return!1;if(i.size)return!0;var a=$6.get(r);return a.delete(n),!!a.size||$6.delete(r)},"deleteMetadata")})});var j6=h(()=>{"use strict";var SWe=m(),vE=Et(),EWe=R(),OWe=we(),TWe=vE.has,xWe=vE.get,IWe=vE.toKey,_6=o(function(t,e,r){var n=TWe(t,e,r);if(n)return xWe(t,e,r);var i=OWe(e);return i!==null?_6(t,i,r):void 0},"ordinaryGetMetadata");SWe({target:"Reflect",stat:!0},{getMetadata:o(function(e,r){var n=arguments.length<3?void 0:IWe(arguments[2]);return _6(e,EWe(r),n)},"getMetadata")})});var V6=h(()=>{"use strict";var AWe=m(),U6=E(),z6=Et(),wWe=R(),RWe=we(),CWe=Od(),MWe=U6(CWe),kWe=U6([].concat),PWe=z6.keys,NWe=z6.toKey,H6=o(function(t,e){var r=PWe(t,e),n=RWe(t);if(n===null)return r;var i=H6(n,e);return i.length?r.length?MWe(kWe(r,i)):i:r},"ordinaryMetadataKeys");AWe({target:"Reflect",stat:!0},{getMetadataKeys:o(function(e){var r=arguments.length<2?void 0:NWe(arguments[1]);return H6(wWe(e),r)},"getMetadataKeys")})});var K6=h(()=>{"use strict";var DWe=m(),W6=Et(),LWe=R(),FWe=W6.get,$We=W6.toKey;DWe({target:"Reflect",stat:!0},{getOwnMetadata:o(function(e,r){var n=arguments.length<3?void 0:$We(arguments[2]);return FWe(e,LWe(r),n)},"getOwnMetadata")})});var J6=h(()=>{"use strict";var BWe=m(),G6=Et(),_We=R(),jWe=G6.keys,UWe=G6.toKey;BWe({target:"Reflect",stat:!0},{getOwnMetadataKeys:o(function(e){var r=arguments.length<2?void 0:UWe(arguments[1]);return jWe(_We(e),r)},"getOwnMetadataKeys")})});var Q6=h(()=>{"use strict";var zWe=m(),Y6=Et(),HWe=R(),VWe=we(),WWe=Y6.has,KWe=Y6.toKey,X6=o(function(t,e,r){var n=WWe(t,e,r);if(n)return!0;var i=VWe(e);return i!==null?X6(t,i,r):!1},"ordinaryHasMetadata");zWe({target:"Reflect",stat:!0},{hasMetadata:o(function(e,r){var n=arguments.length<3?void 0:KWe(arguments[2]);return X6(e,HWe(r),n)},"hasMetadata")})});var e5=h(()=>{"use strict";var GWe=m(),Z6=Et(),JWe=R(),YWe=Z6.has,XWe=Z6.toKey;GWe({target:"Reflect",stat:!0},{hasOwnMetadata:o(function(e,r){var n=arguments.length<3?void 0:XWe(arguments[2]);return YWe(e,JWe(r),n)},"hasOwnMetadata")})});var t5=h(()=>{"use strict";var QWe=m(),r5=Et(),ZWe=R(),e4e=r5.toKey,r4e=r5.set;QWe({target:"Reflect",stat:!0},{metadata:o(function(e,r){return o(function(i,a){r4e(e,r,ZWe(i),e4e(a))},"decorator")},"metadata")})});var Mu=h((Fwr,n5)=>{"use strict";var t4e=TypeError;n5.exports=function(t){if(typeof t=="string")return t;throw new t4e("Argument is not a string")}});var l5=h(()=>{"use strict";var n4e=m(),ku=E(),i4e=Mu(),a4e=V(),i5=ko().start,s4e=Ti(),o4e=Array,a5=RegExp.escape,s5=ku("".charAt),yE=ku("".charCodeAt),u4e=ku(1.1.toString),l4e=ku([].join),u5=/^[0-9a-z]/i,c4e=/^[$()*+./?[\\\]^{|}]/,f4e=RegExp("^[!\"#%&',\\-:;<=>@`~"+s4e+"]"),gE=ku(u5.exec),o5={"	":"t","\n":"n","\v":"v","\f":"f","\r":"r"},mE=o(function(t){var e=u4e(yE(t,0),16);return e.length<3?"\\x"+i5(e,2,"0"):"\\u"+i5(e,4,"0")},"escapeChar"),d4e=!a5||a5("ab")!=="\\x61b";n4e({target:"RegExp",stat:!0,forced:d4e},{escape:o(function(e){i4e(e);for(var r=e.length,n=o4e(r),i=0;i<r;i++){var a=s5(e,i);if(i===0&&gE(u5,a))n[i]=mE(a);else if(a4e(o5,a))n[i]="\\"+o5[a];else if(gE(c4e,a))n[i]="\\"+a;else if(gE(f4e,a))n[i]=mE(a);else{var s=yE(a,0);(s&63488)!==55296?n[i]=a:s>=56320||i+1>=r||(yE(e,i+1)&64512)!==56320?n[i]=mE(a):(n[i]=a,n[++i]=s5(e,i))}}return l4e(n,"")},"escape")})});var c5=h(()=>{"use strict";var h4e=m(),p4e=_e(),v4e=De().add;h4e({target:"Set",proto:!0,real:!0,forced:!0},{addAll:o(function(){for(var e=p4e(this),r=0,n=arguments.length;r<n;r++)v4e(e,arguments[r]);return e},"addAll")})});var f5=h(()=>{"use strict";var g4e=m(),m4e=_e(),y4e=De().remove;g4e({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=m4e(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=y4e(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var d5=h(()=>{"use strict";bb()});var p5=h((Jwr,h5)=>{"use strict";var q4e=nr(),b4e=V(),S4e=xe(),E4e=F(),O4e=qi(),T4e=E4e("iterator"),x4e=Object;h5.exports=function(t){if(S4e(t))return!1;var e=x4e(t);return e[T4e]!==void 0||"@@iterator"in e||b4e(O4e,q4e(e))}});var _n=h((Ywr,g5)=>{"use strict";var I4e=$(),v5=H(),A4e=p5(),w4e=_(),R4e=I4e("Set"),C4e=o(function(t){return w4e(t)&&typeof t.size=="number"&&v5(t.has)&&v5(t.keys)},"isSetLike");g5.exports=function(t){return C4e(t)?t:A4e(t)?new R4e(t):t}});var m5=h(()=>{"use strict";var M4e=m(),k4e=C(),P4e=_n(),N4e=qb();M4e({target:"Set",proto:!0,real:!0,forced:!0},{difference:o(function(e){return k4e(N4e,this,P4e(e))},"difference")})});var y5=h(()=>{"use strict";var D4e=m(),L4e=se(),F4e=_e(),$4e=mr();D4e({target:"Set",proto:!0,real:!0,forced:!0},{every:o(function(e){var r=F4e(this),n=L4e(e,arguments.length>1?arguments[1]:void 0);return $4e(r,function(i){if(!n(i,i,r))return!1},!0)!==!1},"every")})});var b5=h(()=>{"use strict";var B4e=m(),_4e=se(),j4e=_e(),q5=De(),U4e=mr(),z4e=q5.Set,H4e=q5.add;B4e({target:"Set",proto:!0,real:!0,forced:!0},{filter:o(function(e){var r=j4e(this),n=_4e(e,arguments.length>1?arguments[1]:void 0),i=new z4e;return U4e(r,function(a){n(a,a,r)&&H4e(i,a)}),i},"filter")})});var S5=h(()=>{"use strict";var V4e=m(),W4e=se(),K4e=_e(),G4e=mr();V4e({target:"Set",proto:!0,real:!0,forced:!0},{find:o(function(e){var r=K4e(this),n=W4e(e,arguments.length>1?arguments[1]:void 0),i=G4e(r,function(a){if(n(a,a,r))return{value:a}},!0);return i&&i.value},"find")})});var O5=h(()=>{"use strict";var J4e=m(),E5=De(),Y4e=Ou();J4e({target:"Set",stat:!0,forced:!0},{from:Y4e(E5.Set,E5.add,!1)})});var T5=h(()=>{"use strict";Ob()});var x5=h(()=>{"use strict";var X4e=m(),Q4e=C(),Z4e=_n(),eKe=Eb();X4e({target:"Set",proto:!0,real:!0,forced:!0},{intersection:o(function(e){return Q4e(eKe,this,Z4e(e))},"intersection")})});var I5=h(()=>{"use strict";xb()});var A5=h(()=>{"use strict";var rKe=m(),tKe=C(),nKe=_n(),iKe=Tb();rKe({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:o(function(e){return tKe(iKe,this,nKe(e))},"isDisjointFrom")})});var w5=h(()=>{"use strict";Ab()});var R5=h(()=>{"use strict";var aKe=m(),sKe=C(),oKe=_n(),uKe=Ib();aKe({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:o(function(e){return sKe(uKe,this,oKe(e))},"isSubsetOf")})});var C5=h(()=>{"use strict";Rb()});var M5=h(()=>{"use strict";var lKe=m(),cKe=C(),fKe=_n(),dKe=wb();lKe({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:o(function(e){return cKe(dKe,this,fKe(e))},"isSupersetOf")})});var P5=h(()=>{"use strict";var hKe=m(),k5=E(),pKe=_e(),vKe=mr(),gKe=U(),mKe=k5([].join),yKe=k5([].push);hKe({target:"Set",proto:!0,real:!0,forced:!0},{join:o(function(e){var r=pKe(this),n=e===void 0?",":gKe(e),i=[];return vKe(r,function(a){yKe(i,a)}),mKe(i,n)},"join")})});var D5=h(()=>{"use strict";var qKe=m(),bKe=se(),SKe=_e(),N5=De(),EKe=mr(),OKe=N5.Set,TKe=N5.add;qKe({target:"Set",proto:!0,real:!0,forced:!0},{map:o(function(e){var r=SKe(this),n=bKe(e,arguments.length>1?arguments[1]:void 0),i=new OKe;return EKe(r,function(a){TKe(i,n(a,a,r))}),i},"map")})});var F5=h(()=>{"use strict";var xKe=m(),L5=De(),IKe=Tu();xKe({target:"Set",stat:!0,forced:!0},{of:IKe(L5.Set,L5.add,!1)})});var $5=h(()=>{"use strict";var AKe=m(),wKe=B(),RKe=_e(),CKe=mr(),MKe=TypeError;AKe({target:"Set",proto:!0,real:!0,forced:!0},{reduce:o(function(e){var r=RKe(this),n=arguments.length<2,i=n?void 0:arguments[1];if(wKe(e),CKe(r,function(a){n?(n=!1,i=a):i=e(i,a,a,r)}),n)throw new MKe("Reduce of empty set with no initial value");return i},"reduce")})});var B5=h(()=>{"use strict";var kKe=m(),PKe=se(),NKe=_e(),DKe=mr();kKe({target:"Set",proto:!0,real:!0,forced:!0},{some:o(function(e){var r=NKe(this),n=PKe(e,arguments.length>1?arguments[1]:void 0);return DKe(r,function(i){if(n(i,i,r))return!0},!0)===!0},"some")})});var _5=h(()=>{"use strict";kb()});var j5=h(()=>{"use strict";var LKe=m(),FKe=C(),$Ke=_n(),BKe=Mb();LKe({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:o(function(e){return FKe(BKe,this,$Ke(e))},"symmetricDifference")})});var U5=h(()=>{"use strict";Nb()});var z5=h(()=>{"use strict";var _Ke=m(),jKe=C(),UKe=_n(),zKe=Pb();_Ke({target:"Set",proto:!0,real:!0,forced:!0},{union:o(function(e){return jKe(zKe,this,UKe(e))},"union")})});var H5=h(()=>{"use strict";var HKe=m(),VKe=Ci().charAt,WKe=le(),KKe=ce(),GKe=U();HKe({target:"String",proto:!0,forced:!0},{at:o(function(e){var r=GKe(WKe(this)),n=r.length,i=KKe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:VKe(r,a)},"at")})});var qE=h((aCr,G5)=>{"use strict";var K5=E(),JKe=Ie(),V5=U(),YKe=Q(),XKe=TypeError,W5=K5([].push),QKe=K5([].join);G5.exports=o(function(e){var r=JKe(e),n=YKe(r);if(!n)return"";for(var i=arguments.length,a=[],s=0;;){var u=r[s++];if(u===void 0)throw new XKe("Incorrect template");if(W5(a,V5(u)),s===n)return QKe(a,"");s<i&&W5(a,V5(arguments[s]))}},"cooked")});var J5=h(()=>{"use strict";var ZKe=m(),e6e=qE();ZKe({target:"String",stat:!0,forced:!0},{cooked:e6e})});var eG=h(()=>{"use strict";var r6e=m(),t6e=On(),Y5=Me(),n6e=le(),i6e=U(),X5=te(),Q5=Ci(),a6e=Q5.codeAt,s6e=Q5.charAt,Z5="String Iterator",o6e=X5.set,u6e=X5.getterFor(Z5),l6e=t6e(o(function(e){o6e(this,{type:Z5,string:e,index:0})},"StringIterator"),"String",o(function(){var e=u6e(this),r=e.string,n=e.index,i;return n>=r.length?Y5(void 0,!0):(i=s6e(r,n),e.index+=i.length,Y5({codePoint:a6e(i,0),position:n},!1))},"next"));r6e({target:"String",proto:!0,forced:!0},{codePoints:o(function(){return new l6e(i6e(n6e(this)))},"codePoints")})});var Gt=h((dCr,rG)=>{"use strict";var Yd=E(),Xd=WeakMap.prototype;rG.exports={WeakMap,set:Yd(Xd.set),get:Yd(Xd.get),has:Yd(Xd.has),remove:Yd(Xd.delete)}});var cG=h((hCr,lG)=>{"use strict";var c6e=$(),Qd=E(),f6e=String.fromCharCode,d6e=c6e("String","fromCodePoint"),bE=Qd("".charAt),oG=Qd("".charCodeAt),tG=Qd("".indexOf),nG=Qd("".slice),EE=48,uG=57,iG=97,h6e=102,aG=65,p6e=70,sG=o(function(t,e){var r=oG(t,e);return r>=EE&&r<=uG},"isDigit"),SE=o(function(t,e,r){if(r>=t.length)return-1;for(var n=0;e<r;e++){var i=v6e(oG(t,e));if(i===-1)return-1;n=n*16+i}return n},"parseHex"),v6e=o(function(t){return t>=EE&&t<=uG?t-EE:t>=iG&&t<=h6e?t-iG+10:t>=aG&&t<=p6e?t-aG+10:-1},"hexToInt");lG.exports=function(t){for(var e="",r=0,n=0,i;(n=tG(t,"\\",n))>-1;){if(e+=nG(t,r,n),++n===t.length)return;var a=bE(t,n++);switch(a){case"b":e+="\b";break;case"t":e+="	";break;case"n":e+="\n";break;case"v":e+="\v";break;case"f":e+="\f";break;case"r":e+="\r";break;case"\r":n<t.length&&bE(t,n)==="\n"&&++n;case"\n":case"\u2028":case"\u2029":break;case"0":if(sG(t,n))return;e+="\0";break;case"x":if(i=SE(t,n,n+2),i===-1)return;n+=2,e+=f6e(i);break;case"u":if(n<t.length&&bE(t,n)==="{"){var s=tG(t,"}",++n);if(s===-1)return;i=SE(t,n,s),n=s+1}else i=SE(t,n,n+4),n+=4;if(i===-1||i>1114111)return;e+=d6e(i);break;default:if(sG(a,0))return;e+=a}r=n}return e+nG(t,r)}});var bG=h(()=>{"use strict";var g6e=Vt(),m6e=m(),y6e=so(),Zd=E(),vG=Xe(),gG=R(),q6e=J(),b6e=H(),S6e=Q(),E6e=oe().f,O6e=pr(),eh=Gt(),T6e=qE(),x6e=cG(),mG=Ti(),OE=new eh.WeakMap,I6e=eh.get,A6e=eh.has,w6e=eh.set,TE=Array,Pu=TypeError,fG=Object.freeze||Object,R6e=Object.isFrozen,C6e=Math.min,dG=Zd("".charAt),yG=Zd("".slice),M6e=Zd("".split),hG=Zd(/./.exec),k6e=/([\n\u2028\u2029]|\r\n?)/g,P6e=RegExp("^["+mG+"]*"),N6e=RegExp("[^"+mG+"]"),pG="Invalid tag",D6e="Invalid opening line",L6e="Invalid closing line",F6e=o(function(t){var e=t.raw;if(g6e&&!R6e(e))throw new Pu("Raw template should be frozen");if(A6e(OE,e))return I6e(OE,e);var r=$6e(e),n=_6e(r);return E6e(n,"raw",{value:fG(r)}),fG(n),w6e(OE,e,n),n},"dedentTemplateStringsArray"),$6e=o(function(t){var e=q6e(t),r=S6e(e),n=TE(r),i=TE(r),a=0,s,u,l,c;if(!r)throw new Pu(pG);for(;a<r;a++){var f=e[a];if(typeof f=="string")n[a]=M6e(f,k6e);else throw new Pu(pG)}for(a=0;a<r;a++){var d=a+1===r;if(s=n[a],a===0){if(s.length===1||s[0].length>0)throw new Pu(D6e);s[1]=""}if(d){if(s.length===1||hG(N6e,s[s.length-1]))throw new Pu(L6e);s[s.length-2]="",s[s.length-1]=""}for(var p=2;p<s.length;p+=2){var v=s[p],g=p+1===s.length&&!d,y=hG(P6e,v)[0];if(!g&&y.length===v.length){s[p]="";continue}u=B6e(y,u)}}var q=u?u.length:0;for(a=0;a<r;a++){for(s=n[a],l=s[0],c=1;c<s.length;c+=2)l+=s[c]+yG(s[c+1],q);i[a]=l}return i},"dedentStringsArray"),B6e=o(function(t,e){if(e===void 0||t===e)return t;for(var r=0,n=C6e(t.length,e.length);r<n&&dG(t,r)===dG(e,r);r++);return yG(t,0,r)},"commonLeadingIndentation"),_6e=o(function(t){for(var e=0,r=t.length,n=TE(r);e<r;e++)n[e]=x6e(t[e]);return n},"cookStrings"),qG=o(function(t){return y6e(function(e){var r=O6e(arguments);return r[0]=F6e(gG(e)),vG(t,this,r)},"")},"makeDedentTag"),j6e=qG(T6e);m6e({target:"String",stat:!0,forced:!0},{dedent:o(function(e){return gG(e),b6e(e)?qG(e):vG(j6e,this,arguments)},"dedent")})});var SG=h(()=>{"use strict";Fb()});var EG=h(()=>{"use strict";Vb()});var OG=h(()=>{"use strict";rS()});var TG=h(()=>{"use strict";uS()});var xG=h(()=>{"use strict";var U6e=w(),z6e=ge(),H6e=oe().f,V6e=Pe().f,xE=U6e.Symbol;z6e("asyncDispose");xE&&(Nu=V6e(xE,"asyncDispose"),Nu.enumerable&&Nu.configurable&&Nu.writable&&H6e(xE,"asyncDispose",{value:Nu.value,enumerable:!1,configurable:!1,writable:!1}));var Nu});var IG=h(()=>{"use strict";var W6e=ge();W6e("customMatcher")});var AG=h(()=>{"use strict";var K6e=w(),G6e=ge(),J6e=oe().f,Y6e=Pe().f,IE=K6e.Symbol;G6e("dispose");IE&&(Du=Y6e(IE,"dispose"),Du.enumerable&&Du.configurable&&Du.writable&&J6e(IE,"dispose",{value:Du.value,enumerable:!1,configurable:!1,writable:!1}));var Du});var wE=h((kCr,wG)=>{"use strict";var X6e=$(),Q6e=E(),AE=X6e("Symbol"),Z6e=AE.keyFor,e5e=Q6e(AE.prototype.valueOf);wG.exports=AE.isRegisteredSymbol||o(function(e){try{return Z6e(e5e(e))!==void 0}catch(r){return!1}},"isRegisteredSymbol")});var RG=h(()=>{"use strict";var r5e=m(),t5e=wE();r5e({target:"Symbol",stat:!0},{isRegisteredSymbol:t5e})});var CG=h(()=>{"use strict";var n5e=m(),i5e=wE();n5e({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:i5e})});var ME=h(($Cr,LG)=>{"use strict";var a5e=Dt(),NG=$(),s5e=E(),o5e=Nt(),u5e=F(),th=NG("Symbol"),MG=th.isWellKnownSymbol,DG=NG("Object","getOwnPropertyNames"),l5e=s5e(th.prototype.valueOf),kG=a5e("wks");for(rh=0,RE=DG(th),PG=RE.length;rh<PG;rh++)try{CE=RE[rh],o5e(th[CE])&&u5e(CE)}catch(t){}var CE,rh,RE,PG;LG.exports=o(function(e){if(MG&&MG(e))return!0;try{for(var r=l5e(e),n=0,i=DG(kG),a=i.length;n<a;n++)if(kG[i[n]]==r)return!0}catch(s){}return!1},"isWellKnownSymbol")});var FG=h(()=>{"use strict";var c5e=m(),f5e=ME();c5e({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:f5e})});var $G=h(()=>{"use strict";var d5e=m(),h5e=ME();d5e({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:h5e})});var BG=h(()=>{"use strict";var p5e=ge();p5e("matcher")});var _G=h(()=>{"use strict";var v5e=ge();v5e("metadata")});var jG=h(()=>{"use strict";var g5e=ge();g5e("metadataKey")});var UG=h(()=>{"use strict";var m5e=ge();m5e("observable")});var zG=h(()=>{"use strict";var y5e=ge();y5e("patternMatch")});var HG=h(()=>{"use strict";var q5e=ge();q5e("replaceAll")});var WG=h(()=>{"use strict";var b5e=$(),S5e=Vo(),E5e=e0(),VG=W(),O5e=_t(),T5e=VG.aTypedArrayConstructor,x5e=VG.exportTypedArrayStaticMethod;x5e("fromAsync",o(function(e){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,a=n>2?arguments[2]:void 0;return new(b5e("Promise"))(function(s){S5e(r),s(E5e(e,i,a))}).then(function(s){return O5e(T5e(r),s)})},"fromAsync"),!0)});var KG=h(()=>{"use strict";OS()});var JG=h(()=>{"use strict";var GG=W(),I5e=Ee().filterReject,A5e=td(),w5e=GG.aTypedArray,R5e=GG.exportTypedArrayMethod;R5e("filterOut",o(function(e){var r=I5e(w5e(this),e,arguments.length>1?arguments[1]:void 0);return A5e(this,r)},"filterOut"),!0)});var XG=h(()=>{"use strict";var YG=W(),C5e=Ee().filterReject,M5e=td(),k5e=YG.aTypedArray,P5e=YG.exportTypedArrayMethod;P5e("filterReject",o(function(e){var r=C5e(k5e(this),e,arguments.length>1?arguments[1]:void 0);return M5e(this,r)},"filterReject"),!0)});var QG=h(()=>{"use strict";TS()});var ZG=h(()=>{"use strict";xS()});var e8=h(()=>{"use strict";var kE=W(),N5e=Sd(),D5e=kE.aTypedArray,L5e=kE.getTypedArrayConstructor,F5e=kE.exportTypedArrayMethod;F5e("groupBy",o(function(e){var r=arguments.length>1?arguments[1]:void 0;return N5e(D5e(this),e,r,L5e)},"groupBy"),!0)});var r8=h(()=>{"use strict";BS()});var t8=h(()=>{"use strict";_S()});var n8=h(()=>{"use strict";var PE=W(),$5e=Q(),B5e=Xf(),_5e=Zr(),j5e=su(),U5e=ce(),z5e=PE.aTypedArray,H5e=PE.getTypedArrayConstructor,V5e=PE.exportTypedArrayMethod,W5e=Math.max,K5e=Math.min;V5e("toSpliced",o(function(e,r){var n=z5e(this),i=H5e(n),a=$5e(n),s=_5e(e,a),u=arguments.length,l=0,c,f,d,p,v,g,y;if(u===0)c=f=0;else if(u===1)c=0,f=a-s;else if(f=K5e(W5e(U5e(r),0),a-s),c=u-2,c){p=new i(c),d=B5e(p);for(var q=2;q<u;q++)v=arguments[q],p[q-2]=d?j5e(v):+v}for(g=a+c-f,y=new i(g);l<s;l++)y[l]=n[l];for(;l<s+c;l++)y[l]=p[l-s];for(;l<g;l++)y[l]=n[l+f-c];return y},"toSpliced"),!0)});var i8=h(()=>{"use strict";var G5e=E(),NE=W(),J5e=_t(),Y5e=Od(),X5e=NE.aTypedArray,Q5e=NE.getTypedArrayConstructor,Z5e=NE.exportTypedArrayMethod,eGe=G5e(Y5e);Z5e("uniqueBy",o(function(e){return X5e(this),J5e(Q5e(this),eGe(this,e))},"uniqueBy"),!0)});var a8=h(()=>{"use strict";US()});var DE=h((kMr,s8)=>{"use strict";var rGe=_(),tGe=String,nGe=TypeError;s8.exports=function(t){if(t===void 0||rGe(t))return t;throw new nGe(tGe(t)+" is not an object or undefined")}});var Lu=h((PMr,f8)=>{"use strict";var c8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o8=c8+"+/",u8=c8+"-_",l8=o(function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e},"inverse");f8.exports={i2c:o8,c2i:l8(o8),i2cUrl:u8,c2iUrl:l8(u8)}});var LE=h((DMr,d8)=>{"use strict";var iGe=TypeError;d8.exports=function(t){var e=t&&t.alphabet;if(e===void 0||e==="base64"||e==="base64url")return e||"base64";throw new iGe("Incorrect `alphabet` option")}});var _E=h((LMr,v8)=>{"use strict";var h8=w(),aGe=E(),sGe=DE(),oGe=Mu(),uGe=V(),p8=Lu(),lGe=LE(),cGe=Da(),fGe=p8.c2i,dGe=p8.c2iUrl,jn=h8.SyntaxError,hGe=h8.TypeError,Li=aGe("".charAt),FE=o(function(t,e){for(var r=t.length;e<r;e++){var n=Li(t,e);if(n!==" "&&n!=="	"&&n!=="\n"&&n!=="\f"&&n!=="\r")break}return e},"skipAsciiWhitespace"),$E=o(function(t,e,r){var n=t.length;n<4&&(t+=n===2?"AA":"A");var i=(e[Li(t,0)]<<18)+(e[Li(t,1)]<<12)+(e[Li(t,2)]<<6)+e[Li(t,3)],a=[i>>16&255,i>>8&255,i&255];if(n===2){if(r&&a[1]!==0)throw new jn("Extra bits");return[a[0]]}if(n===3){if(r&&a[2]!==0)throw new jn("Extra bits");return[a[0],a[1]]}return a},"decodeBase64Chunk"),BE=o(function(t,e,r){for(var n=e.length,i=0;i<n;i++)t[r+i]=e[i];return r+n},"writeBytes");v8.exports=function(t,e,r,n){oGe(t),sGe(e);var i=lGe(e)==="base64"?fGe:dGe,a=e?e.lastChunkHandling:void 0;if(a===void 0&&(a="loose"),a!=="loose"&&a!=="strict"&&a!=="stop-before-partial")throw new hGe("Incorrect `lastChunkHandling` option");r&&cGe(r.buffer);var s=r||[],u=0,l=0,c="",f=0;if(n)for(;;){if(f=FE(t,f),f===t.length){if(c.length>0){if(a==="stop-before-partial")break;if(a==="loose"){if(c.length===1)throw new jn("Malformed padding: exactly one additional character");u=BE(s,$E(c,i,!1),u)}else throw new jn("Missing padding")}l=t.length;break}var d=Li(t,f);if(++f,d==="="){if(c.length<2)throw new jn("Padding is too early");if(f=FE(t,f),c.length===2){if(f===t.length){if(a==="stop-before-partial")break;throw new jn("Malformed padding: only one =")}Li(t,f)==="="&&(++f,f=FE(t,f))}if(f<t.length)throw new jn("Unexpected character after padding");u=BE(s,$E(c,i,a==="strict"),u),l=t.length;break}if(!uGe(i,d))throw new jn("Unexpected character");var p=n-u;if(p===1&&c.length===2||p===2&&c.length===3||(c+=d,c.length===4&&(u=BE(s,$E(c,i,!1),u),c="",l=f,u===n)))break}return{bytes:s,read:l,written:u}}});var m8=h(()=>{"use strict";var pGe=m(),vGe=w(),gGe=_t(),mGe=_E(),g8=vGe.Uint8Array;g8&&pGe({target:"Uint8Array",stat:!0},{fromBase64:o(function(e){var r=mGe(e,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return gGe(g8,r.bytes)},"fromBase64")})});var UE=h((jMr,S8)=>{"use strict";var jE=w(),q8=E(),yGe=jE.Uint8Array,y8=jE.SyntaxError,qGe=jE.parseInt,bGe=Math.min,b8=/[^\da-f]/i,SGe=q8(b8.exec),EGe=q8("".slice);S8.exports=function(t,e){var r=t.length;if(r%2!==0)throw new y8("String should be an even number of characters");for(var n=e?bGe(e.length,r/2):r/2,i=e||new yGe(n),a=0,s=0;s<n;){var u=EGe(t,a,a+=2);if(SGe(b8,u))throw new y8("String should only contain hex characters");i[s++]=qGe(u,16)}return{bytes:i,read:a}}});var E8=h(()=>{"use strict";var OGe=m(),TGe=w(),xGe=Mu(),IGe=UE();TGe.Uint8Array&&OGe({target:"Uint8Array",stat:!0},{fromHex:o(function(e){return IGe(xGe(e)).bytes},"fromHex")})});var Fu=h((VMr,O8)=>{"use strict";var AGe=nr(),wGe=TypeError;O8.exports=function(t){if(AGe(t)==="Uint8Array")return t;throw new wGe("Argument is not an Uint8Array")}});var T8=h(()=>{"use strict";var RGe=m(),CGe=w(),MGe=_E(),kGe=Fu(),PGe=CGe.Uint8Array;PGe&&RGe({target:"Uint8Array",proto:!0},{setFromBase64:o(function(e){kGe(this);var r=MGe(e,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}},"setFromBase64")})});var x8=h(()=>{"use strict";var NGe=m(),DGe=w(),LGe=Mu(),FGe=Fu(),$Ge=Da(),BGe=UE();DGe.Uint8Array&&NGe({target:"Uint8Array",proto:!0},{setFromHex:o(function(e){FGe(this),LGe(e),$Ge(this.buffer);var r=BGe(e,this).read;return{read:r,written:r/2}},"setFromHex")})});var A8=h(()=>{"use strict";var _Ge=m(),jGe=w(),UGe=E(),zGe=DE(),HGe=Fu(),VGe=Da(),I8=Lu(),WGe=LE(),KGe=I8.i2c,GGe=I8.i2cUrl,JGe=UGe("".charAt);jGe.Uint8Array&&_Ge({target:"Uint8Array",proto:!0},{toBase64:o(function(){var e=HGe(this),r=arguments.length?zGe(arguments[0]):void 0,n=WGe(r)==="base64"?KGe:GGe,i=!!r&&!!r.omitPadding;VGe(this.buffer);for(var a="",s=0,u=e.length,l,c=o(function(f){return JGe(n,l>>6*f&63)},"at");s+2<u;s+=3)l=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a+=c(3)+c(2)+c(1)+c(0);return s+2===u?(l=(e[s]<<16)+(e[s+1]<<8),a+=c(3)+c(2)+c(1)+(i?"":"=")):s+1===u&&(l=e[s]<<16,a+=c(3)+c(2)+(i?"":"==")),a},"toBase64")})});var w8=h(()=>{"use strict";var YGe=m(),XGe=w(),QGe=E(),ZGe=Fu(),e8e=Da(),r8e=QGe(1 .toString);XGe.Uint8Array&&YGe({target:"Uint8Array",proto:!0},{toHex:o(function(){ZGe(this),e8e(this.buffer);for(var e="",r=0,n=this.length;r<n;r++){var i=r8e(this[r],16);e+=i.length===1?"0"+i:i}return e},"toHex")})});var $u=h((ikr,R8)=>{"use strict";var t8e=Gt().has;R8.exports=function(t){return t8e(t),t}});var C8=h(()=>{"use strict";var n8e=m(),i8e=$u(),a8e=Gt().remove;n8e({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=i8e(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=a8e(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var k8=h(()=>{"use strict";var s8e=m(),M8=Gt(),o8e=Ou();s8e({target:"WeakMap",stat:!0,forced:!0},{from:o8e(M8.WeakMap,M8.set,!0)})});var N8=h(()=>{"use strict";var u8e=m(),P8=Gt(),l8e=Tu();u8e({target:"WeakMap",stat:!0,forced:!0},{of:l8e(P8.WeakMap,P8.set,!0)})});var L8=h(()=>{"use strict";var c8e=m(),f8e=$u(),zE=Gt(),d8e=zE.get,h8e=zE.has,D8=zE.set;c8e({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:o(function(e,r){var n=f8e(this),i,a;return h8e(n,e)?(i=d8e(n,e),"update"in r&&(i=r.update(i,e,n),D8(n,e,i)),i):(a=r.insert(e,n),D8(n,e,a),a)},"emplace")})});var F8=h(()=>{"use strict";var p8e=m(),v8e=$u(),HE=Gt(),g8e=HE.get,m8e=HE.has,y8e=HE.set;p8e({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsert:o(function(e,r){return m8e(v8e(this),e)?g8e(this,e):(y8e(this,e,r),r)},"getOrInsert")})});var B8=h(()=>{"use strict";var q8e=m(),b8e=B(),S8e=$u(),VE=Gt(),E8e=VE.get,O8e=VE.has,$8=VE.set;q8e({target:"WeakMap",proto:!0,real:!0,forced:!0},{getOrInsertComputed:o(function(e,r){if(S8e(this),b8e(r),O8e(this,e))return E8e(this,e);$8(this,e);var n=r(e);return $8(this,e,n),n},"getOrInsertComputed")})});var _8=h(()=>{"use strict";var T8e=m(),x8e=Ud();T8e({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:x8e})});var hs=h((Okr,j8)=>{"use strict";var WE=E(),KE=WeakSet.prototype;j8.exports={WeakSet,add:WE(KE.add),has:WE(KE.has),remove:WE(KE.delete)}});var GE=h((Tkr,U8)=>{"use strict";var I8e=hs().has;U8.exports=function(t){return I8e(t),t}});var z8=h(()=>{"use strict";var A8e=m(),w8e=GE(),R8e=hs().add;A8e({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:o(function(){for(var e=w8e(this),r=0,n=arguments.length;r<n;r++)R8e(e,arguments[r]);return e},"addAll")})});var H8=h(()=>{"use strict";var C8e=m(),M8e=GE(),k8e=hs().remove;C8e({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=M8e(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=k8e(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var W8=h(()=>{"use strict";var P8e=m(),V8=hs(),N8e=Ou();P8e({target:"WeakSet",stat:!0,forced:!0},{from:N8e(V8.WeakSet,V8.add,!1)})});var G8=h(()=>{"use strict";var D8e=m(),K8=hs(),L8e=Tu();D8e({target:"WeakSet",stat:!0,forced:!0},{of:L8e(K8.WeakSet,K8.add,!1)})});var rJ=h(()=>{"use strict";var F8e=m(),$8e=w(),X8=$(),JE=E(),B8e=C(),nh=O(),_8e=U(),j8e=xr(),J8=Lu().c2i,Q8=/[^\d+/a-z]/i,U8e=/[\t\n\f\r ]+/g,z8e=/[=]{1,2}$/,Fi=X8("atob"),H8e=String.fromCharCode,V8e=JE("".charAt),Y8=JE("".replace),W8e=JE(Q8.exec),ps=!!Fi&&!nh(function(){return Fi("aGk=")!=="hi"}),Z8=ps&&nh(function(){return Fi(" ")!==""}),eJ=ps&&!nh(function(){Fi("a")}),K8e=ps&&!nh(function(){Fi()}),G8e=ps&&Fi.length!==1,J8e=!ps||Z8||eJ||K8e||G8e;F8e({global:!0,bind:!0,enumerable:!0,forced:J8e},{atob:o(function(e){if(j8e(arguments.length,1),ps&&!Z8&&!eJ)return B8e(Fi,$8e,e);var r=Y8(_8e(e),U8e,""),n="",i=0,a=0,s,u,l;if(r.length%4===0&&(r=Y8(r,z8e,"")),s=r.length,s%4===1||W8e(Q8,r))throw new(X8("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<s;)u=V8e(r,i++),l=a%4?l*64+J8[u]:J8[u],a++%4&&(n+=H8e(255&l>>(-2*a&6)));return n},"atob")})});var sJ=h(()=>{"use strict";var Y8e=m(),X8e=w(),iJ=$(),aJ=E(),Q8e=C(),YE=O(),tJ=U(),Z8e=xr(),eJe=Lu().i2c,vs=iJ("btoa"),nJ=aJ("".charAt),rJe=aJ("".charCodeAt),Bu=!!vs&&!YE(function(){return vs("hi")!=="aGk="}),tJe=Bu&&!YE(function(){vs()}),nJe=Bu&&YE(function(){return vs(null)!=="bnVsbA=="}),iJe=Bu&&vs.length!==1;Y8e({global:!0,bind:!0,enumerable:!0,forced:!Bu||tJe||nJe||iJe},{btoa:o(function(e){if(Z8e(arguments.length,1),Bu)return Q8e(vs,X8e,tJ(e));for(var r=tJ(e),n="",i=0,a=eJe,s,u;nJ(r,i)||(a="=",i%1);){if(u=rJe(r,i+=3/4),u>255)throw new(iJ("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");s=s<<8|u,n+=nJ(a,63&s>>8-i%1*8)}return n},"btoa")})});var XE=h((jkr,oJ)=>{"use strict";oJ.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var ZE=h((Ukr,lJ)=>{"use strict";var aJe=to(),QE=aJe("span").classList,uJ=QE&&QE.constructor&&QE.constructor.prototype;lJ.exports=uJ===Object.prototype?void 0:uJ});var hJ=h(()=>{"use strict";var cJ=w(),fJ=XE(),sJe=ZE(),eO=Yg(),oJe=Ae(),dJ=o(function(t){if(t&&t.forEach!==eO)try{oJe(t,"forEach",eO)}catch(e){t.forEach=eO}},"handlePrototype");for(ih in fJ)fJ[ih]&&dJ(cJ[ih]&&cJ[ih].prototype);var ih;dJ(sJe)});var yJ=h(()=>{"use strict";var pJ=w(),gJ=XE(),uJe=ZE(),_u=Oo(),vJ=Ae(),lJe=ir(),cJe=F(),rO=cJe("iterator"),tO=_u.values,mJ=o(function(t,e){if(t){if(t[rO]!==tO)try{vJ(t,rO,tO)}catch(n){t[rO]=tO}if(lJe(t,e,!0),gJ[e]){for(var r in _u)if(t[r]!==_u[r])try{vJ(t,r,_u[r])}catch(n){t[r]=_u[r]}}}},"handlePrototype");for(ah in gJ)mJ(pJ[ah]&&pJ[ah].prototype,ah);var ah;mJ(uJe,"DOMTokenList")});var nO=h((Jkr,qJ)=>{"use strict";qJ.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var CJ=h(()=>{"use strict";var fJe=m(),uh=$(),dJe=Um(),lO=O(),hJe=Se(),cO=dr(),lh=oe().f,pJe=ie(),sh=fe(),oh=V(),vJe=Qe(),gJe=R(),EJ=Pg(),bJ=mi(),gs=nO(),mJe=Mc(),OJ=te(),fO=D(),TJ=G(),ms="DOMException",uO="DATA_CLONE_ERR",fh=uh("Error"),Jt=uh(ms)||function(){try{var t=uh("MessageChannel")||dJe("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(e){if(e.name===uO&&e.code===25)return e.constructor}}(),yJe=Jt&&Jt.prototype,xJ=fh.prototype,qJe=OJ.set,bJe=OJ.getterFor(ms),SJe="stack"in new fh(ms),IJ=o(function(t){return oh(gs,t)&&gs[t].m?gs[t].c:0},"codeFor"),dO=o(function(){vJe(this,Uu);var e=arguments.length,r=bJ(e<1?void 0:arguments[0]),n=bJ(e<2?void 0:arguments[1],"Error"),i=IJ(n);if(qJe(this,{type:ms,name:n,message:r,code:i}),fO||(this.name=n,this.message=r,this.code=i),SJe){var a=new fh(r);a.name=ms,lh(this,"stack",cO(1,mJe(a.stack,1)))}},"DOMException"),Uu=dO.prototype=hJe(xJ),AJ=o(function(t){return{enumerable:!0,configurable:!0,get:t}},"createGetterDescriptor"),iO=o(function(t){return AJ(function(){return bJe(this)[t]})},"getterFor");fO&&(sh(Uu,"code",iO("code")),sh(Uu,"message",iO("message")),sh(Uu,"name",iO("name")));lh(Uu,"constructor",cO(1,dO));var dh=lO(function(){return!(new Jt instanceof fh)}),wJ=dh||lO(function(){return xJ.toString!==EJ||String(new Jt(1,2))!=="2: 1"}),RJ=dh||lO(function(){return new Jt(1,"DataCloneError").code!==25}),EJe=dh||Jt[uO]!==25||yJe[uO]!==25,SJ=TJ?wJ||RJ||EJe:dh;fJe({global:!0,constructor:!0,forced:SJ},{DOMException:SJ?dO:Jt});var zu=uh(ms),ch=zu.prototype;wJ&&(TJ||Jt===zu)&&pJe(ch,"toString",EJ);RJ&&fO&&Jt===zu&&sh(ch,"code",AJ(function(){return IJ(gJe(this).name)}));for(aO in gs)oh(gs,aO)&&(sO=gs[aO],ju=sO.s,oO=cO(6,sO.c),oh(zu,ju)||lh(zu,ju,oO),oh(ch,ju)||lh(ch,ju,oO));var sO,ju,oO,aO});var FJ=h(()=>{"use strict";var OJe=m(),TJe=w(),bO=$(),yO=dr(),qO=oe().f,MJ=V(),xJe=Qe(),IJe=bn(),kJ=mi(),hO=nO(),AJe=Mc(),wJe=D(),DJ=G(),Vu="DOMException",LJ=bO("Error"),Wu=bO(Vu),SO=o(function(){xJe(this,RJe);var e=arguments.length,r=kJ(e<1?void 0:arguments[0]),n=kJ(e<2?void 0:arguments[1],"Error"),i=new Wu(r,n),a=new LJ(r);return a.name=Vu,qO(i,"stack",yO(1,AJe(a.stack,1))),IJe(i,this,SO),i},"DOMException"),RJe=SO.prototype=Wu.prototype,CJe="stack"in new LJ(Vu),MJe="stack"in new Wu(1,2),pO=Wu&&wJe&&Object.getOwnPropertyDescriptor(TJe,Vu),kJe=!!pO&&!(pO.writable&&pO.configurable),PJ=CJe&&!kJe&&!MJe;OJe({global:!0,constructor:!0,forced:DJ||PJ},{DOMException:PJ?SO:Wu});var Hu=bO(Vu),NJ=Hu.prototype;if(NJ.constructor!==Hu){DJ||qO(NJ,"constructor",yO(1,Hu));for(vO in hO)MJ(hO,vO)&&(gO=hO[vO],mO=gO.s,MJ(Hu,mO)||qO(Hu,mO,yO(6,gO.c)))}var gO,mO,vO});var BJ=h(()=>{"use strict";var PJe=$(),NJe=ir(),$J="DOMException";NJe(PJe($J),$J)});var jJ=h(()=>{"use strict";var DJe=m(),LJe=w(),_J=Jo().clear;DJe({global:!0,bind:!0,enumerable:!0,forced:LJe.clearImmediate!==_J},{clearImmediate:_J})});var hh=h((sPr,zJ)=>{"use strict";var UJ=w(),FJe=Xe(),$Je=H(),BJe=Io(),_Je=Yr(),jJe=pr(),UJe=xr(),zJe=UJ.Function,HJe=/MSIE .\./.test(_Je)||BJe==="BUN"&&function(){var t=UJ.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")}();zJ.exports=function(t,e){var r=e?2:1;return HJe?function(n,i){var a=UJe(arguments.length,1)>r,s=$Je(n)?n:zJe(n),u=a?jJe(arguments,r):[],l=a?function(){FJe(s,this,u)}:s;return e?t(l,i):t(l)}:t}});var KJ=h(()=>{"use strict";var VJe=m(),WJ=w(),HJ=Jo().set,WJe=hh(),VJ=WJ.setImmediate?WJe(HJ,!1):HJ;VJe({global:!0,bind:!0,enumerable:!0,forced:WJ.setImmediate!==VJ},{setImmediate:VJ})});var GJ=h(()=>{"use strict";jJ();KJ()});var JJ=h(()=>{"use strict";var KJe=m(),GJe=w(),JJe=Pq(),YJe=B(),XJe=xr(),QJe=O(),ZJe=D(),e7e=QJe(function(){return ZJe&&Object.getOwnPropertyDescriptor(GJe,"queueMicrotask").value.length!==1});KJe({global:!0,enumerable:!0,dontCallGetSet:!0,forced:e7e},{queueMicrotask:o(function(e){XJe(arguments.length,1),JJe(YJe(e))},"queueMicrotask")})});var XJ=h(()=>{"use strict";var r7e=m(),Un=w(),t7e=fe(),n7e=D(),i7e=TypeError,a7e=Object.defineProperty,YJ=Un.self!==Un;try{n7e?(ph=Object.getOwnPropertyDescriptor(Un,"self"),(YJ||!ph||!ph.get||!ph.enumerable)&&t7e(Un,"self",{get:o(function(){return Un},"self"),set:o(function(e){if(this!==Un)throw new i7e("Illegal invocation");a7e(Un,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},"self"),configurable:!0,enumerable:!0})):r7e({global:!0,simple:!0,forced:YJ},{self:Un})}catch(t){}var ph});var u7=h(()=>{"use strict";var s7e=G(),o7e=m(),He=w(),Gu=$(),Yu=E(),AO=O(),u7e=vn(),qs=H(),l7e=rt(),c7e=xe(),qh=_(),f7e=Nt(),d7e=me(),e7=R(),mh=nr(),h7e=V(),p7e=Mr(),EO=Ae(),vh=Q(),v7e=xr(),g7e=Ga(),bh=ke(),wO=De(),m7e=mr(),QJ=Jm(),y7e=Rg(),RO=lf(),Ku=He.Object,q7e=He.Array,r7=He.Date,t7=He.Error,b7e=He.TypeError,S7e=He.PerformanceMark,$i=Gu("DOMException"),xO=bh.Map,CO=bh.has,n7=bh.get,yh=bh.set,i7=wO.Set,a7=wO.add,E7e=wO.has,O7e=Gu("Object","keys"),T7e=Yu([].push),x7e=Yu((!0).valueOf),I7e=Yu(1 .valueOf),A7e=Yu("".valueOf),w7e=Yu(r7.prototype.getTime),IO=u7e("structuredClone"),Ju="DataCloneError",gh="Transferring",s7=o(function(t){return!AO(function(){var e=new He.Set([7]),r=t(e),n=t(Ku(7));return r===e||!r.has(7)||!qh(n)||+n!=7})&&t},"checkBasicSemantic"),ZJ=o(function(t,e){return!AO(function(){var r=new e,n=t({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===r.stack)})},"checkErrorsCloning"),R7e=o(function(t){return!AO(function(){var e=t(new He.AggregateError([1],IO,{cause:3}));return e.name!=="AggregateError"||e.errors[0]!==1||e.message!==IO||e.cause!==3})},"checkNewErrorsCloningSemantic"),ys=He.structuredClone,C7e=s7e||!ZJ(ys,t7)||!ZJ(ys,$i)||!R7e(ys),M7e=!ys&&s7(function(t){return new S7e(IO,{detail:t}).detail}),Yt=s7(ys)||M7e,OO=o(function(t){throw new $i("Uncloneable type: "+t,Ju)},"throwUncloneable"),br=o(function(t,e){throw new $i((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",Ju)},"throwUnpolyfillable"),TO=o(function(t,e){return Yt||br(e),Yt(t)},"tryNativeRestrictedStructuredClone"),k7e=o(function(){var t;try{t=new He.DataTransfer}catch(e){try{t=new He.ClipboardEvent("").clipboardData}catch(r){}}return t&&t.items&&t.files?t:null},"createDataTransfer"),o7=o(function(t,e,r){if(CO(e,t))return n7(e,t);var n=r||mh(t),i,a,s,u,l,c;if(n==="SharedArrayBuffer")Yt?i=Yt(t):i=t;else{var f=He.DataView;!f&&!qs(t.slice)&&br("ArrayBuffer");try{if(qs(t.slice)&&!t.resizable)i=t.slice(0);else for(a=t.byteLength,s=("maxByteLength"in t)?{maxByteLength:t.maxByteLength}:void 0,i=new ArrayBuffer(a,s),u=new f(t),l=new f(i),c=0;c<a;c++)l.setUint8(c,u.getUint8(c))}catch(d){throw new $i("ArrayBuffer is detached",Ju)}}return yh(e,t,i),i},"cloneBuffer"),P7e=o(function(t,e,r,n,i){var a=He[e];return qh(a)||br(e),new a(o7(t.buffer,i),r,n)},"cloneView"),ze=o(function(t,e){if(f7e(t)&&OO("Symbol"),!qh(t))return t;if(e){if(CO(e,t))return n7(e,t)}else e=new xO;var r=mh(t),n,i,a,s,u,l,c,f;switch(r){case"Array":a=q7e(vh(t));break;case"Object":a={};break;case"Map":a=new xO;break;case"Set":a=new i7;break;case"RegExp":a=new RegExp(t.source,g7e(t));break;case"Error":switch(i=t.name,i){case"AggregateError":a=new(Gu(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":a=new(Gu(i));break;case"CompileError":case"LinkError":case"RuntimeError":a=new(Gu("WebAssembly",i));break;default:a=new t7}break;case"DOMException":a=new $i(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":a=o7(t,e,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":l=r==="DataView"?t.byteLength:t.length,a=P7e(t,r,t.byteOffset,l,e);break;case"DOMQuad":try{a=new DOMQuad(ze(t.p1,e),ze(t.p2,e),ze(t.p3,e),ze(t.p4,e))}catch(d){a=TO(t,r)}break;case"File":if(Yt)try{a=Yt(t),mh(a)!==r&&(a=void 0)}catch(d){}if(!a)try{a=new File([t],t.name,t)}catch(d){}a||br(r);break;case"FileList":if(s=k7e(),s){for(u=0,l=vh(t);u<l;u++)s.items.add(ze(t[u],e));a=s.files}else a=TO(t,r);break;case"ImageData":try{a=new ImageData(ze(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(d){a=TO(t,r)}break;default:if(Yt)a=Yt(t);else switch(r){case"BigInt":a=Ku(t.valueOf());break;case"Boolean":a=Ku(x7e(t));break;case"Number":a=Ku(I7e(t));break;case"String":a=Ku(A7e(t));break;case"Date":a=new r7(w7e(t));break;case"Blob":try{a=t.slice(0,t.size,t.type)}catch(d){br(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=He[r];try{a=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(d){br(r)}break;case"DOMRect":case"DOMRectReadOnly":n=He[r];try{a=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(d){br(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=He[r];try{a=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(d){br(r)}break;case"AudioData":case"VideoFrame":qs(t.clone)||br(r);try{a=t.clone()}catch(d){OO(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":br(r);default:OO(r)}}switch(yh(e,t,a),r){case"Array":case"Object":for(c=O7e(t),u=0,l=vh(c);u<l;u++)f=c[u],p7e(a,f,ze(t[f],e));break;case"Map":t.forEach(function(d,p){yh(a,ze(p,e),ze(d,e))});break;case"Set":t.forEach(function(d){a7(a,ze(d,e))});break;case"Error":EO(a,"message",ze(t.message,e)),h7e(t,"cause")&&EO(a,"cause",ze(t.cause,e)),i==="AggregateError"?a.errors=ze(t.errors,e):i==="SuppressedError"&&(a.error=ze(t.error,e),a.suppressed=ze(t.suppressed,e));case"DOMException":y7e&&EO(a,"stack",ze(t.stack,e))}return a},"structuredCloneInternal"),N7e=o(function(t,e){if(!qh(t))throw new b7e("Transfer option cannot be converted to a sequence");var r=[];d7e(t,function(p){T7e(r,e7(p))});for(var n=0,i=vh(r),a=new i7,s,u,l,c,f,d;n<i;){if(s=r[n++],u=mh(s),u==="ArrayBuffer"?E7e(a,s):CO(e,s))throw new $i("Duplicate transferable",Ju);if(u==="ArrayBuffer"){a7(a,s);continue}if(RO)c=ys(s,{transfer:[s]});else switch(u){case"ImageBitmap":l=He.OffscreenCanvas,l7e(l)||br(u,gh);try{f=new l(s.width,s.height),d=f.getContext("bitmaprenderer"),d.transferFromImageBitmap(s),c=f.transferToImageBitmap()}catch(p){}break;case"AudioData":case"VideoFrame":(!qs(s.clone)||!qs(s.close))&&br(u,gh);try{c=s.clone(),s.close()}catch(p){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":br(u,gh)}if(c===void 0)throw new $i("This object cannot be transferred: "+u,Ju);yh(e,s,c)}return a},"tryToTransfer"),D7e=o(function(t){m7e(t,function(e){RO?Yt(e,{transfer:[e]}):qs(e.transfer)?e.transfer():QJ?QJ(e):br("ArrayBuffer",gh)})},"detachBuffers");o7e({global:!0,enumerable:!0,sham:!RO,forced:C7e},{structuredClone:o(function(e){var r=v7e(arguments.length,1)>1&&!c7e(arguments[1])?e7(arguments[1]):void 0,n=r?r.transfer:void 0,i,a;n!==void 0&&(i=new xO,a=N7e(n,i));var s=ze(e,i);return a&&D7e(a),s},"structuredClone")})});var f7=h(()=>{"use strict";var L7e=m(),c7=w(),F7e=hh(),l7=F7e(c7.setInterval,!0);L7e({global:!0,bind:!0,forced:c7.setInterval!==l7},{setInterval:l7})});var p7=h(()=>{"use strict";var $7e=m(),h7=w(),B7e=hh(),d7=B7e(h7.setTimeout,!0);$7e({global:!0,bind:!0,forced:h7.setTimeout!==d7},{setTimeout:d7})});var v7=h(()=>{"use strict";f7();p7()});var Xu=h((IPr,m7)=>{"use strict";var _7e=O(),j7e=F(),U7e=D(),g7=G(),z7e=j7e("iterator");m7.exports=!_7e(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(i,a){e.delete("b"),n+=a+i}),r.delete("a",2),r.delete("b",void 0),g7&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(g7||!U7e)||!e.sort||t.href!=="https://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[z7e]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var I7=h((APr,x7)=>{"use strict";var Bi=E(),MO=2147483647,Qu=36,E7=1,NO=26,H7e=38,V7e=700,W7e=72,K7e=128,G7e="-",J7e=/[^\0-\u007E]/,O7=/[.\u3002\uFF0E\uFF61]/g,y7="Overflow: input needs wider integers to process",kO=Qu-E7,q7=RangeError,Y7e=Bi(O7.exec),bs=Math.floor,PO=String.fromCharCode,b7=Bi("".charCodeAt),T7=Bi([].join),zn=Bi([].push),X7e=Bi("".replace),Q7e=Bi("".split),Z7e=Bi("".toLowerCase),eYe=o(function(t){for(var e=[],r=0,n=t.length;r<n;){var i=b7(t,r++);if(i>=55296&&i<=56319&&r<n){var a=b7(t,r++);(a&64512)===56320?zn(e,((i&1023)<<10)+(a&1023)+65536):(zn(e,i),r--)}else zn(e,i)}return e},"ucs2decode"),S7=o(function(t){return t+22+75*(t<26)},"digitToBasic"),rYe=o(function(t,e,r){var n=0;for(t=r?bs(t/V7e):t>>1,t+=bs(t/e);t>kO*NO>>1;)t=bs(t/kO),n+=Qu;return bs(n+(kO+1)*t/(t+H7e))},"adapt"),tYe=o(function(t){var e=[];t=eYe(t);var r=t.length,n=K7e,i=0,a=W7e,s,u;for(s=0;s<t.length;s++)u=t[s],u<128&&zn(e,PO(u));var l=e.length,c=l;for(l&&zn(e,G7e);c<r;){var f=MO;for(s=0;s<t.length;s++)u=t[s],u>=n&&u<f&&(f=u);var d=c+1;if(f-n>bs((MO-i)/d))throw new q7(y7);for(i+=(f-n)*d,n=f,s=0;s<t.length;s++){if(u=t[s],u<n&&++i>MO)throw new q7(y7);if(u===n){for(var p=i,v=Qu;;){var g=v<=a?E7:v>=a+NO?NO:v-a;if(p<g)break;var y=p-g,q=Qu-g;zn(e,PO(S7(g+y%q))),p=bs(y/q),v+=Qu}zn(e,PO(S7(p))),a=rYe(i,d,c===l),i=0,c++}}i++,n++}return T7(e,"")},"encode");x7.exports=function(t){var e=[],r=Q7e(X7e(Z7e(t),O7,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],zn(e,Y7e(J7e,i)?"xn--"+tYe(i):i);return T7(e,".")}});var zO=h((RPr,J7)=>{"use strict";Oo();Lb();var _O=m(),B7=w(),jO=Iq(),nYe=$(),Sh=C(),it=E(),Zu=D(),_7=Xu(),j7=ie(),iYe=fe(),aYe=Pr(),sYe=ir(),oYe=On(),UO=te(),U7=Qe(),DO=H(),uYe=V(),lYe=se(),cYe=nr(),fYe=R(),z7=_(),sr=U(),dYe=Se(),A7=dr(),w7=Sn(),hYe=ht(),Eh=Me(),Ss=xr(),pYe=F(),vYe=Gc(),gYe=pYe("iterator"),Os="URLSearchParams",H7=Os+"Iterator",V7=UO.set,Lr=UO.getterFor(Os),mYe=UO.getterFor(H7),R7=jO("fetch"),xh=jO("Request"),el=jO("Headers"),LO=xh&&xh.prototype,C7=el&&el.prototype,yYe=B7.TypeError,qYe=B7.encodeURIComponent,bYe=String.fromCharCode,SYe=nYe("String","fromCodePoint"),EYe=parseInt,Th=it("".charAt),M7=it([].join),Hn=it([].push),W7=it("".replace),OYe=it([].shift),k7=it([].splice),P7=it("".split),K7=it("".slice),TYe=it(/./.exec),xYe=/\+/g,FO="\uFFFD",IYe=/^[0-9a-f]+$/i,N7=o(function(t,e){var r=K7(t,e,e+2);return TYe(IYe,r)?EYe(r,16):NaN},"parseHexOctet"),AYe=o(function(t){for(var e=0,r=128;r>0&&t&r;r>>=1)e++;return e},"getLeadingOnes"),wYe=o(function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(t[0]&31)<<6|t[1]&63;break;case 3:e=(t[0]&15)<<12|(t[1]&63)<<6|t[2]&63;break;case 4:e=(t[0]&7)<<18|(t[1]&63)<<12|(t[2]&63)<<6|t[3]&63;break}return e>1114111?null:e},"utf8Decode"),D7=o(function(t){t=W7(t,xYe," ");for(var e=t.length,r="",n=0;n<e;){var i=Th(t,n);if(i==="%"){if(Th(t,n+1)==="%"||n+3>e){r+="%",n++;continue}var a=N7(t,n+1);if(a!==a){r+=i,n++;continue}n+=2;var s=AYe(a);if(s===0)i=bYe(a);else{if(s===1||s>4){r+=FO,n++;continue}for(var u=[a],l=1;l<s&&(n++,!(n+3>e||Th(t,n)!=="%"));){var c=N7(t,n+1);if(c!==c){n+=3;break}if(c>191||c<128)break;Hn(u,c),n+=2,l++}if(u.length!==s){r+=FO;continue}var f=wYe(u);f===null?r+=FO:i=SYe(f)}}r+=i,n++}return r},"decode"),RYe=/[!'()~]|%20/g,CYe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},MYe=o(function(t){return CYe[t]},"replacer"),L7=o(function(t){return W7(qYe(t),RYe,MYe)},"serialize"),$O=oYe(o(function(e,r){V7(this,{type:H7,target:Lr(e).entries,index:0,kind:r})},"Iterator"),Os,o(function(){var e=mYe(this),r=e.target,n=e.index++;if(!r||n>=r.length)return e.target=null,Eh(void 0,!0);var i=r[n];switch(e.kind){case"keys":return Eh(i.key,!1);case"values":return Eh(i.value,!1)}return Eh([i.key,i.value],!1)},"next"),!0),G7=o(function(t){this.entries=[],this.url=null,t!==void 0&&(z7(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?Th(t,0)==="?"?K7(t,1):t:sr(t)))},"URLSearchParamsState");G7.prototype={type:Os,bindURL:o(function(t){this.url=t,this.update()},"bindURL"),parseObject:o(function(t){var e=this.entries,r=hYe(t),n,i,a,s,u,l,c;if(r)for(n=w7(t,r),i=n.next;!(a=Sh(i,n)).done;){if(s=w7(fYe(a.value)),u=s.next,(l=Sh(u,s)).done||(c=Sh(u,s)).done||!Sh(u,s).done)throw new yYe("Expected sequence with length 2");Hn(e,{key:sr(l.value),value:sr(c.value)})}else for(var f in t)uYe(t,f)&&Hn(e,{key:f,value:sr(t[f])})},"parseObject"),parseQuery:o(function(t){if(t)for(var e=this.entries,r=P7(t,"&"),n=0,i,a;n<r.length;)i=r[n++],i.length&&(a=P7(i,"="),Hn(e,{key:D7(OYe(a)),value:D7(M7(a,"="))}))},"parseQuery"),serialize:o(function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],Hn(e,L7(n.key)+"="+L7(n.value));return M7(e,"&")},"serialize"),update:o(function(){this.entries.length=0,this.parseQuery(this.url.query)},"update"),updateURL:o(function(){this.url&&this.url.update()},"updateURL")};var Ih=o(function(){U7(this,Es);var e=arguments.length>0?arguments[0]:void 0,r=V7(this,new G7(e));Zu||(this.size=r.entries.length)},"URLSearchParams"),Es=Ih.prototype;aYe(Es,{append:o(function(e,r){var n=Lr(this);Ss(arguments.length,2),Hn(n.entries,{key:sr(e),value:sr(r)}),Zu||this.length++,n.updateURL()},"append"),delete:o(function(t){for(var e=Lr(this),r=Ss(arguments.length,1),n=e.entries,i=sr(t),a=r<2?void 0:arguments[1],s=a===void 0?a:sr(a),u=0;u<n.length;){var l=n[u];if(l.key===i&&(s===void 0||l.value===s)){if(k7(n,u,1),s!==void 0)break}else u++}Zu||(this.size=n.length),e.updateURL()},"delete"),get:o(function(e){var r=Lr(this).entries;Ss(arguments.length,1);for(var n=sr(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},"get"),getAll:o(function(e){var r=Lr(this).entries;Ss(arguments.length,1);for(var n=sr(e),i=[],a=0;a<r.length;a++)r[a].key===n&&Hn(i,r[a].value);return i},"getAll"),has:o(function(e){for(var r=Lr(this).entries,n=Ss(arguments.length,1),i=sr(e),a=n<2?void 0:arguments[1],s=a===void 0?a:sr(a),u=0;u<r.length;){var l=r[u++];if(l.key===i&&(s===void 0||l.value===s))return!0}return!1},"has"),set:o(function(e,r){var n=Lr(this);Ss(arguments.length,1);for(var i=n.entries,a=!1,s=sr(e),u=sr(r),l=0,c;l<i.length;l++)c=i[l],c.key===s&&(a?k7(i,l--,1):(a=!0,c.value=u));a||Hn(i,{key:s,value:u}),Zu||(this.size=i.length),n.updateURL()},"set"),sort:o(function(){var e=Lr(this);vYe(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},"sort"),forEach:o(function(e){for(var r=Lr(this).entries,n=lYe(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},"forEach"),keys:o(function(){return new $O(this,"keys")},"keys"),values:o(function(){return new $O(this,"values")},"values"),entries:o(function(){return new $O(this,"entries")},"entries")},{enumerable:!0});j7(Es,gYe,Es.entries,{name:"entries"});j7(Es,"toString",o(function(){return Lr(this).serialize()},"toString"),{enumerable:!0});Zu&&iYe(Es,"size",{get:o(function(){return Lr(this).entries.length},"size"),configurable:!0,enumerable:!0});sYe(Ih,Os);_O({global:!0,constructor:!0,forced:!_7},{URLSearchParams:Ih});!_7&&DO(el)&&(F7=it(C7.has),$7=it(C7.set),BO=o(function(t){if(z7(t)){var e=t.body,r;if(cYe(e)===Os)return r=t.headers?new el(t.headers):new el,F7(r,"content-type")||$7(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),dYe(t,{body:A7(0,sr(e)),headers:A7(0,r)})}return t},"wrapRequestOptions"),DO(R7)&&_O({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:o(function(e){return R7(e,arguments.length>1?BO(arguments[1]):{})},"fetch")}),DO(xh)&&(Oh=o(function(e){return U7(this,LO),new xh(e,arguments.length>1?BO(arguments[1]):{})},"Request"),LO.constructor=Oh,Oh.prototype=LO,_O({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Oh})));var F7,$7,BO,Oh;J7.exports={URLSearchParams:Ih,getState:Lr}});var hY=h(()=>{"use strict";$b();var kYe=m(),sT=D(),PYe=Xu(),oT=w(),Y7=se(),jr=E(),Mh=ie(),Fr=fe(),NYe=Qe(),nT=V(),uT=oq(),Ts=Xg(),at=pr(),DYe=Ci().codeAt,LYe=I7(),Qt=U(),FYe=ir(),$Ye=xr(),oY=zO(),uY=te(),BYe=uY.set,kh=uY.getterFor("URL"),_Ye=oY.URLSearchParams,jYe=oY.getState,rl=oT.URL,iT=oT.TypeError,Ph=oT.parseInt,UYe=Math.floor,X7=Math.pow,_r=jr("".charAt),st=jr(/./.exec),nl=jr([].join),zYe=jr(1 .toString),HYe=jr([].pop),Is=jr([].push),HO=jr("".replace),VYe=jr([].shift),WYe=jr("".split),al=jr("".slice),Nh=jr("".toLowerCase),KYe=jr([].unshift),GYe="Invalid authority",VO="Invalid scheme",_i="Invalid host",Q7="Invalid port",lY=/[a-z]/i,JYe=/[\d+-.a-z]/i,aT=/\d/,YYe=/^0x/i,XYe=/^[0-7]+$/,QYe=/^\d+$/,cY=/^[\da-f]+$/i,ZYe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,e9e=/[\0\t\n\r #/:<>?@[\\\]^|]/,r9e=/^[\u0000-\u0020]+/,t9e=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,n9e=/[\t\n\r]/g,$r,i9e=o(function(t){var e=WYe(t,"."),r,n,i,a,s,u,l;if(e.length&&e[e.length-1]===""&&e.length--,r=e.length,r>4)return t;for(n=[],i=0;i<r;i++){if(a=e[i],a==="")return t;if(s=10,a.length>1&&_r(a,0)==="0"&&(s=st(YYe,a)?16:8,a=al(a,s===8?1:2)),a==="")u=0;else{if(!st(s===10?QYe:s===8?XYe:cY,a))return t;u=Ph(a,s)}Is(n,u)}for(i=0;i<r;i++)if(u=n[i],i===r-1){if(u>=X7(256,5-r))return null}else if(u>255)return null;for(l=HYe(n),i=0;i<n.length;i++)l+=n[i]*X7(256,3-i);return l},"parseIPv4"),a9e=o(function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,a,s,u,l,c,f,d,p=o(function(){return _r(t,i)},"chr");if(p()===":"){if(_r(t,1)!==":")return;i+=2,r++,n=r}for(;p();){if(r===8)return;if(p()===":"){if(n!==null)return;i++,r++,n=r;continue}for(a=s=0;s<4&&st(cY,p());)a=a*16+Ph(p(),16),i++,s++;if(p()==="."){if(s===0||(i-=s,r>6))return;for(u=0;p();){if(l=null,u>0)if(p()==="."&&u<4)i++;else return;if(!st(aT,p()))return;for(;st(aT,p());){if(c=Ph(p(),10),l===null)l=c;else{if(l===0)return;l=l*10+c}if(l>255)return;i++}e[r]=e[r]*256+l,u++,(u===2||u===4)&&r++}if(u!==4)return;break}else if(p()===":"){if(i++,!p())return}else if(p())return;e[r++]=a}if(n!==null)for(f=r-n,r=7;r!==0&&f>0;)d=e[r],e[r--]=e[n+f-1],e[n+--f]=d;else if(r!==8)return;return e},"parseIPv6"),s9e=o(function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)t[a]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=a),++i);return i>r?n:e},"findLongestZeroSequence"),tl=o(function(t){var e,r,n,i;if(typeof t=="number"){for(e=[],r=0;r<4;r++)KYe(e,t%256),t=UYe(t/256);return nl(e,".")}if(typeof t=="object"){for(e="",n=s9e(t),r=0;r<8;r++)i&&t[r]===0||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=zYe(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},"serializeHost"),Ch={},fY=uT({},Ch,{" ":1,'"':1,"<":1,">":1,"`":1}),dY=uT({},fY,{"#":1,"?":1,"{":1,"}":1}),WO=uT({},dY,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Vn=o(function(t,e){var r=DYe(t,0);return r>32&&r<127&&!nT(e,t)?t:encodeURIComponent(t)},"percentEncode"),Ah={ftp:21,file:null,http:80,https:443,ws:80,wss:443},il=o(function(t,e){var r;return t.length===2&&st(lY,_r(t,0))&&((r=_r(t,1))===":"||!e&&r==="|")},"isWindowsDriveLetter"),Z7=o(function(t){var e;return t.length>1&&il(al(t,0,2))&&(t.length===2||(e=_r(t,2))==="/"||e==="\\"||e==="?"||e==="#")},"startsWithWindowsDriveLetter"),o9e=o(function(t){return t==="."||Nh(t)==="%2e"},"isSingleDot"),u9e=o(function(t){return t=Nh(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},"isDoubleDot"),KO={},eY={},GO={},rY={},tY={},JO={},nY={},iY={},wh={},Rh={},YO={},XO={},QO={},ZO={},aY={},eT={},xs={},Ot={},sY={},ji={},Xt={},lT=o(function(t,e,r){var n=Qt(t),i,a,s;if(e){if(a=this.parse(n),a)throw new iT(a);this.searchParams=null}else{if(r!==void 0&&(i=new lT(r,!0)),a=this.parse(n,null,i),a)throw new iT(a);s=jYe(new _Ye),s.bindURL(this),this.searchParams=s}},"URLState");lT.prototype={type:"URL",parse:o(function(t,e,r){var n=this,i=e||KO,a=0,s="",u=!1,l=!1,c=!1,f,d,p,v;for(t=Qt(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=HO(t,r9e,""),t=HO(t,t9e,"$1")),t=HO(t,n9e,""),f=Ts(t);a<=f.length;){switch(d=f[a],i){case KO:if(d&&st(lY,d))s+=Nh(d),i=eY;else{if(e)return VO;i=GO;continue}break;case eY:if(d&&(st(JYe,d)||d==="+"||d==="-"||d==="."))s+=Nh(d);else if(d===":"){if(e&&(n.isSpecial()!==nT(Ah,s)||s==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=s,e){n.isSpecial()&&Ah[n.scheme]===n.port&&(n.port=null);return}s="",n.scheme==="file"?i=ZO:n.isSpecial()&&r&&r.scheme===n.scheme?i=rY:n.isSpecial()?i=iY:f[a+1]==="/"?(i=tY,a++):(n.cannotBeABaseURL=!0,Is(n.path,""),i=sY)}else{if(e)return VO;s="",i=GO,a=0;continue}break;case GO:if(!r||r.cannotBeABaseURL&&d!=="#")return VO;if(r.cannotBeABaseURL&&d==="#"){n.scheme=r.scheme,n.path=at(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=Xt;break}i=r.scheme==="file"?ZO:JO;continue;case rY:if(d==="/"&&f[a+1]==="/")i=wh,a++;else{i=JO;continue}break;case tY:if(d==="/"){i=Rh;break}else{i=Ot;continue}case JO:if(n.scheme=r.scheme,d===$r)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=at(r.path),n.query=r.query;else if(d==="/"||d==="\\"&&n.isSpecial())i=nY;else if(d==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=at(r.path),n.query="",i=ji;else if(d==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=at(r.path),n.query=r.query,n.fragment="",i=Xt;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=at(r.path),n.path.length--,i=Ot;continue}break;case nY:if(n.isSpecial()&&(d==="/"||d==="\\"))i=wh;else if(d==="/")i=Rh;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=Ot;continue}break;case iY:if(i=wh,d!=="/"||_r(s,a+1)!=="/")continue;a++;break;case wh:if(d!=="/"&&d!=="\\"){i=Rh;continue}break;case Rh:if(d==="@"){u&&(s="%40"+s),u=!0,p=Ts(s);for(var g=0;g<p.length;g++){var y=p[g];if(y===":"&&!c){c=!0;continue}var q=Vn(y,WO);c?n.password+=q:n.username+=q}s=""}else if(d===$r||d==="/"||d==="?"||d==="#"||d==="\\"&&n.isSpecial()){if(u&&s==="")return GYe;a-=Ts(s).length+1,s="",i=YO}else s+=d;break;case YO:case XO:if(e&&n.scheme==="file"){i=eT;continue}else if(d===":"&&!l){if(s==="")return _i;if(v=n.parseHost(s),v)return v;if(s="",i=QO,e===XO)return}else if(d===$r||d==="/"||d==="?"||d==="#"||d==="\\"&&n.isSpecial()){if(n.isSpecial()&&s==="")return _i;if(e&&s===""&&(n.includesCredentials()||n.port!==null))return;if(v=n.parseHost(s),v)return v;if(s="",i=xs,e)return;continue}else d==="["?l=!0:d==="]"&&(l=!1),s+=d;break;case QO:if(st(aT,d))s+=d;else if(d===$r||d==="/"||d==="?"||d==="#"||d==="\\"&&n.isSpecial()||e){if(s!==""){var b=Ph(s,10);if(b>65535)return Q7;n.port=n.isSpecial()&&b===Ah[n.scheme]?null:b,s=""}if(e)return;i=xs;continue}else return Q7;break;case ZO:if(n.scheme="file",d==="/"||d==="\\")i=aY;else if(r&&r.scheme==="file")switch(d){case $r:n.host=r.host,n.path=at(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=at(r.path),n.query="",i=ji;break;case"#":n.host=r.host,n.path=at(r.path),n.query=r.query,n.fragment="",i=Xt;break;default:Z7(nl(at(f,a),""))||(n.host=r.host,n.path=at(r.path),n.shortenPath()),i=Ot;continue}else{i=Ot;continue}break;case aY:if(d==="/"||d==="\\"){i=eT;break}r&&r.scheme==="file"&&!Z7(nl(at(f,a),""))&&(il(r.path[0],!0)?Is(n.path,r.path[0]):n.host=r.host),i=Ot;continue;case eT:if(d===$r||d==="/"||d==="\\"||d==="?"||d==="#"){if(!e&&il(s))i=Ot;else if(s===""){if(n.host="",e)return;i=xs}else{if(v=n.parseHost(s),v)return v;if(n.host==="localhost"&&(n.host=""),e)return;s="",i=xs}continue}else s+=d;break;case xs:if(n.isSpecial()){if(i=Ot,d!=="/"&&d!=="\\")continue}else if(!e&&d==="?")n.query="",i=ji;else if(!e&&d==="#")n.fragment="",i=Xt;else if(d!==$r&&(i=Ot,d!=="/"))continue;break;case Ot:if(d===$r||d==="/"||d==="\\"&&n.isSpecial()||!e&&(d==="?"||d==="#")){if(u9e(s)?(n.shortenPath(),d!=="/"&&!(d==="\\"&&n.isSpecial())&&Is(n.path,"")):o9e(s)?d!=="/"&&!(d==="\\"&&n.isSpecial())&&Is(n.path,""):(n.scheme==="file"&&!n.path.length&&il(s)&&(n.host&&(n.host=""),s=_r(s,0)+":"),Is(n.path,s)),s="",n.scheme==="file"&&(d===$r||d==="?"||d==="#"))for(;n.path.length>1&&n.path[0]==="";)VYe(n.path);d==="?"?(n.query="",i=ji):d==="#"&&(n.fragment="",i=Xt)}else s+=Vn(d,dY);break;case sY:d==="?"?(n.query="",i=ji):d==="#"?(n.fragment="",i=Xt):d!==$r&&(n.path[0]+=Vn(d,Ch));break;case ji:!e&&d==="#"?(n.fragment="",i=Xt):d!==$r&&(d==="'"&&n.isSpecial()?n.query+="%27":d==="#"?n.query+="%23":n.query+=Vn(d,Ch));break;case Xt:d!==$r&&(n.fragment+=Vn(d,fY));break}a++}},"parse"),parseHost:o(function(t){var e,r,n;if(_r(t,0)==="["){if(_r(t,t.length-1)!=="]"||(e=a9e(al(t,1,-1)),!e))return _i;this.host=e}else if(this.isSpecial()){if(t=LYe(t),st(ZYe,t)||(e=i9e(t),e===null))return _i;this.host=e}else{if(st(e9e,t))return _i;for(e="",r=Ts(t),n=0;n<r.length;n++)e+=Vn(r[n],Ch);this.host=e}},"parseHost"),cannotHaveUsernamePasswordPort:o(function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},"cannotHaveUsernamePasswordPort"),includesCredentials:o(function(){return this.username!==""||this.password!==""},"includesCredentials"),isSpecial:o(function(){return nT(Ah,this.scheme)},"isSpecial"),shortenPath:o(function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!il(t[0],!0))&&t.length--},"shortenPath"),serialize:o(function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,s=t.path,u=t.query,l=t.fragment,c=e+":";return i!==null?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=tl(i),a!==null&&(c+=":"+a)):e==="file"&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+nl(s,"/"):"",u!==null&&(c+="?"+u),l!==null&&(c+="#"+l),c},"serialize"),setHref:o(function(t){var e=this.parse(t);if(e)throw new iT(e);this.searchParams.update()},"setHref"),getOrigin:o(function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new As(t.path[0]).origin}catch(r){return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+tl(this.host)+(e!==null?":"+e:"")},"getOrigin"),getProtocol:o(function(){return this.scheme+":"},"getProtocol"),setProtocol:o(function(t){this.parse(Qt(t)+":",KO)},"setProtocol"),getUsername:o(function(){return this.username},"getUsername"),setUsername:o(function(t){var e=Ts(Qt(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=Vn(e[r],WO)}},"setUsername"),getPassword:o(function(){return this.password},"getPassword"),setPassword:o(function(t){var e=Ts(Qt(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=Vn(e[r],WO)}},"setPassword"),getHost:o(function(){var t=this.host,e=this.port;return t===null?"":e===null?tl(t):tl(t)+":"+e},"getHost"),setHost:o(function(t){this.cannotBeABaseURL||this.parse(t,YO)},"setHost"),getHostname:o(function(){var t=this.host;return t===null?"":tl(t)},"getHostname"),setHostname:o(function(t){this.cannotBeABaseURL||this.parse(t,XO)},"setHostname"),getPort:o(function(){var t=this.port;return t===null?"":Qt(t)},"getPort"),setPort:o(function(t){this.cannotHaveUsernamePasswordPort()||(t=Qt(t),t===""?this.port=null:this.parse(t,QO))},"setPort"),getPathname:o(function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+nl(t,"/"):""},"getPathname"),setPathname:o(function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,xs))},"setPathname"),getSearch:o(function(){var t=this.query;return t?"?"+t:""},"getSearch"),setSearch:o(function(t){t=Qt(t),t===""?this.query=null:(_r(t,0)==="?"&&(t=al(t,1)),this.query="",this.parse(t,ji)),this.searchParams.update()},"setSearch"),getSearchParams:o(function(){return this.searchParams.facade},"getSearchParams"),getHash:o(function(){var t=this.fragment;return t?"#"+t:""},"getHash"),setHash:o(function(t){if(t=Qt(t),t===""){this.fragment=null;return}_r(t,0)==="#"&&(t=al(t,1)),this.fragment="",this.parse(t,Xt)},"setHash"),update:o(function(){this.query=this.searchParams.serialize()||null},"update")};var As=o(function(e){var r=NYe(this,or),n=$Ye(arguments.length,1)>1?arguments[1]:void 0,i=BYe(r,new lT(e,!1,n));sT||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},"URL"),or=As.prototype,Br=o(function(t,e){return{get:o(function(){return kh(this)[t]()},"get"),set:e&&function(r){return kh(this)[e](r)},configurable:!0,enumerable:!0}},"accessorDescriptor");sT&&(Fr(or,"href",Br("serialize","setHref")),Fr(or,"origin",Br("getOrigin")),Fr(or,"protocol",Br("getProtocol","setProtocol")),Fr(or,"username",Br("getUsername","setUsername")),Fr(or,"password",Br("getPassword","setPassword")),Fr(or,"host",Br("getHost","setHost")),Fr(or,"hostname",Br("getHostname","setHostname")),Fr(or,"port",Br("getPort","setPort")),Fr(or,"pathname",Br("getPathname","setPathname")),Fr(or,"search",Br("getSearch","setSearch")),Fr(or,"searchParams",Br("getSearchParams")),Fr(or,"hash",Br("getHash","setHash")));Mh(or,"toJSON",o(function(){return kh(this).serialize()},"toJSON"),{enumerable:!0});Mh(or,"toString",o(function(){return kh(this).serialize()},"toString"),{enumerable:!0});rl&&(rT=rl.createObjectURL,tT=rl.revokeObjectURL,rT&&Mh(As,"createObjectURL",Y7(rT,rl)),tT&&Mh(As,"revokeObjectURL",Y7(tT,rl)));var rT,tT;FYe(As,"URL");kYe({global:!0,constructor:!0,forced:!PYe,sham:!sT},{URL:As})});var pY=h(()=>{"use strict";hY()});var mY=h(()=>{"use strict";var l9e=m(),c9e=$(),gY=O(),f9e=xr(),vY=U(),d9e=Xu(),cT=c9e("URL"),h9e=d9e&&gY(function(){cT.canParse()}),p9e=gY(function(){return cT.canParse.length!==1});l9e({target:"URL",stat:!0,forced:!h9e||p9e},{canParse:o(function(e){var r=f9e(arguments.length,1),n=vY(e),i=r<2||arguments[1]===void 0?void 0:vY(arguments[1]);try{return!!new cT(n,i)}catch(a){return!1}},"canParse")})});var qY=h(()=>{"use strict";var v9e=m(),g9e=$(),m9e=xr(),yY=U(),y9e=Xu(),q9e=g9e("URL");v9e({target:"URL",stat:!0,forced:!y9e},{parse:o(function(e){var r=m9e(arguments.length,1),n=yY(e),i=r<2||arguments[1]===void 0?void 0:yY(arguments[1]);try{return new q9e(n,i)}catch(a){return null}},"parse")})});var bY=h(()=>{"use strict";var b9e=m(),S9e=C();b9e({target:"URL",proto:!0,enumerable:!0},{toJSON:o(function(){return S9e(URL.prototype.toString,this)},"toJSON")})});var SY=h(()=>{"use strict";zO()});var xY=h(()=>{"use strict";var E9e=ie(),Dh=E(),EY=U(),O9e=xr(),TY=URLSearchParams,Lh=TY.prototype,T9e=Dh(Lh.append),OY=Dh(Lh.delete),x9e=Dh(Lh.forEach),I9e=Dh([].push),fT=new TY("a=1&a=2&b=3");fT.delete("a",1);fT.delete("b",void 0);fT+""!="a=2"&&E9e(Lh,"delete",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&r===void 0)return OY(this,t);var n=[];x9e(this,function(d,p){I9e(n,{key:p,value:d})}),O9e(e,1);for(var i=EY(t),a=EY(r),s=0,u=0,l=!1,c=n.length,f;s<c;)f=n[s++],l||f.key===i?(l=!0,OY(this,f.key)):u++;for(;u<c;)f=n[u++],f.key===i&&f.value===a||T9e(this,f.key,f.value)},{enumerable:!0,unsafe:!0})});var RY=h(()=>{"use strict";var A9e=ie(),AY=E(),w9e=U(),R9e=xr(),wY=URLSearchParams,dT=wY.prototype,C9e=AY(dT.getAll),M9e=AY(dT.has),IY=new wY("a=1");(IY.has("a",2)||!IY.has("a",void 0))&&A9e(dT,"has",o(function(e){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return M9e(this,e);var i=C9e(this,e);R9e(r,1);for(var a=w9e(n),s=0;s<i.length;)if(i[s++]===a)return!0;return!1},"has"),{enumerable:!0,unsafe:!0})});var CY=h(()=>{"use strict";var k9e=D(),P9e=E(),N9e=fe(),hT=URLSearchParams.prototype,D9e=P9e(hT.forEach);k9e&&!("size"in hT)&&N9e(hT,"size",{get:o(function(){var e=0;return D9e(this,function(){e++}),e},"size"),configurable:!0,enumerable:!0})});var kY=h((rNr,MY)=>{"use strict";zR();YR();XR();QR();ZR();eC();rC();tC();nC();iC();aC();sC();oC();uC();lC();DC();_C();$g();sM();Ug();pM();yM();bM();OM();TM();IM();wM();Kg();Gg();PM();NM();FM();WM();KM();JM();YM();Oo();mk();Sk();Ek();Tk();Ik();Nk();Lk();$k();jk();Uk();iP();oP();uP();pm();gm();mm();dP();hP();pP();qm();VP();nN();lN();fN();jm();ty();ny();PN();DN();$N();BN();JN();YN();rD();aD();oD();hD();gD();bD();cy();vy();yy();qy();by();Sy();Ty();xy();Iy();wy();Ry();Cy();My();ky();Og();HD();mf();_y();dL();vL();mL();yL();qL();EL();TL();xL();AL();RL();ML();kL();NL();DL();$L();jL();UL();zL();e2();r2();n2();a2();s2();o2();u2();l2();v2();O2();w2();N2();F2();U2();z2();W2();G2();Y2();X2();nF();iF();aF();uF();lF();cF();dF();cq();fq();vF();mF();qF();SF();OF();TF();xF();IF();MF();kF();PF();LF();FF();BF();jF();eB();Gq();Jq();aB();Zq();eb();uB();vB();yB();qB();OB();TB();xB();IB();AB();wB();RB();NB();LB();FB();e_();t_();_f();u_();c_();h_();m_();q_();bb();Ob();xb();Ab();Rb();kb();Nb();Y_();ej();aj();Lb();lj();Fb();$b();Oj();Vb();Nj();Dj();Bj();_j();Wj();rS();Xj();tU();aU();oU();uS();pU();qU();TU();wU();RU();CU();MU();kU();PU();NU();DU();LU();FU();$U();BU();_U();hz();pz();vz();gz();mz();yz();qz();bz();Sz();OS();Tz();Iz();wz();Mz();Pz();Dz();TS();xS();Bz();_z();Uz();Hz();Jz();Xz();Zz();eH();tH();iH();sH();uH();pH();vH();mH();OH();xH();CH();BS();_S();kH();US();FH();vd();ZH();e3();n3();C3();M3();k3();P3();N3();D3();F3();$3();_3();j3();H3();V3();G3();J3();Y3();X3();iV();aV();sV();oV();uV();bV();xV();FV();jV();zV();HV();WV();KV();ZV();eW();tW();nW();iW();aW();sW();lW();cW();mW();OW();xW();CW();MW();NW();DW();_W();HW();WW();GW();JW();QW();ZW();e4();r4();n4();s4();l4();c4();f4();d4();h4();p4();v4();g4();m4();y4();b4();S4();E4();O4();T4();I4();R4();j4();J4();X4();Z4();eK();tK();nK();iK();oK();uK();lK();cK();hK();vK();gK();yK();bK();SK();TK();xK();IK();wK();CK();MK();kK();PK();NK();LK();FK();$K();BK();_K();jK();UK();zK();KK();GK();ZK();e6();n6();i6();a6();l6();c6();f6();d6();A6();w6();R6();C6();M6();F6();B6();j6();V6();K6();J6();Q6();e5();t5();l5();c5();f5();d5();m5();y5();b5();S5();O5();T5();x5();I5();A5();w5();R5();C5();M5();P5();D5();F5();$5();B5();_5();j5();U5();z5();H5();J5();eG();bG();SG();EG();OG();TG();xG();IG();AG();RG();CG();FG();$G();BG();_G();jG();UG();zG();HG();WG();KG();JG();XG();QG();ZG();e8();r8();t8();n8();i8();a8();m8();E8();T8();x8();A8();w8();C8();k8();N8();L8();F8();B8();_8();z8();H8();W8();G8();rJ();sJ();hJ();yJ();CJ();FJ();BJ();GJ();JJ();XJ();u7();v7();pY();mY();qY();bY();SY();xY();RY();CY();MY.exports=Oc()});var Fh=h((tNr,PY)=>{"use strict";PY.exports=kY()});var m2r=Ov(Fh());function Ze(t){this.content=t}o(Ze,"OrderedMap");Ze.prototype={constructor:Ze,find:o(function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},"find"),get:o(function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},"get"),update:o(function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new Ze(a)},"update"),remove:o(function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ze(r)},"remove"),addToStart:o(function(t,e){return new Ze([t,e].concat(this.remove(t).content))},"addToStart"),addToEnd:o(function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ze(r)},"addToEnd"),addBefore:o(function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new Ze(i)},"addBefore"),forEach:o(function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},"forEach"),prepend:o(function(t){return t=Ze.from(t),t.size?new Ze(t.content.concat(this.subtract(t).content)):this},"prepend"),append:o(function(t){return t=Ze.from(t),t.size?new Ze(this.subtract(t).content.concat(t.content)):this},"append"),subtract:o(function(t){var e=this;t=Ze.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},"subtract"),toObject:o(function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},"toObject"),get size(){return this.content.length>>1}};Ze.from=function(t){if(t instanceof Ze)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ze(e)};var pT=Ze;function zY(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){let s=zY(i.content,a.content,r+1);if(s!=null)return s}r+=i.nodeSize}}o(zY,"findDiffStart");function HY(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let s=t.child(--i),u=e.child(--a),l=s.nodeSize;if(s==u){r-=l,n-=l;continue}if(!s.sameMarkup(u))return{a:r,b:n};if(s.isText&&s.text!=u.text){let c=0,f=Math.min(s.text.length,u.text.length);for(;c<f&&s.text[s.text.length-c-1]==u.text[u.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(s.content.size||u.content.size){let c=HY(s.content,u.content,r-1,n-1);if(c)return c}r-=l,n-=l}}o(HY,"findDiffEnd");var Ve=class Ve{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let s=0,u=0;u<r;s++){let l=this.content[s],c=u+l.nodeSize;if(c>e&&n(l,i+u,a||null,s)!==!1&&l.content.size){let f=u+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,r-f),n,i+f)}u=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",s=!0;return this.nodesBetween(e,r,(u,l)=>{let c=u.isText?u.text.slice(Math.max(e,l)-l,r-l):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&c||u.isTextblock)&&n&&(s?s=!1:a+=n),a+=c},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new Ve(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,s=0;s<r;a++){let u=this.content[a],l=s+u.nodeSize;l>e&&((s<e||l>r)&&(u.isText?u=u.cut(Math.max(0,e-s),Math.min(u.text.length,r-s)):u=u.cut(Math.max(0,e-s-1),Math.min(u.content.size,r-s-1))),n.push(u),i+=u.nodeSize),s=l}return new Ve(n,i)}cutByIndex(e,r){return e==r?Ve.empty:e==0&&r==this.content.length?this:new Ve(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new Ve(i,a)}addToStart(e){return new Ve([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Ve(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return zY(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return HY(this,e,r,n)}findIndex(e,r=-1){if(e==0)return $h(0,e);if(e==this.size)return $h(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let n=0,i=0;;n++){let a=this.child(n),s=i+a.nodeSize;if(s>=e)return s==e||r>0?$h(n+1,s):$h(n,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Ve.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Ve(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Ve.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new Ve(r||e,n)}static from(e){if(!e)return Ve.empty;if(e instanceof Ve)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Ve([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};o(Ve,"Fragment");var I=Ve;I.empty=new I([],0);var vT={index:0,offset:0};function $h(t,e){return vT.index=t,vT.offset=e,vT}o($h,"retIndex");function _h(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!_h(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!_h(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}o(_h,"compareDeep");var ul=class ul{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&_h(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError("There is no mark type ".concat(r.type," in this schema"));let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ul.none;if(e instanceof ul)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};o(ul,"Mark");var ne=ul;ne.none=[];var OT=class OT extends Error{};o(OT,"ReplaceError");var Hi=OT,Wn=class Wn{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=WY(this.content,e+this.openStart,r);return n&&new Wn(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Wn(VY(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Wn.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Wn(I.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new Wn(e,n,i)}};o(Wn,"Slice");var M=Wn;M.empty=new M(I.empty,0,0);function VY(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:s,offset:u}=t.findIndex(r);if(i==e||a.isText){if(u!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(VY(a.content,e-i-1,r-i-1)))}o(VY,"removeRange");function WY(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),s=t.maybeChild(i);if(a==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let u=WY(s.content,e-a-1,r);return u&&t.replaceChild(i,s.copy(u))}o(WY,"insertInto");function L9e(t,e,r){if(r.openStart>t.depth)throw new Hi("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Hi("Inconsistent open depths");return KY(t,e,r,0)}o(L9e,"replace");function KY(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=KY(t,e,r,n+1);return a.copy(a.content.replaceChild(i,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,u=s.content;return zi(s,u.cut(0,t.parentOffset).append(r.content).append(u.cut(e.parentOffset)))}else{let{start:s,end:u}=F9e(r,t);return zi(a,JY(t,s,u,e,n))}else return zi(a,jh(t,e,n))}o(KY,"replaceOuter");function GY(t,e){if(!e.type.compatibleContent(t.type))throw new Hi("Cannot join "+e.type.name+" onto "+t.type.name)}o(GY,"checkJoin");function mT(t,e,r){let n=t.node(r);return GY(n,e.node(r)),n}o(mT,"joinable");function Ui(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}o(Ui,"addNode");function sl(t,e,r,n){let i=(e||t).node(r),a=0,s=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(Ui(t.nodeAfter,n),a++));for(let u=a;u<s;u++)Ui(i.child(u),n);e&&e.depth==r&&e.textOffset&&Ui(e.nodeBefore,n)}o(sl,"addRange");function zi(t,e){return t.type.checkContent(e),t.copy(e)}o(zi,"close");function JY(t,e,r,n,i){let a=t.depth>i&&mT(t,e,i+1),s=n.depth>i&&mT(r,n,i+1),u=[];return sl(null,t,i,u),a&&s&&e.index(i)==r.index(i)?(GY(a,s),Ui(zi(a,JY(t,e,r,n,i+1)),u)):(a&&Ui(zi(a,jh(t,e,i+1)),u),sl(e,r,i,u),s&&Ui(zi(s,jh(r,n,i+1)),u)),sl(n,null,i,u),new I(u)}o(JY,"replaceThreeWay");function jh(t,e,r){let n=[];if(sl(null,t,r,n),t.depth>r){let i=mT(t,e,r+1);Ui(zi(i,jh(t,e,r+1)),n)}return sl(e,null,r,n),new I(n)}o(jh,"replaceTwoWay");function F9e(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(I.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}o(F9e,"prepareSliceForReplace");var ll=class ll{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return ne.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let u=n;n=i,i=u}let a=n.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Vi(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let s=e;;){let{index:u,offset:l}=s.content.findIndex(a),c=a-l;if(n.push(s,u,i+l),!c||(s=s.child(u),s.isText))break;a=c-1,i+=l+1}return new ll(r,n,a)}static resolveCached(e,r){let n=NY.get(e);if(n)for(let a=0;a<n.elts.length;a++){let s=n.elts[a];if(s.pos==r)return s}else NY.set(e,n=new yT);let i=n.elts[n.i]=ll.resolve(e,r);return n.i=(n.i+1)%$9e,i}};o(ll,"ResolvedPos");var Uh=ll,TT=class TT{constructor(){this.elts=[],this.i=0}};o(TT,"ResolveCache");var yT=TT,$9e=12,NY=new WeakMap,xT=class xT{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}};o(xT,"NodeRange");var Vi=xT,B9e=Object.create(null),cl=class cl{constructor(e,r,n,i=ne.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||I.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&_h(this.attrs,r||e.defaultAttrs||B9e)&&ne.sameSet(this.marks,n||ne.none)}copy(e=null){return e==this.content?this:new cl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new cl(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return M.empty;let i=this.resolve(e),a=this.resolve(r),s=n?0:i.sharedDepth(r),u=i.start(s),c=i.node(s).content.cut(i.pos-u,a.pos-u);return new M(c,i.depth-s,a.depth-s)}replace(e,r,n){return L9e(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return Uh.resolveCached(this,e)}resolveNoCache(e){return Uh.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),YY(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=I.empty,i=0,a=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,a),u=s&&s.matchFragment(this.content,r);if(!u||!u.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),s=a&&a.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ne.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!ne.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(r=>r.type.name)));this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=I.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};o(cl,"Node");var Ur=cl;Ur.prototype.text=void 0;var fl=class fl extends Ur{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):YY(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new fl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new fl(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};o(fl,"TextNode");var qT=fl;function YY(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}o(YY,"wrapMarks");var Vh=class Vh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new bT(e,r);if(n.next==null)return Vh.empty;let i=XY(n);n.next&&n.err("Unexpected trailing text");let a=W9e(V9e(i));return K9e(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(s,u){let l=s.matchFragment(e,n);if(l&&(!r||l.validEnd))return I.from(u.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:f,next:d}=s.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=a(d,u.concat(f));if(p)return p}}return null}return o(a,"search"),a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let s=[];for(let u=i;u.type;u=u.via)s.push(u.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:u,next:l}=a.next[s];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!i.type||l.validEnd)&&(n.push({match:u.contentMatch,type:u,via:i}),r[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return o(r,"scan"),r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)a+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return a}).join("\n")}};o(Vh,"ContentMatch");var Wi=Vh;Wi.empty=new Wi(!0);var IT=class IT{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};o(IT,"TokenStream");var bT=IT;function XY(t){let e=[];do e.push(_9e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}o(XY,"parseExpr");function _9e(t){let e=[];do e.push(j9e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}o(_9e,"parseExprSeq");function j9e(t){let e=H9e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=U9e(t,e);else break;return e}o(j9e,"parseExprSubscript");function DY(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}o(DY,"parseNum");function U9e(t,e){let r=DY(t),n=r;return t.eat(",")&&(t.next!="}"?n=DY(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}o(U9e,"parseExprRange");function z9e(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let s=r[a];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}o(z9e,"resolveName");function H9e(t){if(t.eat("(")){let e=XY(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=z9e(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}o(H9e,"parseExprAtom");function V9e(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}o(r,"node");function n(s,u,l){let c={term:l,to:u};return e[s].push(c),c}o(n,"edge");function i(s,u){s.forEach(l=>l.to=u)}o(i,"connect");function a(s,u){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(a(c,u)),[]);if(s.type=="seq")for(let l=0;;l++){let c=a(s.exprs[l],u);if(l==s.exprs.length-1)return c;i(c,u=r())}else if(s.type=="star"){let l=r();return n(u,l),i(a(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=r();return i(a(s.expr,u),l),i(a(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(u)].concat(a(s.expr,u));if(s.type=="range"){let l=u;for(let c=0;c<s.min;c++){let f=r();i(a(s.expr,l),f),l=f}if(s.max==-1)i(a(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let f=r();n(l,f),i(a(s.expr,l),f),l=f}return[n(l)]}else{if(s.type=="name")return[n(u,void 0,s.value)];throw new Error("Unknown expr type")}}}o(a,"compile")}o(V9e,"nfa");function QY(t,e){return e-t}o(QY,"cmp");function LY(t,e){let r=[];return n(e),r.sort(QY);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let s=0;s<a.length;s++){let{term:u,to:l}=a[s];!u&&r.indexOf(l)==-1&&n(l)}}o(n,"scan")}o(LY,"nullFrom");function W9e(t){let e=Object.create(null);return r(LY(t,0));function r(n){let i=[];n.forEach(s=>{t[s].forEach(({term:u,to:l})=>{if(!u)return;let c;for(let f=0;f<i.length;f++)i[f][0]==u&&(c=i[f][1]);LY(t,l).forEach(f=>{c||i.push([u,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let a=e[n.join(",")]=new Wi(n.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let u=i[s][1].sort(QY);a.next.push({type:i[s][0],next:e[u.join(",")]||r(u)})}return a}}o(W9e,"dfa");function K9e(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,s=[];for(let u=0;u<i.next.length;u++){let{type:l,next:c}=i.next[u];s.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(c)==-1&&n.push(c)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}o(K9e,"checkForDeadEnds");function ZY(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}o(ZY,"defaultAttrs");function e9(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}o(e9,"computeAttrs");function r9(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError("Unsupported attribute ".concat(i," for ").concat(r," of type ").concat(i));for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}o(r9,"checkAttrs");function t9(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new ST(t,n,e[n]);return r}o(t9,"initAttrs");var Wh=class Wh{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=t9(e,n.attrs),this.defaultAttrs=ZY(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Wi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:e9(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ur(this,this.computeAttrs(e),I.from(r),ne.setFrom(n))}createChecked(e=null,r,n){return r=I.from(r),this.checkContent(r),new Ur(this,this.computeAttrs(e),r,ne.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=I.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(I.empty,!0);return a?new Ur(this,e,r.append(a),ne.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){r9(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:ne.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,s)=>n[a]=new Wh(a,r,s));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};o(Wh,"NodeType");var zh=Wh;function G9e(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError("Expected value of type ".concat(n," for attribute ").concat(e," on type ").concat(t,", got ").concat(a))}}o(G9e,"validateType");var AT=class AT{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?G9e(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}};o(AT,"Attribute");var ST=AT,Kh=class Kh{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=t9(e,i.attrs),this.excluded=null;let a=ZY(this.attrs);this.instance=a?new ne(this,a):null}create(e=null){return!e&&this.instance?this.instance:new ne(this,e9(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,s)=>n[a]=new Kh(a,i++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){r9(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}};o(Kh,"MarkType");var hl=Kh,wT=class wT{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=pT.from(e.nodes),r.marks=pT.from(e.marks||{}),this.nodes=zh.compile(this.spec.nodes,this),this.marks=hl.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=n[s]||(n[s]=Wi.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?FY(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:FY(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof zh){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new qT(n,n.defaultAttrs,e,ne.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeFromJSON(e){return Ur.fromJSON(this,e)}markFromJSON(e){return ne.fromJSON(this,e)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};o(wT,"Schema");var pl=wT;function FY(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],s=a;if(a)r.push(a);else for(let u in t.marks){let l=t.marks[u];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}o(FY,"gatherMarks");function J9e(t){return t.tag!=null}o(J9e,"isTagRule");function Y9e(t){return t.style!=null}o(Y9e,"isStyleRule");var dl=class dl{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(J9e(i))this.tags.push(i);else if(Y9e(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new Hh(this,r,!1);return n.addAll(e,ne.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Hh(this,r,!0);return n.addAll(e,ne.none,r.from,r.to),M.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(Z9e(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],u=s.style;if(!(u.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=r))){if(s.getAttrs){let l=s.getAttrs(r);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,s=0;for(;s<r.length;s++){let u=r[s];if((u.priority==null?50:u.priority)<a)break}r.splice(s,0,i)}o(n,"insert");for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(s=>{n(s=BY(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(s=>{n(s=BY(s)),s.node||s.ignore||s.mark||(s.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new dl(e,dl.schemaRules(e)))}};o(dl,"DOMParser");var Zt=dl,n9={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},X9e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},i9={ol:!0,ul:!0},vl=1,ET=2,ol=4;function $Y(t,e,r){return e!=null?(e?vl:0)|(e==="full"?ET:0):t&&t.whitespace=="pre"?vl|ET:r&~ol}o($Y,"wsOptionsFor");var RT=class RT{constructor(e,r,n,i,a,s){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=ne.none,this.match=a||(s&ol?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(I.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&vl)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=I.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(I.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!n9.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}};o(RT,"NodeContext");var ws=RT,CT=class CT{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,s=$Y(null,r.preserveWhitespace,0)|(n?ol:0);i?a=new ws(i.type,i.attrs,ne.none,!0,r.topMatch||i.type.contentMatch,s):n?a=new ws(null,null,ne.none,!0,null,s):a=new ws(e.schema.topNodeType,null,ne.none,!0,null,s),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&ET?"full":this.localPreserveWS||(i.options&vl)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),u;i9.hasOwnProperty(s)&&this.parser.normalizeLists&&Q9e(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,n));e:if(l?l.ignore:X9e.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(n9.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),c=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let d=l&&l.skip?r:this.readStyles(e,r);d&&this.addAll(e,d),c&&this.sync(a),this.needsBlock=f}else{let c=this.readStyles(e,r);c&&this.addElementByRule(e,l,c,l.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=n.getPropertyValue(a);if(s)for(let u=void 0;;){let l=this.parser.matchStyle(a,s,this,u);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)u=l;else break}}return r}addElementByRule(e,r,n,i){let a,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n)||this.leafFallback(e,n);else{let l=this.enter(s,r.attrs||null,n,r.preserveWhitespace);l&&(a=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}a&&this.sync(u)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let s=n?e.childNodes[n]:e.firstChild,u=i==null?null:e.childNodes[i];s!=u;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,r);this.findAtPoint(e,a)}findPlace(e,r){let n,i;for(let a=this.open;a>=0;a--){let s=this.nodes[a],u=s.findWrapping(e);if(u&&(!n||n.length>u.length)&&(n=u,i=s,!u.length)||s.solid)break}if(!n)return null;this.sync(i);for(let a=0;a<n.length;a++)r=this.enterInner(n[a],null,r,!1);return r}insertNode(e,r){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let n=this.findPlace(e,r);if(n){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let a=ne.none;for(let s of n.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):_Y(s.type,e.type))&&(a=s.addToSet(a));return i.content.push(e.mark(a)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let u=$Y(e,a,s.options);s.options&ol&&s.content.length==0&&(u|=ol);let l=ne.none;return n=n.filter(c=>(s.type?s.type.allowsMarkType(c.type):_Y(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new ws(e,r,l,i,null,u)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=vl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),s=o((u,l)=>{for(;u>=0;u--){let c=r[u];if(c==""){if(u==r.length-1||u==0)continue;for(;l>=a;l--)if(s(u-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0},"match");return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}};o(CT,"ParseContext");var Hh=CT;function Q9e(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&i9.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}o(Q9e,"normalizeList");function Z9e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}o(Z9e,"matches");function BY(t){let e={};for(let r in t)e[r]=t[r];return e}o(BY,"copy");function _Y(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],s=o(u=>{a.push(u);for(let l=0;l<u.edgeCount;l++){let{type:c,next:f}=u.edge(l);if(c==e||a.indexOf(f)<0&&s(f))return!0}},"scan");if(s(i.contentMatch))return!0}}o(_Y,"markMayApply");var Gh=class Gh{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=gT(r).createDocumentFragment());let i=n,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let u=0,l=0;for(;u<a.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(a[u][0])||c.type.spec.spanning===!1)break;u++,l++}for(;u<a.length;)i=a.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],f=this.serializeMark(c,s.isInline,r);f&&(a.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=Bh(gT(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&Bh(gT(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return Bh(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Gh(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=jY(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return jY(e.marks)}};o(Gh,"DOMSerializer");var en=Gh;function jY(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}o(jY,"gatherToDOM");function gT(t){return t.document||window.document}o(gT,"doc");var UY=new WeakMap;function eXe(t){let e=UY.get(t);return e===void 0&&UY.set(t,e=rXe(t)),e}o(eXe,"suspiciousAttributes");function rXe(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return o(r,"scan"),r(t),e}o(rXe,"suspiciousAttributesInner");function Bh(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=eXe(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let u,l=r?t.createElementNS(r,i):t.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):l.setAttribute(d,c[d])}}for(let d=f;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:g}=Bh(t,p,r,n);if(l.appendChild(v),g){if(u)throw new RangeError("Multiple content holes");u=g}}}return{dom:l,contentDOM:u}}o(Bh,"renderSpec");var o9=65535,u9=Math.pow(2,16);function tXe(t,e){return t+e*u9}o(tXe,"makeRecover");function a9(t){return t&o9}o(a9,"recoverIndex");function nXe(t){return(t-(t&o9))/u9}o(nXe,"recoverOffset");var l9=1,c9=2,Jh=4,f9=8,$T=class $T{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&f9)>0}get deletedBefore(){return(this.delInfo&(l9|Jh))>0}get deletedAfter(){return(this.delInfo&(c9|Jh))>0}get deletedAcross(){return(this.delInfo&Jh)>0}};o($T,"MapResult");var bl=$T,Kn=class Kn{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Kn.empty)return Kn.empty}recover(e){let r=0,n=a9(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+nXe(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let l=this.ranges[u]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[u+a],f=this.ranges[u+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:r:r,v=l+i+(p<0?0:f);if(n)return v;let g=e==(r<0?l:d)?null:tXe(u/3,e-l),y=e==l?c9:e==d?l9:Jh;return(r<0?e!=l:e!=d)&&(y|=f9),new bl(v,y,g)}i+=f-c}return n?e+i:new bl(e+i,0,null)}touches(e,r){let n=0,i=a9(r),a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let l=this.ranges[u]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[u+a],f=l+c;if(e<=f&&u==i*3)return!0;n+=this.ranges[u+s]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],u=s-(this.inverted?a:0),l=s+(this.inverted?0:a),c=this.ranges[i+r],f=this.ranges[i+n];e(u,u+c,l,l+f),a+=f-c}}invert(){return new Kn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Kn.empty:new Kn(e<0?[0,-e,0]:[0,0,e])}};o(Kn,"StepMap");var tn=Kn;tn.empty=new tn([]);var Rs=class Rs{constructor(e=[],r,n=0,i=e.length){this.maps=e,this.mirror=r,this.from=n,this.to=i}slice(e=0,r=this.maps.length){return new Rs(this.maps,this.mirror,e,r)}copy(){return new Rs(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,r){this.to=this.maps.push(e),r!=null&&this.setMirror(this.maps.length-1,r)}appendMapping(e){for(let r=0,n=this.maps.length;r<e.maps.length;r++){let i=e.getMirror(r);this.appendMap(e.maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this.maps.length+e.maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e.maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new Rs;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let s=this.maps[a],u=s.mapResult(e,r);if(u.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this.maps[l].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return n?e:new bl(e,i,null)}};o(Rs,"Mapping");var Sl=Rs,MT=Object.create(null),BT=class BT{getMap(){return tn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=MT[r.stepType];if(!n)throw new RangeError("No step type ".concat(r.stepType," defined"));return n.fromJSON(e,r)}static jsonID(e,r){if(e in MT)throw new RangeError("Duplicate use of step JSON ID "+e);return MT[e]=r,r.prototype.jsonID=e,r}};o(BT,"Step");var Le=BT,Ki=class Ki{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Ki(e,null)}static fail(e){return new Ki(null,e)}static fromReplace(e,r,n,i){try{return Ki.ok(e.replace(r,n,i))}catch(a){if(a instanceof Hi)return Ki.fail(a.message);throw a}}};o(Ki,"StepResult");var We=Ki;function LT(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(LT(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return I.fromArray(n)}o(LT,"mapFragment");var Gi=class Gi extends Le{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new M(LT(r.content,(s,u)=>!s.isAtom||!u.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),r.openStart,r.openEnd);return We.fromReplace(e,this.from,this.to,a)}invert(){return new Xi(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Gi(r.pos,n.pos,this.mark)}merge(e){return e instanceof Gi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Gi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Gi(r.from,r.to,e.markFromJSON(r.mark))}};o(Gi,"AddMarkStep");var El=Gi;Le.jsonID("addMark",El);var Ji=class Ji extends Le{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new M(LT(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return We.fromReplace(e,this.from,this.to,n)}invert(){return new El(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ji(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ji&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ji(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Ji(r.from,r.to,e.markFromJSON(r.mark))}};o(Ji,"RemoveMarkStep");var Xi=Ji;Le.jsonID("removeMark",Xi);var Yi=class Yi extends Le{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return We.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return We.fromReplace(e,this.pos,this.pos+1,new M(I.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new Yi(this.pos,r.marks[i]);return new Yi(this.pos,this.mark)}}return new Tl(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Yi(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Yi(r.pos,e.markFromJSON(r.mark))}};o(Yi,"AddNodeMarkStep");var Ol=Yi;Le.jsonID("addNodeMark",Ol);var yl=class yl extends Le{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return We.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return We.fromReplace(e,this.pos,this.pos+1,new M(I.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Ol(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new yl(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new yl(r.pos,e.markFromJSON(r.mark))}};o(yl,"RemoveNodeMarkStep");var Tl=yl;Le.jsonID("removeNodeMark",Tl);var rn=class rn extends Le{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&NT(e,this.from,this.to)?We.fail("Structure replace would overwrite content"):We.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new tn([this.from,this.to-this.from,this.slice.size])}invert(e){return new rn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new rn(r.pos,Math.max(r.pos,n.pos),this.slice)}merge(e){if(!(e instanceof rn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?M.empty:new M(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new rn(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?M.empty:new M(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new rn(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new rn(r.from,r.to,M.fromJSON(e,r.slice),!!r.structure)}};o(rn,"ReplaceStep");var er=rn;Le.jsonID("replace",er);var Cs=class Cs extends Le{constructor(e,r,n,i,a,s,u=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=s,this.structure=u}apply(e){if(this.structure&&(NT(e,this.from,this.gapFrom)||NT(e,this.gapTo,this.to)))return We.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return We.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?We.fromReplace(e,this.from,this.to,n):We.fail("Content does not fit in gap")}getMap(){return new tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Cs(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new Cs(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Cs(r.from,r.to,r.gapFrom,r.gapTo,M.fromJSON(e,r.slice),r.insert,!!r.structure)}};o(Cs,"ReplaceAroundStep");var Re=Cs;Le.jsonID("replaceAround",Re);function NT(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let s=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}o(NT,"contentBetween");function iXe(t,e,r,n){let i=[],a=[],s,u;t.doc.nodesBetween(e,r,(l,c,f)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&f.type.allowsMarkType(n.type)){let p=Math.max(c,e),v=Math.min(c+l.nodeSize,r),g=n.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(g)||(s&&s.to==p&&s.mark.eq(d[y])?s.to=v:i.push(s=new Xi(p,v,d[y])));u&&u.to==p?u.to=v:a.push(u=new El(p,v,n))}}),i.forEach(l=>t.step(l)),a.forEach(l=>t.step(l))}o(iXe,"addMark");function aXe(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(s,u)=>{if(!s.isInline)return;a++;let l=null;if(n instanceof hl){let c=s.marks,f;for(;f=n.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let c=Math.min(u+s.nodeSize,r);for(let f=0;f<l.length;f++){let d=l[f],p;for(let v=0;v<i.length;v++){let g=i[v];g.step==a-1&&d.eq(i[v].style)&&(p=g)}p?(p.to=c,p.step=a):i.push({style:d,from:Math.max(u,e),to:c,step:a})}}}),i.forEach(s=>t.step(new Xi(s.from,s.to,s.style)))}o(aXe,"removeMark");function FT(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),s=[],u=e+1;for(let l=0;l<a.childCount;l++){let c=a.child(l),f=u+c.nodeSize,d=n.matchType(c.type);if(!d)s.push(new er(u,f,M.empty));else{n=d;for(let p=0;p<c.marks.length;p++)r.allowsMarkType(c.marks[p].type)||t.step(new Xi(u,f,c.marks[p]));if(i&&c.isText&&r.whitespace!="pre"){let p,v=/\r?\n|\r/g,g;for(;p=v.exec(c.text);)g||(g=new M(I.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),s.push(new er(u+p.index,u+p.index+p[0].length,g))}}u=f}if(!n.validEnd){let l=n.fillBefore(I.empty,!0);t.replace(u,u,new M(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}o(FT,"clearIncompatible");function sXe(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}o(sXe,"canCut");function nn(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),a=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(a,s,r))return n;if(n==0||i.type.spec.isolating||!sXe(i,a,s))break}return null}o(nn,"liftTarget");function oXe(t,e,r){let{$from:n,$to:i,depth:a}=e,s=n.before(a+1),u=i.after(a+1),l=s,c=u,f=I.empty,d=0;for(let g=a,y=!1;g>r;g--)y||n.index(g)>0?(y=!0,f=I.from(n.node(g).copy(f)),d++):l--;let p=I.empty,v=0;for(let g=a,y=!1;g>r;g--)y||i.after(g+1)<i.end(g)?(y=!0,p=I.from(i.node(g).copy(p)),v++):c++;t.step(new Re(l,c,s,u,new M(f.append(p),d,v),f.size-d,!0))}o(oXe,"lift");function Ds(t,e,r=null,n=t){let i=uXe(t,e),a=i&&lXe(n,e);return a?i.map(s9).concat({type:e,attrs:r}).concat(a.map(s9)):null}o(Ds,"findWrapping");function s9(t){return{type:t,attrs:null}}o(s9,"withAttrs");function uXe(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}o(uXe,"findWrappingOutside");function lXe(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:s}o(lXe,"findWrappingInside");function cXe(t,e,r){let n=I.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let u=r[s].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=I.from(r[s].type.create(r[s].attrs,n))}let i=e.start,a=e.end;t.step(new Re(i,a,i,a,new M(n,0,0),r.length,!0))}o(cXe,"wrap");function fXe(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(s,u)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,l)&&dXe(t.doc,t.mapping.slice(a).map(u),n)){let c=null;if(n.schema.linebreakReplacement){let v=n.whitespace=="pre",g=!!n.contentMatch.matchType(n.schema.linebreakReplacement);v&&!g?c=!1:!v&&g&&(c=!0)}c===!1&&h9(t,s,u,a),FT(t,t.mapping.slice(a).map(u,1),n,void 0,c===null);let f=t.mapping.slice(a),d=f.map(u,1),p=f.map(u+s.nodeSize,1);return t.step(new Re(d,p,d+1,p-1,new M(I.from(n.create(l,null,s.marks)),0,0),1,!0)),c===!0&&d9(t,s,u,a),!1}})}o(fXe,"setBlockType");function d9(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let s,u=/\r?\n|\r/g;for(;s=u.exec(i.text);){let l=t.mapping.slice(n).map(r+1+a+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}o(d9,"replaceNewlines");function h9(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+a);t.replaceWith(s,s+1,e.type.schema.text("\n"))}})}o(h9,"replaceLinebreaks");function dXe(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}o(dXe,"canChangeType");function hXe(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let s=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Re(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new M(I.from(s),0,0),1,!0))}o(hXe,"setNodeMarkup");function zr(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,s=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=r-2;c>a;c--,f--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let v=d.content.cutByIndex(p,d.childCount),g=n&&n[f+1];g&&(v=v.replaceChild(0,g.type.create(g.attrs)));let y=n&&n[f]||d;if(!d.canReplace(p+1,d.childCount)||!y.type.validContent(v))return!1}let u=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(u,u,l?l.type:i.node(a+1).type)}o(zr,"canSplit");function pXe(t,e,r=1,n){let i=t.doc.resolve(e),a=I.empty,s=I.empty;for(let u=i.depth,l=i.depth-r,c=r-1;u>l;u--,c--){a=I.from(i.node(u).copy(a));let f=n&&n[c];s=I.from(f?f.type.create(f.attrs,s):i.node(u).copy(s))}t.step(new er(e,e,new M(a.append(s),r,r),!0))}o(pXe,"split");function ot(t,e){let r=t.resolve(e),n=r.index();return p9(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}o(ot,"canJoin");function vXe(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),s=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}o(vXe,"canAppendWithSubstitutedLinebreaks");function p9(t,e){return!!(t&&e&&!t.isLeaf&&vXe(t,e))}o(p9,"joinable");function Ls(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let a,s,u=n.index(i);if(i==n.depth?(a=n.nodeBefore,s=n.nodeAfter):r>0?(a=n.node(i+1),u++,s=n.node(i).maybeChild(u)):(a=n.node(i).maybeChild(u-1),s=n.node(i+1)),a&&!a.isTextblock&&p9(a,s)&&n.node(i).canReplace(u,u+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}o(Ls,"joinPoint");function gXe(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),s=a.node().type;if(i&&s.inlineContent){let f=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);f&&!d?n=!1:!f&&d&&(n=!0)}let u=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);h9(t,f.node(),f.before(),u)}s.inlineContent&&FT(t,e+r-1,s,a.node().contentMatchAt(a.index()),n==null);let l=t.mapping.slice(u),c=l.map(e-r);if(t.step(new er(c,l.map(e+r,-1),M.empty,!0)),n===!0){let f=t.doc.resolve(c);d9(t,f.node(),f.before(),t.steps.length)}return t}o(gXe,"join");function mXe(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}o(mXe,"insertPoint");function Qh(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let s=n.depth;s>=0;s--){let u=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(u>0?1:0),c=n.node(s),f=!1;if(a==1)f=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);f=d&&c.canReplaceWith(l,l,d[0])}if(f)return u==0?n.pos:u<0?n.before(s+1):n.after(s+1)}return null}o(Qh,"dropPoint");function xl(t,e,r=e,n=M.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return v9(i,a,n)?new er(e,r,n):new DT(i,a,n).fit()}o(xl,"replaceStep");function v9(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}o(v9,"fitsTrivially");var _T=class _T{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=I.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=I.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,s=n.depth,u=i.depth;for(;s&&u&&a.childCount==1;)a=a.firstChild.content,s--,u--;let l=new M(a,s,u);return e>-1?new Re(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new er(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=kT(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:l,match:c}=this.frontier[u],f,d=null;if(r==1&&(s?c.matchType(s.type)||(d=c.fillBefore(I.from(s),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:u,parent:a,inject:d};if(r==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:u,parent:a,wrap:f};if(a&&c.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=kT(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new M(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=kT(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new M(gl(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new M(gl(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let y=0;y<a.length;y++)this.openFrontierNode(a[y]);let s=this.unplaced,u=n?n.content:s.content,l=s.openStart-e,c=0,f=[],{match:d,type:p}=this.frontier[r];if(i){for(let y=0;y<i.childCount;y++)f.push(i.child(y));d=d.matchFragment(i)}let v=u.size+e-(s.content.size-s.openEnd);for(;c<u.childCount;){let y=u.child(c),q=d.matchType(y.type);if(!q)break;c++,(c>1||l==0||y.content.size)&&(d=q,f.push(g9(y.mark(p.allowedMarks(y.marks)),c==1?l:0,c==u.childCount?v:-1)))}let g=c==u.childCount;g||(v=-1),this.placed=ml(this.placed,r,I.from(f)),this.frontier[r].match=d,g&&v<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,q=u;y<v;y++){let b=q.lastChild;this.frontier.push({type:b.type,match:b.contentMatchAt(b.childCount)}),q=b.content}this.unplaced=g?e==0?M.empty:new M(gl(s.content,e-1,1),e-1,v<0?s.openEnd:e-1):new M(gl(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!PT(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=PT(e,r,i,n,a);if(s){for(let u=r-1;u>=0;u--){let{match:l,type:c}=this.frontier[u],f=PT(e,u,c,l,!0);if(!f||f.childCount)continue e}return{depth:r,fit:s,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=ml(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ml(this.placed,this.depth,I.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(I.empty,!0);r.childCount&&(this.placed=ml(this.placed,this.frontier.length,r))}};o(_T,"Fitter");var DT=_T;function gl(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(gl(t.firstChild.content,e-1,r)))}o(gl,"dropFromFragment");function ml(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(ml(t.lastChild.content,e-1,r)))}o(ml,"addToFragment");function kT(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}o(kT,"contentAt");function g9(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,g9(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(I.empty,!0)))),t.copy(n)}o(g9,"closeNodeStart");function PT(t,e,r,n,i){let a=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==a.childCount&&!r.compatibleContent(a.type))return null;let u=n.fillBefore(a.content,!0,s);return u&&!yXe(r,a.content,s)?u:null}o(PT,"contentAfterFits");function yXe(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}o(yXe,"invalidMarks");function qXe(t){return t.spec.defining||t.spec.definingForContent}o(qXe,"definesContent");function bXe(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(v9(i,a,n))return t.step(new er(e,r,n));let s=y9(i,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let u=-(i.depth+1);s.unshift(u);for(let p=i.depth,v=i.pos-1;p>0;p--,v--){let g=i.node(p).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;s.indexOf(p)>-1?u=p:i.before(p)==v&&s.splice(1,0,-p)}let l=s.indexOf(u),c=[],f=n.openStart;for(let p=n.content,v=0;;v++){let g=p.firstChild;if(c.push(g),v==n.openStart)break;p=g.content}for(let p=f-1;p>=0;p--){let v=c[p],g=qXe(v.type);if(g&&!v.sameMarkup(i.node(Math.abs(u)-1)))f=p;else if(g||!v.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let v=(p+f+1)%(n.openStart+1),g=c[v];if(g)for(let y=0;y<s.length;y++){let q=s[(y+l)%s.length],b=!0;q<0&&(b=!1,q=-q);let S=i.node(q-1),A=i.index(q-1);if(S.canReplaceWith(A,A,g.type,g.marks))return t.replace(i.before(q),b?a.after(q):r,new M(m9(n.content,0,n.openStart,v),v,n.openEnd))}}let d=t.steps.length;for(let p=s.length-1;p>=0&&(t.replace(e,r,n),!(t.steps.length>d));p--){let v=s[p];v<0||(e=i.before(v),r=a.after(v))}}o(bXe,"replaceRange");function m9(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(m9(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(I.empty,!0))}return t}o(m9,"closeFragment");function SXe(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=mXe(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new M(I.from(n),0,0))}o(SXe,"replaceRangeWith");function EXe(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=y9(n,i);for(let s=0;s<a.length;s++){let u=a[s],l=s==a.length-1;if(l&&u==0||n.node(u).type.contentMatch.validEnd)return t.delete(n.start(u),i.end(u));if(u>0&&(l||n.node(u-1).canReplace(n.index(u-1),i.indexAfter(u-1))))return t.delete(n.before(u),i.after(u))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}o(EXe,"deleteRange");function y9(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}o(y9,"coveredDepths");var Ms=class Ms extends Le{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return We.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return We.fromReplace(e,this.pos,this.pos+1,new M(I.from(i),0,r.isLeaf?0:1))}getMap(){return tn.empty}invert(e){return new Ms(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ms(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Ms(r.pos,r.attr,r.value)}};o(Ms,"AttrStep");var Yh=Ms;Le.jsonID("attr",Yh);var ql=class ql extends Le{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return We.ok(n)}getMap(){return tn.empty}invert(e){return new ql(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ql(r.attr,r.value)}};o(ql,"DocAttrStep");var Xh=ql;Le.jsonID("docAttr",Xh);var ks,Ps=(ks=class extends Error{},o(ks,"TransformError"),ks);Ps=o(function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},"TransformError");Ps.prototype=Object.create(Error.prototype);Ps.prototype.constructor=Ps;Ps.prototype.name="TransformError";var jT=class jT{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Sl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Ps(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=M.empty){let i=xl(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new M(I.from(n),0,0))}delete(e,r){return this.replace(e,r,M.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return bXe(this,e,r,n),this}replaceRangeWith(e,r,n){return SXe(this,e,r,n),this}deleteRange(e,r){return EXe(this,e,r),this}lift(e,r){return oXe(this,e,r),this}join(e,r=1){return gXe(this,e,r),this}wrap(e,r){return cXe(this,e,r),this}setBlockType(e,r=e,n,i=null){return fXe(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return hXe(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Yh(e,r,n)),this}setDocAttribute(e,r){return this.step(new Xh(e,r)),this}addNodeMark(e,r){return this.step(new Ol(e,r)),this}removeNodeMark(e,r){if(!(r instanceof ne)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r=r.isInSet(n.marks),!r)return this}return this.step(new Tl(e,r)),this}split(e,r=1,n){return pXe(this,e,r,n),this}addMark(e,r,n){return iXe(this,e,r,n),this}removeMark(e,r,n){return aXe(this,e,r,n),this}clearIncompatible(e,r,n){return FT(this,e,r,n),this}};o(jT,"Transform");var Ns=jT;var UT=Object.create(null),WT=class WT{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new ep(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=M.empty){let n=r.content.lastChild,i=null;for(let u=0;u<r.openEnd;u++)i=n,n=n.lastChild;let a=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:l,$to:c}=s[u],f=e.mapping.slice(a);e.replaceRange(f.map(l.pos),f.map(c.pos),u?M.empty:r),u==0&&S9(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:u}=i[a],l=e.mapping.slice(n),c=l.map(s.pos),f=l.map(u.pos);a?e.deleteRange(c,f):(e.replaceRangeWith(c,f,r),S9(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new j(e):Fs(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let s=r<0?Fs(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):Fs(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new ur(e.node(0))}static atStart(e){return Fs(e,e,0,0,1)||new ur(e)}static atEnd(e){return Fs(e,e,e.content.size,e.childCount,-1)||new ur(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=UT[r.type];if(!n)throw new RangeError("No selection type ".concat(r.type," defined"));return n.fromJSON(e,r)}static jsonID(e,r){if(e in UT)throw new RangeError("Duplicate use of selection JSON ID "+e);return UT[e]=r,r.prototype.jsonID=e,r}getBookmark(){return j.between(this.$anchor,this.$head).getBookmark()}};o(WT,"Selection");var K=WT;K.prototype.visible=!0;var KT=class KT{constructor(e,r){this.$from=e,this.$to=r}};o(KT,"SelectionRange");var ep=KT,q9=!1;function b9(t){!q9&&!t.parent.inlineContent&&(q9=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}o(b9,"checkTextSelection");var Qi=class Qi extends K{constructor(e,r=e){b9(e),b9(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return K.near(n);let i=e.resolve(r.map(this.anchor));return new Qi(i.parent.inlineContent?i:n,n)}replace(e,r=M.empty){if(super.replace(e,r),r==M.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Qi&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new rp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Qi(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=K.findFrom(r,n,!0)||K.findFrom(r,-n,!0);if(a)r=a.$head;else return K.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(K.findFrom(e,-n,!0)||K.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new Qi(e,r)}};o(Qi,"TextSelection");var j=Qi;K.jsonID("text",j);var np=class np{constructor(e,r){this.anchor=e,this.head=r}map(e){return new np(e.map(this.anchor),e.map(this.head))}resolve(e){return j.between(e.resolve(this.anchor),e.resolve(this.head))}};o(np,"TextBookmark");var rp=np,Zi=class Zi extends K{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?K.near(a):new Zi(a)}content(){return new M(I.from(this.node),0,0)}eq(e){return e instanceof Zi&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new HT(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Zi(e.resolve(r.anchor))}static create(e,r){return new Zi(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};o(Zi,"NodeSelection");var z=Zi;z.prototype.visible=!1;K.jsonID("node",z);var ip=class ip{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new rp(n,n):new ip(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&z.isSelectable(n)?new z(r):K.near(r)}};o(ip,"NodeBookmark");var HT=ip,$s=class $s extends K{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=M.empty){if(r==M.empty){e.delete(0,e.doc.content.size);let n=K.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new $s(e)}map(e){return new $s(e)}eq(e){return e instanceof $s}getBookmark(){return OXe}};o($s,"AllSelection");var ur=$s;K.jsonID("all",ur);var OXe={map(){return this},resolve(t){return new ur(t)}};function Fs(t,e,r,n,i,a=!1){if(e.inlineContent)return j.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let u=e.child(s);if(u.isAtom){if(!a&&z.isSelectable(u))return z.create(t,r-(i<0?u.nodeSize:0))}else{let l=Fs(t,u,r+i,i<0?u.childCount:0,i,a);if(l)return l}r+=u.nodeSize*i}return null}o(Fs,"findSelectionIn");function S9(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof er||i instanceof Re))return;let a=t.mapping.maps[n],s;a.forEach((u,l,c,f)=>{s==null&&(s=f)}),t.setSelection(K.near(t.doc.resolve(s),r))}o(S9,"selectionToInsertionEnd");var E9=1,Zh=2,O9=4,GT=class GT extends Ns{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|E9)&~Zh,this.storedMarks=null,this}get selectionSet(){return(this.updated&E9)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Zh,this}ensureMarks(e){return ne.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Zh)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Zh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ne.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n==null?r:n,!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let s=this.doc.resolve(r);a=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),this.selection.empty||this.setSelection(K.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=O9,this}get scrolledIntoView(){return(this.updated&O9)>0}};o(GT,"Transaction");var VT=GT;function T9(t,e){return!e||!t?t:t.bind(e)}o(T9,"bind");var JT=class JT{constructor(e,r,n){this.name=e,this.init=T9(r.init,n),this.apply=T9(r.apply,n)}};o(JT,"FieldDesc");var ra=JT,TXe=[new ra("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ra("selection",{init(t,e){return t.selection||K.atStart(e.doc)},apply(t){return t.selection}}),new ra("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new ra("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],YT=class YT{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=TXe.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new ra(n.key,n.spec.state,n))})}};o(YT,"Configuration");var Il=YT,ea=class ea{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let u=this.config.plugins[s];if(u.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,f=l<r.length&&u.spec.appendTransaction.call(u,l?r.slice(l):r,c,n);if(f&&n.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),a=!0}i&&(i[s]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new ea(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new VT(this)}static create(e){let r=new Il(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new ea(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Il(this.schema,e.plugins),n=r.fields,i=new ea(r);for(let a=0;a<n.length;a++){let s=n[a].name;i[s]=this.hasOwnProperty(s)?this[s]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Il(e.schema,e.plugins),a=new ea(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=Ur.fromJSON(e.schema,r.doc);else if(s.name=="selection")a.selection=K.fromJSON(a.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let u in n){let l=n[u],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,u)){a[s.name]=c.fromJSON.call(l,e,r[u],a);return}}a[s.name]=s.init(e,a)}}),a}};o(ea,"EditorState");var tp=ea;function x9(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=x9(i,e,{})),r[n]=i}return r}o(x9,"bindProps");var XT=class XT{constructor(e){this.spec=e,this.props={},e.props&&x9(e.props,this,this.props),this.key=e.key?e.key.key:I9("plugin")}getState(e){return e[this.key]}};o(XT,"Plugin");var ae=XT,zT=Object.create(null);function I9(t){return t in zT?t+"$"+ ++zT[t]:(zT[t]=0,t+"$")}o(I9,"createKey");var QT=class QT{constructor(e="key"){this.key=I9(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};o(QT,"PluginKey");var de=QT;var Ke=o(function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},"domIndex"),kl=o(function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},"parentNode"),ix=null,sn=o(function(t,e,r){let n=ix||(ix=document.createRange());return n.setEnd(t,r==null?t.nodeValue.length:r),n.setStart(t,e||0),n},"textRange"),xXe=o(function(){ix=null},"clearReusedRange"),la=o(function(t,e,r,n){return r&&(A9(t,e,r,n,-1)||A9(t,e,r,n,1))},"isEquivalentPosition"),IXe=/^(img|br|input|textarea|hr)$/i;function A9(t,e,r,n,i){for(;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Vr(t))){let a=t.parentNode;if(!a||a.nodeType!=1||Ll(t)||IXe.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ke(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Vr(t):0}else return!1}}o(A9,"scanFor");function Vr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(Vr,"nodeSize");function AXe(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Vr(t)}else if(t.parentNode&&!Ll(t))e=Ke(t),t=t.parentNode;else return null}}o(AXe,"textNodeBefore$1");function wXe(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!Ll(t))e=Ke(t)+1,t=t.parentNode;else return null}}o(wXe,"textNodeAfter$1");function RXe(t,e,r){for(let n=e==0,i=e==Vr(t);n||i;){if(t==r)return!0;let a=Ke(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==Vr(t)}}o(RXe,"isOnEdge");function Ll(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}o(Ll,"hasBlockDesc");var bp=o(function(t){return t.focusNode&&la(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)},"selectionCollapsed");function ta(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}o(ta,"keyEvent");function CXe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}o(CXe,"deepActiveElement");function MXe(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Vr(n.offsetNode),n.offset)}}catch(n){}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Vr(n.startContainer),n.startOffset)}}}o(MXe,"caretFromPoint");var xt=typeof navigator<"u"?navigator:null,w9=typeof document<"u"?document:null,ei=xt&&xt.userAgent||"",ax=/Edge\/(\d+)/.exec(ei),sX=/MSIE \d/.exec(ei),sx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ei),Sr=!!(sX||sx||ax),Qn=sX?document.documentMode:sx?+sx[1]:ax?+ax[1]:0,ut=!Sr&&/gecko\/(\d+)/i.test(ei);ut&&+(/Firefox\/(\d+)/.exec(ei)||[0,0])[1];var ox=!Sr&&/Chrome\/(\d+)/.exec(ei),tr=!!ox,oX=ox?+ox[1]:0,lr=!Sr&&!!xt&&/Apple Computer/.test(xt.vendor),zs=lr&&(/Mobile\/\w+/.test(ei)||!!xt&&xt.maxTouchPoints>2),Hr=zs||(xt?/Mac/.test(xt.platform):!1),kXe=xt?/Win/.test(xt.platform):!1,on=/Android \d/.test(ei),Fl=!!w9&&"webkitFontSmoothing"in w9.documentElement.style,PXe=Fl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function NXe(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}o(NXe,"windowRect");function an(t,e){return typeof t=="number"?t:t[e]}o(an,"getSide");function DXe(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}o(DXe,"clientRect");function R9(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let s=r||t.dom;s;s=kl(s)){if(s.nodeType!=1)continue;let u=s,l=u==a.body,c=l?NXe(a):DXe(u),f=0,d=0;if(e.top<c.top+an(n,"top")?d=-(c.top-e.top+an(i,"top")):e.bottom>c.bottom-an(n,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+an(i,"top")-c.top:e.bottom-c.bottom+an(i,"bottom")),e.left<c.left+an(n,"left")?f=-(c.left-e.left+an(i,"left")):e.right>c.right-an(n,"right")&&(f=e.right-c.right+an(i,"right")),f||d)if(l)a.defaultView.scrollBy(f,d);else{let p=u.scrollLeft,v=u.scrollTop;d&&(u.scrollTop+=d),f&&(u.scrollLeft+=f);let g=u.scrollLeft-p,y=u.scrollTop-v;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}o(R9,"scrollRectIntoView");function LXe(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let u=t.root.elementFromPoint(a,s);if(!u||u==t.dom||!t.dom.contains(u))continue;let l=u.getBoundingClientRect();if(l.top>=r-20){n=u,i=l.top;break}}return{refDOM:n,refTop:i,stack:uX(t.dom)}}o(LXe,"storeScrollPos");function uX(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=kl(n));return e}o(uX,"scrollStack");function FXe({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;lX(r,n==0?0:n-e)}o(FXe,"resetScrollPos");function lX(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}o(lX,"restoreScrollStack");var Bs=null;function $Xe(t){if(t.setActive)return t.setActive();if(Bs)return t.focus(Bs);let e=uX(t);t.focus(Bs==null?{get preventScroll(){return Bs={preventScroll:!0},!0}}:void 0),Bs||(Bs=!1,lX(e,0))}o($Xe,"focusPreventScroll");function cX(t,e){let r,n=2e8,i,a=0,s=e.top,u=e.top,l,c;for(let f=t.firstChild,d=0;f;f=f.nextSibling,d++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=sn(f).getClientRects();else continue;for(let v=0;v<p.length;v++){let g=p[v];if(g.top<=s&&g.bottom>=u){s=Math.max(g.bottom,s),u=Math.min(g.top,u);let y=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(y<n){r=f,n=y,i=y&&r.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,f.nodeType==1&&y&&(a=d+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=f,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!r&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(a=d+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?BXe(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:cX(r,i)}o(cX,"findOffsetInNode");function BXe(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let a=Gn(n,1);if(a.top!=a.bottom&&Ex(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}o(BXe,"findOffsetInText");function Ex(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}o(Ex,"inRect");function _Xe(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}o(_Xe,"targetKludge");function jXe(t,e,r){let{node:n,offset:i}=cX(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();a=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}o(jXe,"posFromElement");function UXe(t,e,r,n){let i=-1;for(let a=e,s=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),l;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((l=u.dom.getBoundingClientRect()).width||l.height)&&(u.node.isBlock&&u.parent&&(!s&&l.left>n.left||l.top>n.top?i=u.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(i=u.posAfter),s=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}o(UXe,"posFromCaret");function fX(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let s=t.childNodes[a];if(s.nodeType==1){let u=s.getClientRects();for(let l=0;l<u.length;l++){let c=u[l];if(Ex(e,c))return fX(s,e,c)}}if((a=(a+1)%n)==i)break}return t}o(fX,"elementFromPoint");function zXe(t,e){let r=t.dom.ownerDocument,n,i=0,a=MXe(r,e.left,e.top);a&&({node:n,offset:i}=a);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),u;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!Ex(e,c)||(s=fX(t.dom,e,c),!s))return null}if(lr)for(let c=s;n&&c;c=kl(c))c.draggable&&(n=void 0);if(s=_Xe(s,e),n){if(ut&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let f=n.childNodes[i],d;f.nodeName=="IMG"&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;Fl&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(u=UXe(t,n,i,e))}u==null&&(u=jXe(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:u,inside:l?l.posAtStart-l.border:-1}}o(zXe,"posAtCoords");function C9(t){return t.top<t.bottom||t.left<t.right}o(C9,"nonZero");function Gn(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(C9(n))return n}return Array.prototype.find.call(r,C9)||t.getBoundingClientRect()}o(Gn,"singleRect");var HXe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dX(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),s=Fl||ut;if(n.nodeType==3)if(s&&(HXe.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=Gn(sn(n,i,i),r);if(ut&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=Gn(sn(n,i-1,i-1),-1);if(c.top==l.top){let f=Gn(sn(n,i,i+1),-1);if(f.top!=l.top)return Al(f,f.left<c.left)}}return l}else{let l=i,c=i,f=r<0?1:-1;return r<0&&!i?(c++,f=-1):r>=0&&i==n.nodeValue.length?(l--,f=1):r<0?l--:c++,Al(Gn(sn(n,l,c),f),f<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==Vr(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return ZT(l.getBoundingClientRect(),!1)}if(a==null&&i<Vr(n)){let l=n.childNodes[i];if(l.nodeType==1)return ZT(l.getBoundingClientRect(),!0)}return ZT(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==Vr(n))){let l=n.childNodes[i-1],c=l.nodeType==3?sn(l,Vr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Al(Gn(c,1),!1)}if(a==null&&i<Vr(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?sn(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Al(Gn(c,-1),!0)}return Al(Gn(n.nodeType==3?sn(n):n,-r),r>=0)}o(dX,"coordsAtPos");function Al(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}o(Al,"flattenV");function ZT(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}o(ZT,"flattenH");function hX(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}o(hX,"withFlushedState");function VXe(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return hX(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let s=dX(t,i.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let l;if(u.nodeType==1)l=u.getClientRects();else if(u.nodeType==3)l=sn(u,0,u.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(r=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}o(VXe,"endOfTextblockVertical");var WXe=/[\u0590-\u08ac]/;function KXe(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,s=i==n.parent.content.size,u=t.domSelection();return u?!WXe.test(n.parent.textContent)||!u.modify?r=="left"||r=="backward"?a:s:hX(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:d}=t.domSelectionRange(),p=u.caretBidiLevel;u.modify("move",r,"character");let v=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:g,focusOffset:y}=t.domSelectionRange(),q=g&&!v.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==y;try{u.collapse(f,d),l&&(l!=f||c!=d)&&u.extend&&u.extend(l,c)}catch(b){}return p!=null&&(u.caretBidiLevel=p),q}):n.pos==n.start()||n.pos==n.end()}o(KXe,"endOfTextblockHorizontal");var M9=null,k9=null,P9=!1;function GXe(t,e,r){return M9==e&&k9==r?P9:(M9=e,k9=r,P9=r=="up"||r=="down"?VXe(t,e,r):KXe(t,e,r))}o(GXe,"endOfTextblock");var Wr=0,N9=1,ia=2,It=3,Cx=class Cx{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Wr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,s;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Ke(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return(i==null?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!r||a.node))if(n&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let u=i.children[s];if(u.size){i=u;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let s=this.children[n],u=a+s.size;if(u>e||s instanceof op){i=e-a;break}a=u}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof ap&&a.side>=0;n--);if(r<=0){let a,s=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,s=!1);return a&&r&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?Ke(a.dom)+1:0}}else{let a,s=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?Ke(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=n,u=0;;u++){let l=this.children[u],c=s+l.size;if(i==-1&&e<=c){let f=s+l.border;if(e>=f&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,f);e=s;for(let d=u;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Ke(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>r||u==this.children.length-1)){r=c;for(let f=u+1;f<this.children.length;f++){let d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){a=Ke(d.dom);break}r+=d.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),s=Math.max(e,r);for(let v=0,g=0;v<this.children.length;v++){let y=this.children[v],q=g+y.size;if(a>g&&s<q)return y.setSelection(e-g-y.border,r-g-y.border,n,i);g=q}let u=this.domFromPos(e,e?-1:1),l=r==e?u:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),f=n.domSelectionRange(),d=!1;if((ut||lr)&&e==r){let{node:v,offset:g}=u;if(v.nodeType==3){if(d=!!(g&&v.nodeValue[g-1]=="\n"),d&&g==v.nodeValue.length)for(let y=v,q;y;y=y.parentNode){if(q=y.nextSibling){q.nodeName=="BR"&&(u=l={node:q.parentNode,offset:Ke(q)+1});break}let b=y.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let y=v.childNodes[g-1];d=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(ut&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||d&&lr)&&la(u.node,u.offset,f.anchorNode,f.anchorOffset)&&la(l.node,l.offset,f.focusNode,f.focusOffset))return;let p=!1;if((c.extend||e==r)&&!d){c.collapse(u.node,u.offset);try{e!=r&&c.extend(l.node,l.offset),p=!0}catch(v){}}if(!p){if(e>r){let g=u;u=l,l=g}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(u.node,u.offset),c.removeAllRanges(),c.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],s=n+a.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let u=n+a.border,l=s-a.border;if(e>=u&&r<=l){this.dirty=e==n||r==s?ia:N9,e==u&&r==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=It:a.markDirty(e-u,r-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?ia:It}n=s}this.dirty=ia}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ia:N9;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}};o(Cx,"ViewDesc");var ca=Cx,Mx=class Mx extends ca{constructor(e,r,n,i){let a,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(s.nodeType!=1){let u=document.createElement("span");u.appendChild(s),s=u}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Wr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}};o(Mx,"WidgetViewDesc");var ap=Mx,kx=class kx extends ca{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}};o(kx,"CompositionViewDesc");var ux=kx,Cl=class Cl extends ca{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],s=a&&a(r,i,n);return(!s||!s.dom)&&(s=en.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Cl(e,r,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&It||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=It&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Wr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Wr}}slice(e,r,n){let i=Cl.create(this.parent,this.mark,!0,n),a=this.children,s=this.size;r<s&&(a=dx(a,r,s,n)),e>0&&(a=dx(a,0,e,n));for(let u=0;u<a.length;u++)a[u].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}};o(Cl,"MarkViewDesc");var Hs=Cl,gp=class gp extends ca{constructor(e,r,n,i,a,s,u,l,c){super(e,[],a,s),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=u}static create(e,r,n,i,a,s){let u=a.nodeViews[r.type.name],l,c=u&&u(r,a,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,i),f=c&&c.dom,d=c&&c.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:d}=en.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let p=f;return f=gX(f,n,r),c?l=new lx(e,r,n,i,f,d||null,p,c,a,s+1):r.isText?new sp(e,r,n,i,f,p,a):new gp(e,r,n,i,f,d||null,p,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>I.empty)}return e}matchesNode(e,r,n){return this.dirty==Wr&&e.eq(this.node)&&up(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,s=a&&a.pos>-1?a:null,u=a&&a.pos<0,l=new fx(this,s&&s.node,e);QXe(this.node,this.innerDeco,(c,f,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!d&&l.syncToMarks(f==this.node.childCount?ne.none:this.node.child(f).marks,n,e),l.placeWidget(c,e,i)},(c,f,d,p)=>{l.syncToMarks(c.marks,n,e);let v;l.findNodeMatch(c,f,d,p)||u&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(v=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(c,f,d,v,e)||l.updateNextNode(c,f,d,e,p,i)||l.addNode(c,f,d,e,i),i+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ia)&&(s&&this.protectLocalComposition(e,s),pX(this.contentDOM,this.children,e),zs&&ZXe(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof j)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,u=eQe(this.node.content,s,n-r,i-r);return u<0?null:{node:a,pos:u,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new ux(this,a,r,i);e.input.compositionNodes.push(s),this.children=dx(this.children,n,n+i.length,e,s)}update(e,r,n,i){return this.dirty==It||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Wr}updateOuterDeco(e){if(up(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=vX(this.dom,this.nodeDOM,cx(this.outerDeco,this.node,r),cx(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};o(gp,"NodeViewDesc");var Zn=gp;function D9(t,e,r,n,i){gX(n,e,t);let a=new Zn(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}o(D9,"docViewDesc");var mp=class mp extends Zn{constructor(e,r,n,i,a,s,u){super(e,r,n,i,a,null,s,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==It||this.dirty!=Wr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Wr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Wr,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new mp(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=It)}get domAtom(){return!1}isText(e){return this.node.text==e}};o(mp,"TextViewDesc");var sp=mp,Px=class Px extends ca{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Wr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}};o(Px,"TrailingHackViewDesc");var op=Px,Nx=class Nx extends Zn{constructor(e,r,n,i,a,s,u,l,c,f){super(e,r,n,i,a,s,u,c,f),this.spec=l}update(e,r,n,i){if(this.dirty==It)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};o(Nx,"CustomNodeViewDesc");var lx=Nx;function pX(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let s=e[a],u=s.dom;if(u.parentNode==t){for(;u!=n;)n=L9(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(u,n);if(s instanceof Hs){let l=n?n.previousSibling:t.lastChild;pX(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=L9(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}o(pX,"renderDescs");var wl=o(function(t){t&&(this.nodeName=t)},"OuterDecoLevel");wl.prototype=Object.create(null);var aa=[new wl];function cx(t,e,r){if(t.length==0)return aa;let n=r?aa[0]:new wl,i=[n];for(let a=0;a<t.length;a++){let s=t[a].type.attrs;if(s){s.nodeName&&i.push(n=new wl(s.nodeName));for(let u in s){let l=s[u];l!=null&&(r&&i.length==1&&i.push(n=new wl(e.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+l:u=="style"?n.style=(n.style?n.style+";":"")+l:u!="nodeName"&&(n[u]=l))}}}return i}o(cx,"computeOuterDeco");function vX(t,e,r,n){if(r==aa&&n==aa)return e;let i=e;for(let a=0;a<n.length;a++){let s=n[a],u=r[a];if(a){let l;u&&u.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),u=aa[0]),i=l}JXe(i,u||aa[0],s)}return i}o(vX,"patchOuterDeco");function JXe(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}o(JXe,"patchAttributes");function gX(t,e,r){return vX(t,t,aa,cx(e,r,t.nodeType!=1))}o(gX,"applyOuterDeco");function up(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}o(up,"sameOuterDeco");function L9(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}o(L9,"rm");var Dx=class Dx{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=YXe(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Wr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[a])&&!this.isLocked(c.dom)){u=l;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let l=Hs.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))a=this.top.children.indexOf(s,this.index);else for(let u=this.index,l=Math.min(this.top.children.length,u+5);u<l;u++){let c=this.top.children[u];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let s=this.top.children[i];return s.dirty==It&&s.dom==s.contentDOM&&(s.dirty=ia),s.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,s){for(let u=this.index;u<this.top.children.length;u++){let l=this.top.children[u];if(l instanceof Zn){let c=this.preMatch.matched.get(l);if(c!=null&&c!=a)return!1;let f=l.dom,d,p=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=It&&up(r,l.outerDeco));if(!p&&l.update(e,r,n,i))return this.destroyBetween(this.index,u),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,e,r,n,i,s)))return this.destroyBetween(this.index,u),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ia,d.updateChildren(i,s+1),d.dirty=Wr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!up(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=Zn.create(this.top,r,n,i,a,s);if(u.contentDOM){u.children=e.children,e.children=[];for(let l of u.children)l.parent=u}return e.destroy(),u}addNode(e,r,n,i,a){let s=Zn.create(this.top,e,r,n,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new ap(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Hs;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof sp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((lr||tr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new op(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};o(Dx,"ViewTreeUpdater");var fx=Dx;function YXe(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,s=[];e:for(;i>0;){let u;for(;;)if(n){let c=r.children[n-1];if(c instanceof Hs)r=c,n=c.children.length;else{u=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=u.node;if(l){if(l!=t.child(i-1))break;--i,a.set(u,i),s.push(u)}}return{index:i,matched:a,matches:s.reverse()}}o(YXe,"preMatch");function XXe(t,e){return t.type.side-e.type.side}o(XXe,"compareSide");function QXe(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);n(f,i,e.forChild(a,f),c),a+=f.nodeSize}return}let s=0,u=[],l=null;for(let c=0;;){let f,d;for(;s<i.length&&i[s].to==a;){let q=i[s++];q.widget&&(f?(d||(d=[f])).push(q):f=q)}if(f)if(d){d.sort(XXe);for(let q=0;q<d.length;q++)r(d[q],c,!!l)}else r(f,c,!!l);let p,v;if(l)v=-1,p=l,l=null;else if(c<t.childCount)v=c,p=t.child(c++);else break;for(let q=0;q<u.length;q++)u[q].to<=a&&u.splice(q--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)u.push(i[s++]);let g=a+p.nodeSize;if(p.isText){let q=g;s<i.length&&i[s].from<q&&(q=i[s].from);for(let b=0;b<u.length;b++)u[b].to<q&&(q=u[b].to);q<g&&(l=p.cut(q-a),p=p.cut(0,q-a),g=q,v=-1)}else for(;s<i.length&&i[s].to<g;)s++;let y=p.isInline&&!p.isLeaf?u.filter(q=>!q.inline):u.slice();n(p,y,e.forChild(a,p),v),a=g}}o(QXe,"iterDeco");function ZXe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}o(ZXe,"iosHacks");function eQe(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let s=t.child(i++),u=a;if(a+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(a+=c.nodeSize,!c.isText)break;l+=c.text}if(a>=r){if(a>=n&&l.slice(n-e.length-u,n-u)==e)return n-e.length;let c=u<n?l.lastIndexOf(e,n-u-1):-1;if(c>=0&&c+e.length+u>=r)return u+c;if(r==n&&l.length>=n+e.length-u&&l.slice(n-u,n-u+e.length)==e)return n}}return-1}o(eQe,"findTextInFragment");function dx(t,e,r,n,i){let a=[];for(let s=0,u=0;s<t.length;s++){let l=t[s],c=u,f=u+=l.size;c>=r||f<=e?a.push(l):(c<e&&a.push(l.slice(0,e-c,n)),i&&(a.push(i),i=void 0),f>r&&a.push(l.slice(r-c,l.size,n)))}return a}o(dx,"replaceNodes");function Ox(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let u=n.resolve(s),l,c;if(bp(r)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&z.isSelectable(d)&&i.parent&&!(d.isInline&&RXe(r.focusNode,r.focusOffset,i.dom))){let p=i.posBefore;c=new z(s==p?u:n.resolve(p))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let d=s,p=s;for(let v=0;v<r.rangeCount;v++){let g=r.getRangeAt(v);d=Math.min(d,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(d<0)return null;[l,s]=p==t.state.selection.anchor?[p,d]:[d,p],u=n.resolve(s)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;c=Tx(t,f,u,d)}return c}o(Ox,"selectionFromDOM");function mX(t){return t.editable?t.hasFocus():qX(t)&&document.activeElement&&document.activeElement.contains(t.dom)}o(mX,"editorOwnsSelection");function un(t,e=!1){let r=t.state.selection;if(yX(t,r),!!mX(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&tr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&la(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)tQe(t);else{let{anchor:n,head:i}=r,a,s;F9&&!(r instanceof j)&&(r.$from.parent.inlineContent||(a=$9(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=$9(t,r.to))),t.docView.setSelection(n,i,t,e),F9&&(a&&B9(a),s&&B9(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&rQe(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}o(un,"selectionToDOM");var F9=lr||tr&&oX<63;function $9(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(lr&&i&&i.contentEditable=="false")return ex(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return ex(i);if(a)return ex(a)}}o($9,"temporarilyEditableNear");function ex(t){return t.contentEditable="true",lr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}o(ex,"setEditable");function B9(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}o(B9,"resetEditable");function rQe(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!mX(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}o(rQe,"removeClassOnSelectionChange");function tQe(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Ke(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Sr&&Qn<=11&&(n.disabled=!0,n.disabled=!1)}o(tQe,"selectCursorWrapper");function yX(t,e){if(e instanceof z){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(_9(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else _9(t)}o(yX,"syncNodeSelection");function _9(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}o(_9,"clearNodeSelection");function Tx(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||j.between(e,r,n)}o(Tx,"selectionBetween");function j9(t){return t.editable&&!t.hasFocus()?!1:qX(t)}o(j9,"hasFocusAndSelection");function qX(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(r){return!1}}o(qX,"hasSelection");function nQe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return la(e.node,e.offset,r.anchorNode,r.anchorOffset)}o(nQe,"anchorInRightPlace");function hx(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&K.findFrom(a,e)}o(hx,"moveSelectionBlock");function Jn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}o(Jn,"apply");function U9(t,e,r){let n=t.state.selection;if(n instanceof j)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return Jn(t,new j(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=hx(t.state,e);return i&&i instanceof z?Jn(t,i):!1}else if(!(Hr&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let u=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM?z.isSelectable(a)?Jn(t,new z(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):Fl?Jn(t,new j(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof z&&n.node.isInline)return Jn(t,new j(e>0?n.$to:n.$from));{let i=hx(t.state,e);return i?Jn(t,i):!1}}}o(U9,"selectHorizontally");function lp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(lp,"nodeLen");function Rl(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}o(Rl,"isIgnorable");function _s(t,e){return e<0?iQe(t):aQe(t)}o(_s,"skipIgnoredNodes");function iQe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,s=!1;for(ut&&r.nodeType==1&&n<lp(r)&&Rl(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let u=r.childNodes[n-1];if(Rl(u,-1))i=r,a=--n;else if(u.nodeType==3)r=u,n=r.nodeValue.length;else break}}else{if(bX(r))break;{let u=r.previousSibling;for(;u&&Rl(u,-1);)i=r.parentNode,a=Ke(u),u=u.previousSibling;if(u)r=u,n=lp(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?px(t,r,n):i&&px(t,i,a)}o(iQe,"skipIgnoredNodesBefore");function aQe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=lp(r),a,s;for(;;)if(n<i){if(r.nodeType!=1)break;let u=r.childNodes[n];if(Rl(u,1))a=r,s=++n;else break}else{if(bX(r))break;{let u=r.nextSibling;for(;u&&Rl(u,1);)a=u.parentNode,s=Ke(u)+1,u=u.nextSibling;if(u)r=u,n=0,i=lp(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&px(t,a,s)}o(aQe,"skipIgnoredNodesAfter");function bX(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}o(bX,"isBlockNode");function sQe(t,e){for(;t&&e==t.childNodes.length&&!Ll(t);)e=Ke(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}o(sQe,"textNodeAfter");function oQe(t,e){for(;t&&!e&&!Ll(t);)e=Ke(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}o(oQe,"textNodeBefore");function px(t,e,r){if(e.nodeType!=3){let a,s;(s=sQe(e,r))?(e=s,r=0):(a=oQe(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(bp(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&un(t)},50)}o(px,"setSelFocus");function z9(t,e){let r=t.state.doc.resolve(e);if(!(tr||kXe)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}o(z9,"findDirection");function H9(t,e,r){let n=t.state.selection;if(n instanceof j&&!n.empty||r.indexOf("s")>-1||Hr&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=hx(t.state,e);if(s&&s instanceof z)return Jn(t,s)}if(!i.parent.inlineContent){let s=e<0?i:a,u=n instanceof ur?K.near(s,e):K.findFrom(s,e);return u?Jn(t,u):!1}return!1}o(H9,"selectVertically");function V9(t,e){if(!(t.state.selection instanceof j))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}o(V9,"stopNativeHorizontalDelete");function W9(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}o(W9,"switchEditable");function uQe(t){if(!lr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;W9(t,n,"true"),setTimeout(()=>W9(t,n,"false"),20)}return!1}o(uQe,"safariDownArrowBug");function lQe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}o(lQe,"getMods");function cQe(t,e){let r=e.keyCode,n=lQe(e);if(r==8||Hr&&r==72&&n=="c")return V9(t,-1)||_s(t,-1);if(r==46&&!e.shiftKey||Hr&&r==68&&n=="c")return V9(t,1)||_s(t,1);if(r==13||r==27)return!0;if(r==37||Hr&&r==66&&n=="c"){let i=r==37?z9(t,t.state.selection.from)=="ltr"?-1:1:-1;return U9(t,i,n)||_s(t,i)}else if(r==39||Hr&&r==70&&n=="c"){let i=r==39?z9(t,t.state.selection.from)=="ltr"?1:-1:1;return U9(t,i,n)||_s(t,i)}else{if(r==38||Hr&&r==80&&n=="c")return H9(t,-1,n)||_s(t,-1);if(r==40||Hr&&r==78&&n=="c")return uQe(t)||H9(t,1,n)||_s(t,1);if(n==(Hr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}o(cQe,"captureKeyDown");function xx(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let v=n.firstChild;r.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),n=v.content}let s=t.someProp("clipboardSerializer")||en.fromSchema(t.state.schema),u=IX(),l=u.createElement("div");l.appendChild(s.serializeFragment(n,{document:u}));let c=l.firstChild,f,d=0;for(;c&&c.nodeType==1&&(f=xX[c.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let g=u.createElement(f[v]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice","".concat(i," ").concat(a).concat(d?" -".concat(d):""," ").concat(JSON.stringify(r)));let p=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:l,text:p,slice:e}}o(xx,"serializeForClipboard");function SX(t,e,r,n,i){let a=i.parent.type.spec.code,s,u;if(!r&&!e)return null;let l=e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,a||n,t)}),a)return e?new M(I.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):M.empty;let d=t.someProp("clipboardTextParser",p=>p(e,i,n,t));if(d)u=d;else{let p=i.marks(),{schema:v}=t.state,g=en.fromSchema(v);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let q=s.appendChild(document.createElement("p"));y&&q.appendChild(g.serializeNode(v.text(y,p)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),s=pQe(r),Fl&&vQe(s);let c=s&&s.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let d=+f[3];d>0;d--){let p=s.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;s=p}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Zt.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!fQe.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)u=gQe(K9(u,+f[1],+f[2]),f[4]);else if(u=M.maxOpen(dQe(u.content,i),!0),u.openStart||u.openEnd){let d=0,p=0;for(let v=u.content.firstChild;d<u.openStart&&!v.type.spec.isolating;d++,v=v.firstChild);for(let v=u.content.lastChild;p<u.openEnd&&!v.type.spec.isolating;p++,v=v.lastChild);u=K9(u,d,p)}return t.someProp("transformPasted",d=>{u=d(u,t)}),u}o(SX,"parseFromClipboard");var fQe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function dQe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,s=[];if(t.forEach(u=>{if(!s)return;let l=i.findWrapping(u.type),c;if(!l)return s=null;if(c=s.length&&a.length&&OX(l,a,u,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=TX(s[s.length-1],a.length));let f=EX(u,l);s.push(f),i=i.matchType(f.type),a=l}}),s)return I.from(s)}return t}o(dQe,"normalizeSiblings");function EX(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,I.from(t));return t}o(EX,"withWrappers");function OX(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=OX(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(I.from(EX(r,t,i+1))))}}o(OX,"addToSibling");function TX(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,TX(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(I.empty,!0);return t.copy(r.append(n))}o(TX,"closeRight");function vx(t,e,r,n,i,a){let s=e<0?t.firstChild:t.lastChild,u=s.content;return t.childCount>1&&(a=0),i<n-1&&(u=vx(u,e,r,n,i+1,a)),i>=r&&(u=e<0?s.contentMatchAt(0).fillBefore(u,a<=i).append(u):u.append(s.contentMatchAt(s.childCount).fillBefore(I.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(u))}o(vx,"closeRange");function K9(t,e,r){return e<t.openStart&&(t=new M(vx(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new M(vx(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}o(K9,"closeSlice");var xX={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},G9=null;function IX(){return G9||(G9=document.implementation.createHTMLDocument("title"))}o(IX,"detachedDoc");var rx=null;function hQe(t){let e=window.trustedTypes;return e?(rx||(rx=e.createPolicy("ProseMirrorClipboard",{createHTML:o(r=>r,"createHTML")})),rx.createHTML(t)):t}o(hQe,"maybeWrapTrusted");function pQe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=IX().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&xX[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=hQe(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}o(pQe,"readHTML");function vQe(t){let e=t.querySelectorAll(tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}o(vQe,"restoreReplacedSpaces");function gQe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch(u){return t}let{content:i,openStart:a,openEnd:s}=t;for(let u=n.length-2;u>=0;u-=2){let l=r.nodes[n[u]];if(!l||l.hasRequiredAttrs())break;i=I.from(l.create(n[u+1],i)),a++,s++}return new M(i,a,s)}o(gQe,"addContext");var cr={},fr={},mQe={touchstart:!0,touchmove:!0},Lx=class Lx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};o(Lx,"InputState");var gx=Lx;function yQe(t){for(let e in cr){let r=cr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{bQe(t,n)&&!Ix(t,n)&&(t.editable||!(n.type in fr))&&r(t,n)},mQe[e]?{passive:!0}:void 0)}lr&&t.dom.addEventListener("input",()=>null),mx(t)}o(yQe,"initInput");function Xn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}o(Xn,"setSelectionOrigin");function qQe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}o(qQe,"destroyInput");function mx(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>Ix(t,n))})}o(mx,"ensureListeners");function Ix(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}o(Ix,"runCustomHandler");function bQe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}o(bQe,"eventBelongsToView");function SQe(t,e){!Ix(t,e)&&cr[e.type]&&(t.editable||!(e.type in fr))&&cr[e.type](t,e)}o(SQe,"dispatchEvent");fr.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!wX(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(on&&tr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),zs&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,ta(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||cQe(t,r)?r.preventDefault():Xn(t,"key")};fr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};fr.keypress=(t,e)=>{let r=e;if(wX(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Hr&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof j)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",a=>a(t,n.$from.pos,n.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),r.preventDefault()}};function Sp(t){return{left:t.clientX,top:t.clientY}}o(Sp,"eventCoords");function EQe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}o(EQe,"isNear");function Ax(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let s=a.depth+1;s>0;s--)if(t.someProp(e,u=>s>a.depth?u(t,r,a.nodeAfter,a.before(s),i,!0):u(t,r,a.node(s),a.before(s),i,!1)))return!0;return!1}o(Ax,"runHandlerOnContext");function Us(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}o(Us,"updateSelection");function OQe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&z.isSelectable(n)?(Us(t,new z(r),"pointer"),!0):!1}o(OQe,"selectClickedLeaf");function TQe(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof z&&(n=r.node);let a=t.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let u=s>a.depth?a.nodeAfter:a.node(s);if(z.isSelectable(u)){n&&r.$from.depth>0&&s>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(s);break}}return i!=null?(Us(t,z.create(t.state.doc,i),"pointer"),!0):!1}o(TQe,"selectClickedNode");function xQe(t,e,r,n,i){return Ax(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?TQe(t,r):OQe(t,r))}o(xQe,"handleSingleClick");function IQe(t,e,r,n){return Ax(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}o(IQe,"handleDoubleClick");function AQe(t,e,r,n){return Ax(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||wQe(t,r,n)}o(AQe,"handleTripleClick");function wQe(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Us(t,j.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),u=i.before(a);if(s.inlineContent)Us(t,j.create(n,u+1,u+1+s.content.size),"pointer");else if(z.isSelectable(s))Us(t,z.create(n,u),"pointer");else continue;return!0}}o(wQe,"defaultTripleClick");function wx(t){return cp(t)}o(wx,"forceDOMFlush");var AX=Hr?"metaKey":"ctrlKey";cr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=wx(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&EQe(r,t.input.lastClick)&&!r[AX]&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a};let s=t.posAtCoords(Sp(r));s&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new yx(t,s,r,!!n)):(a=="doubleClick"?IQe:AQe)(t,s.pos,s.inside,r)?r.preventDefault():Xn(t,"pointer"))};var Fx=class Fx{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[AX],this.allowDefault=n.shiftKey;let a,s;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),s=r.inside;else{let f=e.state.doc.resolve(r.pos);a=f.parent,s=f.depth?f.before():0}let u=i?null:n.target,l=u?e.docView.nearestDesc(u,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||c instanceof z&&c.from<=s&&c.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&ut&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Xn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>un(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Sp(e))),this.updateAllowDefault(e),this.allowDefault||!r?Xn(this.view,"pointer"):xQe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||lr&&this.mightDrag&&!this.mightDrag.node.isAtom||tr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Us(this.view,K.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):Xn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Xn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};o(Fx,"MouseDown");var yx=Fx;cr.touchstart=t=>{t.input.lastTouch=Date.now(),wx(t),Xn(t,"pointer")};cr.touchmove=t=>{t.input.lastTouch=Date.now(),Xn(t,"pointer")};cr.contextmenu=t=>wx(t);function wX(t,e){return t.composing?!0:lr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}o(wX,"inOrNearComposition");var RQe=on?5e3:-1;fr.compositionstart=fr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof j&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),cp(t,!0),t.markCursor=null;else if(cp(t,!e.selection.empty),ut&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let u=t.domSelection();u&&u.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}t.input.composing=!0}RX(t,RQe)};fr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,RX(t,20))};function RX(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>cp(t),e))}o(RX,"scheduleComposeEnd");function CX(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=MQe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}o(CX,"clearComposition");function CQe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=AXe(e.focusNode,e.focusOffset),n=wXe(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}o(CQe,"findCompositionNode");function MQe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}o(MQe,"timestampFromCustomEvent");function cp(t,e=!1){if(!(on&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),CX(t),e||t.docView&&t.docView.dirty){let r=Ox(t);return r&&!r.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}o(cp,"endComposition");function kQe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}o(kQe,"captureCopy");var Pl=Sr&&Qn<15||zs&&PXe<604;cr.copy=fr.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=Pl?null:r.clipboardData,s=n.content(),{dom:u,text:l}=xx(t,s);a?(r.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",l)):kQe(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function PQe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}o(PQe,"sliceSingleNode");function NQe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?Nl(t,n.value,null,i,e):Nl(t,n.textContent,n.innerHTML,i,e)},50)}o(NQe,"capturePaste");function Nl(t,e,r,n,i){let a=SX(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,a||M.empty)))return!0;if(!a)return!1;let s=PQe(a),u=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}o(Nl,"doPaste");function MX(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}o(MX,"getText");fr.paste=(t,e)=>{let r=e;if(t.composing&&!on)return;let n=Pl?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&Nl(t,MX(n),n.getData("text/html"),i,r)?r.preventDefault():NQe(t,r)};var $x=class $x{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}};o($x,"Dragging");var fp=$x,kX=Hr?"altKey":"ctrlKey";cr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(Sp(r)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof z?i.to-1:i.to))){if(n&&n.mightDrag)s=z.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=z.create(t.state.doc,d.posBefore))}}let u=(s||t.state.selection).content(),{dom:l,text:c,slice:f}=xx(t,u);(!r.dataTransfer.files.length||!tr||oX>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Pl?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",Pl||r.dataTransfer.setData("text/plain",c),t.dragging=new fp(f,!r[kX],s)};cr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};fr.dragover=fr.dragenter=(t,e)=>e.preventDefault();fr.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Sp(r));if(!i)return;let a=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",g=>{s=g(s,t)}):s=SX(t,MX(r.dataTransfer),Pl?null:r.dataTransfer.getData("text/html"),!1,a);let u=!!(n&&!r[kX]);if(t.someProp("handleDrop",g=>g(t,r,s||M.empty,u))){r.preventDefault();return}if(!s)return;r.preventDefault();let l=s?Qh(t.state.doc,a.pos,s):a.pos;l==null&&(l=a.pos);let c=t.state.tr;if(u){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(p))return;let v=c.doc.resolve(f);if(d&&z.isSelectable(s.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new z(v));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,q,b,S)=>g=S),c.setSelection(Tx(t,v,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};cr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&un(t)},20))};cr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};cr.beforeinput=(t,e)=>{if(tr&&on&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,ta(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in fr)cr[t]=fr[t];function Dl(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}o(Dl,"compareObjs");var yp=class yp{constructor(e,r){this.toDOM=e,this.spec=r||oa,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:s}=e.mapResult(r.from+i,this.side<0?-1:1);return s?null:new At(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof yp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Dl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}};o(yp,"WidgetType");var dp=yp,Ml=class Ml{constructor(e,r){this.attrs=e,this.spec=r||oa}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=s?null:new At(a,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Ml&&Dl(this.attrs,e.attrs)&&Dl(this.spec,e.spec)}static is(e){return e.type instanceof Ml}destroy(){}};o(Ml,"InlineType");var sa=Ml,qp=class qp{constructor(e,r){this.attrs=e,this.spec=r||oa}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let s=e.mapResult(r.to+i,-1);return s.deleted||s.pos<=a.pos?null:new At(a.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof qp&&Dl(this.attrs,e.attrs)&&Dl(this.spec,e.spec)}destroy(){}};o(qp,"NodeType");var qx=qp,na=class na{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new na(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new na(e,e,new dp(r,n))}static inline(e,r,n,i){return new na(e,r,new sa(n,i))}static node(e,r,n,i){return new na(e,r,new qx(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof sa}get widget(){return this.type instanceof dp}};o(na,"Decoration");var At=na,js=[],oa={},Tt=class Tt{constructor(e,r){this.local=e.length?e:js,this.children=r.length?r:js}static create(e,r){return r.length?pp(r,e,0,oa):rr}find(e,r,n){let i=[];return this.findInner(e==null?0:e,r==null?1e9:r,i,0,n),i}findInner(e,r,n,i,a){for(let s=0;s<this.local.length;s++){let u=this.local[s];u.from<=r&&u.to>=e&&(!a||a(u.spec))&&n.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let u=this.children[s]+1;this.children[s+2].findInner(e-u,r-u,n,i+u,a)}}map(e,r,n){return this==rr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||oa)}mapInner(e,r,n,i,a){let s;for(let u=0;u<this.local.length;u++){let l=this.local[u].map(e,n,i);l&&l.type.valid(r,l)?(s||(s=[])).push(l):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?DQe(this.children,s||[],e,r,n,i,a):s?new Tt(s.sort(ua),js):rr}add(e,r){return r.length?this==rr?Tt.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((u,l)=>{let c=l+n,f;if(f=NX(r,u,c)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(u,f,c+1):i.splice(a,0,l,l+u.nodeSize,pp(f,u,c+1,oa)),a+=3}});let s=PX(a?DX(r):r,-n);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||s.splice(u--,1);return new Tt(s.length?this.local.concat(s).sort(ua):this.local,i||this.children)}remove(e){return e.length==0||this==rr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let s,u=n[a]+r,l=n[a+1]+r;for(let f=0,d;f<e.length;f++)(d=e[f])&&d.from>u&&d.to<l&&(e[f]=null,(s||(s=[])).push(d));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[a+2].removeInner(s,u+1);c!=rr?n[a+2]=c:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let u=0;u<i.length;u++)i[u].eq(s,r)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Tt(i,n):rr}forChild(e,r){if(this==rr)return this;if(r.isLeaf)return Tt.empty;let n,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(n=this.children[u+2]);break}let a=e+1,s=a+r.content.size;for(let u=0;u<this.local.length;u++){let l=this.local[u];if(l.from<s&&l.to>a&&l.type instanceof sa){let c=Math.max(a,l.from)-a,f=Math.min(s,l.to)-a;c<f&&(i||(i=[])).push(l.copy(c,f))}}if(i){let u=new Tt(i.sort(ua),js);return n?new hp([u,n]):u}return n||rr}eq(e){if(this==e)return!0;if(!(e instanceof Tt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Rx(this.localsInner(e))}localsInner(e){if(this==rr)return js;if(e.inlineContent||!this.local.some(sa.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof sa||r.push(this.local[n]);return r}forEachSet(e){e(this)}};o(Tt,"DecorationSet");var Ge=Tt;Ge.empty=new Ge([],[]);Ge.removeOverlap=Rx;var rr=Ge.empty,Yn=class Yn{constructor(e){this.members=e}map(e,r){let n=this.members.map(i=>i.map(e,r,oa));return Yn.from(n)}forChild(e,r){if(r.isLeaf)return Ge.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=rr&&(a instanceof Yn?n=n.concat(a.members):n.push(a))}return Yn.from(n)}eq(e){if(!(e instanceof Yn)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let s=0;s<a.length;s++)r.push(a[s])}}return r?Rx(n?r:r.sort(ua)):js}static from(e){switch(e.length){case 0:return rr;case 1:return e[0];default:return new Yn(e.every(r=>r instanceof Ge)?e:e.reduce((r,n)=>r.concat(n instanceof Ge?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}};o(Yn,"DecorationGroup");var hp=Yn;function DQe(t,e,r,n,i,a,s){let u=t.slice();for(let c=0,f=a;c<r.maps.length;c++){let d=0;r.maps[c].forEach((p,v,g,y)=>{let q=y-g-(v-p);for(let b=0;b<u.length;b+=3){let S=u[b+1];if(S<0||p>S+f-d)continue;let A=u[b]+f-d;v>=A?u[b+1]=p<=A?-2:-1:p>=f&&q&&(u[b]+=q,u[b+1]+=q)}d+=q}),f=r.maps[c].map(f,-1)}let l=!1;for(let c=0;c<u.length;c+=3)if(u[c+1]<0){if(u[c+1]==-2){l=!0,u[c+1]=-1;continue}let f=r.map(t[c]+a),d=f-i;if(d<0||d>=n.content.size){l=!0;continue}let p=r.map(t[c+1]+a,-1),v=p-i,{index:g,offset:y}=n.content.findIndex(d),q=n.maybeChild(g);if(q&&y==d&&y+q.nodeSize==v){let b=u[c+2].mapInner(r,q,f+1,t[c]+a+1,s);b!=rr?(u[c]=d,u[c+1]=v,u[c+2]=b):(u[c+1]=-2,l=!0)}else l=!0}if(l){let c=LQe(u,t,e,r,i,a,s),f=pp(c,n,0,s);e=f.local;for(let d=0;d<u.length;d+=3)u[d+1]<0&&(u.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let v=f.children[d];for(;p<u.length&&u[p]<v;)p+=3;u.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new Ge(e.sort(ua),u)}o(DQe,"mapChildren");function PX(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new At(i.from+e,i.to+e,i.type))}return r}o(PX,"moveSpans");function LQe(t,e,r,n,i,a,s){function u(l,c){for(let f=0;f<l.local.length;f++){let d=l.local[f].map(n,i,c);d?r.push(d):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)u(l.children[f+2],l.children[f]+c+1)}o(u,"gather");for(let l=0;l<t.length;l+=3)t[l+1]==-1&&u(t[l+2],e[l]+a+1);return r}o(LQe,"mapAndGatherRemainingDecorations");function NX(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,s;a<t.length;a++)(s=t[a])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[a]=null);return i}o(NX,"takeSpansForNode");function DX(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}o(DX,"withoutNulls");function pp(t,e,r,n){let i=[],a=!1;e.forEach((u,l)=>{let c=NX(t,u,l+r);if(c){a=!0;let f=pp(c,u,r+l+1,n);f!=rr&&i.push(l,l+u.nodeSize,f)}});let s=PX(a?DX(t):t,-r).sort(ua);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||(n.onRemove&&n.onRemove(s[u].spec),s.splice(u--,1));return s.length||i.length?new Ge(s,i):rr}o(pp,"buildTree");function ua(t,e){return t.from-e.from||t.to-e.to}o(ua,"byPos");function Rx(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),J9(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),J9(e,i,n.copy(a.from,n.to)));break}}}return e}o(Rx,"removeOverlap");function J9(t,e,r){for(;e<t.length&&ua(r,t[e])>0;)e++;t.splice(e,0,r)}o(J9,"insertAhead");function tx(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=rr&&e.push(n)}),t.cursorWrapper&&e.push(Ge.create(t.state.doc,[t.cursorWrapper.deco])),hp.from(e)}o(tx,"viewDecorations");var FQe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},$Qe=Sr&&Qn<=11,Bx=class Bx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}};o(Bx,"SelectionState");var bx=Bx,_x=class _x{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new bx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Sr&&Qn<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),$Qe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,FQe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(j9(this.view)){if(this.suppressingSelectionUpdates)return un(this.view);if(Sr&&Qn<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&la(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=kl(a))r.add(a);for(let a=e.anchorNode;a;a=kl(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&j9(e)&&!this.ignoreSelectionChange(n),a=-1,s=-1,u=!1,l=[];if(e.editable)for(let f=0;f<r.length;f++){let d=this.registerMutation(r[f],l);d&&(a=a<0?d.from:Math.min(d.from,a),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(u=!0))}if(ut&&l.length){let f=l.filter(d=>d.nodeName=="BR");if(f.length==2){let[d,p]=f;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of f){let v=p.parentNode;v&&v.nodeName=="LI"&&(!d||jQe(e,d)!=v)&&p.remove()}}}let c=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&bp(n)&&(c=Ox(e))&&c.eq(K.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,un(e),this.currentSelection.set(n)):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,s),BQe(e)),this.handleDOMChange(a,s,u,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||un(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let d=e.addedNodes[f];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Sr&&Qn<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:d,nextSibling:p}=e.addedNodes[f];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(a=p)}let s=i&&i.parentNode==e.target?Ke(i)+1:0,u=n.localPosFromDOM(e.target,s,-1),l=a&&a.parentNode==e.target?Ke(a):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:u,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}};o(_x,"DOMObserver");var Sx=_x,Y9=new WeakMap,X9=!1;function BQe(t){if(!Y9.has(t)&&(Y9.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=ut,X9)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),X9=!0}}o(BQe,"checkCSS");function Q9(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return la(s.node,s.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}o(Q9,"rangeToSelectionRange");function _Qe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Q9(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return o(n,"read"),t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?Q9(t,r):null}o(_Qe,"safariShadowSelectionRange");function jQe(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}o(jQe,"blockParent");function UQe(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:s,to:u}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],bp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),tr&&t.input.lastKeyCode===8)for(let q=a;q>i;q--){let b=n.childNodes[q-1],S=b.pmViewDesc;if(b.nodeName=="BR"&&!S){a=q;break}if(!S||S.size)break}let d=t.state.doc,p=t.someProp("domParser")||Zt.fromSchema(t.state.schema),v=d.resolve(s),g=null,y=p.parse(n,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:zQe,context:v});if(c&&c[0].pos!=null){let q=c[0].pos,b=c[1]&&c[1].pos;b==null&&(b=q),g={anchor:q+s,head:b+s}}return{doc:y,sel:g,from:s,to:u}}o(UQe,"parseBetween");function zQe(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(lr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||lr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}o(zQe,"ruleFromNode");var HQe=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function VQe(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let X=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,wr=Ox(t,X);if(wr&&!t.state.selection.eq(wr)){if(tr&&on&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Ys=>Ys(t,ta(13,"Enter"))))return;let li=t.state.tr.setSelection(wr);X=="pointer"?li.setMeta("pointer",!0):X=="key"&&li.scrollIntoView(),a&&li.setMeta("composition",a),t.dispatch(li)}return}let s=t.state.doc.resolve(e),u=s.sharedDepth(r);e=s.before(u+1),r=t.state.doc.resolve(r).after(u+1);let l=t.state.selection,c=UQe(t,e,r),f=t.state.doc,d=f.slice(c.from,c.to),p,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,v="end"):(p=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let g=GQe(d.content,c.doc.content,c.from,p,v);if(g&&t.input.domChangeCount++,(zs&&t.input.lastIOSEnter>Date.now()-225||on)&&i.some(X=>X.nodeType==1&&!HQe.test(X.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",X=>X(t,ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(n&&l instanceof j&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let X=Z9(t,t.state.doc,c.sel);if(X&&!X.eq(t.state.selection)){let wr=t.state.tr.setSelection(X);a&&wr.setMeta("composition",a),t.dispatch(wr)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof j&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Sr&&Qn<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" \xA0"&&(g.start--,g.endA--,g.endB--);let y=c.doc.resolveNoCache(g.start-c.from),q=c.doc.resolveNoCache(g.endB-c.from),b=f.resolve(g.start),S=y.sameParent(q)&&y.parent.inlineContent&&b.end()>=g.endA,A;if((zs&&t.input.lastIOSEnter>Date.now()-225&&(!S||i.some(X=>X.nodeName=="DIV"||X.nodeName=="P"))||!S&&y.pos<c.doc.content.size&&!y.sameParent(q)&&(A=K.findFrom(c.doc.resolve(y.pos+1),1,!0))&&A.head==q.pos)&&t.someProp("handleKeyDown",X=>X(t,ta(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&KQe(f,g.start,g.endA,y,q)&&t.someProp("handleKeyDown",X=>X(t,ta(8,"Backspace")))){on&&tr&&t.domObserver.suppressSelectionUpdates();return}tr&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),on&&!S&&y.start()!=q.start()&&q.parentOffset==0&&y.depth==q.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,q=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(X){return X(t,ta(13,"Enter"))})},20));let k=g.start,N=g.endA,L,re,ue;if(S){if(y.pos==q.pos)Sr&&Qn<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>un(t),20)),L=t.state.tr.delete(k,N),re=f.resolve(g.start).marksAcross(f.resolve(g.endA));else if(g.endA==g.endB&&(ue=WQe(y.parent.content.cut(y.parentOffset,q.parentOffset),b.parent.content.cut(b.parentOffset,g.endA-b.start()))))L=t.state.tr,ue.type=="add"?L.addMark(k,N,ue.mark):L.removeMark(k,N,ue.mark);else if(y.parent.child(y.index()).isText&&y.index()==q.index()-(q.textOffset?0:1)){let X=y.parent.textBetween(y.parentOffset,q.parentOffset);if(t.someProp("handleTextInput",wr=>wr(t,k,N,X)))return;L=t.state.tr.insertText(X,k,N)}}if(L||(L=t.state.tr.replace(k,N,c.doc.slice(g.start-c.from,g.endB-c.from))),c.sel){let X=Z9(t,L.doc,c.sel);X&&!(tr&&t.composing&&X.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(X.head==k||X.head==L.mapping.map(N)-1)||Sr&&X.empty&&X.head==k)&&L.setSelection(X)}re&&L.ensureMarks(re),a&&L.setMeta("composition",a),t.dispatch(L.scrollIntoView())}o(VQe,"readDOMChange");function Z9(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:Tx(t,e.resolve(r.anchor),e.resolve(r.head))}o(Z9,"resolveSelection");function WQe(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,s,u,l;for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);if(i.length==1&&a.length==0)u=i[0],s="add",l=o(f=>f.mark(u.addToSet(f.marks)),"update");else if(i.length==0&&a.length==1)u=a[0],s="remove",l=o(f=>f.mark(u.removeFromSet(f.marks)),"update");else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(I.from(c).eq(t))return{mark:u,type:s}}o(WQe,"isMarkChange");function KQe(t,e,r,n,i){if(r-e<=i.pos-n.pos||nx(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let u=a.nodeAfter;return u!=null&&r==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=t.resolve(nx(a,!0,!0));return!s.parent.isTextblock||s.pos>r||nx(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}o(KQe,"looksLikeBackspace");function nx(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}o(nx,"skipClosingAndOpening");function GQe(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:s,b:u}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(s,u));n-=s+l-a}if(s<a&&t.size<e.size){let l=n<=a&&n>=s?a-n:0;a-=l,a&&a<e.size&&eX(e.textBetween(a-1,a+1))&&(a+=l?1:-1),u=a+(u-s),s=a}else if(u<a){let l=n<=a&&n>=u?a-n:0;a-=l,a&&a<t.size&&eX(t.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-u),u=a}return{start:a,endA:s,endB:u}}o(GQe,"findDiff");function eX(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}o(eX,"isSurrogatePair");var jx=class jx{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gx,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(aX),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=nX(this),tX(this),this.nodeViews=iX(this),this.docView=D9(this.state.doc,rX(this),tx(this),this.dom,this),this.domObserver=new Sx(this,(n,i,a,s)=>VQe(this,n,i,a,s)),this.domObserver.start(),yQe(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&mx(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(aX),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(CX(this),s=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(u||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let v=iX(this);YQe(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||r.handleDOMEvents!=this._props.handleDOMEvents)&&mx(this),this.editable=nX(this),tX(this);let l=tx(this),c=rX(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=a||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let p=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&LXe(this);if(s){this.domObserver.stop();let v=d&&(Sr||tr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&JQe(i.selection,e.selection);if(d){let g=tr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=CQe(this)),(a||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=D9(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&nQe(this))?un(this,v):(yX(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&FXe(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof z){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&R9(this,r.getBoundingClientRect(),e)}else R9(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new fp(e.slice,e.move,i<0?void 0:z.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let u=this.directPlugins[s].props[e];if(u!=null&&(i=r?r(u):u))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let u=a[s].props[e];if(u!=null&&(i=r?r(u):u))return i}}hasFocus(){if(Sr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&$Xe(this.dom),un(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return zXe(this,e)}coordsAtPos(e,r=1){return dX(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return GXe(this,r||this.state,e)}pasteHTML(e,r){return Nl(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return Nl(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return xx(this,e)}destroy(){this.docView&&(qQe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tx(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xXe())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return SQe(this,e)}dispatch(e){let r=this._props.dispatchTransaction;r?r.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?lr&&this.root.nodeType===11&&CXe(this.dom.ownerDocument)==this.dom&&_Qe(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};o(jx,"EditorView");var vp=jx;function rX(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[At.node(0,t.state.doc.content.size,e)]}o(rX,"computeDocDeco");function tX(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:At.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}o(tX,"updateCursorWrapper");function nX(t){return!t.someProp("editable",e=>e(t.state)===!1)}o(nX,"getEditable");function JQe(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}o(JQe,"selectionContextChanged");function iX(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return o(r,"add"),t.someProp("nodeViews",r),t.someProp("markViews",r),e}o(iX,"buildNodeViews");function YQe(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}o(YQe,"changedNodeViews");function aX(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}o(aX,"checkStateComponent");var ln={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Op={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},XQe=typeof navigator<"u"&&/Mac/.test(navigator.platform),QQe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Ce=0;Ce<10;Ce++)ln[48+Ce]=ln[96+Ce]=String(Ce);var Ce;for(Ce=1;Ce<=24;Ce++)ln[Ce+111]="F"+Ce;var Ce;for(Ce=65;Ce<=90;Ce++)ln[Ce]=String.fromCharCode(Ce+32),Op[Ce]=String.fromCharCode(Ce);var Ce;for(Ep in ln)Op.hasOwnProperty(Ep)||(Op[Ep]=ln[Ep]);var Ep;function LX(t){var e=XQe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||QQe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Op:ln)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}o(LX,"keyName");var ZQe=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function eZe(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,s;for(let u=0;u<e.length-1;u++){let l=e[u];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))ZQe?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}o(eZe,"normalizeKeyName");function rZe(t){let e=Object.create(null);for(let r in t)e[eZe(r)]=t[r];return e}o(rZe,"normalize");function Ux(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}o(Ux,"modifiers");function FX(t){return new ae({props:{handleKeyDown:tZe(t)}})}o(FX,"keymap");function tZe(t){let e=rZe(t);return function(r,n){let i=LX(n),a,s=e[Ux(i,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let u=e[Ux(i,n,!1)];if(u&&u(r.state,r.dispatch,r))return!0}if((n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=ln[n.keyCode])&&a!=i){let u=e[Ux(a,n)];if(u&&u(r.state,r.dispatch,r))return!0}}return!1}}o(tZe,"keydownHandler");var Tp=o((t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),"deleteSelection");function BX(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}o(BX,"atBlockStart");var Hx=o((t,e,r)=>{let n=BX(t,r);if(!n)return!1;let i=Wx(n);if(!i){let s=n.blockRange(),u=s&&nn(s);return u==null?!1:(e&&e(t.tr.lift(s,u).scrollIntoView()),!0)}let a=i.nodeBefore;if(GX(t,i,e,-1))return!0;if(n.parent.content.size==0&&(Vs(a,"end")||z.isSelectable(a)))for(let s=n.depth;;s--){let u=xl(t.doc,n.before(s),n.after(s),M.empty);if(u&&u.slice.size<u.to-u.from){if(e){let l=t.tr.step(u);l.setSelection(Vs(a,"end")?K.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):z.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},"joinBackward"),_X=o((t,e,r)=>{let n=BX(t,r);if(!n)return!1;let i=Wx(n);return i?UX(t,i,e):!1},"joinTextblockBackward"),jX=o((t,e,r)=>{let n=zX(t,r);if(!n)return!1;let i=Jx(n);return i?UX(t,i,e):!1},"joinTextblockForward");function UX(t,e,r){let n=e.nodeBefore,i=n,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let s=e.nodeAfter,u=s,l=e.pos+1;for(;!u.isTextblock;l++){if(u.type.spec.isolating)return!1;let f=u.firstChild;if(!f)return!1;u=f}let c=xl(t.doc,a,l,M.empty);if(!c||c.from!=a||c instanceof er&&c.slice.size>=l-a)return!1;if(r){let f=t.tr.step(c);f.setSelection(j.create(f.doc,a)),r(f.scrollIntoView())}return!0}o(UX,"joinTextblocksAround");function Vs(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}o(Vs,"textblockAt");var Vx=o((t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=Wx(n)}let s=a&&a.nodeBefore;return!s||!z.isSelectable(s)?!1:(e&&e(t.tr.setSelection(z.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)},"selectNodeBackward");function Wx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}o(Wx,"findCutBefore");function zX(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}o(zX,"atBlockEnd");var Kx=o((t,e,r)=>{let n=zX(t,r);if(!n)return!1;let i=Jx(n);if(!i)return!1;let a=i.nodeAfter;if(GX(t,i,e,1))return!0;if(n.parent.content.size==0&&(Vs(a,"start")||z.isSelectable(a))){let s=xl(t.doc,n.before(),n.after(),M.empty);if(s&&s.slice.size<s.to-s.from){if(e){let u=t.tr.step(s);u.setSelection(Vs(a,"start")?K.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):z.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},"joinForward"),Gx=o((t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=Jx(n)}let s=a&&a.nodeAfter;return!s||!z.isSelectable(s)?!1:(e&&e(t.tr.setSelection(z.create(t.doc,a.pos)).scrollIntoView()),!0)},"selectNodeForward");function Jx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}o(Jx,"findCutAfter");var HX=o((t,e)=>{let r=t.selection,n=r instanceof z,i;if(n){if(r.node.isTextblock||!ot(t.doc,r.from))return!1;i=r.from}else if(i=Ls(t.doc,r.from,-1),i==null)return!1;if(e){let a=t.tr.join(i);n&&a.setSelection(z.create(a.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},"joinUp"),VX=o((t,e)=>{let r=t.selection,n;if(r instanceof z){if(r.node.isTextblock||!ot(t.doc,r.to))return!1;n=r.to}else if(n=Ls(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},"joinDown"),WX=o((t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),a=i&&nn(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},"lift"),Yx=o((t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)},"newlineInCode");function Xx(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}o(Xx,"defaultBlockAt");var Qx=o((t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),s=Xx(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let u=r.after(),l=t.tr.replaceWith(u,u,s.createAndFill());l.setSelection(K.near(l.doc.resolve(u),1)),e(l.scrollIntoView())}return!0},"exitCode"),Zx=o((t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof ur||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=Xx(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,u=t.tr.insert(s,a.createAndFill());u.setSelection(j.create(u.doc,s+1)),e(u.scrollIntoView())}return!0},"createParagraphNear"),eI=o((t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(zr(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&nn(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)},"liftEmptyBlock");function nZe(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof z&&e.selection.node.isBlock)return!n.parentOffset||!zr(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],s,u,l=!1,c=!1;for(let v=n.depth;;v--)if(n.node(v).isBlock){l=n.end(v)==n.pos+(n.depth-v),c=n.start(v)==n.pos-(n.depth-v),u=Xx(n.node(v-1).contentMatchAt(n.indexAfter(v-1)));let y=t&&t(i.parent,l,n);a.unshift(y||(l&&u?{type:u}:null)),s=v;break}else{if(v==1)return!1;a.unshift(null)}let f=e.tr;(e.selection instanceof j||e.selection instanceof ur)&&f.deleteSelection();let d=f.mapping.map(n.pos),p=zr(f.doc,d,a.length,a);if(p||(a[0]=u?{type:u}:null,p=zr(f.doc,d,a.length,a)),f.split(d,a.length,a),!l&&c&&n.node(s).type!=u){let v=f.mapping.map(n.before(s)),g=f.doc.resolve(v);u&&n.node(s-1).canReplaceWith(g.index(),g.index()+1,u)&&f.setNodeMarkup(f.mapping.map(n.before(s)),u)}return r&&r(f.scrollIntoView()),!0}}o(nZe,"splitBlockAs");var iZe=nZe();var KX=o((t,e)=>{let{$from:r,to:n}=t.selection,i,a=r.sharedDepth(n);return a==0?!1:(i=r.before(a),e&&e(t.tr.setSelection(z.create(t.doc,i))),!0)},"selectParentNode"),aZe=o((t,e)=>(e&&e(t.tr.setSelection(new ur(t.doc))),!0),"selectAll");function sZe(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||ot(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}o(sZe,"joinMaybeClear");function GX(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,s,u,l=i.type.spec.isolating||a.type.spec.isolating;if(!l&&sZe(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(u=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&u.matchType(s[0]||a.type).validEnd){if(r){let v=e.pos+a.nodeSize,g=I.empty;for(let b=s.length-1;b>=0;b--)g=I.from(s[b].create(null,g));g=I.from(i.copy(g));let y=t.tr.step(new Re(e.pos-1,v,e.pos,v,new M(g,1,0),s.length,!0)),q=y.doc.resolve(v+2*s.length);q.nodeAfter&&q.nodeAfter.type==i.type&&ot(y.doc,q.pos)&&y.join(q.pos),r(y.scrollIntoView())}return!0}let f=a.type.spec.isolating||n>0&&l?null:K.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),p=d&&nn(d);if(p!=null&&p>=e.depth)return r&&r(t.tr.lift(d,p).scrollIntoView()),!0;if(c&&Vs(a,"start",!0)&&Vs(i,"end")){let v=i,g=[];for(;g.push(v),!v.isTextblock;)v=v.lastChild;let y=a,q=1;for(;!y.isTextblock;y=y.firstChild)q++;if(v.canReplace(v.childCount,v.childCount,y.content)){if(r){let b=I.empty;for(let A=g.length-1;A>=0;A--)b=I.from(g[A].copy(b));let S=t.tr.step(new Re(e.pos-g.length,e.pos+a.nodeSize,e.pos+q,e.pos+a.nodeSize-q,new M(b,g.length,0),0,!0));r(S.scrollIntoView())}return!0}}return!1}o(GX,"deleteBarrier");function JX(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(j.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}o(JX,"selectTextblockSide");var rI=JX(-1),tI=JX(1);function YX(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a),u=s&&Ds(s,t,e);return u?(n&&n(r.tr.wrap(s,u).scrollIntoView()),!0):!1}}o(YX,"wrapIn");function nI(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:u}}=r.selection.ranges[a];r.doc.nodesBetween(s,u,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=r.doc.resolve(c),d=f.index();i=f.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:u},$to:{pos:l}}=r.selection.ranges[s];a.setBlockType(u,l,t,e)}n(a.scrollIntoView())}return!0}}o(nI,"setBlockType");function iI(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}o(iI,"chainCommands");var zx=iI(Tp,Hx,Vx),$X=iI(Tp,Kx,Gx),ri={Enter:iI(Yx,Zx,eI,iZe),"Mod-Enter":Qx,Backspace:zx,"Mod-Backspace":zx,"Shift-Backspace":zx,Delete:$X,"Mod-Delete":$X,"Mod-a":aZe},oZe={"Ctrl-h":ri.Backspace,"Alt-Backspace":ri["Mod-Backspace"],"Ctrl-d":ri.Delete,"Ctrl-Alt-Backspace":ri["Mod-Delete"],"Alt-Delete":ri["Mod-Delete"],"Alt-d":ri["Mod-Delete"],"Ctrl-a":rI,"Ctrl-e":tI};for(let t in ri)oZe[t]=ri[t];var BNr=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1;function XX(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a);if(!s)return!1;let u=n?r.tr:null;return uZe(u,s,t,e)?(n&&n(u.scrollIntoView()),!0):!1}}o(XX,"wrapInList");function uZe(t,e,r,n=null){let i=!1,a=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);a=new Vi(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Vi(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=Ds(a,r,n,e);return u?(t&&lZe(t,e,u,i,r),!0):!1}o(uZe,"wrapRangeInList");function lZe(t,e,r,n,i){let a=I.empty;for(let f=r.length-1;f>=0;f--)a=I.from(r[f].type.create(r[f].attrs,a));t.step(new Re(e.start-(n?2:0),e.end,e.start,e.end,new M(a,0,0),r.length,!0));let s=0;for(let f=0;f<r.length;f++)r[f].type==i&&(s=f+1);let u=r.length-s,l=e.start+r.length-(n?2:0),c=e.parent;for(let f=e.startIndex,d=e.endIndex,p=!0;f<d;f++,p=!1)!p&&zr(t.doc,l,u)&&(t.split(l,u),l+=2*u),l+=c.child(f).nodeSize;return t}o(lZe,"doWrapInList");function QX(t){return function(e,r){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return a?r?n.node(a.depth-1).type==t?cZe(e,r,t,a):fZe(e,r,a):!0:!1}}o(QX,"liftListItem");function cZe(t,e,r,n){let i=t.tr,a=n.end,s=n.$to.end(n.depth);a<s&&(i.step(new Re(a-1,s,a,s,new M(I.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Vi(i.doc.resolve(n.$from.pos),i.doc.resolve(s),n.depth));let u=nn(n);if(u==null)return!1;i.lift(n,u);let l=i.mapping.map(a,-1)-1;return ot(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}o(cZe,"liftToOuterList");function fZe(t,e,r){let n=t.tr,i=r.parent;for(let v=r.end,g=r.endIndex-1,y=r.startIndex;g>y;g--)v-=i.child(g).nodeSize,n.delete(v-1,v+1);let a=n.doc.resolve(r.start),s=a.nodeAfter;if(n.mapping.map(r.end)!=r.start+a.nodeAfter.nodeSize)return!1;let u=r.startIndex==0,l=r.endIndex==i.childCount,c=a.node(-1),f=a.index(-1);if(!c.canReplace(f+(u?0:1),f+1,s.content.append(l?I.empty:I.from(i))))return!1;let d=a.pos,p=d+s.nodeSize;return n.step(new Re(d-(u?1:0),p+(l?1:0),d+1,p-1,new M((u?I.empty:I.from(i.copy(I.empty))).append(l?I.empty:I.from(i.copy(I.empty))),u?0:1,l?0:1),u?0:1)),e(n.scrollIntoView()),!0}o(fZe,"liftOutOfList");function ZX(t){return function(e,r){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!a)return!1;let s=a.startIndex;if(s==0)return!1;let u=a.parent,l=u.child(s-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==u.type,f=I.from(c?t.create():null),d=new M(I.from(t.create(null,I.from(u.type.create(null,f)))),c?3:1,0),p=a.start,v=a.end;r(e.tr.step(new Re(p-(c?3:1),v,p,v,d,1,!0)).scrollIntoView())}return!0}}o(ZX,"sinkListItem");function kp(t){let{state:e,transaction:r}=t,{selection:n}=r,{doc:i}=r,{storedMarks:a}=r;return ve(T({},e),{apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,a=r.storedMarks,r}})}o(kp,"createChainableState");var SI=class SI{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:a}=n,s=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([u,l])=>[u,o((...f)=>{let d=l(...f)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(a),d},"method")]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){let{rawCommands:n,editor:i,state:a}=this,{view:s}=i,u=[],l=!!e,c=e||a.tr,f=o(()=>(!l&&r&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),u.every(p=>p===!0)),"run"),d=ve(T({},Object.fromEntries(Object.entries(n).map(([p,v])=>[p,o((...y)=>{let q=this.buildProps(c,r),b=v(...y)(q);return u.push(b),d},"chainedCommand")]))),{run:f});return d}createCan(e){let{rawCommands:r,state:n}=this,i=!1,a=e||n.tr,s=this.buildProps(a,i),u=Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...f)=>c(...f)(ve(T({},s),{dispatch:void 0}))]));return ve(T({},u),{chain:o(()=>this.createChain(a,i),"chain")})}buildProps(e,r=!0){let{rawCommands:n,editor:i,state:a}=this,{view:s}=i,u={tr:e,editor:i,view:s,state:kp({state:a,transaction:e}),dispatch:r?()=>{}:void 0,chain:o(()=>this.createChain(e,r),"chain"),can:o(()=>this.createCan(e),"can"),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...f)=>c(...f)(u)]))}};return u}};o(SI,"CommandManager");var Ws=SI,EI=class EI{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){let n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){let n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}once(e,r){let n=o((...i)=>{this.off(e,n),r.apply(this,i)},"onceFn");return this.on(e,n)}removeAllListeners(){this.callbacks={}}};o(EI,"EventEmitter");var uI=EI;function P(t,e,r){return t.config[e]===void 0&&t.parent?P(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind(ve(T({},r),{parent:t.parent?P(t.parent,e,r):null})):t.config[e]}o(P,"getExtensionField");function Pp(t){let e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}o(Pp,"splitExtensions");function oQ(t){let e=[],{nodeExtensions:r,markExtensions:n}=Pp(t),i=[...r,...n],a={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{let u={name:s.name,options:s.options,storage:s.storage,extensions:i},l=P(s,"addGlobalAttributes",u);if(!l)return;l().forEach(f=>{f.types.forEach(d=>{Object.entries(f.attributes).forEach(([p,v])=>{e.push({type:d,name:p,attribute:T(T({},a),v)})})})})}),i.forEach(s=>{let u={name:s.name,options:s.options,storage:s.storage},l=P(s,"addAttributes",u);if(!l)return;let c=l();Object.entries(c).forEach(([f,d])=>{let p=T(T({},a),d);typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:s.name,name:f,attribute:p})})}),e}o(oQ,"getAttributesFromExtensions");function Fe(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error("There is no node type named '".concat(t,"'. Maybe you forgot to add the extension?"));return e.nodes[t]}return t}o(Fe,"getNodeType");function ee(...t){return t.filter(e=>!!e).reduce((e,r)=>{let n=T({},e);return Object.entries(r).forEach(([i,a])=>{if(!n[i]){n[i]=a;return}if(i==="class"){let u=a?String(a).split(" "):[],l=n[i]?n[i].split(" "):[],c=u.filter(f=>!l.includes(f));n[i]=[...l,...c].join(" ")}else if(i==="style"){let u=a?a.split(";").map(f=>f.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{let[d,p]=f.split(":").map(v=>v.trim());c.set(d,p)}),u.forEach(f=>{let[d,p]=f.split(":").map(v=>v.trim());c.set(d,p)}),n[i]=Array.from(c.entries()).map(([f,d])=>"".concat(f,": ").concat(d)).join("; ")}else n[i]=a}),n},{})}o(ee,"mergeAttributes");function lI(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>ee(r,n),{})}o(lI,"getRenderedAttributes");function uQ(t){return typeof t=="function"}o(uQ,"isFunction");function Z(t,e=void 0,...r){return uQ(t)?e?t.bind(e)(...r):t(...r):t}o(Z,"callOrReturn");function dZe(t={}){return Object.keys(t).length===0&&t.constructor===Object}o(dZe,"isEmptyObject");function hZe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}o(hZe,"fromString");function eQ(t,e){return"style"in t?t:ve(T({},t),{getAttrs:o(r=>{let n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;let i=e.reduce((a,s)=>{let u=s.attribute.parseHTML?s.attribute.parseHTML(r):hZe(r.getAttribute(s.name));return u==null?a:ve(T({},a),{[s.name]:u})},{});return T(T({},n),i)},"getAttrs")})}o(eQ,"injectExtensionAttributesToParseRule");function rQ(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&dZe(r)?!1:r!=null))}o(rQ,"cleanUpSchemaItem");function pZe(t,e){var r;let n=oQ(t),{nodeExtensions:i,markExtensions:a}=Pp(t),s=(r=i.find(c=>P(c,"topNode")))===null||r===void 0?void 0:r.name,u=Object.fromEntries(i.map(c=>{let f=n.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((b,S)=>{let A=P(S,"extendNodeSchema",d);return T(T({},b),A?A(c):{})},{}),v=rQ(ve(T({},p),{content:Z(P(c,"content",d)),marks:Z(P(c,"marks",d)),group:Z(P(c,"group",d)),inline:Z(P(c,"inline",d)),atom:Z(P(c,"atom",d)),selectable:Z(P(c,"selectable",d)),draggable:Z(P(c,"draggable",d)),code:Z(P(c,"code",d)),whitespace:Z(P(c,"whitespace",d)),linebreakReplacement:Z(P(c,"linebreakReplacement",d)),defining:Z(P(c,"defining",d)),isolating:Z(P(c,"isolating",d)),attrs:Object.fromEntries(f.map(b=>{var S;return[b.name,{default:(S=b==null?void 0:b.attribute)===null||S===void 0?void 0:S.default}]}))})),g=Z(P(c,"parseHTML",d));g&&(v.parseDOM=g.map(b=>eQ(b,f)));let y=P(c,"renderHTML",d);y&&(v.toDOM=b=>y({node:b,HTMLAttributes:lI(b,f)}));let q=P(c,"renderText",d);return q&&(v.toText=q),[c.name,v]})),l=Object.fromEntries(a.map(c=>{let f=n.filter(q=>q.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((q,b)=>{let S=P(b,"extendMarkSchema",d);return T(T({},q),S?S(c):{})},{}),v=rQ(ve(T({},p),{inclusive:Z(P(c,"inclusive",d)),excludes:Z(P(c,"excludes",d)),group:Z(P(c,"group",d)),spanning:Z(P(c,"spanning",d)),code:Z(P(c,"code",d)),attrs:Object.fromEntries(f.map(q=>{var b;return[q.name,{default:(b=q==null?void 0:q.attribute)===null||b===void 0?void 0:b.default}]}))})),g=Z(P(c,"parseHTML",d));g&&(v.parseDOM=g.map(q=>eQ(q,f)));let y=P(c,"renderHTML",d);return y&&(v.toDOM=q=>y({mark:q,HTMLAttributes:lI(q,f)})),[c.name,v]}));return new pl({topNode:s,nodes:u,marks:l})}o(pZe,"getSchemaByResolvedExtensions");function aI(t,e){return e.nodes[t]||e.marks[t]||null}o(aI,"getSchemaTypeByName");function tQ(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}o(tQ,"isExtensionRulesEnabled");function vI(t,e){let r=en.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}o(vI,"getHTMLFromFragment");var vZe=o((t,e=500)=>{let r="",n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,a,s,u)=>{var l,c;let f=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:a,parent:s,index:u}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,n-a))}),r},"getTextContentFromNodes");function gI(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(gI,"isRegExp");var OI=class OI{constructor(e){this.find=e.find,this.handler=e.handler}};o(OI,"InputRule");var Ks=OI,gZe=o((t,e)=>{if(gI(e))return e.exec(t);let r=e(t);if(!r)return null;let n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n},"inputRuleMatcherHandler");function xp(t){var e;let{editor:r,from:n,to:i,text:a,rules:s,plugin:u}=t,{view:l}=r;if(l.composing)return!1;let c=l.state.doc.resolve(n);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1,d=vZe(c)+a;return s.forEach(p=>{if(f)return;let v=gZe(d,p.find);if(!v)return;let g=l.state.tr,y=kp({state:l.state,transaction:g}),q={from:n-(v[0].length-a.length),to:i},{commands:b,chain:S,can:A}=new Ws({editor:r,state:y});p.handler({state:y,range:q,match:v,commands:b,chain:S,can:A})===null||!g.steps.length||(g.setMeta(u,{transform:g,from:n,to:i,text:a}),l.dispatch(g),f=!0)}),f}o(xp,"run$1");function mZe(t){let{editor:e,rules:r}=t,n=new ae({state:{init(){return null},apply(i,a,s){let u=i.getMeta(n);if(u)return u;let l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=vI(I.from(f),s.schema);let{from:d}=l,p=d+f.length;xp({editor:e,from:d,to:p,text:f,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,s,u){return xp({editor:e,from:a,to:s,text:u,rules:r,plugin:n})},handleDOMEvents:{compositionend:o(i=>(setTimeout(()=>{let{$cursor:a}=i.state.selection;a&&xp({editor:e,from:a.pos,to:a.pos,text:"",rules:r,plugin:n})}),!1),"compositionend")},handleKeyDown(i,a){if(a.key!=="Enter")return!1;let{$cursor:s}=i.state.selection;return s?xp({editor:e,from:s.pos,to:s.pos,text:"\n",rules:r,plugin:n}):!1}},isInputRules:!0});return n}o(mZe,"inputRulesPlugin");function yZe(t){return Object.prototype.toString.call(t).slice(8,-1)}o(yZe,"getType");function Ip(t){return yZe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}o(Ip,"isPlainObject");function Np(t,e){let r=T({},t);return Ip(t)&&Ip(e)&&Object.keys(e).forEach(n=>{Ip(e[n])&&Ip(t[n])?r[n]=Np(t[n],e[n]):r[n]=e[n]}),r}o(Np,"mergeDeep");var $l=class $l{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=T(T({},this.config),e),this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn('[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "'.concat(this.name,'".')),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Z(P(this,"addOptions",{name:this.name}))),this.storage=Z(P(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new $l(e)}configure(e={}){let r=this.extend(ve(T({},this.config),{addOptions:o(()=>Np(this.options,e),"addOptions")}));return r.name=this.name,r.parent=this.parent,r}extend(e={}){let r=new $l(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn('[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "'.concat(r.name,'".')),r.options=Z(P(r,"addOptions",{name:r.name})),r.storage=Z(P(r,"addStorage",{name:r.name,options:r.options})),r}static handleExit({editor:e,mark:r}){let{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){let s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;let l=s.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}};o($l,"Mark");var Je=$l;function qZe(t){return typeof t=="number"}o(qZe,"isNumber");var TI=class TI{constructor(e){this.find=e.find,this.handler=e.handler}};o(TI,"PasteRule");var cI=TI,bZe=o((t,e,r)=>{if(gI(e))return[...t.matchAll(e)];let n=e(t,r);return n?n.map(i=>{let a=[i.text];return a.index=i.index,a.input=t,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]},"pasteRuleMatcherHandler");function SZe(t){let{editor:e,state:r,from:n,to:i,rule:a,pasteEvent:s,dropEvent:u}=t,{commands:l,chain:c,can:f}=new Ws({editor:e,state:r}),d=[];return r.doc.nodesBetween(n,i,(v,g)=>{if(!v.isTextblock||v.type.spec.code)return;let y=Math.max(n,g),q=Math.min(i,g+v.content.size),b=v.textBetween(y-g,q-g,void 0,"\uFFFC");bZe(b,a.find,s).forEach(A=>{if(A.index===void 0)return;let k=y+A.index+1,N=k+A[0].length,L={from:r.tr.mapping.map(k),to:r.tr.mapping.map(N)},re=a.handler({state:r,range:L,match:A,commands:l,chain:c,can:f,pasteEvent:s,dropEvent:u});d.push(re)})}),d.every(v=>v!==null)}o(SZe,"run");var Ap=null,EZe=o(t=>{var e;let r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)===null||e===void 0||e.setData("text/html",t),r},"createClipboardPasteEvent");function OZe(t){let{editor:e,rules:r}=t,n=null,i=!1,a=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch(f){u=null}let l=o(({state:f,from:d,to:p,rule:v,pasteEvt:g})=>{let y=f.tr,q=kp({state:f,transaction:y});if(!(!SZe({editor:e,state:q,from:Math.max(d-1,0),to:p.b-1,rule:v,pasteEvent:g,dropEvent:u})||!y.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch(S){u=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}},"processEvent");return r.map(f=>new ae({view(d){let p=o(g=>{var y;n=!((y=d.dom.parentElement)===null||y===void 0)&&y.contains(g.target)?d.dom.parentElement:null,n&&(Ap=e)},"handleDragstart"),v=o(()=>{Ap&&(Ap=null)},"handleDragend");return window.addEventListener("dragstart",p),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:o((d,p)=>{if(a=n===d.dom.parentElement,u=p,!a){let v=Ap;v&&setTimeout(()=>{let g=v.state.selection;g&&v.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},"drop"),paste:o((d,p)=>{var v;let g=(v=p.clipboardData)===null||v===void 0?void 0:v.getData("text/html");return s=p,i=!!(g!=null&&g.includes("data-pm-slice")),!1},"paste")}},appendTransaction:o((d,p,v)=>{let g=d[0],y=g.getMeta("uiEvent")==="paste"&&!i,q=g.getMeta("uiEvent")==="drop"&&!a,b=g.getMeta("applyPasteRules"),S=!!b;if(!y&&!q&&!S)return;if(S){let{text:N}=b;typeof N=="string"?N=N:N=vI(I.from(N),v.schema);let{from:L}=b,re=L+N.length,ue=EZe(N);return l({rule:f,state:v,from:L,to:{b:re},pasteEvt:ue})}let A=p.doc.content.findDiffStart(v.doc.content),k=p.doc.content.findDiffEnd(v.doc.content);if(!(!qZe(A)||!k||A===k.b))return l({rule:f,state:v,from:A,to:k,pasteEvt:s})},"appendTransaction")}))}o(OZe,"pasteRulesPlugin");function TZe(t){let e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}o(TZe,"findDuplicates");var fa=class fa{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=fa.resolve(e),this.schema=pZe(this.extensions,r),this.setupExtensions()}static resolve(e){let r=fa.sort(fa.flatten(e)),n=TZe(r.map(i=>i.name));return n.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(n.map(i=>"'".concat(i,"'")).join(", "),"]. This can lead to issues.")),r}static flatten(e){return e.map(r=>{let n={name:r.name,options:r.options,storage:r.storage},i=P(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(e){return e.sort((n,i)=>{let a=P(n,"priority")||100,s=P(i,"priority")||100;return a>s?-1:a<s?1:0})}get commands(){return this.extensions.reduce((e,r)=>{let n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:aI(r.name,this.schema)},i=P(r,"addCommands",n);return i?T(T({},e),i()):e},{})}get plugins(){let{editor:e}=this,r=fa.sort([...this.extensions].reverse()),n=[],i=[],a=r.map(s=>{let u={name:s.name,options:s.options,storage:s.storage,editor:e,type:aI(s.name,this.schema)},l=[],c=P(s,"addKeyboardShortcuts",u),f={};if(s.type==="mark"&&P(s,"exitable",u)&&(f.ArrowRight=()=>Je.handleExit({editor:e,mark:s})),c){let y=Object.fromEntries(Object.entries(c()).map(([q,b])=>[q,()=>b({editor:e})]));f=T(T({},f),y)}let d=FX(f);l.push(d);let p=P(s,"addInputRules",u);tQ(s,e.options.enableInputRules)&&p&&n.push(...p());let v=P(s,"addPasteRules",u);tQ(s,e.options.enablePasteRules)&&v&&i.push(...v());let g=P(s,"addProseMirrorPlugins",u);if(g){let y=g();l.push(...y)}return l}).flat();return[mZe({editor:e,rules:n}),...OZe({editor:e,rules:i}),...a]}get attributes(){return oQ(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:r}=Pp(this.extensions);return Object.fromEntries(r.filter(n=>!!P(n,"addNodeView")).map(n=>{let i=this.attributes.filter(l=>l.type===n.name),a={name:n.name,options:n.options,storage:n.storage,editor:e,type:Fe(n.name,this.schema)},s=P(n,"addNodeView",a);if(!s)return[];let u=o((l,c,f,d,p)=>{let v=lI(l,i);return s()({node:l,view:c,getPos:f,decorations:d,innerDecorations:p,editor:e,extension:n,HTMLAttributes:v})},"nodeview");return[n.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var r;this.editor.extensionStorage[e.name]=e.storage;let n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:aI(e.name,this.schema)};e.type==="mark"&&(!((r=Z(P(e,"keepOnSplit",n)))!==null&&r!==void 0)||r)&&this.splittableMarks.push(e.name);let i=P(e,"onBeforeCreate",n),a=P(e,"onCreate",n),s=P(e,"onUpdate",n),u=P(e,"onSelectionUpdate",n),l=P(e,"onTransaction",n),c=P(e,"onFocus",n),f=P(e,"onBlur",n),d=P(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),a&&this.editor.on("create",a),s&&this.editor.on("update",s),u&&this.editor.on("selectionUpdate",u),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),f&&this.editor.on("blur",f),d&&this.editor.on("destroy",d)})}};o(fa,"ExtensionManager");var fI=fa,Bl=class Bl{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=T(T({},this.config),e),this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn('[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "'.concat(this.name,'".')),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Z(P(this,"addOptions",{name:this.name}))),this.storage=Z(P(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bl(e)}configure(e={}){let r=this.extend(ve(T({},this.config),{addOptions:o(()=>Np(this.options,e),"addOptions")}));return r.name=this.name,r.parent=this.parent,r}extend(e={}){let r=new Bl(T(T({},this.config),e));return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn('[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "'.concat(r.name,'".')),r.options=Z(P(r,"addOptions",{name:r.name})),r.storage=Z(P(r,"addStorage",{name:r.name,options:r.options})),r}};o(Bl,"Extension");var Oe=Bl;function lQ(t,e,r){let{from:n,to:i}=e,{blockSeparator:a="\n\n",textSerializers:s={}}=r||{},u="";return t.nodesBetween(n,i,(l,c,f,d)=>{var p;l.isBlock&&c>n&&(u+=a);let v=s==null?void 0:s[l.type.name];if(v)return f&&(u+=v({node:l,pos:c,parent:f,index:d,range:e})),!1;l.isText&&(u+=(p=l==null?void 0:l.text)===null||p===void 0?void 0:p.slice(Math.max(n,c)-c,i-c))}),u}o(lQ,"getTextBetween");function cQ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}o(cQ,"getTextSerializersFromSchema");var xZe=Oe.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ae({key:new de("clipboardTextSerializer"),props:{clipboardTextSerializer:o(()=>{let{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:a}=i,s=Math.min(...a.map(f=>f.$from.pos)),u=Math.max(...a.map(f=>f.$to.pos)),l=cQ(r);return lQ(n,{from:s,to:u},ve(T({},this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{}),{textSerializers:l}))},"clipboardTextSerializer")}})]}}),IZe=o(()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0),"blur"),AZe=o((t=!1)=>({commands:e})=>e.setContent("",t),"clearContent"),wZe=o(()=>({state:t,tr:e,dispatch:r})=>{let{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:a,$to:s})=>{t.doc.nodesBetween(a.pos,s.pos,(u,l)=>{if(u.type.isText)return;let{doc:c,mapping:f}=e,d=c.resolve(f.map(l)),p=c.resolve(f.map(l+u.nodeSize)),v=d.blockRange(p);if(!v)return;let g=nn(v);if(u.type.isTextblock){let{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(v.start,y)}(g||g===0)&&e.lift(v,g)})}),!0},"clearNodes"),RZe=o(t=>e=>t(e),"command"),CZe=o(()=>({state:t,dispatch:e})=>Zx(t,e),"createParagraphNear"),MZe=o((t,e)=>({editor:r,tr:n})=>{let{state:i}=r,a=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);let s=n.mapping.map(e);return n.insert(s,a.content),n.setSelection(new j(n.doc.resolve(s-1))),!0},"cut"),kZe=o(()=>({tr:t,dispatch:e})=>{let{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;let i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===n.type){if(e){let u=i.before(a),l=i.after(a);t.delete(u,l).scrollIntoView()}return!0}return!1},"deleteCurrentNode"),PZe=o(t=>({tr:e,state:r,dispatch:n})=>{let i=Fe(t,r.schema),a=e.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===i){if(n){let l=a.before(s),c=a.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},"deleteNode"),NZe=o(t=>({tr:e,dispatch:r})=>{let{from:n,to:i}=t;return r&&e.delete(n,i),!0},"deleteRange"),DZe=o(()=>({state:t,dispatch:e})=>Tp(t,e),"deleteSelection"),LZe=o(()=>({commands:t})=>t.keyboardShortcut("Enter"),"enter"),FZe=o(()=>({state:t,dispatch:e})=>Qx(t,e),"exitCode");function Cp(t,e,r={strict:!0}){let n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:gI(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}o(Cp,"objectIncludes");function fQ(t,e,r={}){return t.find(n=>n.type===e&&Cp(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}o(fQ,"findMarkInSet");function nQ(t,e,r={}){return!!fQ(t,e,r)}o(nQ,"isMarkInSet");function mI(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(r=r||((n=i.node.marks[0])===null||n===void 0?void 0:n.attrs),!fQ([...i.node.marks],e,r)))return;let s=i.index,u=t.start()+i.offset,l=s+1,c=u+i.node.nodeSize;for(;s>0&&nQ([...t.parent.child(s-1).marks],e,r);)s-=1,u-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&nQ([...t.parent.child(l).marks],e,r);)c+=t.parent.child(l).nodeSize,l+=1;return{from:u,to:c}}o(mI,"getMarkRange");function ni(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error("There is no mark type named '".concat(t,"'. Maybe you forgot to add the extension?"));return e.marks[t]}return t}o(ni,"getMarkType");var $Ze=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{let a=ni(t,n.schema),{doc:s,selection:u}=r,{$from:l,from:c,to:f}=u;if(i){let d=mI(l,a,e);if(d&&d.from<=c&&d.to>=f){let p=j.create(s,d.from,d.to);r.setSelection(p)}}return!0},"extendMarkRange"),BZe=o(t=>e=>{let r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1},"first");function dQ(t){return t instanceof j}o(dQ,"isTextSelection");function da(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}o(da,"minMax");function hQ(t,e=null){if(!e)return null;let r=K.atStart(t),n=K.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;let i=r.from,a=n.to;return e==="all"?j.create(t,da(0,i,a),da(t.content.size,i,a)):j.create(t,da(e,i,a),da(e,i,a))}o(hQ,"resolveFocusPosition");function _Ze(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}o(_Ze,"isAndroid");function yI(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}o(yI,"isiOS");var jZe=o((t=null,e={})=>({editor:r,view:n,tr:i,dispatch:a})=>{e=T({scrollIntoView:!0},e);let s=o(()=>{(yI()||_Ze())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})},"delayedFocus");if(n.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!dQ(r.state.selection))return s(),!0;let u=hQ(i.doc,t)||r.state.selection,l=r.state.selection.eq(u);return a&&(l||i.setSelection(u),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},"focus"),UZe=o((t,e)=>r=>t.every((n,i)=>e(n,ve(T({},r),{index:i}))),"forEach"),zZe=o((t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),"insertContent"),pQ=o(t=>{let e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){let n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&pQ(n)}return t},"removeWhitespaces");function wp(t){let e="<body>".concat(t,"</body>"),r=new window.DOMParser().parseFromString(e,"text/html").body;return pQ(r)}o(wp,"elementFromString");function Mp(t,e,r){if(t instanceof Ur||t instanceof I)return t;r=T({slice:!0,parseOptions:{}},r);let n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return I.fromArray(t.map(u=>e.nodeFromJSON(u)));let s=e.nodeFromJSON(t);return r.errorOnInvalidContent&&s.check(),s}catch(a){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),Mp("",e,r)}if(i){if(r.errorOnInvalidContent){let s=!1,u="",l=new pl({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:o(c=>(s=!0,u=typeof c=="string"?c:c.outerHTML,null),"getAttrs")}]}})});if(r.slice?Zt.fromSchema(l).parseSlice(wp(t),r.parseOptions):Zt.fromSchema(l).parse(wp(t),r.parseOptions),r.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error("Invalid element found: ".concat(u))})}let a=Zt.fromSchema(e);return r.slice?a.parseSlice(wp(t),r.parseOptions).content:a.parse(wp(t),r.parseOptions)}return Mp("",e,r)}o(Mp,"createNodeFromContent");function HZe(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof er||i instanceof Re))return;let a=t.mapping.maps[n],s=0;a.forEach((u,l,c,f)=>{s===0&&(s=f)}),t.setSelection(K.near(t.doc.resolve(s),r))}o(HZe,"selectionToInsertionEnd");var VZe=o(t=>!("type"in t),"isFragment"),WZe=o((t,e,r)=>({tr:n,dispatch:i,editor:a})=>{var s;if(i){r=T({parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},r);let u;try{u=Mp(e,a.schema,{parseOptions:T({preserveWhitespace:"full"},r.parseOptions),errorOnInvalidContent:(s=r.errorOnInvalidContent)!==null&&s!==void 0?s:a.options.enableContentCheck})}catch(g){return a.emit("contentError",{editor:a,error:g,disableCollaboration:o(()=>{a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)},"disableCollaboration")}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,d=!0;if((VZe(u)?u:[u]).forEach(g=>{g.check(),f=f?g.isText&&g.marks.length===0:!1,d=d?g.isBlock:!1}),l===c&&d){let{parent:g}=n.doc.resolve(l);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(l-=1,c+=1)}let v;if(f){if(Array.isArray(e))v=e.map(g=>g.text||"").join("");else if(e instanceof I){let g="";e.forEach(y=>{y.text&&(g+=y.text)}),v=g}else typeof e=="object"&&e&&e.text?v=e.text:v=e;n.insertText(v,l,c)}else v=u,n.replaceWith(l,c,v);r.updateSelection&&HZe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:l,text:v}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:l,text:v})}return!0},"insertContentAt"),KZe=o(()=>({state:t,dispatch:e})=>HX(t,e),"joinUp"),GZe=o(()=>({state:t,dispatch:e})=>VX(t,e),"joinDown"),JZe=o(()=>({state:t,dispatch:e})=>Hx(t,e),"joinBackward"),YZe=o(()=>({state:t,dispatch:e})=>Kx(t,e),"joinForward"),XZe=o(()=>({state:t,dispatch:e,tr:r})=>{try{let n=Ls(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch(n){return!1}},"joinItemBackward"),QZe=o(()=>({state:t,dispatch:e,tr:r})=>{try{let n=Ls(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch(n){return!1}},"joinItemForward"),ZZe=o(()=>({state:t,dispatch:e})=>_X(t,e),"joinTextblockBackward"),eer=o(()=>({state:t,dispatch:e})=>jX(t,e),"joinTextblockForward");function vQ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}o(vQ,"isMacOS");function rer(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r==="Space"&&(r=" ");let n,i,a,s;for(let u=0;u<e.length-1;u+=1){let l=e[u];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))yI()||vQ()?s=!0:i=!0;else throw new Error("Unrecognized modifier name: ".concat(l))}return n&&(r="Alt-".concat(r)),i&&(r="Ctrl-".concat(r)),s&&(r="Meta-".concat(r)),a&&(r="Shift-".concat(r)),r}o(rer,"normalizeKeyName");var ter=o(t=>({editor:e,view:r,tr:n,dispatch:i})=>{let a=rer(t).split(/-(?!$)/),s=a.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),u=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,u))});return l==null||l.steps.forEach(c=>{let f=c.map(n.mapping);f&&i&&n.maybeStep(f)}),!0},"keyboardShortcut");function jl(t,e,r={}){let{from:n,to:i,empty:a}=t.selection,s=e?Fe(e,t.schema):null,u=[];t.doc.nodesBetween(n,i,(d,p)=>{if(d.isText)return;let v=Math.max(n,p),g=Math.min(i,p+d.nodeSize);u.push({node:d,from:v,to:g})});let l=i-n,c=u.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Cp(d.node.attrs,r,{strict:!1}));return a?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}o(jl,"isNodeActive");var ner=o((t,e={})=>({state:r,dispatch:n})=>{let i=Fe(t,r.schema);return jl(r,i,e)?WX(r,n):!1},"lift"),ier=o(()=>({state:t,dispatch:e})=>eI(t,e),"liftEmptyBlock"),aer=o(t=>({state:e,dispatch:r})=>{let n=Fe(t,e.schema);return QX(n)(e,r)},"liftListItem"),ser=o(()=>({state:t,dispatch:e})=>Yx(t,e),"newlineInCode");function Dp(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}o(Dp,"getSchemaTypeNameByName");function iQ(t,e){let r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}o(iQ,"deleteProps");var oer=o((t,e)=>({tr:r,state:n,dispatch:i})=>{let a=null,s=null,u=Dp(typeof t=="string"?t:t.name,n.schema);return u?(u==="node"&&(a=Fe(t,n.schema)),u==="mark"&&(s=ni(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,f)=>{a&&a===c.type&&r.setNodeMarkup(f,void 0,iQ(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&r.addMark(f,f+c.nodeSize,s.create(iQ(d.attrs,e)))})})}),!0):!1},"resetAttributes"),uer=o(()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),"scrollIntoView"),ler=o(()=>({tr:t,dispatch:e})=>{if(e){let r=new ur(t.doc);t.setSelection(r)}return!0},"selectAll"),cer=o(()=>({state:t,dispatch:e})=>Vx(t,e),"selectNodeBackward"),fer=o(()=>({state:t,dispatch:e})=>Gx(t,e),"selectNodeForward"),der=o(()=>({state:t,dispatch:e})=>KX(t,e),"selectParentNode"),her=o(()=>({state:t,dispatch:e})=>tI(t,e),"selectTextblockEnd"),per=o(()=>({state:t,dispatch:e})=>rI(t,e),"selectTextblockStart");function dI(t,e,r={},n={}){return Mp(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}o(dI,"createDocument");var ver=o((t,e=!1,r={},n={})=>({editor:i,tr:a,dispatch:s,commands:u})=>{var l,c;let{doc:f}=a;if(r.preserveWhitespace!=="full"){let d=dI(t,i.schema,r,{errorOnInvalidContent:(l=n.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&a.replaceWith(0,f.content.size,d).setMeta("preventUpdate",!e),!0}return s&&a.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:f.content.size},t,{parseOptions:r,errorOnInvalidContent:(c=n.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})},"setContent");function gQ(t,e){let r=ni(e,t.schema),{from:n,to:i,empty:a}=t.selection,s=[];a?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{s.push(...l.marks)});let u=s.find(l=>l.type.name===r.name);return u?T({},u.attrs):{}}o(gQ,"getMarkAttributes");function mQ(t,e){let r=new Ns(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}o(mQ,"combineTransactionSteps");function ger(t){for(let e=0;e<t.edgeCount;e+=1){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}o(ger,"defaultBlockAt");function yQ(t,e,r){let n=[];return t.nodesBetween(e.from,e.to,(i,a)=>{r(i)&&n.push({node:i,pos:a})}),n}o(yQ,"findChildrenInRange");function Er(t,e){for(let r=t.depth;r>0;r-=1){let n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}o(Er,"findParentNodeClosestToPos");function qI(t){return e=>Er(e.$from,t)}o(qI,"findParentNode");function mer(t,e){let r={from:0,to:t.content.size};return lQ(t,r,e)}o(mer,"getText");function yer(t,e){let r=Fe(e,t.schema),{from:n,to:i}=t.selection,a=[];t.doc.nodesBetween(n,i,u=>{a.push(u)});let s=a.reverse().find(u=>u.type.name===r.name);return s?T({},s.attrs):{}}o(yer,"getNodeAttributes");function zl(t,e){let r=Dp(typeof e=="string"?e:e.name,t.schema);return r==="node"?yer(t,e):r==="mark"?gQ(t,e):{}}o(zl,"getAttributes");function qer(t,e=JSON.stringify){let r={};return t.filter(n=>{let i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}o(qer,"removeDuplicates");function ber(t){let e=qer(t);return e.length===1?e:e.filter((r,n)=>!e.filter((a,s)=>s!==n).some(a=>r.oldRange.from>=a.oldRange.from&&r.oldRange.to<=a.oldRange.to&&r.newRange.from>=a.newRange.from&&r.newRange.to<=a.newRange.to))}o(ber,"simplifyChangedRanges");function qQ(t){let{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,a)=>{let s=[];if(i.ranges.length)i.forEach((u,l)=>{s.push({from:u,to:l})});else{let{from:u,to:l}=r[a];if(u===void 0||l===void 0)return;s.push({from:u,to:l})}s.forEach(({from:u,to:l})=>{let c=e.slice(a).map(u,-1),f=e.slice(a).map(l),d=e.invert().map(c,-1),p=e.invert().map(f);n.push({oldRange:{from:d,to:p},newRange:{from:c,to:f}})})}),ber(n)}o(qQ,"getChangedRanges");function Lp(t,e,r){let n=[];return t===e?r.resolve(t).marks().forEach(i=>{let a=r.resolve(t),s=mI(a,i.type);s&&n.push(T({mark:i},s))}):r.nodesBetween(t,e,(i,a)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(s=>({from:a,to:a+i.nodeSize,mark:s})))}),n}o(Lp,"getMarksBetween");function Rp(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{let i=t.find(a=>a.type===e&&a.name===n);return i?i.attribute.keepOnSplit:!1}))}o(Rp,"getSplittedAttributes");function hI(t,e,r={}){let{empty:n,ranges:i}=t.selection,a=e?ni(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>a?a.name===d.type.name:!0).find(d=>Cp(d.attrs,r,{strict:!1}));let s=0,u=[];if(i.forEach(({$from:d,$to:p})=>{let v=d.pos,g=p.pos;t.doc.nodesBetween(v,g,(y,q)=>{if(!y.isText&&!y.marks.length)return;let b=Math.max(v,q),S=Math.min(g,q+y.nodeSize),A=S-b;s+=A,u.push(...y.marks.map(k=>({mark:k,from:b,to:S})))})}),s===0)return!1;let l=u.filter(d=>a?a.name===d.mark.type.name:!0).filter(d=>Cp(d.mark.attrs,r,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=u.filter(d=>a?d.mark.type!==a&&d.mark.type.excludes(a):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=s}o(hI,"isMarkActive");function Ser(t,e,r={}){if(!e)return jl(t,null,r)||hI(t,null,r);let n=Dp(e,t.schema);return n==="node"?jl(t,e,r):n==="mark"?hI(t,e,r):!1}o(Ser,"isActive");function aQ(t,e){let{nodeExtensions:r}=Pp(e),n=r.find(s=>s.name===t);if(!n)return!1;let i={name:n.name,options:n.options,storage:n.storage},a=Z(P(n,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}o(aQ,"isList");function bI(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!==null&&n!==void 0?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(a=>{i!==!1&&(bI(a,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}o(bI,"isNodeEmpty");function Eer(t,e,r){var n;let{selection:i}=e,a=null;if(dQ(i)&&(a=i.$cursor),a){let u=(n=t.storedMarks)!==null&&n!==void 0?n:a.marks();return!!r.isInSet(u)||!u.some(l=>l.type.excludes(r))}let{ranges:s}=i;return s.some(({$from:u,$to:l})=>{let c=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(u.pos,l.pos,(f,d,p)=>{if(c)return!1;if(f.isInline){let v=!p||p.type.allowsMarkType(r),g=!!r.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(r));c=v&&g}return!c}),c})}o(Eer,"canSetMark");var Oer=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{let{selection:a}=r,{empty:s,ranges:u}=a,l=ni(t,n.schema);if(i)if(s){let c=gQ(n,l);r.addStoredMark(l.create(T(T({},c),e)))}else u.forEach(c=>{let f=c.$from.pos,d=c.$to.pos;n.doc.nodesBetween(f,d,(p,v)=>{let g=Math.max(v,f),y=Math.min(v+p.nodeSize,d);p.marks.find(b=>b.type===l)?p.marks.forEach(b=>{l===b.type&&r.addMark(g,y,l.create(T(T({},b.attrs),e)))}):r.addMark(g,y,l.create(e))})});return Eer(n,r,l)},"setMark"),Ter=o((t,e)=>({tr:r})=>(r.setMeta(t,e),!0),"setMeta"),xer=o((t,e={})=>({state:r,dispatch:n,chain:i})=>{let a=Fe(t,r.schema),s;return r.selection.$anchor.sameParent(r.selection.$head)&&(s=r.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:u})=>nI(a,T(T({},s),e))(r)?!0:u.clearNodes()).command(({state:u})=>nI(a,T(T({},s),e))(u,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},"setNode"),Ier=o(t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,i=da(t,0,n.content.size),a=z.create(n,i);e.setSelection(a)}return!0},"setNodeSelection"),Aer=o(t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,{from:i,to:a}=typeof t=="number"?{from:t,to:t}:t,s=j.atStart(n).from,u=j.atEnd(n).to,l=da(i,s,u),c=da(a,s,u),f=j.create(n,l,c);e.setSelection(f)}return!0},"setTextSelection"),wer=o(t=>({state:e,dispatch:r})=>{let n=Fe(t,e.schema);return ZX(n)(e,r)},"sinkListItem");function sQ(t,e){let r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){let n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}o(sQ,"ensureMarks");var Rer=o(({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{let{selection:a,doc:s}=e,{$from:u,$to:l}=a,c=i.extensionManager.attributes,f=Rp(c,u.node().type.name,u.node().attrs);if(a instanceof z&&a.node.isBlock)return!u.parentOffset||!zr(s,u.pos)?!1:(n&&(t&&sQ(r,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;let d=l.parentOffset===l.parent.content.size,p=u.depth===0?void 0:ger(u.node(-1).contentMatchAt(u.indexAfter(-1))),v=d&&p?[{type:p,attrs:f}]:void 0,g=zr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!g&&zr(e.doc,e.mapping.map(u.pos),1,p?[{type:p}]:void 0)&&(g=!0,v=p?[{type:p,attrs:f}]:void 0),n){if(g&&(a instanceof j&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),p&&!d&&!u.parentOffset&&u.parent.type!==p)){let y=e.mapping.map(u.before()),q=e.doc.resolve(y);u.node(-1).canReplaceWith(q.index(),q.index()+1,p)&&e.setNodeMarkup(e.mapping.map(u.before()),p)}t&&sQ(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},"splitBlock"),Cer=o((t,e={})=>({tr:r,state:n,dispatch:i,editor:a})=>{var s;let u=Fe(t,n.schema),{$from:l,$to:c}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;let d=l.node(-1);if(d.type!==u)return!1;let p=a.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let b=I.empty,S=l.index(-1)?1:l.index(-2)?2:3;for(let ue=l.depth-S;ue>=l.depth-3;ue-=1)b=I.from(l.node(ue).copy(b));let A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k=T(T({},Rp(p,l.node().type.name,l.node().attrs)),e),N=((s=u.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(k))||void 0;b=b.append(I.from(u.createAndFill(null,N)||void 0));let L=l.before(l.depth-(S-1));r.replace(L,l.after(-A),new M(b,4-S,0));let re=-1;r.doc.nodesBetween(L,r.doc.content.size,(ue,X)=>{if(re>-1)return!1;ue.isTextblock&&ue.content.size===0&&(re=X+1)}),re>-1&&r.setSelection(j.near(r.doc.resolve(re))),r.scrollIntoView()}return!0}let v=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,g=T(T({},Rp(p,d.type.name,d.attrs)),e),y=T(T({},Rp(p,l.node().type.name,l.node().attrs)),e);r.delete(l.pos,c.pos);let q=v?[{type:u,attrs:g},{type:v,attrs:y}]:[{type:u,attrs:g}];if(!zr(r.doc,l.pos,2))return!1;if(i){let{selection:b,storedMarks:S}=n,{splittableMarks:A}=a.extensionManager,k=S||b.$to.parentOffset&&b.$from.marks();if(r.split(l.pos,2,q).scrollIntoView(),!k||!i)return!0;let N=k.filter(L=>A.includes(L.type.name));r.ensureMarks(N)}return!0},"splitListItem"),sI=o((t,e)=>{let r=qI(s=>s.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ot(t.doc,r.pos)&&t.join(r.pos),!0},"joinListBackwards"),oI=o((t,e)=>{let r=qI(s=>s.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&ot(t.doc,n)&&t.join(n),!0},"joinListForwards"),Mer=o((t,e,r,n={})=>({editor:i,tr:a,state:s,dispatch:u,chain:l,commands:c,can:f})=>{let{extensions:d,splittableMarks:p}=i.extensionManager,v=Fe(t,s.schema),g=Fe(e,s.schema),{selection:y,storedMarks:q}=s,{$from:b,$to:S}=y,A=b.blockRange(S),k=q||y.$to.parentOffset&&y.$from.marks();if(!A)return!1;let N=qI(L=>aQ(L.type.name,d))(y);if(A.depth>=1&&N&&A.depth-N.depth<=1){if(N.node.type===v)return c.liftListItem(g);if(aQ(N.node.type.name,d)&&v.validContent(N.node.content)&&u)return l().command(()=>(a.setNodeMarkup(N.pos,v),!0)).command(()=>sI(a,v)).command(()=>oI(a,v)).run()}return!r||!k||!u?l().command(()=>f().wrapInList(v,n)?!0:c.clearNodes()).wrapInList(v,n).command(()=>sI(a,v)).command(()=>oI(a,v)).run():l().command(()=>{let L=f().wrapInList(v,n),re=k.filter(ue=>p.includes(ue.type.name));return a.ensureMarks(re),L?!0:c.clearNodes()}).wrapInList(v,n).command(()=>sI(a,v)).command(()=>oI(a,v)).run()},"toggleList"),ker=o((t,e={},r={})=>({state:n,commands:i})=>{let{extendEmptyMarkRange:a=!1}=r,s=ni(t,n.schema);return hI(n,s,e)?i.unsetMark(s,{extendEmptyMarkRange:a}):i.setMark(s,e)},"toggleMark"),Per=o((t,e,r={})=>({state:n,commands:i})=>{let a=Fe(t,n.schema),s=Fe(e,n.schema),u=jl(n,a,r),l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),u?i.setNode(s,l):i.setNode(a,T(T({},l),r))},"toggleNode"),Ner=o((t,e={})=>({state:r,commands:n})=>{let i=Fe(t,r.schema);return jl(r,i,e)?n.lift(i):n.wrapIn(i,e)},"toggleWrap"),Der=o(()=>({state:t,dispatch:e})=>{let r=t.plugins;for(let n=0;n<r.length;n+=1){let i=r[n],a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){let s=t.tr,u=a.transform;for(let l=u.steps.length-1;l>=0;l-=1)s.step(u.steps[l].invert(u.docs[l]));if(a.text){let l=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,t.schema.text(a.text,l))}else s.delete(a.from,a.to)}return!0}}return!1},"undoInputRule"),Ler=o(()=>({tr:t,dispatch:e})=>{let{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},"unsetAllMarks"),Fer=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{var a;let{extendEmptyMarkRange:s=!1}=e,{selection:u}=r,l=ni(t,n.schema),{$from:c,empty:f,ranges:d}=u;if(!i)return!0;if(f&&s){let{from:p,to:v}=u,g=(a=c.marks().find(q=>q.type===l))===null||a===void 0?void 0:a.attrs,y=mI(c,l,g);y&&(p=y.from,v=y.to),r.removeMark(p,v,l)}else d.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,l)});return r.removeStoredMark(l),!0},"unsetMark"),$er=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{let a=null,s=null,u=Dp(typeof t=="string"?t:t.name,n.schema);return u?(u==="node"&&(a=Fe(t,n.schema)),u==="mark"&&(s=ni(t,n.schema)),i&&r.selection.ranges.forEach(l=>{let c=l.$from.pos,f=l.$to.pos,d,p,v,g;r.selection.empty?n.doc.nodesBetween(c,f,(y,q)=>{a&&a===y.type&&(v=Math.max(q,c),g=Math.min(q+y.nodeSize,f),d=q,p=y)}):n.doc.nodesBetween(c,f,(y,q)=>{q<c&&a&&a===y.type&&(v=Math.max(q,c),g=Math.min(q+y.nodeSize,f),d=q,p=y),q>=c&&q<=f&&(a&&a===y.type&&r.setNodeMarkup(q,void 0,T(T({},y.attrs),e)),s&&y.marks.length&&y.marks.forEach(b=>{if(s===b.type){let S=Math.max(q,c),A=Math.min(q+y.nodeSize,f);r.addMark(S,A,s.create(T(T({},b.attrs),e)))}}))}),p&&(d!==void 0&&r.setNodeMarkup(d,void 0,T(T({},p.attrs),e)),s&&p.marks.length&&p.marks.forEach(y=>{s===y.type&&r.addMark(v,g,s.create(T(T({},y.attrs),e)))}))}),!0):!1},"updateAttributes"),Ber=o((t,e={})=>({state:r,dispatch:n})=>{let i=Fe(t,r.schema);return YX(i,e)(r,n)},"wrapIn"),_er=o((t,e={})=>({state:r,dispatch:n})=>{let i=Fe(t,r.schema);return XX(i,e)(r,n)},"wrapInList"),jer=Object.freeze({__proto__:null,blur:IZe,clearContent:AZe,clearNodes:wZe,command:RZe,createParagraphNear:CZe,cut:MZe,deleteCurrentNode:kZe,deleteNode:PZe,deleteRange:NZe,deleteSelection:DZe,enter:LZe,exitCode:FZe,extendMarkRange:$Ze,first:BZe,focus:jZe,forEach:UZe,insertContent:zZe,insertContentAt:WZe,joinBackward:JZe,joinDown:GZe,joinForward:YZe,joinItemBackward:XZe,joinItemForward:QZe,joinTextblockBackward:ZZe,joinTextblockForward:eer,joinUp:KZe,keyboardShortcut:ter,lift:ner,liftEmptyBlock:ier,liftListItem:aer,newlineInCode:ser,resetAttributes:oer,scrollIntoView:uer,selectAll:ler,selectNodeBackward:cer,selectNodeForward:fer,selectParentNode:der,selectTextblockEnd:her,selectTextblockStart:per,setContent:ver,setMark:Oer,setMeta:Ter,setNode:xer,setNodeSelection:Ier,setTextSelection:Aer,sinkListItem:wer,splitBlock:Rer,splitListItem:Cer,toggleList:Mer,toggleMark:ker,toggleNode:Per,toggleWrap:Ner,undoInputRule:Der,unsetAllMarks:Ler,unsetMark:Fer,updateAttributes:$er,wrapIn:Ber,wrapInList:_er}),Uer=Oe.create({name:"commands",addCommands(){return T({},jer)}}),zer=Oe.create({name:"drop",addProseMirrorPlugins(){return[new ae({key:new de("tiptapDrop"),props:{handleDrop:o((t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})},"handleDrop")}})]}}),Her=Oe.create({name:"editable",addProseMirrorPlugins(){return[new ae({key:new de("editable"),props:{editable:o(()=>this.editor.options.editable,"editable")}})]}}),Ver=Oe.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new ae({key:new de("focusEvents"),props:{handleDOMEvents:{focus:o((e,r)=>{t.isFocused=!0;let n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},"focus"),blur:o((e,r)=>{t.isFocused=!1;let n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},"blur")}}})]}}),Wer=Oe.create({name:"keymap",addKeyboardShortcuts(){let t=o(()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:u})=>{let{selection:l,doc:c}=u,{empty:f,$anchor:d}=l,{pos:p,parent:v}=d,g=d.parent.isTextblock&&p>0?u.doc.resolve(p-1):d,y=g.parent.type.spec.isolating,q=d.pos-d.parentOffset,b=y&&g.parent.childCount===1?q===d.pos:K.atStart(c).from===p;return!f||!v.type.isTextblock||v.textContent.length||!b||b&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),"handleBackspace"),e=o(()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),"handleDelete"),n={Enter:o(()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"handleEnter"),"Mod-Enter":o(()=>this.editor.commands.exitCode(),"Mod-Enter"),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":o(()=>this.editor.commands.selectAll(),"Mod-a")},i=T({},n),a=ve(T({},n),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":o(()=>this.editor.commands.selectTextblockStart(),"Ctrl-a"),"Ctrl-e":o(()=>this.editor.commands.selectTextblockEnd(),"Ctrl-e")});return yI()||vQ()?a:i},addProseMirrorPlugins(){return[new ae({key:new de("clearDocument"),appendTransaction:o((t,e,r)=>{if(t.some(y=>y.getMeta("composition")))return;let n=t.some(y=>y.docChanged)&&!e.doc.eq(r.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!n||i)return;let{empty:a,from:s,to:u}=e.selection,l=K.atStart(e.doc).from,c=K.atEnd(e.doc).to;if(a||!(s===l&&u===c)||!bI(r.doc))return;let p=r.tr,v=kp({state:r,transaction:p}),{commands:g}=new Ws({editor:this.editor,state:v});if(g.clearNodes(),!!p.steps.length)return p},"appendTransaction")})]}}),Ker=Oe.create({name:"paste",addProseMirrorPlugins(){return[new ae({key:new de("tiptapPaste"),props:{handlePaste:o((t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})},"handlePaste")}})]}}),Ger=Oe.create({name:"tabindex",addProseMirrorPlugins(){return[new ae({key:new de("tabindex"),props:{attributes:o(()=>this.editor.isEditable?{tabindex:"0"}:{},"attributes")}})]}});var ti=class ti{get name(){return this.node.type.name}constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error("You can\u2019t set content on a block node. Tried to set content on ".concat(this.name," at ").concat(this.pos));return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;let e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new ti(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ti(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ti(e,this.editor)}get children(){let e=[];return this.node.content.forEach((r,n)=>{let i=r.isBlock&&!r.isTextblock,a=r.isAtom&&!r.isText,s=this.pos+n+(a?0:1),u=this.resolvedPos.doc.resolve(s);if(!i&&u.depth<=this.depth)return;let l=new ti(u,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),e.push(new ti(u,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){let e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){let a=i.node.attrs,s=Object.keys(r);for(let u=0;u<s.length;u+=1){let l=s[u];if(a[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;let a=Object.keys(r);return this.children.forEach(s=>{n&&i.length>0||(s.node.type.name===e&&a.every(l=>r[l]===s.node.attrs[l])&&i.push(s),!(n&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,r,n))))}),i}setAttribute(e){let{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,T(T({},this.node.attrs),e)),this.editor.view.dispatch(r)}};o(ti,"NodePos");var pI=ti,Jer='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}';function Yer(t,e,r){let n=document.querySelector("style[data-tiptap-style".concat(r?"-".concat(r):"","]"));if(n!==null)return n;let i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style".concat(r?"-".concat(r):""),""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}o(Yer,"createStyleTag");var xI=class xI extends uI{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:o(()=>null,"onBeforeCreate"),onCreate:o(()=>null,"onCreate"),onUpdate:o(()=>null,"onUpdate"),onSelectionUpdate:o(()=>null,"onSelectionUpdate"),onTransaction:o(()=>null,"onTransaction"),onFocus:o(()=>null,"onFocus"),onBlur:o(()=>null,"onBlur"),onDestroy:o(()=>null,"onDestroy"),onContentError:o(({error:r})=>{throw r},"onContentError"),onPaste:o(()=>null,"onPaste"),onDrop:o(()=>null,"onDrop")},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:n,moved:i})=>this.options.onDrop(r,n,i)),this.on("paste",({event:r,slice:n})=>this.options.onPaste(r,n)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Yer(Jer,this.options.injectNonce))}setOptions(e={}){this.options=T(T({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,r){let n=uQ(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;let r=this.state.plugins,n=r;if([].concat(e).forEach(a=>{let s=typeof a=="string"?"".concat(a,"$"):a.key;n=r.filter(u=>!u.key.startsWith(s))}),r.length===n.length)return;let i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,r;let i=[...this.options.enableCoreExtensions?[Her,xZe.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||r===void 0?void 0:r.blockSeparator}),Uer,Ver,Wer,Ger,zer,Ker].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new fI(i,this)}createCommandManager(){this.commandManager=new Ws({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let r;try{r=dI(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:o(()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()},"disableCollaboration")}),r=dI(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}let n=hQ(r,this.options.autofocus);this.view=new vp(this.options.element,ve(T({},this.options.editorProps),{attributes:T({role:"textbox"},(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:tp.create({doc:r,selection:n||void 0})}));let i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();let a=this.view.dom;a.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="tiptap ".concat(this.view.dom.className)}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(s)});return}let r=this.state.apply(e),n=!this.state.selection.eq(r.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});let i=e.getMeta("focus"),a=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),a&&this.emit("blur",{editor:this,event:a.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return zl(this.state,e)}isActive(e,r){let n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return Ser(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return vI(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:r="\n\n",textSerializers:n={}}=e||{};return mer(this.state.doc,{blockSeparator:r,textSerializers:T(T({},cQ(this.schema)),n)})}get isEmpty(){return bI(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){let e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)===null||n===void 0?void 0:n.querySelectorAll(e,r))||null}$pos(e){let r=this.state.doc.resolve(e);return new pI(r,this)}get $doc(){return this.$pos(0)}};o(xI,"Editor");var Ul=xI;function wt(t){return new Ks({find:t.find,handler:o(({state:e,range:r,match:n})=>{let i=Z(t.getAttributes,void 0,n);if(i===!1||i===null)return null;let{tr:a}=e,s=n[n.length-1],u=n[0];if(s){let l=u.search(/\S/),c=r.from+u.indexOf(s),f=c+s.length;if(Lp(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(y=>y===t.type&&y!==v.mark.type)).filter(v=>v.to>c).length)return null;f<r.to&&a.delete(f,r.to),c>r.from&&a.delete(r.from+l,c);let p=r.from+l+s.length;a.addMark(r.from+l,p,t.type.create(i||{})),a.removeStoredMark(t.type)}},"handler")})}o(wt,"markInputRule");function bQ(t){return new Ks({find:t.find,handler:o(({state:e,range:r,match:n})=>{let i=Z(t.getAttributes,void 0,n)||{},{tr:a}=e,s=r.from,u=r.to,l=t.type.create(i);if(n[1]){let c=n[0].lastIndexOf(n[1]),f=s+c;f>u?f=u:u=f+n[1].length;let d=n[0][n[0].length-1];a.insertText(d,s+n[0].length-1),a.replaceWith(f,u,l)}else if(n[0]){let c=t.type.isInline?s:s-1;a.insert(c,t.type.create(i)).delete(a.mapping.map(s),a.mapping.map(u))}a.scrollIntoView()},"handler")})}o(bQ,"nodeInputRule");function Hl(t){return new Ks({find:t.find,handler:o(({state:e,range:r,match:n})=>{let i=e.doc.resolve(r.from),a=Z(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,a)},"handler")})}o(Hl,"textblockTypeInputRule");function ii(t){return new Ks({find:t.find,handler:o(({state:e,range:r,match:n,chain:i})=>{let a=Z(t.getAttributes,void 0,n)||{},s=e.tr.delete(r.from,r.to),l=s.doc.resolve(r.from).blockRange(),c=l&&Ds(l,t.type,a);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){let{selection:d,storedMarks:p}=e,{splittableMarks:v}=t.editor.extensionManager,g=p||d.$to.parentOffset&&d.$from.marks();if(g){let y=g.filter(q=>v.includes(q.type.name));s.ensureMarks(y)}}if(t.keepAttributes){let d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,a).run()}let f=s.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&ot(s.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&s.join(r.from-1)},"handler")})}o(ii,"wrappingInputRule");var _l=class _l{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=T(T({},this.config),e),this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn('[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "'.concat(this.name,'".')),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Z(P(this,"addOptions",{name:this.name}))),this.storage=Z(P(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new _l(e)}configure(e={}){let r=this.extend(ve(T({},this.config),{addOptions:o(()=>Np(this.options,e),"addOptions")}));return r.name=this.name,r.parent=this.parent,r}extend(e={}){let r=new _l(e);return r.parent=this,this.child=r,r.name=e.name?e.name:r.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn('[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "'.concat(r.name,'".')),r.options=Z(P(r,"addOptions",{name:r.name})),r.storage=Z(P(r,"addStorage",{name:r.name,options:r.options})),r}};o(_l,"Node");var qe=_l;function Kr(t){return new cI({find:t.find,handler:o(({state:e,range:r,match:n,pasteEvent:i})=>{let a=Z(t.getAttributes,void 0,n,i);if(a===!1||a===null)return null;let{tr:s}=e,u=n[n.length-1],l=n[0],c=r.to;if(u){let f=l.search(/\S/),d=r.from+l.indexOf(u),p=d+u.length;if(Lp(r.from,r.to,e.doc).filter(g=>g.mark.type.excluded.find(q=>q===t.type&&q!==g.mark.type)).filter(g=>g.to>d).length)return null;p<r.to&&s.delete(p,r.to),d>r.from&&s.delete(r.from+f,d),c=r.from+f+u.length,s.addMark(r.from+f,c,t.type.create(a||{})),s.removeStoredMark(t.type)}},"handler")})}o(Kr,"markPasteRule");var Xer=/^\s*>\s$/,SQ=qe.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:o(()=>({commands:t})=>t.wrapIn(this.name),"setBlockquote"),toggleBlockquote:o(()=>({commands:t})=>t.toggleWrap(this.name),"toggleBlockquote"),unsetBlockquote:o(()=>({commands:t})=>t.lift(this.name),"unsetBlockquote")}},addKeyboardShortcuts(){return{"Mod-Shift-b":o(()=>this.editor.commands.toggleBlockquote(),"Mod-Shift-b")}},addInputRules(){return[ii({find:Xer,type:this.type})]}});var Qer=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Zer=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,err=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,rrr=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,EQ=Je.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:o(t=>t.style.fontWeight!=="normal"&&null,"getAttrs")},{style:"font-weight=400",clearMark:o(t=>t.type.name===this.name,"clearMark")},{style:"font-weight",getAttrs:o(t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["strong",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:o(()=>({commands:t})=>t.setMark(this.name),"setBold"),toggleBold:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleBold"),unsetBold:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetBold")}},addKeyboardShortcuts(){return{"Mod-b":o(()=>this.editor.commands.toggleBold(),"Mod-b"),"Mod-B":o(()=>this.editor.commands.toggleBold(),"Mod-B")}},addInputRules(){return[wt({find:Qer,type:this.type}),wt({find:err,type:this.type})]},addPasteRules(){return[Kr({find:Zer,type:this.type}),Kr({find:rrr,type:this.type})]}});var trr="listItem",OQ="textStyle",TQ=/^\s*([-+*])\s$/,xQ=qe.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:o(()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(trr,this.editor.getAttributes(OQ)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks),"toggleBulletList")}},addKeyboardShortcuts(){return{"Mod-Shift-8":o(()=>this.editor.commands.toggleBulletList(),"Mod-Shift-8")}},addInputRules(){let t=ii({find:TQ,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ii({find:TQ,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:o(()=>this.editor.getAttributes(OQ),"getAttributes"),editor:this.editor})),[t]}});var nrr=/(^|[^`])`([^`]+)`(?!`)/,irr=/(^|[^`])`([^`]+)`(?!`)/g,IQ=Je.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:o(()=>({commands:t})=>t.setMark(this.name),"setCode"),toggleCode:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleCode"),unsetCode:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetCode")}},addKeyboardShortcuts(){return{"Mod-e":o(()=>this.editor.commands.toggleCode(),"Mod-e")}},addInputRules(){return[wt({find:nrr,type:this.type})]},addPasteRules(){return[Kr({find:irr,type:this.type})]}});var arr=/^```([a-z]+)?[\s\n]$/,srr=/^~~~([a-z]+)?[\s\n]$/,AQ=qe.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:o(t=>{var e;let{languageClassPrefix:r}=this.options,a=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(r)).map(s=>s.replace(r,""))[0];return a||null},"parseHTML"),rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ee(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:o(t=>({commands:e})=>e.setNode(this.name,t),"setCodeBlock"),toggleCodeBlock:o(t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t),"toggleCodeBlock")}},addKeyboardShortcuts(){return{"Mod-Alt-c":o(()=>this.editor.commands.toggleCodeBlock(),"Mod-Alt-c"),Backspace:o(()=>{let{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},"Backspace"),Enter:o(({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;let a=n.parentOffset===n.parent.nodeSize-2,s=n.parent.textContent.endsWith("\n\n");return!a||!s?!1:t.chain().command(({tr:u})=>(u.delete(n.pos-2,n.pos),!0)).exitCode().run()},"Enter"),ArrowDown:o(({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:a}=r;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;let u=i.after();return u===void 0?!1:n.nodeAt(u)?t.commands.command(({tr:c})=>(c.setSelection(K.near(n.resolve(u))),!0)):t.commands.exitCode()},"ArrowDown")}},addInputRules(){return[Hl({find:arr,type:this.type,getAttributes:o(t=>({language:t[1]}),"getAttributes")}),Hl({find:srr,type:this.type,getAttributes:o(t=>({language:t[1]}),"getAttributes")})]},addProseMirrorPlugins(){return[new ae({key:new de("codeBlockVSCodeHandler"),props:{handlePaste:o((t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,a=i==null?void 0:i.mode;if(!r||!a)return!1;let{tr:s,schema:u}=t.state,l=u.text(r.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:a},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(j.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0},"handlePaste")}})]}});var II=qe.create({name:"doc",topNode:!0,content:"block+"});function wQ(t={}){return new ae({view(e){return new AI(e,t)}})}o(wQ,"dropCursor");var wI=class wI{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=o(s=>{this[i](s)},"handler");return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let u=e.nodeBefore,l=e.nodeAfter;if(u||l){let c=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(c){let f=c.getBoundingClientRect(),d=u?f.bottom:f.top;u&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:f.left,right:f.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!n){let u=this.editorView.coordsAtPos(this.cursorPos);n={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let a,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")a=-pageXOffset,s=-pageYOffset;else{let u=i.getBoundingClientRect();a=u.left-i.scrollLeft,s=u.top-i.scrollTop}this.element.style.left=n.left-a+"px",this.element.style.top=n.top-s+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!a){let s=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Qh(this.editorView.state.doc,s,this.editorView.dragging.slice);u!=null&&(s=u)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}};o(wI,"DropCursorView");var AI=wI;var RQ=Oe.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[wQ(this.options)]}});var RI=qe.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ee(this.options.HTMLAttributes,t)]},renderText(){return"\n"},addCommands(){return{setHardBreak:o(()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:i,storedMarks:a}=r;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:s}=this.options,{splittableMarks:u}=n.extensionManager,l=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&s){let d=l.filter(p=>u.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})]),"setHardBreak")}},addKeyboardShortcuts(){return{"Mod-Enter":o(()=>this.editor.commands.setHardBreak(),"Mod-Enter"),"Shift-Enter":o(()=>this.editor.commands.setHardBreak(),"Shift-Enter")}}});var Fp=200,Ye=o(function(){},"RopeSequence");Ye.prototype.append=o(function(e){return e.length?(e=Ye.from(e),!this.length&&e||e.length<Fp&&this.leafAppend(e)||this.length<Fp&&e.leafPrepend(this)||this.appendInner(e)):this},"append");Ye.prototype.prepend=o(function(e){return e.length?Ye.from(e).append(this):this},"prepend");Ye.prototype.appendInner=o(function(e){return new orr(this,e)},"appendInner");Ye.prototype.slice=o(function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ye.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))},"slice");Ye.prototype.get=o(function(e){if(!(e<0||e>=this.length))return this.getInner(e)},"get");Ye.prototype.forEach=o(function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)},"forEach");Ye.prototype.map=o(function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,s){return i.push(e(a,s))},r,n),i},"map");Ye.from=o(function(e){return e instanceof Ye?e:e&&e.length?new CQ(e):Ye.empty},"from");var CQ=function(t){function e(n){t.call(this),this.values=n}o(e,"Leaf"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=o(function(){return this.values},"flatten"),e.prototype.sliceInner=o(function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},"sliceInner"),e.prototype.getInner=o(function(i){return this.values[i]},"getInner"),e.prototype.forEachInner=o(function(i,a,s,u){for(var l=a;l<s;l++)if(i(this.values[l],u+l)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(i,a,s,u){for(var l=a-1;l>=s;l--)if(i(this.values[l],u+l)===!1)return!1},"forEachInvertedInner"),e.prototype.leafAppend=o(function(i){if(this.length+i.length<=Fp)return new e(this.values.concat(i.flatten()))},"leafAppend"),e.prototype.leafPrepend=o(function(i){if(this.length+i.length<=Fp)return new e(i.flatten().concat(this.values))},"leafPrepend"),r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e}(Ye);Ye.empty=new CQ([]);var orr=function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return o(e,"Append"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=o(function(){return this.left.flatten().concat(this.right.flatten())},"flatten"),e.prototype.getInner=o(function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},"getInner"),e.prototype.forEachInner=o(function(n,i,a,s){var u=this.left.length;if(i<u&&this.left.forEachInner(n,i,Math.min(a,u),s)===!1||a>u&&this.right.forEachInner(n,Math.max(i-u,0),Math.min(this.length,a)-u,s+u)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(n,i,a,s){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(n,i-u,Math.max(a,u)-u,s+u)===!1||a<u&&this.left.forEachInvertedInner(n,Math.min(i,u),a,s)===!1)return!1},"forEachInvertedInner"),e.prototype.sliceInner=o(function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},"sliceInner"),e.prototype.leafAppend=o(function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},"leafAppend"),e.prototype.leafPrepend=o(function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},"leafPrepend"),e.prototype.appendInner=o(function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},"appendInner"),e}(Ye),CI=Ye;var urr=500,ai=class ai{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let s=e.tr,u,l,c=[],f=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(n,p+1),a=i.maps.length),a--,f.push(d);return}if(i){f.push(new Rt(d.map));let v=d.step.map(i.slice(a)),g;v&&s.maybeStep(v).doc&&(g=s.mapping.maps[s.mapping.maps.length-1],c.push(new Rt(g,void 0,void 0,c.length+f.length))),a--,g&&i.appendMap(g,a)}else s.maybeStep(d.step);if(d.selection)return u=i?d.selection.map(i.slice(a)):d.selection,l=new ai(this.items.slice(0,n).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:u}}addTransform(e,r,n,i){let a=[],s=this.eventCount,u=this.items,l=!i&&u.length?u.get(u.length-1):null;for(let f=0;f<e.steps.length;f++){let d=e.steps[f].invert(e.docs[f]),p=new Rt(e.mapping.maps[f],d,r),v;(v=l&&l.merge(p))&&(p=v,f?a.pop():u=u.slice(0,u.length-1)),a.push(p),r&&(s++,r=void 0),i||(l=p)}let c=s-n.depth;return c>crr&&(u=lrr(u,c),s-=c),new ai(u.append(a),s)}remapping(e,r){let n=new Sl;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new ai(this.items.append(e.map(r=>new Rt(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,s=e.steps.length,u=this.eventCount;this.items.forEach(p=>{p.selection&&u--},i);let l=r;this.items.forEach(p=>{let v=a.getMirror(--l);if(v==null)return;s=Math.min(s,v);let g=a.maps[v];if(p.step){let y=e.steps[v].invert(e.docs[v]),q=p.selection&&p.selection.map(a.slice(l+1,v));q&&u++,n.push(new Rt(g,y,q))}else n.push(new Rt(g))},i);let c=[];for(let p=r;p<s;p++)c.push(new Rt(a.maps[p]));let f=this.items.slice(0,i).append(c).append(n),d=new ai(f,u);return d.emptyItemCount()>urr&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((s,u)=>{if(u>=e)i.push(s),s.selection&&a++;else if(s.step){let l=s.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let f=s.selection&&s.selection.map(r.slice(n));f&&a++;let d=new Rt(c.invert(),l,f),p,v=i.length-1;(p=i.length&&i[v].merge(d))?i[v]=p:i.push(d)}}else s.map&&n--},this.items.length,0),new ai(CI.from(i.reverse()),a)}};o(ai,"Branch");var pa=ai;pa.empty=new pa(CI.empty,0);function lrr(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}o(lrr,"cutOffEvents");var Bp=class Bp{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Bp(r.getMap().invert(),r,this.selection)}}};o(Bp,"Item");var Rt=Bp,DI=class DI{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}};o(DI,"HistoryState");var Ct=DI,crr=20;function frr(t,e,r,n){let i=r.getMeta(ha),a;if(i)return i.historyState;r.getMeta(prr)&&(t=new Ct(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(ha))return s.getMeta(ha).redo?new Ct(t.done.addTransform(r,void 0,n,$p(e)),t.undone,MQ(r.mapping.maps),t.prevTime,t.prevComposition):new Ct(t.done,t.undone.addTransform(r,void 0,n,$p(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let u=r.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=u&&(t.prevTime<(r.time||0)-n.newGroupDelay||!drr(r,t.prevRanges)),c=s?MI(t.prevRanges,r.mapping):MQ(r.mapping.maps);return new Ct(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,$p(e)),pa.empty,c,r.time,u==null?t.prevComposition:u)}else return(a=r.getMeta("rebased"))?new Ct(t.done.rebased(r,a),t.undone.rebased(r,a),MI(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Ct(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),MI(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}o(frr,"applyTransaction");function drr(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}o(drr,"isAdjacentTo");function MQ(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,s)=>e.push(a,s));return e}o(MQ,"rangesFor");function MI(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}o(MI,"mapRanges");function hrr(t,e,r){let n=$p(e),i=ha.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let s=a.selection.resolve(a.transform.doc),u=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),l=new Ct(r?u:a.remaining,r?a.remaining:u,null,0,-1);return a.transform.setSelection(s).setMeta(ha,{redo:r,historyState:l})}o(hrr,"histTransaction");var kI=!1,kQ=null;function $p(t){let e=t.plugins;if(kQ!=e){kI=!1,kQ=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){kI=!0;break}}return kI}o($p,"mustPreserveItems");var ha=new de("history"),prr=new de("closeHistory");function PQ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ae({key:ha,state:{init(){return new Ct(pa.empty,pa.empty,null,0,-1)},apply(e,r,n){return frr(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?PI:n=="historyRedo"?NI:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}o(PQ,"history");function _p(t,e){return(r,n)=>{let i=ha.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=hrr(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}o(_p,"buildCommand");var PI=_p(!1,!0),NI=_p(!0,!0),_Dr=_p(!1,!1),jDr=_p(!0,!1);var LI=Oe.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:o(()=>({state:t,dispatch:e})=>PI(t,e),"undo"),redo:o(()=>({state:t,dispatch:e})=>NI(t,e),"redo")}},addProseMirrorPlugins(){return[PQ(this.options)]},addKeyboardShortcuts(){return{"Mod-z":o(()=>this.editor.commands.undo(),"Mod-z"),"Shift-Mod-z":o(()=>this.editor.commands.redo(),"Shift-Mod-z"),"Mod-y":o(()=>this.editor.commands.redo(),"Mod-y"),"Mod-\u044F":o(()=>this.editor.commands.undo(),"Mod-\u044F"),"Shift-Mod-\u044F":o(()=>this.editor.commands.redo(),"Shift-Mod-\u044F")}}});var vrr=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,NQ=qe.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ee(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:o(t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),"setImage")}},addInputRules(){return[bQ({find:vrr,type:this.type,getAttributes:o(t=>{let[,,e,r,n]=t;return{src:r,alt:e,title:n}},"getAttributes")})]}});var grr=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,mrr=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,yrr=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,qrr=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,DQ=Je.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:o(t=>t.style.fontStyle!=="normal"&&null,"getAttrs")},{style:"font-style=normal",clearMark:o(t=>t.type.name===this.name,"clearMark")},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:o(()=>({commands:t})=>t.setMark(this.name),"setItalic"),toggleItalic:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleItalic"),unsetItalic:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetItalic")}},addKeyboardShortcuts(){return{"Mod-i":o(()=>this.editor.commands.toggleItalic(),"Mod-i"),"Mod-I":o(()=>this.editor.commands.toggleItalic(),"Mod-I")}},addInputRules(){return[wt({find:grr,type:this.type}),wt({find:yrr,type:this.type})]},addPasteRules(){return[Kr({find:mrr,type:this.type}),Kr({find:qrr,type:this.type})]}});var LQ=qe.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ee(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:o(()=>this.editor.commands.splitListItem(this.name),"Enter"),Tab:o(()=>this.editor.commands.sinkListItem(this.name),"Tab"),"Shift-Tab":o(()=>this.editor.commands.liftListItem(this.name),"Shift-Tab")}}});var brr="listItem",FQ="textStyle",$Q=/^(\d+)\.\s$/,BQ=qe.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},addAttributes(){return{start:{default:1,parseHTML:o(t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1,"parseHTML")},type:{default:void 0,parseHTML:o(t=>t.getAttribute("type"),"parseHTML")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){let n=t,{start:e}=n,r=b1(n,["start"]);return e===1?["ol",ee(this.options.HTMLAttributes,r),0]:["ol",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:o(()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(brr,this.editor.getAttributes(FQ)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks),"toggleOrderedList")}},addKeyboardShortcuts(){return{"Mod-Shift-7":o(()=>this.editor.commands.toggleOrderedList(),"Mod-Shift-7")}},addInputRules(){let t=ii({find:$Q,type:this.type,getAttributes:o(e=>({start:+e[1]}),"getAttributes"),joinPredicate:o((e,r)=>r.childCount+r.attrs.start===+e[1],"joinPredicate")});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ii({find:$Q,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:o(e=>T({start:+e[1]},this.editor.getAttributes(FQ)),"getAttributes"),joinPredicate:o((e,r)=>r.childCount+r.attrs.start===+e[1],"joinPredicate"),editor:this.editor})),[t]}});var jp=qe.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:o(()=>({commands:t})=>t.setNode(this.name),"setParagraph")}},addKeyboardShortcuts(){return{"Mod-Alt-0":o(()=>this.editor.commands.setParagraph(),"Mod-Alt-0")}}});var Srr=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Err=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,_Q=Je.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:o(t=>t.includes("line-through")?{}:!1,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["s",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:o(()=>({commands:t})=>t.setMark(this.name),"setStrike"),toggleStrike:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleStrike"),unsetStrike:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetStrike")}},addKeyboardShortcuts(){return{"Mod-Shift-s":o(()=>this.editor.commands.toggleStrike(),"Mod-Shift-s")}},addInputRules(){return[wt({find:Srr,type:this.type})]},addPasteRules(){return[Kr({find:Err,type:this.type})]}});var FI=qe.create({name:"text",group:"inline"});var Orr=o(t=>{if(!t.children.length)return;let e=t.querySelectorAll("span");e&&e.forEach(r=>{var n,i;let a=r.getAttribute("style"),s=(i=(n=r.parentElement)===null||n===void 0?void 0:n.closest("span"))===null||i===void 0?void 0:i.getAttribute("style");r.setAttribute("style","".concat(s,";").concat(a))})},"mergeNestedSpanStyles"),$I=Je.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!1}},parseHTML(){return[{tag:"span",getAttrs:o(t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Orr(t),{}):!1,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["span",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:o(()=>({tr:t})=>{let{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(a=>!!a))||t.removeMark(n,n+r.nodeSize,this.type)}),!0},"removeEmptyTextStyle")}}});var jQ=Je.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:o(t=>t.includes("underline")?{}:!1,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["u",ee(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:o(()=>({commands:t})=>t.setMark(this.name),"setUnderline"),toggleUnderline:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleUnderline"),unsetUnderline:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetUnderline")}},addKeyboardShortcuts(){return{"Mod-u":o(()=>this.editor.commands.toggleUnderline(),"Mod-u"),"Mod-U":o(()=>this.editor.commands.toggleUnderline(),"Mod-U")}}});var UQ=qe.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:"h".concat(t),attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){let n=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return["h".concat(n),ee(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:o(t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,"setHeading"),toggleHeading:o(t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1,"toggleHeading")}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>ve(T({},t),{["Mod-Alt-".concat(e)]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Hl({find:new RegExp("^(#{".concat(Math.min(...this.options.levels),",").concat(t,"})\\s$")),type:this.type,getAttributes:{level:t}}))}});var BI=UQ.extend({addKeyboardShortcuts(){return{}}});var NLr=Ov(Fh());var Trr="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",xrr="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",Js=o((t,e)=>{for(let r in e)t[r]=e[r];return t},"assign"),WI="numeric",KI="ascii",GI="alpha",Kl="asciinumeric",Wl="alphanumeric",JI="domain",JQ="emoji",Irr="scheme",Arr="slashscheme",_I="whitespace";function wrr(t,e){return t in e||(e[t]=[]),e[t]}o(wrr,"registerGroup");function va(t,e,r){e[WI]&&(e[Kl]=!0,e[Wl]=!0),e[KI]&&(e[Kl]=!0,e[GI]=!0),e[Kl]&&(e[Wl]=!0),e[GI]&&(e[Wl]=!0),e[Wl]&&(e[JI]=!0),e[JQ]&&(e[JI]=!0);for(let n in e){let i=wrr(n,r);i.indexOf(t)<0&&i.push(t)}}o(va,"addToGroups");function Rrr(t,e){let r={};for(let n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}o(Rrr,"flagsForToken");function Or(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}o(Or,"State");Or.groups={};Or.prototype={accepts(){return!!this.t},go(t){let e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){let i=e.jr[n][0],a=e.jr[n][1];if(a&&i.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||Or.groups;let i;return e&&e.j?i=e:(i=new Or(e),r&&n&&va(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this,a=t.length;if(!a)return i;for(let s=0;s<a-1;s++)i=i.tt(t[s]);return i.tt(t[a-1],e,r,n)},tt(t,e,r,n){n=n||Or.groups;let i=this;if(e&&e.j)return i.j[t]=e,e;let a=e,s,u=i.go(t);if(u?(s=new Or,Js(s.j,u.j),s.jr.push.apply(s.jr,u.jr),s.jd=u.jd,s.t=u.t):s=new Or,a){if(n)if(s.t&&typeof s.t=="string"){let l=Js(Rrr(s.t,n),r);va(a,l,n)}else r&&va(a,r,n);s.t=a}return i.j[t]=s,s}};var Y=o((t,e,r,n,i)=>t.ta(e,r,n,i),"ta"),Te=o((t,e,r,n,i)=>t.tr(e,r,n,i),"tr"),zQ=o((t,e,r,n,i)=>t.ts(e,r,n,i),"ts"),x=o((t,e,r,n,i)=>t.tt(e,r,n,i),"tt"),dn="WORD",YI="UWORD",YQ="ASCIINUMERICAL",XQ="ALPHANUMERICAL",Zl="LOCALHOST",XI="TLD",QI="UTLD",Vp="SCHEME",Gs="SLASH_SCHEME",e1="NUM",ZI="WS",r1="NL",Gl="OPENBRACE",Jl="CLOSEBRACE",Wp="OPENBRACKET",Kp="CLOSEBRACKET",Gp="OPENPAREN",Jp="CLOSEPAREN",Yp="OPENANGLEBRACKET",Xp="CLOSEANGLEBRACKET",Qp="FULLWIDTHLEFTPAREN",Zp="FULLWIDTHRIGHTPAREN",ev="LEFTCORNERBRACKET",rv="RIGHTCORNERBRACKET",tv="LEFTWHITECORNERBRACKET",nv="RIGHTWHITECORNERBRACKET",iv="FULLWIDTHLESSTHAN",av="FULLWIDTHGREATERTHAN",sv="AMPERSAND",t1="APOSTROPHE",ov="ASTERISK",oi="AT",uv="BACKSLASH",lv="BACKTICK",cv="CARET",ui="COLON",n1="COMMA",fv="DOLLAR",Mt="DOT",dv="EQUALS",i1="EXCLAMATION",Jr="HYPHEN",Yl="PERCENT",hv="PIPE",pv="PLUS",vv="POUND",Xl="QUERY",a1="QUOTE",QQ="FULLWIDTHMIDDLEDOT",s1="SEMI",kt="SLASH",Ql="TILDE",gv="UNDERSCORE",ZQ="EMOJI",mv="SYM",eZ=Object.freeze({__proto__:null,WORD:dn,UWORD:YI,ASCIINUMERICAL:YQ,ALPHANUMERICAL:XQ,LOCALHOST:Zl,TLD:XI,UTLD:QI,SCHEME:Vp,SLASH_SCHEME:Gs,NUM:e1,WS:ZI,NL:r1,OPENBRACE:Gl,CLOSEBRACE:Jl,OPENBRACKET:Wp,CLOSEBRACKET:Kp,OPENPAREN:Gp,CLOSEPAREN:Jp,OPENANGLEBRACKET:Yp,CLOSEANGLEBRACKET:Xp,FULLWIDTHLEFTPAREN:Qp,FULLWIDTHRIGHTPAREN:Zp,LEFTCORNERBRACKET:ev,RIGHTCORNERBRACKET:rv,LEFTWHITECORNERBRACKET:tv,RIGHTWHITECORNERBRACKET:nv,FULLWIDTHLESSTHAN:iv,FULLWIDTHGREATERTHAN:av,AMPERSAND:sv,APOSTROPHE:t1,ASTERISK:ov,AT:oi,BACKSLASH:uv,BACKTICK:lv,CARET:cv,COLON:ui,COMMA:n1,DOLLAR:fv,DOT:Mt,EQUALS:dv,EXCLAMATION:i1,HYPHEN:Jr,PERCENT:Yl,PIPE:hv,PLUS:pv,POUND:vv,QUERY:Xl,QUOTE:a1,FULLWIDTHMIDDLEDOT:QQ,SEMI:s1,SLASH:kt,TILDE:Ql,UNDERSCORE:gv,EMOJI:ZQ,SYM:mv}),cn=/[a-z]/,Vl=new RegExp("\\p{L}","u"),jI=new RegExp("\\p{Emoji}","u");var fn=/\d/,UI=/\s/;var HQ="\r",zI="\n",Crr="\uFE0F",Mrr="\u200D",HI="\uFFFC",Up=null,zp=null;function krr(t=[]){let e={};Or.groups=e;let r=new Or;Up==null&&(Up=VQ(Trr)),zp==null&&(zp=VQ(xrr)),x(r,"'",t1),x(r,"{",Gl),x(r,"}",Jl),x(r,"[",Wp),x(r,"]",Kp),x(r,"(",Gp),x(r,")",Jp),x(r,"<",Yp),x(r,">",Xp),x(r,"\uFF08",Qp),x(r,"\uFF09",Zp),x(r,"\u300C",ev),x(r,"\u300D",rv),x(r,"\u300E",tv),x(r,"\u300F",nv),x(r,"\uFF1C",iv),x(r,"\uFF1E",av),x(r,"&",sv),x(r,"*",ov),x(r,"@",oi),x(r,"`",lv),x(r,"^",cv),x(r,":",ui),x(r,",",n1),x(r,"$",fv),x(r,".",Mt),x(r,"=",dv),x(r,"!",i1),x(r,"-",Jr),x(r,"%",Yl),x(r,"|",hv),x(r,"+",pv),x(r,"#",vv),x(r,"?",Xl),x(r,'"',a1),x(r,"/",kt),x(r,";",s1),x(r,"~",Ql),x(r,"_",gv),x(r,"\\",uv),x(r,"\u30FB",QQ);let n=Te(r,fn,e1,{[WI]:!0});Te(n,fn,n);let i=Te(n,cn,YQ,{[Kl]:!0}),a=Te(n,Vl,XQ,{[Wl]:!0}),s=Te(r,cn,dn,{[KI]:!0});Te(s,fn,i),Te(s,cn,s),Te(i,fn,i),Te(i,cn,i);let u=Te(r,Vl,YI,{[GI]:!0});Te(u,cn),Te(u,fn,a),Te(u,Vl,u),Te(a,fn,a),Te(a,cn),Te(a,Vl,a);let l=x(r,zI,r1,{[_I]:!0}),c=x(r,HQ,ZI,{[_I]:!0}),f=Te(r,UI,ZI,{[_I]:!0});x(r,HI,f),x(c,zI,l),x(c,HI,f),Te(c,UI,f),x(f,HQ),x(f,zI),Te(f,UI,f),x(f,HI,f);let d=Te(r,jI,ZQ,{[JQ]:!0});x(d,"#"),Te(d,jI,d),x(d,Crr,d);let p=x(d,Mrr);x(p,"#"),Te(p,jI,d);let v=[[cn,s],[fn,i]],g=[[cn,null],[Vl,u],[fn,a]];for(let y=0;y<Up.length;y++)si(r,Up[y],XI,dn,v);for(let y=0;y<zp.length;y++)si(r,zp[y],QI,YI,g);va(XI,{tld:!0,ascii:!0},e),va(QI,{utld:!0,alpha:!0},e),si(r,"file",Vp,dn,v),si(r,"mailto",Vp,dn,v),si(r,"http",Gs,dn,v),si(r,"https",Gs,dn,v),si(r,"ftp",Gs,dn,v),si(r,"ftps",Gs,dn,v),va(Vp,{scheme:!0,ascii:!0},e),va(Gs,{slashscheme:!0,ascii:!0},e),t=t.sort((y,q)=>y[0]>q[0]?1:-1);for(let y=0;y<t.length;y++){let q=t[y][0],S=t[y][1]?{[Irr]:!0}:{[Arr]:!0};q.indexOf("-")>=0?S[JI]=!0:cn.test(q)?fn.test(q)?S[Kl]=!0:S[KI]=!0:S[WI]=!0,zQ(r,q,q,S)}return zQ(r,"localhost",Zl,{ascii:!0}),r.jd=new Or(mv),{start:r,tokens:Js({groups:e},eZ)}}o(krr,"init$2");function rZ(t,e){let r=Prr(e.replace(/[A-Z]/g,u=>u.toLowerCase())),n=r.length,i=[],a=0,s=0;for(;s<n;){let u=t,l=null,c=0,f=null,d=-1,p=-1;for(;s<n&&(l=u.go(r[s]));)u=l,u.accepts()?(d=0,p=0,f=u):d>=0&&(d+=r[s].length,p++),c+=r[s].length,a+=r[s].length,s++;a-=d,s-=p,c-=d,i.push({t:f.t,v:e.slice(a-c,a),s:a-c,e:a})}return i}o(rZ,"run$1");function Prr(t){let e=[],r=t.length,n=0;for(;n<r;){let i=t.charCodeAt(n),a,s=i<55296||i>56319||n+1===r||(a=t.charCodeAt(n+1))<56320||a>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length}return e}o(Prr,"stringToArray");function si(t,e,r,n,i){let a,s=e.length;for(let u=0;u<s-1;u++){let l=e[u];t.j[l]?a=t.j[l]:(a=new Or(n),a.jr=i.slice(),t.j[l]=a),t=a}return a=new Or(r),a.jr=i.slice(),t.j[e[s-1]]=a,a}o(si,"fastts");function VQ(t){let e=[],r=[],n=0,i="0123456789";for(;n<t.length;){let a=0;for(;i.indexOf(t[n+a])>=0;)a++;if(a>0){e.push(r.join(""));for(let s=parseInt(t.substring(n,n+a),10);s>0;s--)r.pop();n+=a}else r.push(t[n]),n++}return e}o(VQ,"decodeTlds");var ec={defaultProtocol:"http",events:null,format:WQ,formatHref:WQ,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function o1(t,e=null){let r=Js({},ec);t&&(r=Js(r,t instanceof o1?t.o:t));let n=r.ignoreTags,i=[];for(let a=0;a<n.length;a++)i.push(n[a].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}o(o1,"Options");o1.prototype={o:ec,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){let n=e!=null,i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:ec[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){let e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function WQ(t){return t}o(WQ,"noop");function tZ(t,e){this.t="token",this.v=t,this.tk=e}o(tZ,"MultiToken");tZ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){let e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"\u2026":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ec.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){let e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),a=this.toFormattedString(t),s={},u=t.get("className",r,e),l=t.get("target",r,e),c=t.get("rel",r,e),f=t.getObj("attributes",r,e),d=t.getObj("events",r,e);return s.href=n,u&&(s.class=u),l&&(s.target=l),c&&(s.rel=c),f&&Js(s,f),{tagName:i,attributes:s,content:a,eventListeners:d}}};function yv(t,e){let n=class n extends tZ{constructor(a,s){super(a,s),this.t=t}};o(n,"Token");let r=n;for(let i in e)r.prototype[i]=e[i];return r.t=t,r}o(yv,"createTokenClass");var KQ=yv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),GQ=yv("text"),Nrr=yv("nl"),Hp=yv("url",{isLink:!0,toHref(t=ec.defaultProtocol){return this.hasProtocol()?this.v:"".concat(t,"://").concat(this.v)},hasProtocol(){let t=this.tk;return t.length>=2&&t[0].t!==Zl&&t[1].t===ui}});var Gr=o(t=>new Or(t),"makeState");function Drr({groups:t}){let e=t.domain.concat([sv,ov,oi,uv,lv,cv,fv,dv,Jr,e1,Yl,hv,pv,vv,kt,mv,Ql,gv]),r=[ui,n1,Mt,i1,Yl,Xl,a1,s1,Yp,Xp,Gl,Jl,Kp,Wp,Gp,Jp,Qp,Zp,ev,rv,tv,nv,iv,av],n=[sv,t1,ov,uv,lv,cv,fv,dv,Jr,Gl,Jl,Yl,hv,pv,vv,Xl,kt,mv,Ql,gv],i=Gr(),a=x(i,Ql);Y(a,n,a),Y(a,t.domain,a);let s=Gr(),u=Gr(),l=Gr();Y(i,t.domain,s),Y(i,t.scheme,u),Y(i,t.slashscheme,l),Y(s,n,a),Y(s,t.domain,s);let c=x(s,oi);x(a,oi,c),x(u,oi,c),x(l,oi,c);let f=x(a,Mt);Y(f,n,a),Y(f,t.domain,a);let d=Gr();Y(c,t.domain,d),Y(d,t.domain,d);let p=x(d,Mt);Y(p,t.domain,d);let v=Gr(KQ);Y(p,t.tld,v),Y(p,t.utld,v),x(c,Zl,v);let g=x(d,Jr);x(g,Jr,g),Y(g,t.domain,d),Y(v,t.domain,d),x(v,Mt,p),x(v,Jr,g);let y=x(v,ui);Y(y,t.numeric,KQ);let q=x(s,Jr),b=x(s,Mt);x(q,Jr,q),Y(q,t.domain,s),Y(b,n,a),Y(b,t.domain,s);let S=Gr(Hp);Y(b,t.tld,S),Y(b,t.utld,S),Y(S,t.domain,s),Y(S,n,a),x(S,Mt,b),x(S,Jr,q),x(S,oi,c);let A=x(S,ui),k=Gr(Hp);Y(A,t.numeric,k);let N=Gr(Hp),L=Gr();Y(N,e,N),Y(N,r,L),Y(L,e,N),Y(L,r,L),x(S,kt,N),x(k,kt,N);let re=x(u,ui),ue=x(l,ui),X=x(ue,kt),wr=x(X,kt);Y(u,t.domain,s),x(u,Mt,b),x(u,Jr,q),Y(l,t.domain,s),x(l,Mt,b),x(l,Jr,q),Y(re,t.domain,N),x(re,kt,N),x(re,Xl,N),Y(wr,t.domain,N),Y(wr,e,N),x(wr,kt,N);let li=[[Gl,Jl],[Wp,Kp],[Gp,Jp],[Yp,Xp],[Qp,Zp],[ev,rv],[tv,nv],[iv,av]];for(let Ys=0;Ys<li.length;Ys++){let[m1,Sv]=li[Ys],nc=x(N,m1);x(L,m1,nc),x(nc,Sv,N);let ma=Gr(Hp);Y(nc,e,ma);let Xs=Gr();Y(nc,r),Y(ma,e,ma),Y(ma,r,Xs),Y(Xs,e,ma),Y(Xs,r,Xs),x(ma,Sv,N),x(Xs,Sv,N)}return x(i,Zl,S),x(i,r1,Nrr),{start:i,tokens:eZ}}o(Drr,"init$1");function Lrr(t,e,r){let n=r.length,i=0,a=[],s=[];for(;i<n;){let u=t,l=null,c=null,f=0,d=null,p=-1;for(;i<n&&!(l=u.go(r[i].t));)s.push(r[i++]);for(;i<n&&(c=l||u.go(r[i].t));)l=null,u=c,u.accepts()?(p=0,d=u):p>=0&&p++,i++,f++;if(p<0)i-=f,i<n&&(s.push(r[i]),i++);else{s.length>0&&(a.push(VI(GQ,e,s)),s=[]),i-=p,f-=p;let v=d.t,g=r.slice(i-f,i);a.push(VI(v,e,g))}}return s.length>0&&a.push(VI(GQ,e,s)),a}o(Lrr,"run");function VI(t,e,r){let n=r[0].s,i=r[r.length-1].e,a=e.slice(n,i);return new t(a,r)}o(VI,"initMultiToken");var Frr=typeof console<"u"&&console&&console.warn||(()=>{}),$rr="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",pe={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function nZ(){return Or.groups={},pe.scanner=null,pe.parser=null,pe.tokenQueue=[],pe.pluginQueue=[],pe.customSchemes=[],pe.initialized=!1,pe}o(nZ,"reset");function u1(t,e=!1){if(pe.initialized&&Frr('linkifyjs: already initialized - will not register custom scheme "'.concat(t,'" ').concat($rr)),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');pe.customSchemes.push([t,e])}o(u1,"registerCustomProtocol");function Brr(){pe.scanner=krr(pe.customSchemes);for(let t=0;t<pe.tokenQueue.length;t++)pe.tokenQueue[t][1]({scanner:pe.scanner});pe.parser=Drr(pe.scanner.tokens);for(let t=0;t<pe.pluginQueue.length;t++)pe.pluginQueue[t][1]({scanner:pe.scanner,parser:pe.parser});return pe.initialized=!0,pe}o(Brr,"init");function qv(t){return pe.initialized||Brr(),Lrr(pe.parser.start,t,rZ(pe.scanner.start,t))}o(qv,"tokenize");qv.scan=rZ;function rc(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error("linkifyjs: Invalid link type ".concat(e,"; must be a string"));r=e,e=null}let n=new o1(r),i=qv(t),a=[];for(let s=0;s<i.length;s++){let u=i[s];u.isLink&&(!e||u.t===e)&&n.check(u)&&a.push(u.toFormattedObject(n))}return a}o(rc,"find");function _rr(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}o(_rr,"isValidLinkStructure");function jrr(t){return new ae({key:new de("autolink"),appendTransaction:o((e,r,n)=>{let i=e.some(c=>c.docChanged)&&!r.doc.eq(n.doc),a=e.some(c=>c.getMeta("preventAutolink"));if(!i||a)return;let{tr:s}=n,u=mQ(r.doc,[...e]);if(qQ(u).forEach(({newRange:c})=>{let f=yQ(n.doc,c,v=>v.isTextblock),d,p;if(f.length>1?(d=f[0],p=n.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):f.length&&n.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=f[0],p=n.doc.textBetween(d.pos,c.to,void 0," ")),d&&p){let v=p.split(" ").filter(b=>b!=="");if(v.length<=0)return!1;let g=v[v.length-1],y=d.pos+p.lastIndexOf(g);if(!g)return!1;let q=qv(g).map(b=>b.toObject(t.defaultProtocol));if(!_rr(q))return!1;q.filter(b=>b.isLink).map(b=>ve(T({},b),{from:y+b.start+1,to:y+b.end+1})).filter(b=>n.schema.marks.code?!n.doc.rangeHasMark(b.from,b.to,n.schema.marks.code):!0).filter(b=>t.validate(b.value)).filter(b=>t.shouldAutoLink(b.value)).forEach(b=>{Lp(b.from,b.to,n.doc).some(S=>S.mark.type===t.type)||s.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!s.steps.length)return s},"appendTransaction")})}o(jrr,"autolink");function Urr(t){return new ae({key:new de("handleClickLink"),props:{handleClick:o((e,r,n)=>{var i,a;if(n.button!==0||!e.editable)return!1;let s=n.target,u=[];for(;s.nodeName!=="DIV";)u.push(s),s=s.parentNode;if(!u.find(p=>p.nodeName==="A"))return!1;let l=zl(e.state,t.type.name),c=n.target,f=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,d=(a=c==null?void 0:c.target)!==null&&a!==void 0?a:l.target;return c&&f?(window.open(f,d),!0):!1},"handleClick")}})}o(Urr,"clickHandler");function zrr(t){return new ae({key:new de("handlePasteLink"),props:{handlePaste:o((e,r,n)=>{let{state:i}=e,{selection:a}=i,{empty:s}=a;if(s)return!1;let u="";n.content.forEach(c=>{u+=c.textContent});let l=rc(u,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===u);return!u||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})},"handlePaste")}})}o(zrr,"pasteHandler");var Hrr=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function ga(t,e){let r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{let i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(Hrr,"").match(new RegExp("^(?:(?:".concat(r.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}o(ga,"isAllowedUri");var iZ=Je.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){u1(t);return}u1(t.scheme,t.optionalSlashes)})},onDestroy(){nZ()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:o((t,e)=>!!ga(t,e.protocols),"isAllowedUri"),validate:o(t=>!!t,"validate"),shouldAutoLink:o(t=>!!t,"shouldAutoLink")}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:o(t=>{let e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:o(r=>!!ga(r,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null},"getAttrs")}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:o(e=>!!ga(e,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ee(this.options.HTMLAttributes,t),0]:["a",ee(this.options.HTMLAttributes,ve(T({},t),{href:""})),0]},addCommands(){return{setLink:o(t=>({chain:e})=>{let{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:o(n=>!!ga(n,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},"setLink"),toggleLink:o(t=>({chain:e})=>{let{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:o(n=>!!ga(n,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run():!1},"toggleLink"),unsetLink:o(()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),"unsetLink")}},addPasteRules(){return[Kr({find:o(t=>{let e=[];if(t){let{protocols:r,defaultProtocol:n}=this.options,i=rc(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:o(s=>!!ga(s,r),"defaultValidate"),protocols:r,defaultProtocol:n}));i.length&&i.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},"find"),type:this.type,getAttributes:o(t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}},"getAttributes")})]},addProseMirrorPlugins(){let t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(jrr({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o(n=>this.options.isAllowedUri(n,{defaultValidate:o(i=>!!ga(i,e),"defaultValidate"),protocols:e,defaultProtocol:r}),"validate"),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Urr({type:this.type})),this.options.linkOnPaste&&t.push(zrr({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});var aZ=iZ.extend({parseHTML(){return[{tag:"a[href]"}]},addProseMirrorPlugins(){let t=[];return t.push(Vrr({type:this.type})),this.options.linkOnPaste&&t.push(Wrr({editor:this.editor,type:this.type})),t}});function Vrr(t){return new ae({key:new de("handleClickLink"),props:{handleClick:o((e,r,n)=>{var s;let i=zl(e.state,t.type.name);if(((s=n.target)==null?void 0:s.closest("a"))&&i.href){let u=new CustomEvent("custom-link-clicked",{detail:i.href});return document.dispatchEvent(u),!0}return!1},"handleClick")}})}o(Vrr,"customClickHandler");function Wrr(t){return new ae({key:new de("handlePasteLink"),props:{handlePaste:o((e,r,n)=>{let{state:i}=e,{selection:a}=i,{empty:s}=a;if(s)return!1;let u="";n.content.forEach(c=>{u+=c.textContent});let l=rc(u).find(c=>c.isLink&&c.value===u);return!u||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)},"handlePaste")}})}o(Wrr,"customPasteHandler");var ULr=Ov(Fh());var Krr=o((t,e,r)=>RegExp(e?t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):t,r?"gu":"gui"),"regex");function Grr(t,e,r){let n=[],i=[],a=[],s=0;if(!e)return{decorationsToReturn:Ge.empty,results:[]};t==null||t.descendants((u,l)=>{u.isText?i[s]?i[s]={text:i[s].text+u.text,pos:i[s].pos}:i[s]={text:"".concat(u.text),pos:l}:s+=1}),i=i.filter(Boolean);for(let u=0;u<i.length;u+=1){let{text:l,pos:c}=i[u],f=[...l.matchAll(e)];for(let d=0;d<f.length;d+=1){let p=f[d];if(p[0]==="")break;p.index!==void 0&&a.push({from:c+p.index,to:c+p.index+p[0].length})}}for(let u=0;u<a.length;u+=1){let l=a[u];n.push(At.inline(l.from,l.to,{class:r}))}return{decorationsToReturn:Ge.create(t,n),results:a}}o(Grr,"processSearches");var Jrr=o((t,e,r,{state:n})=>{let{from:i}=n.selection,a=null,s=0;for(;a==null&&s<r.length;)t?r[s].from>=i&&(a=r[s]):r[s].from>i&&(a=r[s]),s++;if(a==null&&e&&r.length>0&&(a=r[0]),a){let u=j.create(n.doc,a.from,a.to);n.tr.setSelection(u)}},"selectNext"),Yrr=o((t,{state:e})=>{let{from:r}=e.selection,n=null,i=t.length-1;for(;n==null&&i>=0;)t[i].from<r&&(n=t[i]),i--;if(n){let a=j.create(e.doc,n.from,n.to);e.tr.setSelection(a)}},"selectPrevious"),l1=Oe.create({name:"search",defaultOptions:{searchTerm:"",replaceTerm:"",results:[],searchResultClass:"search-result",caseSensitive:!1,disableRegex:!1},addCommands(){return{setSearchTerm:o(t=>({state:e,dispatch:r})=>(this.options.searchTerm=t,this.options.results=[],r(e.tr),!1),"setSearchTerm"),selectNext:o((t,e)=>({state:r,dispatch:n})=>{let{results:i}=this.options;return Jrr(t,e,i,{state:r}),n(r.tr),!1},"selectNext"),selectPrevious:o(()=>({state:t,dispatch:e})=>{let{results:r}=this.options;return Yrr(r,{state:t}),e(t.tr),!1},"selectPrevious")}},addProseMirrorPlugins(){let t=this;return[new ae({key:new de("search"),state:{init(){return Ge.empty},apply({doc:e,docChanged:r}){let{searchTerm:n,searchResultClass:i,disableRegex:a,caseSensitive:s}=t.options;if(n){let{decorationsToReturn:u,results:l}=Grr(e,Krr(n,a,s),i);return t.options.results=l,u}return Ge.empty}},props:{decorations(e){return this.getState(e)}}})]}});var oZ="",c1="done",sZ="disabled",uZ,lZ=jp.extend({addAttributes(){var t;return ve(T({},(t=this.parent)==null?void 0:t.call(this)),{htmlElementClass:{parseHTML:o(e=>e.getAttribute("class"),"parseHTML"),renderHTML:o(e=>({class:e.htmlElementClass}),"renderHTML")}})},addProseMirrorPlugins(){let t=[];return t.push(Xrr({editor:this.editor,type:this.type})),t}});function Xrr(t){return new ae({key:new de("handleClickLink"),props:{handleClick:o((e,r,n)=>{var c;let i=(c=n.target)==null?void 0:c.closest("p");if(i==null)return!1;let a=i.getBoundingClientRect(),s=(a.left+a.right)/2,u=n.clientX<s,l=t.editor;return u?(Qrr(l,r),l.isEditable&&l.commands.setTextSelection(r)):uZ()||etr(l,r),!0},"handleClick")}})}o(Xrr,"clickHandler");function Qrr(t,e){let r=lt(t,e),n=Er(r,i=>Ar(t,i));if(n.node!=null){let{node:i,pos:a}=n,s={htmlElementClass:Zrr(i.attrs.htmlElementClass)},u=t.state.tr;u.setNodeMarkup(a,void 0,T(T({},i.attrs),s)),t.view.dispatch(u)}}o(Qrr,"rotateNodeState");function Zrr(t){return t==c1?sZ:t==sZ?oZ:c1}o(Zrr,"rotateState");function etr(t,e){let r=lt(t,e),n=Er(r,i=>Ar(t,i));if(n.node!=null){let i=r.before(n.depth),a=r.after(n.depth),s=t.state.tr;s.delete(i,a),t.view.dispatch(s)}}o(etr,"deleteNodeAtPos");function cZ(t){uZ=t}o(cZ,"registerIsShoppingModeActive");function bv(t,e){let r=t.state.tr,n={htmlElementClass:e};d1(t).forEach(a=>{let{node:s,pos:u}=a;itr(s,e)||r.setNodeMarkup(u,void 0,T(T({},s.attrs),n))}),t.view.dispatch(r)}o(bv,"setCheckStateForAll");function fZ(t,e){t.view.focus();let r=t.view.state.selection.$anchor,n=Er(r,a=>Ar(t,a));if(!n)return;let i=h1(t,r,e,a=>Ar(t,a));i&&f1(t,n,i,!0)}o(fZ,"moveChecklistUp");function f1(t,e,r,n){let i=lt(t,e.start),a=i.before(i.depth),s=i.after(i.depth),l=lt(t,r.start).before(r.depth),c=t.state.tr;if(c.delete(a,s).insert(l,e.node),n){let f=j.near(c.doc.resolve(l));c.setSelection(f),c.scrollIntoView()}t.view.dispatch(c)}o(f1,"moveParagraphUp");function dZ(t,e){t.view.focus();let r=t.view.state.selection.$anchor,n=Er(r,a=>Ar(t,a));if(!n)return;let i=ntr(t,r,e,a=>Ar(t,a));if(i){let a=r.before(n.depth),s=r.after(n.depth),c=lt(t,i.start).after(i.depth)-n.node.nodeSize,f=t.state.tr;f.delete(a,s).insert(c,n.node);let d=j.near(f.doc.resolve(c));f.setSelection(d),f.scrollIntoView(),t.view.dispatch(f)}}o(dZ,"moveChecklistDown");function hZ(t){d1(t).forEach(r=>{let{node:n,pos:i}=r,a=lt(t,i+1),s=Er(a,c=>Ar(t,c)),u=vZ(n.attrs.htmlElementClass),l=h1(t,a,!1,c=>rtr(t,u,c));l&&f1(t,s,l,!1)})}o(hZ,"sortPendingToTop");function d1(t){let e=[];return t.view.state.doc.descendants((r,n,i)=>Ar(t,r)?(e.push({node:r,pos:n}),!1):!0),e}o(d1,"collectAllParagraphs");function rtr(t,e,r){if(!Ar(t,r))return!1;let n=vZ(r.attrs.htmlElementClass);return e<n}o(rtr,"shouldMovePendingToTop");function pZ(t){d1(t).forEach(r=>{let{node:n,pos:i}=r,a=lt(t,i+1),s=Er(a,l=>Ar(t,l)),u=h1(t,a,!1,l=>ttr(t,n,l));u&&f1(t,s,u,!1)})}o(pZ,"sortAlphabetical");function ttr(t,e,r){return Ar(t,r)?e.textContent.localeCompare(r.textContent,void 0,{sensitivity:"base"})<0:!1}o(ttr,"shouldMoveAlphabetical");function h1(t,e,r,n){let i=null,a=null,s=Er(e,u=>Ar(t,u));if(e.before(s.depth)>0&&(a=lt(t,e.before(s.depth)-1),i=Er(a,u=>n(u))),!r){let u=i,l=a;for(;u&&u.pos>0;)l=lt(t,u.pos-1),u=Er(l,c=>n(c)),u&&(i=u)}return i}o(h1,"searchPreviousParagraph");function ntr(t,e,r,n){let i=null,a=null,s=t.state.doc.content.size,u=Er(e,l=>Ar(t,l));if(e.after(u.depth)<s&&(a=lt(t,e.after(u.depth)+1),i=Er(a,l=>n(l))),!r){let l=i,c=a;for(;l&&c.after(u.depth)<s;)c=lt(t,c.after(u.depth)+1),l=Er(c,f=>n(f)),l&&(i=l)}return i}o(ntr,"searchFollowingParagraph");function itr(t,e){return t.attrs.htmlElementClass==e}o(itr,"isOfCheckState");function vZ(t){return t==null||t==oZ?0:t==c1?1:2}o(vZ,"numericCheckState");function atr(t,e){return t&&t.type==e}o(atr,"isNodeOfType");function Ar(t,e){return atr(e,t.view.state.schema.nodes.paragraph)}o(Ar,"isParagraph");function lt(t,e){return t.state.doc.resolve(e)}o(lt,"resolvePos");var p1=Oe.create({name:"scrollto",addCommands(){return{scrollToTop:o(()=>({tr:t,state:e,dispatch:r})=>{let n=j.atStart(t.doc).from;return gZ(n,t,e,r),!0},"scrollToTop"),scrollToBottom:o(()=>({tr:t,state:e,dispatch:r})=>{let n=j.atEnd(t.doc).to;return gZ(n,t,e,r),!0},"scrollToBottom")}},addKeyboardShortcuts(){return{"Control-Home":o(()=>this.editor.commands.scrollToTop(),"Control-Home"),"Control-End":o(()=>this.editor.commands.scrollToBottom(),"Control-End")}}});function gZ(t,e,r,n){let i=j.create(e.doc,t,t),a=r.selection.eq(i);n&&!a&&e.setSelection(i).scrollIntoView()}o(gZ,"scrollToPos");var str="\xA0\xA0",mZ=Oe.create({name:"tabHandler",addKeyboardShortcuts(){return{Tab:o(({editor:t})=>{if(!(t.isActive("bulletList")||t.isActive("orderedList")))return t.chain().command(({tr:r})=>(r.insertText(str),!0)).run(),!0},"Tab")}}});var otr="imageSizeUpdate",tc=["top-left","top-right","bottom-left","bottom-right"],SZ=Oe.create({name:"imageResizeHandler",defaultOptions:{types:["image"],layerStyle:{border:"1px solid #2a81ac"},handlerStyle:{width:"10px",height:"10px",background:"#2a81ac"},minImageSize:10},addGlobalAttributes(){return[{types:this.options.types,attributes:{width:{default:null,parseHTML:o(t=>t.style.width,"parseHTML"),renderHTML:o(t=>t.width?{style:"width: ".concat(t.width)}:{},"renderHTML")}}}]},onCreate({editor:t}){t.imgResizeStorage={resizeLayer:null,imgElement:null,imgNode:null};let e=t.options.element;e.style.position="relative"},onSelectionUpdate:o(function({editor:t,transaction:e}){let r=e.curSelection.node;if(!(r&&this.options.types.includes(r.type.name)))yZ(t);else{yZ(t);let i=ftr(this.options.layerStyle,this.options.handlerStyle),a=o(l=>{if(l.preventDefault(),!t.imgResizeStorage.imgElement)return;let c=l.target.classList,f=c.contains(tc[0]),d=c.contains(tc[1]),p=c.contains(tc[2]),v=c.contains(tc[3]);if(d||p||v){let g=l instanceof TouchEvent?l.touches[0].clientX:l.screenX,y=d||v?1:-1,q=ctr(S=>{S.preventDefault();let A=t.imgResizeStorage.imgElement.clientWidth,k=S instanceof TouchEvent?S.touches[0].clientX:S.screenX,N=k-g,L=A+y*N,re=t.imgResizeStorage.imgElement.getBoundingClientRect(),ue=ltr(re,L,this.options.minImageSize);t.imgResizeStorage.imgElement.style.width=ue.width+"px",t.imgResizeStorage.imgNode.attrs.width=ue.width+"px";let X=bZ(t.imgResizeStorage.imgElement,t.options.element);qZ(X,t.imgResizeStorage.resizeLayer),g=k});document.addEventListener("mousemove",q),document.addEventListener("touchmove",q);let b=o(S=>{S.preventDefault(),document.removeEventListener("mousemove",q),document.removeEventListener("touchmove",q),document.removeEventListener("mouseup",b),document.removeEventListener("touchend",b),t.imgResizeStorage.imgElement&&t.emit(otr,{editor:t})},"mouseUpListener");document.addEventListener("mouseup",b),document.addEventListener("touchend",b)}},"mouseDownListener");i.addEventListener("mousedown",a),i.addEventListener("touchstart",a);let u=t.view.domAtPos(e.curSelection.from).node.querySelector(".ProseMirror-selectednode");if(u.clientWidth==0||u.clientHeight==0)t.commands.selectParentNode();else{let l=bZ(u,t.options.element);qZ(l,i),utr(t,i,u,r)}}},"onSelectionUpdate")});function utr(t,e,r,n){let i=t.imgResizeStorage;i.resizeLayer=e,i.imgElement=r,i.imgNode=n,t.options.element.appendChild(e)}o(utr,"showResizeLayer");function yZ(t){let e=t.imgResizeStorage;e.resizeLayer&&(t.options.element.removeChild(e.resizeLayer),e.resizeLayer=null),e.imgElement=null,e.imgNode=null}o(yZ,"hideResizeLayer");function qZ(t,e){let r={top:t.top+"px",left:t.left+"px",width:t.width+"px",height:t.height+"px"};v1(r,e)}o(qZ,"applyStylePosition");function v1(t,e){Object.entries(t).forEach(([r,n])=>{e.style[r]=n})}o(v1,"applyStyleOptions");function bZ(t,e){let r=t.getBoundingClientRect(),n=e.getBoundingClientRect();return new DOMRect(r.x-n.x+e.scrollTop,r.y-n.y+e.scrollLeft,t.clientWidth,t.clientHeight)}o(bZ,"getRelativeRect");function ltr(t,e,r){let n=t.width>=t.height,i=0;return n?(i=t.height/t.width*e,i<r&&(i=r,e=t.width/t.height*i)):(e<r&&(e=r),i=t.height/t.width*e),new DOMRect(t.x,t.y,e,i)}o(ltr,"resizeImgRect");function ctr(t,e=40){let r=new WeakMap;return function(...n){let i=Date.now(),a=r.get(t)||0;i-a>=e&&(r.set(t,i),t.apply(this,n))}}o(ctr,"throttle");function ftr(t,e){let r=document.createElement("div");r.className="resize-layer",r.style.display="block",r.style.position="absolute",v1(t,r);let n=document.createDocumentFragment();for(let i of tc){let a=document.createElement("div");a.className=i,a.style.position="absolute",v1(e,a);let s=i.split("-"),u=s[0],l=s[1];a.style[u]=-(parseInt(a.style.height)/2)+"px",a.style[l]=-(parseInt(a.style.width)/2)+"px",(i==="bottom-left"||i==="top-right")&&(a.style.cursor="sw-resize"),i==="bottom-right"&&(a.style.cursor="se-resize"),n.appendChild(a)}return r.appendChild(n),r}o(ftr,"createResizeLayer");function H2r(t){try{return new Ul({element:t,extensions:[SQ,EQ,xQ,IQ,AQ,II,RQ,RI,BI.configure({levels:[1,2,3]}),LI.configure({depth:200}),NQ.configure({inline:!0}),SZ,DQ,aZ.configure({autolink:!1,openOnClick:!1}),LQ,BQ,jp,_Q,FI,$I,jQ,l1.configure({searchResultClass:"search-result",caseSensitive:!1,disableRegex:!0}),p1,mZ],editable:!1})}catch(e){return e.message+" "+e.stack}}o(H2r,"initializeEditor");function V2r(t){try{return new Ul({element:t,extensions:[II,RI,BI.configure({levels:[1,2]}),LI.configure({depth:200}),lZ,FI,$I,l1.configure({searchResultClass:"search-result",caseSensitive:!1,disableRegex:!0}),p1],editable:!1})}catch(e){return e.message+" "+e.stack}}o(V2r,"initializeChecklist");function W2r(t){cZ(t)}o(W2r,"registerIsShoppingModeActive");function K2r(t,e,r){switch(e.toLowerCase()){case"heading":t.chain().focus().toggleHeading({level:r}).run();break;case"codeblock":t.chain().focus().toggleCodeBlock().run();break;case"blockquote":t.chain().focus().toggleBlockquote().run();break;case"bulletlist":t.chain().focus().toggleBulletList().run();break;case"orderedlist":t.chain().focus().toggleOrderedList().run();break;default:t.chain().focus().toggleMark(e).run();break}}o(K2r,"toggleFormat");function G2r(t,e,r){return e=dtr(e),t.isActive(e,r)}o(G2r,"isFormatActive");function dtr(t){let e=t.toLowerCase();switch(e){case"codeblock":return"codeBlock";case"bulletlist":return"bulletList";case"orderedlist":return"orderedList";default:return e}}o(dtr,"getCaseSensitiveFormat");function J2r(t,e,r=2){(e===null||e.length<r)&&(e=""),t.commands.setSearchTerm(e)}o(J2r,"searchAndHighlight");function Y2r(t){t.chain().selectNext(!0,!0).run(),g1(t)}o(Y2r,"selectNextWhileTyping");function X2r(t){t.chain().focus().selectNext(!1,!1).run(),g1(t)}o(X2r,"selectNext");function Q2r(t){t.chain().focus().selectPrevious().run(),g1(t)}o(Q2r,"selectPrevious");function g1(t){var r;let{node:e}=t.view.domAtPos(t.state.selection.anchor);e&&((r=e.scrollIntoView)==null||r.call(e,!1))}o(g1,"scrollToSelection");function Z2r(t){let{from:e,to:r,empty:n}=t.state.selection;return n?null:t.state.doc.textBetween(e,r," ")}o(Z2r,"getSelectedText");function eFr(t){let e=t.view.state.selection,r=e.$from.parent.textContent,n=e.$from.parentOffset,i=0;for(;n-i-1>=0&&!EZ(r[n-i-1]);)i++;let a=e.$to.parentOffset,s=0;for(n!=a&&s--;a+s<r.length&&!EZ(r[a+s]);)s++;return t.commands.setTextSelection({from:e.$from.pos-i,to:e.$to.pos+s}),r.substring(n-i,a+s)}o(eFr,"selectWordAtCurrentPosition");function rFr(t){bv(t,"")}o(rFr,"setCheckStateForAllToTodo");function tFr(t){bv(t,"done")}o(tFr,"setCheckStateForAllToDone");function nFr(t){bv(t,"disabled")}o(nFr,"setCheckStateForAllToDisabled");function iFr(t,e,r){e?fZ(t,r):dZ(t,r)}o(iFr,"moveChecklist");function aFr(t){hZ(t)}o(aFr,"sortChecklistPendingToTop");function sFr(t){pZ(t)}o(sFr,"sortChecklistAlphabetical");function EZ(t){return/[\s]/.test(t)}o(EZ,"isWhitespace");export{Z2r as getSelectedText,V2r as initializeChecklist,H2r as initializeEditor,G2r as isFormatActive,iFr as moveChecklist,W2r as registerIsShoppingModeActive,J2r as searchAndHighlight,X2r as selectNext,Y2r as selectNextWhileTyping,Q2r as selectPrevious,eFr as selectWordAtCurrentPosition,nFr as setCheckStateForAllToDisabled,tFr as setCheckStateForAllToDone,rFr as setCheckStateForAllToTodo,sFr as sortChecklistAlphabetical,aFr as sortChecklistPendingToTop,K2r as toggleFormat};
