var rte=Object.create;var Ic=Object.defineProperty,tte=Object.defineProperties,nte=Object.getOwnPropertyDescriptor,ite=Object.getOwnPropertyDescriptors,ate=Object.getOwnPropertyNames,Oc=Object.getOwnPropertySymbols,ote=Object.getPrototypeOf,ag=Object.prototype.hasOwnProperty,GA=Object.prototype.propertyIsEnumerable;var ig=(t,e,r)=>e in t?Ic(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T=(t,e)=>{for(var r in e||(e={}))ag.call(e,r)&&ig(t,r,e[r]);if(Oc)for(var r of Oc(e))GA.call(e,r)&&ig(t,r,e[r]);return t},ue=(t,e)=>tte(t,ite(e)),o=(t,e)=>Ic(t,"name",{value:e,configurable:!0});var gs=(t,e)=>{var r={};for(var n in t)ag.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Oc)for(var n of Oc(t))e.indexOf(n)<0&&GA.call(t,n)&&(r[n]=t[n]);return r};var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ste=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ate(e))!ag.call(t,i)&&i!==r&&Ic(t,i,{get:()=>e[i],enumerable:!(n=nte(e,i))||n.enumerable});return t};var og=(t,e,r)=>(r=t!=null?rte(ote(t)):{},ste(e||!t||!t.__esModule?Ic(r,"default",{value:t,enumerable:!0}):r,t));var sg=(t,e,r)=>ig(t,typeof e!="symbol"?e+"":e,r);var R=h((ug,JA)=>{"use strict";var ms=o(function(t){return t&&t.Math===Math&&t},"check");JA.exports=ms(typeof globalThis=="object"&&globalThis)||ms(typeof window=="object"&&window)||ms(typeof self=="object"&&self)||ms(typeof global=="object"&&global)||ms(typeof ug=="object"&&ug)||(function(){return this})()||Function("return this")()});var x=h((asr,YA)=>{"use strict";YA.exports=function(t){try{return!!t()}catch(e){return!0}}});var N=h((osr,XA)=>{"use strict";var ute=x();XA.exports=!ute(function(){return Object.defineProperty({},1,{get:o(function(){return 7},"get")})[1]!==7})});var wa=h((usr,QA)=>{"use strict";var lte=x();QA.exports=!lte(function(){var t=(function(){}).bind();return typeof t!="function"||t.hasOwnProperty("prototype")})});var w=h((lsr,ZA)=>{"use strict";var cte=wa(),wc=Function.prototype.call;ZA.exports=cte?wc.bind(wc):function(){return wc.apply(wc,arguments)}});var Aa=h(t1=>{"use strict";var e1={}.propertyIsEnumerable,r1=Object.getOwnPropertyDescriptor,fte=r1&&!e1.call({1:2},1);t1.f=fte?o(function(e){var r=r1(this,e);return!!r&&r.enumerable},"propertyIsEnumerable"):e1});var vr=h((dsr,n1)=>{"use strict";n1.exports=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}});var E=h((hsr,o1)=>{"use strict";var i1=wa(),a1=Function.prototype,lg=a1.call,dte=i1&&a1.bind.bind(lg,lg);o1.exports=i1?dte:function(t){return function(){return lg.apply(t,arguments)}}});var je=h((psr,u1)=>{"use strict";var s1=E(),hte=s1({}.toString),pte=s1("".slice);u1.exports=function(t){return pte(hte(t),8,-1)}});var Ht=h((vsr,l1)=>{"use strict";var vte=E(),gte=x(),mte=je(),cg=Object,yte=vte("".split);l1.exports=gte(function(){return!cg("z").propertyIsEnumerable(0)})?function(t){return mte(t)==="String"?yte(t,""):cg(t)}:cg});var gr=h((gsr,c1)=>{"use strict";c1.exports=function(t){return t==null}});var he=h((msr,f1)=>{"use strict";var qte=gr(),Ste=TypeError;f1.exports=function(t){if(qte(t))throw new Ste("Can't call method on "+t);return t}});var Ce=h((ysr,d1)=>{"use strict";var bte=Ht(),Ete=he();d1.exports=function(t){return bte(Ete(t))}});var G=h((qsr,h1)=>{"use strict";var fg=typeof document=="object"&&document.all;h1.exports=typeof fg>"u"&&fg!==void 0?function(t){return typeof t=="function"||t===fg}:function(t){return typeof t=="function"}});var L=h((Ssr,p1)=>{"use strict";var xte=G();p1.exports=function(t){return typeof t=="object"?t!==null:xte(t)}});var j=h((bsr,v1)=>{"use strict";var dg=R(),Tte=G(),Ote=o(function(t){return Tte(t)?t:void 0},"aFunction");v1.exports=function(t,e){return arguments.length<2?Ote(dg[t]):dg[t]&&dg[t][e]}});var Ue=h((xsr,g1)=>{"use strict";var Ite=E();g1.exports=Ite({}.isPrototypeOf)});var et=h((Tsr,q1)=>{"use strict";var wte=R(),m1=wte.navigator,y1=m1&&m1.userAgent;q1.exports=y1?String(y1):""});var tt=h((Osr,O1)=>{"use strict";var T1=R(),hg=et(),S1=T1.process,b1=T1.Deno,E1=S1&&S1.versions||b1&&b1.version,x1=E1&&E1.v8,rt,Ac;x1&&(rt=x1.split("."),Ac=rt[0]>0&&rt[0]<4?1:+(rt[0]+rt[1]));!Ac&&hg&&(rt=hg.match(/Edge\/(\d+)/),(!rt||rt[1]>=74)&&(rt=hg.match(/Chrome\/(\d+)/),rt&&(Ac=+rt[1])));O1.exports=Ac});var xn=h((Isr,w1)=>{"use strict";var I1=tt(),Ate=x(),Cte=R(),Rte=Cte.String;w1.exports=!!Object.getOwnPropertySymbols&&!Ate(function(){var t=Symbol("symbol detection");return!Rte(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&I1&&I1<41})});var pg=h((wsr,A1)=>{"use strict";var Mte=xn();A1.exports=Mte&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var zt=h((Asr,C1)=>{"use strict";var kte=j(),Pte=G(),Nte=Ue(),Dte=pg(),Lte=Object;C1.exports=Dte?function(t){return typeof t=="symbol"}:function(t){var e=kte("Symbol");return Pte(e)&&Nte(e.prototype,Lte(t))}});var Tn=h((Csr,R1)=>{"use strict";var Fte=String;R1.exports=function(t){try{return Fte(t)}catch(e){return"Object"}}});var U=h((Rsr,M1)=>{"use strict";var _te=G(),Bte=Tn(),$te=TypeError;M1.exports=function(t){if(_te(t))return t;throw new $te(Bte(t)+" is not a function")}});var Ee=h((Msr,k1)=>{"use strict";var jte=U(),Ute=gr();k1.exports=function(t,e){var r=t[e];return Ute(r)?void 0:jte(r)}});var yg=h((ksr,P1)=>{"use strict";var vg=w(),gg=G(),mg=L(),Hte=TypeError;P1.exports=function(t,e){var r,n;if(e==="string"&&gg(r=t.toString)&&!mg(n=vg(r,t))||gg(r=t.valueOf)&&!mg(n=vg(r,t))||e!=="string"&&gg(r=t.toString)&&!mg(n=vg(r,t)))return n;throw new Hte("Can't convert object to primitive value")}});var ee=h((Psr,N1)=>{"use strict";N1.exports=!1});var Cc=h((Nsr,L1)=>{"use strict";var D1=R(),zte=Object.defineProperty;L1.exports=function(t,e){try{zte(D1,t,{value:e,configurable:!0,writable:!0})}catch(r){D1[t]=e}return e}});var ys=h((Dsr,B1)=>{"use strict";var Vte=ee(),Wte=R(),Kte=Cc(),F1="__core-js_shared__",_1=B1.exports=Wte[F1]||Kte(F1,{});(_1.versions||(_1.versions=[])).push({version:"3.45.1",mode:Vte?"pure":"global",copyright:"\xA9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.45.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var Vt=h((Lsr,j1)=>{"use strict";var $1=ys();j1.exports=function(t,e){return $1[t]||($1[t]=e||{})}});var Q=h((Fsr,U1)=>{"use strict";var Gte=he(),Jte=Object;U1.exports=function(t){return Jte(Gte(t))}});var J=h((_sr,H1)=>{"use strict";var Yte=E(),Xte=Q(),Qte=Yte({}.hasOwnProperty);H1.exports=Object.hasOwn||o(function(e,r){return Qte(Xte(e),r)},"hasOwn")});var On=h(($sr,z1)=>{"use strict";var Zte=E(),ene=0,rne=Math.random(),tne=Zte(1.1.toString);z1.exports=function(t){return"Symbol("+(t===void 0?"":t)+")_"+tne(++ene+rne,36)}});var $=h((jsr,W1)=>{"use strict";var nne=R(),ine=Vt(),V1=J(),ane=On(),one=xn(),sne=pg(),Ca=nne.Symbol,qg=ine("wks"),une=sne?Ca.for||Ca:Ca&&Ca.withoutSetter||ane;W1.exports=function(t){return V1(qg,t)||(qg[t]=one&&V1(Ca,t)?Ca[t]:une("Symbol."+t)),qg[t]}});var qs=h((Usr,J1)=>{"use strict";var lne=w(),K1=L(),G1=zt(),cne=Ee(),fne=yg(),dne=$(),hne=TypeError,pne=dne("toPrimitive");J1.exports=function(t,e){if(!K1(t)||G1(t))return t;var r=cne(t,pne),n;if(r){if(e===void 0&&(e="default"),n=lne(r,t,e),!K1(n)||G1(n))return n;throw new hne("Can't convert object to primitive value")}return e===void 0&&(e="number"),fne(t,e)}});var mt=h((Hsr,Y1)=>{"use strict";var vne=qs(),gne=zt();Y1.exports=function(t){var e=vne(t,"string");return gne(e)?e:e+""}});var Ss=h((zsr,Q1)=>{"use strict";var mne=R(),X1=L(),Sg=mne.document,yne=X1(Sg)&&X1(Sg.createElement);Q1.exports=function(t){return yne?Sg.createElement(t):{}}});var bg=h((Vsr,Z1)=>{"use strict";var qne=N(),Sne=x(),bne=Ss();Z1.exports=!qne&&!Sne(function(){return Object.defineProperty(bne("div"),"a",{get:o(function(){return 7},"get")}).a!==7})});var Le=h(rC=>{"use strict";var Ene=N(),xne=w(),Tne=Aa(),One=vr(),Ine=Ce(),wne=mt(),Ane=J(),Cne=bg(),eC=Object.getOwnPropertyDescriptor;rC.f=Ene?eC:o(function(e,r){if(e=Ine(e),r=wne(r),Cne)try{return eC(e,r)}catch(n){}if(Ane(e,r))return One(!xne(Tne.f,e,r),e[r])},"getOwnPropertyDescriptor")});var Eg=h((Jsr,tC)=>{"use strict";var Rne=N(),Mne=x();tC.exports=Rne&&Mne(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})});var C=h((Ysr,nC)=>{"use strict";var kne=L(),Pne=String,Nne=TypeError;nC.exports=function(t){if(kne(t))return t;throw new Nne(Pne(t)+" is not an object")}});var fe=h(aC=>{"use strict";var Dne=N(),Lne=bg(),Fne=Eg(),Rc=C(),iC=mt(),_ne=TypeError,xg=Object.defineProperty,Bne=Object.getOwnPropertyDescriptor,Tg="enumerable",Og="configurable",Ig="writable";aC.f=Dne?Fne?o(function(e,r,n){if(Rc(e),r=iC(r),Rc(n),typeof e=="function"&&r==="prototype"&&"value"in n&&Ig in n&&!n[Ig]){var i=Bne(e,r);i&&i[Ig]&&(e[r]=n.value,n={configurable:Og in n?n[Og]:i[Og],enumerable:Tg in n?n[Tg]:i[Tg],writable:!1})}return xg(e,r,n)},"defineProperty"):xg:o(function(e,r,n){if(Rc(e),r=iC(r),Rc(n),Lne)try{return xg(e,r,n)}catch(i){}if("get"in n||"set"in n)throw new _ne("Accessors not supported");return"value"in n&&(e[r]=n.value),e},"defineProperty")});var Re=h((Zsr,oC)=>{"use strict";var $ne=N(),jne=fe(),Une=vr();oC.exports=$ne?function(t,e,r){return jne.f(t,e,Une(1,r))}:function(t,e,r){return t[e]=r,t}});var gi=h((eur,uC)=>{"use strict";var wg=N(),Hne=J(),sC=Function.prototype,zne=wg&&Object.getOwnPropertyDescriptor,Ag=Hne(sC,"name"),Vne=Ag&&o((function(){}),"something").name==="something",Wne=Ag&&(!wg||wg&&zne(sC,"name").configurable);uC.exports={EXISTS:Ag,PROPER:Vne,CONFIGURABLE:Wne}});var bs=h((tur,lC)=>{"use strict";var Kne=E(),Gne=G(),Cg=ys(),Jne=Kne(Function.toString);Gne(Cg.inspectSource)||(Cg.inspectSource=function(t){return Jne(t)});lC.exports=Cg.inspectSource});var Rg=h((nur,fC)=>{"use strict";var Yne=R(),Xne=G(),cC=Yne.WeakMap;fC.exports=Xne(cC)&&/native code/.test(String(cC))});var Es=h((iur,hC)=>{"use strict";var Qne=Vt(),Zne=On(),dC=Qne("keys");hC.exports=function(t){return dC[t]||(dC[t]=Zne(t))}});var Ra=h((aur,pC)=>{"use strict";pC.exports={}});var ie=h((our,mC)=>{"use strict";var eie=Rg(),gC=R(),rie=L(),tie=Re(),Mg=J(),kg=ys(),nie=Es(),iie=Ra(),vC="Object already initialized",Pg=gC.TypeError,aie=gC.WeakMap,Mc,xs,kc,oie=o(function(t){return kc(t)?xs(t):Mc(t,{})},"enforce"),sie=o(function(t){return function(e){var r;if(!rie(e)||(r=xs(e)).type!==t)throw new Pg("Incompatible receiver, "+t+" required");return r}},"getterFor");eie||kg.state?(nt=kg.state||(kg.state=new aie),nt.get=nt.get,nt.has=nt.has,nt.set=nt.set,Mc=o(function(t,e){if(nt.has(t))throw new Pg(vC);return e.facade=t,nt.set(t,e),e},"set"),xs=o(function(t){return nt.get(t)||{}},"get"),kc=o(function(t){return nt.has(t)},"has")):(mi=nie("state"),iie[mi]=!0,Mc=o(function(t,e){if(Mg(t,mi))throw new Pg(vC);return e.facade=t,tie(t,mi,e),e},"set"),xs=o(function(t){return Mg(t,mi)?t[mi]:{}},"get"),kc=o(function(t){return Mg(t,mi)},"has"));var nt,mi;mC.exports={set:Mc,get:xs,has:kc,enforce:oie,getterFor:sie}});var Ts=h((uur,SC)=>{"use strict";var Dg=E(),uie=x(),lie=G(),Pc=J(),Ng=N(),cie=gi().CONFIGURABLE,fie=bs(),qC=ie(),die=qC.enforce,hie=qC.get,yC=String,Nc=Object.defineProperty,pie=Dg("".slice),vie=Dg("".replace),gie=Dg([].join),mie=Ng&&!uie(function(){return Nc(function(){},"length",{value:8}).length!==8}),yie=String(String).split("String"),qie=SC.exports=function(t,e,r){pie(yC(e),0,7)==="Symbol("&&(e="["+vie(yC(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Pc(t,"name")||cie&&t.name!==e)&&(Ng?Nc(t,"name",{value:e,configurable:!0}):t.name=e),mie&&r&&Pc(r,"arity")&&t.length!==r.arity&&Nc(t,"length",{value:r.arity});try{r&&Pc(r,"constructor")&&r.constructor?Ng&&Nc(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var n=die(t);return Pc(n,"source")||(n.source=gie(yie,typeof e=="string"?e:"")),t};Function.prototype.toString=qie(o(function(){return lie(this)&&hie(this).source||fie(this)},"toString"),"toString")});var oe=h((cur,bC)=>{"use strict";var Sie=G(),bie=fe(),Eie=Ts(),xie=Cc();bC.exports=function(t,e,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:e;if(Sie(r)&&Eie(r,a,n),n.global)i?t[e]=r:xie(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch(s){}i?t[e]=r:bie.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}});var Lg=h((fur,EC)=>{"use strict";var Tie=Math.ceil,Oie=Math.floor;EC.exports=Math.trunc||o(function(e){var r=+e;return(r>0?Oie:Tie)(r)},"trunc")});var pe=h((hur,xC)=>{"use strict";var Iie=Lg();xC.exports=function(t){var e=+t;return e!==e||e===0?0:Iie(e)}});var it=h((pur,TC)=>{"use strict";var wie=pe(),Aie=Math.max,Cie=Math.min;TC.exports=function(t,e){var r=wie(t);return r<0?Aie(r+e,0):Cie(r,e)}});var mr=h((vur,OC)=>{"use strict";var Rie=pe(),Mie=Math.min;OC.exports=function(t){var e=Rie(t);return e>0?Mie(e,9007199254740991):0}});var re=h((gur,IC)=>{"use strict";var kie=mr();IC.exports=function(t){return kie(t.length)}});var Ma=h((mur,AC)=>{"use strict";var Pie=Ce(),Nie=it(),Die=re(),wC=o(function(t){return function(e,r,n){var i=Pie(e),a=Die(i);if(a===0)return!t&&-1;var s=Nie(n,a),u;if(t&&r!==r){for(;a>s;)if(u=i[s++],u!==u)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},"createMethod");AC.exports={includes:wC(!0),indexOf:wC(!1)}});var _g=h((qur,RC)=>{"use strict";var Lie=E(),Fg=J(),Fie=Ce(),_ie=Ma().indexOf,Bie=Ra(),CC=Lie([].push);RC.exports=function(t,e){var r=Fie(t),n=0,i=[],a;for(a in r)!Fg(Bie,a)&&Fg(r,a)&&CC(i,a);for(;e.length>n;)Fg(r,a=e[n++])&&(~_ie(i,a)||CC(i,a));return i}});var Dc=h((Sur,MC)=>{"use strict";MC.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var In=h(kC=>{"use strict";var $ie=_g(),jie=Dc(),Uie=jie.concat("length","prototype");kC.f=Object.getOwnPropertyNames||o(function(e){return $ie(e,Uie)},"getOwnPropertyNames")});var Os=h(PC=>{"use strict";PC.f=Object.getOwnPropertySymbols});var Lc=h((Tur,NC)=>{"use strict";var Hie=j(),zie=E(),Vie=In(),Wie=Os(),Kie=C(),Gie=zie([].concat);NC.exports=Hie("Reflect","ownKeys")||o(function(e){var r=Vie.f(Kie(e)),n=Wie.f;return n?Gie(r,n(e)):r},"ownKeys")});var yi=h((Iur,LC)=>{"use strict";var DC=J(),Jie=Lc(),Yie=Le(),Xie=fe();LC.exports=function(t,e,r){for(var n=Jie(e),i=Xie.f,a=Yie.f,s=0;s<n.length;s++){var u=n[s];!DC(t,u)&&!(r&&DC(r,u))&&i(t,u,a(e,u))}}});var ka=h((wur,FC)=>{"use strict";var Qie=x(),Zie=G(),eae=/#|\.prototype\./,Is=o(function(t,e){var r=tae[rae(t)];return r===iae?!0:r===nae?!1:Zie(e)?Qie(e):!!e},"isForced"),rae=Is.normalize=function(t){return String(t).replace(eae,".").toLowerCase()},tae=Is.data={},nae=Is.NATIVE="N",iae=Is.POLYFILL="P";FC.exports=Is});var m=h((Cur,_C)=>{"use strict";var Fc=R(),aae=Le().f,oae=Re(),sae=oe(),uae=Cc(),lae=yi(),cae=ka();_C.exports=function(t,e){var r=t.target,n=t.global,i=t.stat,a,s,u,l,c,f;if(n?s=Fc:i?s=Fc[r]||uae(r,{}):s=Fc[r]&&Fc[r].prototype,s)for(u in e){if(c=e[u],t.dontCallGetSet?(f=aae(s,u),l=f&&f.value):l=s[u],a=cae(n?u:r+(i?".":"#")+u,t.forced),!a&&l!==void 0){if(typeof c==typeof l)continue;lae(c,l)}(t.sham||l&&l.sham)&&oae(c,"sham",!0),sae(s,u,c,t)}}});var _c=h((Rur,$C)=>{"use strict";var fae=$(),dae=fae("toStringTag"),BC={};BC[dae]="z";$C.exports=String(BC)==="[object z]"});var ar=h((Mur,jC)=>{"use strict";var hae=_c(),pae=G(),Bc=je(),vae=$(),gae=vae("toStringTag"),mae=Object,yae=Bc((function(){return arguments})())==="Arguments",qae=o(function(t,e){try{return t[e]}catch(r){}},"tryGet");jC.exports=hae?Bc:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=qae(e=mae(t),gae))=="string"?r:yae?Bc(e):(n=Bc(e))==="Object"&&pae(e.callee)?"Arguments":n}});var W=h((Pur,UC)=>{"use strict";var Sae=ar(),bae=String;UC.exports=function(t){if(Sae(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return bae(t)}});var qi=h((Nur,HC)=>{"use strict";var Eae=_g(),xae=Dc();HC.exports=Object.keys||o(function(e){return Eae(e,xae)},"keys")});var $c=h(zC=>{"use strict";var Tae=N(),Oae=Eg(),Iae=fe(),wae=C(),Aae=Ce(),Cae=qi();zC.f=Tae&&!Oae?Object.defineProperties:o(function(e,r){wae(e);for(var n=Aae(r),i=Cae(r),a=i.length,s=0,u;a>s;)Iae.f(e,u=i[s++],n[u]);return e},"defineProperties")});var Bg=h((_ur,VC)=>{"use strict";var Rae=j();VC.exports=Rae("document","documentElement")});var xe=h((Bur,QC)=>{"use strict";var Mae=C(),kae=$c(),WC=Dc(),Pae=Ra(),Nae=Bg(),Dae=Ss(),Lae=Es(),KC=">",GC="<",jg="prototype",Ug="script",YC=Lae("IE_PROTO"),$g=o(function(){},"EmptyConstructor"),XC=o(function(t){return GC+Ug+KC+t+GC+"/"+Ug+KC},"scriptTag"),JC=o(function(t){t.write(XC("")),t.close();var e=t.parentWindow.Object;return t=null,e},"NullProtoObjectViaActiveX"),Fae=o(function(){var t=Dae("iframe"),e="java"+Ug+":",r;return t.style.display="none",Nae.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(XC("document.F=Object")),r.close(),r.F},"NullProtoObjectViaIFrame"),jc,Uc=o(function(){try{jc=new ActiveXObject("htmlfile")}catch(e){}Uc=typeof document<"u"?document.domain&&jc?JC(jc):Fae():JC(jc);for(var t=WC.length;t--;)delete Uc[jg][WC[t]];return Uc()},"NullProtoObject");Pae[YC]=!0;QC.exports=Object.create||o(function(e,r){var n;return e!==null?($g[jg]=Mae(e),n=new $g,$g[jg]=null,n[YC]=e):n=Uc(),r===void 0?n:kae.f(n,r)},"create")});var yr=h((jur,ZC)=>{"use strict";var _ae=E();ZC.exports=_ae([].slice)});var Hc=h((Uur,tR)=>{"use strict";var Bae=je(),$ae=Ce(),eR=In().f,jae=yr(),rR=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Uae=o(function(t){try{return eR(t)}catch(e){return jae(rR)}},"getWindowNames");tR.exports.f=o(function(e){return rR&&Bae(e)==="Window"?Uae(e):eR($ae(e))},"getOwnPropertyNames")});var ve=h((zur,iR)=>{"use strict";var nR=Ts(),Hae=fe();iR.exports=function(t,e,r){return r.get&&nR(r.get,e,{getter:!0}),r.set&&nR(r.set,e,{setter:!0}),Hae.f(t,e,r)}});var Hg=h(aR=>{"use strict";var zae=$();aR.f=zae});var ws=h((Wur,oR)=>{"use strict";var Vae=R();oR.exports=Vae});var ye=h((Kur,uR)=>{"use strict";var sR=ws(),Wae=J(),Kae=Hg(),Gae=fe().f;uR.exports=function(t){var e=sR.Symbol||(sR.Symbol={});Wae(e,t)||Gae(e,t,{value:Kae.f(t)})}});var zg=h((Gur,lR)=>{"use strict";var Jae=w(),Yae=j(),Xae=$(),Qae=oe();lR.exports=function(){var t=Yae("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=Xae("toPrimitive");e&&!e[n]&&Qae(e,n,function(i){return Jae(r,this)},{arity:1})}});var or=h((Jur,fR)=>{"use strict";var Zae=fe().f,eoe=J(),roe=$(),cR=roe("toStringTag");fR.exports=function(t,e,r){t&&!r&&(t=t.prototype),t&&!eoe(t,cR)&&Zae(t,cR,{configurable:!0,value:e})}});var wn=h((Yur,dR)=>{"use strict";var toe=je(),noe=E();dR.exports=function(t){if(toe(t)==="Function")return noe(t)}});var le=h((Xur,pR)=>{"use strict";var hR=wn(),ioe=U(),aoe=wa(),ooe=hR(hR.bind);pR.exports=function(t,e){return ioe(t),e===void 0?t:aoe?ooe(t,e):function(){return t.apply(e,arguments)}}});var at=h((Qur,vR)=>{"use strict";var soe=je();vR.exports=Array.isArray||o(function(e){return soe(e)==="Array"},"isArray")});var ot=h((elr,SR)=>{"use strict";var uoe=E(),loe=x(),gR=G(),coe=ar(),foe=j(),doe=bs(),mR=o(function(){},"noop"),yR=foe("Reflect","construct"),Vg=/^\s*(?:class|function)\b/,hoe=uoe(Vg.exec),poe=!Vg.test(mR),As=o(function(e){if(!gR(e))return!1;try{return yR(mR,[],e),!0}catch(r){return!1}},"isConstructor"),qR=o(function(e){if(!gR(e))return!1;switch(coe(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return poe||!!hoe(Vg,doe(e))}catch(r){return!0}},"isConstructor");qR.sham=!0;SR.exports=!yR||loe(function(){var t;return As(As.call)||!As(Object)||!As(function(){t=!0})||t})?qR:As});var TR=h((tlr,xR)=>{"use strict";var bR=at(),voe=ot(),goe=L(),moe=$(),yoe=moe("species"),ER=Array;xR.exports=function(t){var e;return bR(t)&&(e=t.constructor,voe(e)&&(e===ER||bR(e.prototype))?e=void 0:goe(e)&&(e=e[yoe],e===null&&(e=void 0))),e===void 0?ER:e}});var Pa=h((nlr,OR)=>{"use strict";var qoe=TR();OR.exports=function(t,e){return new(qoe(t))(e===0?0:e)}});var Te=h((ilr,wR)=>{"use strict";var Soe=le(),boe=E(),Eoe=Ht(),xoe=Q(),Toe=re(),Ooe=Pa(),IR=boe([].push),An=o(function(t){var e=t===1,r=t===2,n=t===3,i=t===4,a=t===6,s=t===7,u=t===5||a;return function(l,c,f,d){for(var p=xoe(l),v=Eoe(p),g=Toe(v),y=Soe(c,f),q=0,S=d||Ooe,b=e?S(l,g):r||s?S(l,0):void 0,A,k;g>q;q++)if((u||q in v)&&(A=v[q],k=y(A,q,p),t))if(e)b[q]=k;else if(k)switch(t){case 3:return!0;case 5:return A;case 6:return q;case 2:IR(b,A)}else switch(t){case 4:return!1;case 7:IR(b,A)}return a?-1:n||i?i:b}},"createMethod");wR.exports={forEach:An(0),map:An(1),filter:An(2),some:An(3),every:An(4),find:An(5),findIndex:An(6),filterReject:An(7)}});var zR=h(()=>{"use strict";var zc=m(),Ms=R(),em=w(),Ioe=E(),woe=ee(),Na=N(),Da=xn(),Aoe=x(),Fe=J(),Coe=Ue(),Jg=C(),Vc=Ce(),rm=mt(),Roe=W(),Yg=vr(),La=xe(),RR=qi(),Moe=In(),MR=Hc(),koe=Os(),kR=Le(),PR=fe(),Poe=$c(),NR=Aa(),Wg=oe(),Noe=ve(),tm=Vt(),Doe=Es(),DR=Ra(),AR=On(),Loe=$(),Foe=Hg(),_oe=ye(),Boe=zg(),$oe=or(),LR=ie(),Wc=Te().forEach,qr=Doe("hidden"),Kc="Symbol",Rs="prototype",joe=LR.set,CR=LR.getterFor(Kc),Nr=Object[Rs],Si=Ms.Symbol,Cs=Si&&Si[Rs],Uoe=Ms.RangeError,Hoe=Ms.TypeError,Kg=Ms.QObject,FR=kR.f,bi=PR.f,_R=MR.f,zoe=NR.f,BR=Ioe([].push),Wt=tm("symbols"),ks=tm("op-symbols"),Voe=tm("wks"),Xg=!Kg||!Kg[Rs]||!Kg[Rs].findChild,$R=o(function(t,e,r){var n=FR(Nr,e);n&&delete Nr[e],bi(t,e,r),n&&t!==Nr&&bi(Nr,e,n)},"fallbackDefineProperty"),Qg=Na&&Aoe(function(){return La(bi({},"a",{get:o(function(){return bi(this,"a",{value:7}).a},"get")})).a!==7})?$R:bi,Gg=o(function(t,e){var r=Wt[t]=La(Cs);return joe(r,{type:Kc,tag:t,description:e}),Na||(r.description=e),r},"wrap"),Gc=o(function(e,r,n){e===Nr&&Gc(ks,r,n),Jg(e);var i=rm(r);return Jg(n),Fe(Wt,i)?(n.enumerable?(Fe(e,qr)&&e[qr][i]&&(e[qr][i]=!1),n=La(n,{enumerable:Yg(0,!1)})):(Fe(e,qr)||bi(e,qr,Yg(1,La(null))),e[qr][i]=!0),Qg(e,i,n)):bi(e,i,n)},"defineProperty"),nm=o(function(e,r){Jg(e);var n=Vc(r),i=RR(n).concat(HR(n));return Wc(i,function(a){(!Na||em(Zg,n,a))&&Gc(e,a,n[a])}),e},"defineProperties"),Woe=o(function(e,r){return r===void 0?La(e):nm(La(e),r)},"create"),Zg=o(function(e){var r=rm(e),n=em(zoe,this,r);return this===Nr&&Fe(Wt,r)&&!Fe(ks,r)?!1:n||!Fe(this,r)||!Fe(Wt,r)||Fe(this,qr)&&this[qr][r]?n:!0},"propertyIsEnumerable"),jR=o(function(e,r){var n=Vc(e),i=rm(r);if(!(n===Nr&&Fe(Wt,i)&&!Fe(ks,i))){var a=FR(n,i);return a&&Fe(Wt,i)&&!(Fe(n,qr)&&n[qr][i])&&(a.enumerable=!0),a}},"getOwnPropertyDescriptor"),UR=o(function(e){var r=_R(Vc(e)),n=[];return Wc(r,function(i){!Fe(Wt,i)&&!Fe(DR,i)&&BR(n,i)}),n},"getOwnPropertyNames"),HR=o(function(t){var e=t===Nr,r=_R(e?ks:Vc(t)),n=[];return Wc(r,function(i){Fe(Wt,i)&&(!e||Fe(Nr,i))&&BR(n,Wt[i])}),n},"$getOwnPropertySymbols");Da||(Si=o(function(){if(Coe(Cs,this))throw new Hoe("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Roe(arguments[0]),r=AR(e),n=o(function(i){var a=this===void 0?Ms:this;a===Nr&&em(n,ks,i),Fe(a,qr)&&Fe(a[qr],r)&&(a[qr][r]=!1);var s=Yg(1,i);try{Qg(a,r,s)}catch(u){if(!(u instanceof Uoe))throw u;$R(a,r,s)}},"setter");return Na&&Xg&&Qg(Nr,r,{configurable:!0,set:n}),Gg(r,e)},"Symbol"),Cs=Si[Rs],Wg(Cs,"toString",o(function(){return CR(this).tag},"toString")),Wg(Si,"withoutSetter",function(t){return Gg(AR(t),t)}),NR.f=Zg,PR.f=Gc,Poe.f=nm,kR.f=jR,Moe.f=MR.f=UR,koe.f=HR,Foe.f=function(t){return Gg(Loe(t),t)},Na&&(Noe(Cs,"description",{configurable:!0,get:o(function(){return CR(this).description},"description")}),woe||Wg(Nr,"propertyIsEnumerable",Zg,{unsafe:!0})));zc({global:!0,constructor:!0,wrap:!0,forced:!Da,sham:!Da},{Symbol:Si});Wc(RR(Voe),function(t){_oe(t)});zc({target:Kc,stat:!0,forced:!Da},{useSetter:o(function(){Xg=!0},"useSetter"),useSimple:o(function(){Xg=!1},"useSimple")});zc({target:"Object",stat:!0,forced:!Da,sham:!Na},{create:Woe,defineProperty:Gc,defineProperties:nm,getOwnPropertyDescriptor:jR});zc({target:"Object",stat:!0,forced:!Da},{getOwnPropertyNames:UR});Boe();$oe(Si,Kc);DR[qr]=!0});var im=h((llr,VR)=>{"use strict";var Koe=xn();VR.exports=Koe&&!!Symbol.for&&!!Symbol.keyFor});var KR=h(()=>{"use strict";var Goe=m(),Joe=j(),Yoe=J(),Xoe=W(),WR=Vt(),Qoe=im(),am=WR("string-to-symbol-registry"),Zoe=WR("symbol-to-string-registry");Goe({target:"Symbol",stat:!0,forced:!Qoe},{for:o(function(t){var e=Xoe(t);if(Yoe(am,e))return am[e];var r=Joe("Symbol")(e);return am[e]=r,Zoe[r]=e,r},"for")})});var JR=h(()=>{"use strict";var ese=m(),rse=J(),tse=zt(),nse=Tn(),ise=Vt(),ase=im(),GR=ise("symbol-to-string-registry");ese({target:"Symbol",stat:!0,forced:!ase},{keyFor:o(function(e){if(!tse(e))throw new TypeError(nse(e)+" is not a symbol");if(rse(GR,e))return GR[e]},"keyFor")})});var He=h((glr,ZR)=>{"use strict";var ose=wa(),QR=Function.prototype,YR=QR.apply,XR=QR.call;ZR.exports=typeof Reflect=="object"&&Reflect.apply||(ose?XR.bind(YR):function(){return XR.apply(YR,arguments)})});var om=h((mlr,nM)=>{"use strict";var sse=E(),eM=at(),use=G(),rM=je(),lse=W(),tM=sse([].push);nM.exports=function(t){if(use(t))return t;if(eM(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];typeof i=="string"?tM(r,i):(typeof i=="number"||rM(i)==="Number"||rM(i)==="String")&&tM(r,lse(i))}var a=r.length,s=!0;return function(u,l){if(s)return s=!1,l;if(eM(this))return l;for(var c=0;c<a;c++)if(r[c]===u)return l}}}});var sm=h(()=>{"use strict";var cse=m(),fM=j(),dM=He(),fse=w(),Ps=E(),hM=x(),iM=G(),aM=zt(),pM=yr(),dse=om(),hse=xn(),pse=String,Cn=fM("JSON","stringify"),Jc=Ps(/./.exec),oM=Ps("".charAt),vse=Ps("".charCodeAt),gse=Ps("".replace),mse=Ps(1.1.toString),yse=/[\uD800-\uDFFF]/g,sM=/^[\uD800-\uDBFF]$/,uM=/^[\uDC00-\uDFFF]$/,lM=!hse||hM(function(){var t=fM("Symbol")("stringify detection");return Cn([t])!=="[null]"||Cn({a:t})!=="{}"||Cn(Object(t))!=="{}"}),cM=hM(function(){return Cn("\uDF06\uD834")!=='"\\udf06\\ud834"'||Cn("\uDEAD")!=='"\\udead"'}),qse=o(function(t,e){var r=pM(arguments),n=dse(e);if(!(!iM(n)&&(t===void 0||aM(t))))return r[1]=function(i,a){if(iM(n)&&(a=fse(n,this,pse(i),a)),!aM(a))return a},dM(Cn,null,r)},"stringifyWithSymbolsFix"),Sse=o(function(t,e,r){var n=oM(r,e-1),i=oM(r,e+1);return Jc(sM,t)&&!Jc(uM,i)||Jc(uM,t)&&!Jc(sM,n)?"\\u"+mse(vse(t,0),16):t},"fixIllFormed");Cn&&cse({target:"JSON",stat:!0,arity:3,forced:lM||cM},{stringify:o(function(e,r,n){var i=pM(arguments),a=dM(lM?qse:Cn,null,i);return cM&&typeof a=="string"?gse(a,yse,Sse):a},"stringify")})});var gM=h(()=>{"use strict";var bse=m(),Ese=xn(),xse=x(),vM=Os(),Tse=Q(),Ose=!Ese||xse(function(){vM.f(1)});bse({target:"Object",stat:!0,forced:Ose},{getOwnPropertySymbols:o(function(e){var r=vM.f;return r?r(Tse(e)):[]},"getOwnPropertySymbols")})});var mM=h(()=>{"use strict";zR();KR();JR();sm();gM()});var TM=h(()=>{"use strict";var Ise=m(),wse=N(),Ase=R(),Yc=E(),Cse=J(),Rse=G(),Mse=Ue(),kse=W(),Pse=ve(),Nse=yi(),Kt=Ase.Symbol,Ei=Kt&&Kt.prototype;wse&&Rse(Kt)&&(!("description"in Ei)||Kt().description!==void 0)&&(um={},Ns=o(function(){var e=arguments.length<1||arguments[0]===void 0?void 0:kse(arguments[0]),r=Mse(Ei,this)?new Kt(e):e===void 0?Kt():Kt(e);return e===""&&(um[r]=!0),r},"Symbol"),Nse(Ns,Kt),Ns.prototype=Ei,Ei.constructor=Ns,yM=String(Kt("description detection"))==="Symbol(description detection)",qM=Yc(Ei.valueOf),SM=Yc(Ei.toString),bM=/^Symbol\((.*)\)[^)]+$/,EM=Yc("".replace),xM=Yc("".slice),Pse(Ei,"description",{configurable:!0,get:o(function(){var e=qM(this);if(Cse(um,e))return"";var r=SM(e),n=yM?xM(r,7,-1):EM(r,bM,"$1");return n===""?void 0:n},"description")}),Ise({global:!0,constructor:!0,forced:!0},{Symbol:Ns}));var um,Ns,yM,qM,SM,bM,EM,xM});var cm=h(()=>{"use strict";var Dse=R(),Lse=ye(),Fse=fe().f,_se=Le().f,lm=Dse.Symbol;Lse("asyncDispose");lm&&(Ds=_se(lm,"asyncDispose"),Ds.enumerable&&Ds.configurable&&Ds.writable&&Fse(lm,"asyncDispose",{value:Ds.value,enumerable:!1,configurable:!1,writable:!1}));var Ds});var OM=h(()=>{"use strict";var Bse=ye();Bse("asyncIterator")});var dm=h(()=>{"use strict";var $se=R(),jse=ye(),Use=fe().f,Hse=Le().f,fm=$se.Symbol;jse("dispose");fm&&(Ls=Hse(fm,"dispose"),Ls.enumerable&&Ls.configurable&&Ls.writable&&Use(fm,"dispose",{value:Ls.value,enumerable:!1,configurable:!1,writable:!1}));var Ls});var IM=h(()=>{"use strict";var zse=ye();zse("hasInstance")});var wM=h(()=>{"use strict";var Vse=ye();Vse("isConcatSpreadable")});var AM=h(()=>{"use strict";var Wse=ye();Wse("iterator")});var CM=h(()=>{"use strict";var Kse=ye();Kse("match")});var RM=h(()=>{"use strict";var Gse=ye();Gse("matchAll")});var MM=h(()=>{"use strict";var Jse=ye();Jse("replace")});var kM=h(()=>{"use strict";var Yse=ye();Yse("search")});var PM=h(()=>{"use strict";var Xse=ye();Xse("species")});var NM=h(()=>{"use strict";var Qse=ye();Qse("split")});var DM=h(()=>{"use strict";var Zse=ye(),eue=zg();Zse("toPrimitive");eue()});var LM=h(()=>{"use strict";var rue=j(),tue=ye(),nue=or();tue("toStringTag");nue(rue("Symbol"),"Symbol")});var FM=h(()=>{"use strict";var iue=ye();iue("unscopables")});var Fs=h((acr,_M)=>{"use strict";var aue=E(),oue=U();_M.exports=function(t,e,r){try{return aue(oue(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(n){}}});var hm=h((ocr,BM)=>{"use strict";var sue=L();BM.exports=function(t){return sue(t)||t===null}});var pm=h((scr,$M)=>{"use strict";var uue=hm(),lue=String,cue=TypeError;$M.exports=function(t){if(uue(t))return t;throw new cue("Can't set "+lue(t)+" as a prototype")}});var Dr=h((ucr,jM)=>{"use strict";var fue=Fs(),due=L(),hue=he(),pue=pm();jM.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var t=!1,e={},r;try{r=fue(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch(n){}return o(function(i,a){return hue(i),pue(a),due(i)&&(t?r(i,a):i.__proto__=a),i},"setPrototypeOf")})():void 0)});var vm=h((ccr,UM)=>{"use strict";var vue=fe().f;UM.exports=function(t,e,r){r in t||vue(t,r,{configurable:!0,get:o(function(){return e[r]},"get"),set:o(function(n){e[r]=n},"set")})}});var Rn=h((dcr,zM)=>{"use strict";var gue=G(),mue=L(),HM=Dr();zM.exports=function(t,e,r){var n,i;return HM&&gue(n=e.constructor)&&n!==r&&mue(i=n.prototype)&&i!==r.prototype&&HM(t,i),t}});var xi=h((hcr,VM)=>{"use strict";var yue=W();VM.exports=function(t,e){return t===void 0?arguments.length<2?"":e:yue(t)}});var gm=h((pcr,WM)=>{"use strict";var que=L(),Sue=Re();WM.exports=function(t,e){que(e)&&"cause"in e&&Sue(t,"cause",e.cause)}});var Xc=h((vcr,JM)=>{"use strict";var bue=E(),KM=Error,Eue=bue("".replace),xue=(function(t){return String(new KM(t).stack)})("zxcasd"),GM=/\n\s*at [^:]*:[^\n]*/,Tue=GM.test(xue);JM.exports=function(t,e){if(Tue&&typeof t=="string"&&!KM.prepareStackTrace)for(;e--;)t=Eue(t,GM,"");return t}});var mm=h((gcr,YM)=>{"use strict";var Oue=x(),Iue=vr();YM.exports=!Oue(function(){var t=new Error("a");return"stack"in t?(Object.defineProperty(t,"stack",Iue(1,7)),t.stack!==7):!0})});var Qc=h((mcr,QM)=>{"use strict";var wue=Re(),Aue=Xc(),Cue=mm(),XM=Error.captureStackTrace;QM.exports=function(t,e,r,n){Cue&&(XM?XM(t,e):wue(t,"stack",Aue(r,n)))}});var ym=h((ycr,ak)=>{"use strict";var ZM=j(),Rue=J(),ek=Re(),Mue=Ue(),rk=Dr(),tk=yi(),nk=vm(),kue=Rn(),Pue=xi(),Nue=gm(),Due=Qc(),Lue=N(),ik=ee();ak.exports=function(t,e,r,n){var i="stackTraceLimit",a=n?2:1,s=t.split("."),u=s[s.length-1],l=ZM.apply(null,s);if(l){var c=l.prototype;if(!ik&&Rue(c,"cause")&&delete c.cause,!r)return l;var f=ZM("Error"),d=e(function(p,v){var g=Pue(n?v:p,void 0),y=n?new l(p):new l;return g!==void 0&&ek(y,"message",g),Due(y,d,y.stack,2),this&&Mue(c,this)&&kue(y,this,d),arguments.length>a&&Nue(y,arguments[a]),y});if(d.prototype=c,u!=="Error"?rk?rk(d,f):tk(d,f,{name:!0}):Lue&&i in l&&(nk(d,l,i),nk(d,l,"prepareStackTrace")),tk(d,l),!ik)try{c.name!==u&&ek(c,"name",u),c.constructor=d}catch(p){}return d}}});var lk=h(()=>{"use strict";var sk=m(),Fue=R(),yt=He(),uk=ym(),qm="WebAssembly",ok=Fue[qm],Zc=new Error("e",{cause:7}).cause!==7,Ti=o(function(t,e){var r={};r[t]=uk(t,e,Zc),sk({global:!0,constructor:!0,arity:1,forced:Zc},r)},"exportGlobalErrorCauseWrapper"),Sm=o(function(t,e){if(ok&&ok[t]){var r={};r[t]=uk(qm+"."+t,e,Zc),sk({target:qm,stat:!0,constructor:!0,arity:1,forced:Zc},r)}},"exportWebAssemblyErrorCauseWrapper");Ti("Error",function(t){return o(function(r){return yt(t,this,arguments)},"Error")});Ti("EvalError",function(t){return o(function(r){return yt(t,this,arguments)},"EvalError")});Ti("RangeError",function(t){return o(function(r){return yt(t,this,arguments)},"RangeError")});Ti("ReferenceError",function(t){return o(function(r){return yt(t,this,arguments)},"ReferenceError")});Ti("SyntaxError",function(t){return o(function(r){return yt(t,this,arguments)},"SyntaxError")});Ti("TypeError",function(t){return o(function(r){return yt(t,this,arguments)},"TypeError")});Ti("URIError",function(t){return o(function(r){return yt(t,this,arguments)},"URIError")});Sm("CompileError",function(t){return o(function(r){return yt(t,this,arguments)},"CompileError")});Sm("LinkError",function(t){return o(function(r){return yt(t,this,arguments)},"LinkError")});Sm("RuntimeError",function(t){return o(function(r){return yt(t,this,arguments)},"RuntimeError")})});var xm=h(()=>{"use strict";var _ue=m(),fk=j(),Bue=L(),$ue=ar(),jue=x(),dk="Error",Em="DOMException",Uue=Object.setPrototypeOf||{}.__proto__,ck=fk(Em),bm=Error,ef=bm.isError,Hue=!ef||!Uue||jue(function(){return ck&&!ef(new ck(Em))||!ef(new bm(dk,{cause:o(function(){},"cause")}))||ef(fk("Object","create")(bm.prototype))});_ue({target:"Error",stat:!0,sham:!0,forced:Hue},{isError:o(function(e){if(!Bue(e))return!1;var r=$ue(e);return r===dk||r===Em},"isError")})});var Tm=h((Ocr,pk)=>{"use strict";var zue=N(),Vue=x(),Wue=C(),hk=xi(),rf=Error.prototype.toString,Kue=Vue(function(){if(zue){var t=Object.create(Object.defineProperty({},"name",{get:o(function(){return this===t},"get")}));if(rf.call(t)!=="true")return!0}return rf.call({message:1,name:2})!=="2: 1"||rf.call({})!=="Error"});pk.exports=Kue?o(function(){var e=Wue(this),r=hk(e.name,"Error"),n=hk(e.message);return r?n?r+": "+n:r:n},"toString"):rf});var mk=h(()=>{"use strict";var Gue=oe(),vk=Tm(),gk=Error.prototype;gk.toString!==vk&&Gue(gk,"toString",vk)});var tf=h((Ccr,yk)=>{"use strict";var Jue=x();yk.exports=!Jue(function(){function t(){}return o(t,"F"),t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})});var Me=h((Mcr,Sk)=>{"use strict";var Yue=J(),Xue=G(),Que=Q(),Zue=Es(),ele=tf(),qk=Zue("IE_PROTO"),Om=Object,rle=Om.prototype;Sk.exports=ele?Om.getPrototypeOf:function(t){var e=Que(t);if(Yue(e,qk))return e[qk];var r=e.constructor;return Xue(r)&&e instanceof r?r.prototype:e instanceof Om?rle:null}});var Oi=h((kcr,bk)=>{"use strict";bk.exports={}});var nf=h((Pcr,Ek)=>{"use strict";var tle=$(),nle=Oi(),ile=tle("iterator"),ale=Array.prototype;Ek.exports=function(t){return t!==void 0&&(nle.Array===t||ale[ile]===t)}});var qt=h((Ncr,Tk)=>{"use strict";var ole=ar(),xk=Ee(),sle=gr(),ule=Oi(),lle=$(),cle=lle("iterator");Tk.exports=function(t){if(!sle(t))return xk(t,cle)||xk(t,"@@iterator")||ule[ole(t)]}});var Gt=h((Dcr,Ok)=>{"use strict";var fle=w(),dle=U(),hle=C(),ple=Tn(),vle=qt(),gle=TypeError;Ok.exports=function(t,e){var r=arguments.length<2?vle(t):e;if(dle(r))return hle(fle(r,t));throw new gle(ple(t)+" is not iterable")}});var Oe=h((Lcr,wk)=>{"use strict";var mle=w(),Ik=C(),yle=Ee();wk.exports=function(t,e,r){var n,i;Ik(t);try{if(n=yle(t,"return"),!n){if(e==="throw")throw r;return r}n=mle(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return Ik(n),r}});var qe=h((Fcr,Mk)=>{"use strict";var qle=le(),Sle=w(),ble=C(),Ele=Tn(),xle=nf(),Tle=re(),Ak=Ue(),Ole=Gt(),Ile=qt(),Ck=Oe(),wle=TypeError,af=o(function(t,e){this.stopped=t,this.result=e},"Result"),Rk=af.prototype;Mk.exports=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),u=!!(r&&r.INTERRUPTED),l=qle(e,n),c,f,d,p,v,g,y,q=o(function(b){return c&&Ck(c,"normal"),new af(!0,b)},"stop"),S=o(function(b){return i?(ble(b),u?l(b[0],b[1],q):l(b[0],b[1])):u?l(b,q):l(b)},"callFn");if(a)c=t.iterator;else if(s)c=t;else{if(f=Ile(t),!f)throw new wle(Ele(t)+" is not iterable");if(xle(f)){for(d=0,p=Tle(t);p>d;d++)if(v=S(t[d]),v&&Ak(Rk,v))return v;return new af(!1)}c=Ole(t,f)}for(g=a?t.next:c.next;!(y=Sle(g,c)).done;){try{v=S(y.value)}catch(b){Ck(c,"throw",b)}if(typeof v=="object"&&v&&Ak(Rk,v))return v}return new af(!1)}});var Pk=h(()=>{"use strict";var Ale=m(),Cle=Ue(),Rle=Me(),of=Dr(),Mle=yi(),kk=xe(),Im=Re(),wm=vr(),kle=gm(),Ple=Qc(),Nle=qe(),Dle=xi(),Lle=$(),Fle=Lle("toStringTag"),sf=Error,_le=[].push,Fa=o(function(e,r){var n=Cle(Am,this),i;of?i=of(new sf,n?Rle(this):Am):(i=n?this:kk(Am),Im(i,Fle,"Error")),r!==void 0&&Im(i,"message",Dle(r)),Ple(i,Fa,i.stack,1),arguments.length>2&&kle(i,arguments[2]);var a=[];return Nle(e,_le,{that:a}),Im(i,"errors",a),i},"AggregateError");of?of(Fa,sf):Mle(Fa,sf,{name:!0});var Am=Fa.prototype=kk(sf.prototype,{constructor:wm(1,Fa),message:wm(1,""),name:wm(1,"AggregateError")});Ale({global:!0,constructor:!0,arity:2},{AggregateError:Fa})});var Cm=h(()=>{"use strict";Pk()});var Fk=h(()=>{"use strict";var Ble=m(),$le=j(),jle=He(),Nk=x(),Ule=ym(),Rm="AggregateError",Dk=$le(Rm),Lk=!Nk(function(){return Dk([1]).errors[0]!==1})&&Nk(function(){return Dk([1],Rm,{cause:7}).cause!==7});Ble({global:!0,constructor:!0,arity:2,forced:Lk},{AggregateError:Ule(Rm,function(t){return o(function(r,n){return jle(t,this,arguments)},"AggregateError")},Lk,!0)})});var km=h(()=>{"use strict";var Hle=m(),zle=R(),Vle=Ue(),_k=Me(),lf=Dr(),Wle=yi(),Bk=xe(),uf=Re(),Mm=vr(),Kle=Qc(),Gle=xi(),Jle=$(),Yle=x(),Xle=ee(),_a=zle.SuppressedError,Qle=Jle("toStringTag"),cf=Error,Zle=!!_a&&_a.length!==3,ece=!!_a&&Yle(function(){return new _a(1,2,3,{cause:4}).cause===4}),ff=Zle||ece,Ii=o(function(e,r,n){var i=Vle(_s,this),a;return lf?a=ff&&(!i||_k(this)===_s)?new _a:lf(new cf,i?_k(this):_s):(a=i?this:Bk(_s),uf(a,Qle,"Error")),n!==void 0&&uf(a,"message",Gle(n)),Kle(a,Ii,a.stack,1),uf(a,"error",e),uf(a,"suppressed",r),a},"SuppressedError");lf?lf(Ii,cf):Wle(Ii,cf,{name:!0});var _s=Ii.prototype=ff?_a.prototype:Bk(cf.prototype,{constructor:Mm(1,Ii),message:Mm(1,""),name:Mm(1,"SuppressedError")});ff&&!Xle&&(_s.constructor=Ii);Hle({global:!0,constructor:!0,arity:3,forced:ff},{SuppressedError:Ii})});var Se=h((Ycr,$k)=>{"use strict";var rce=$(),tce=xe(),nce=fe().f,Pm=rce("unscopables"),Nm=Array.prototype;Nm[Pm]===void 0&&nce(Nm,Pm,{configurable:!0,value:tce(null)});$k.exports=function(t){Nm[Pm][t]=!0}});var Dm=h(()=>{"use strict";var ice=m(),ace=Q(),oce=re(),sce=pe(),uce=Se();ice({target:"Array",proto:!0},{at:o(function(e){var r=ace(this),n=oce(r),i=sce(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]},"at")});uce("at")});var Mn=h((efr,jk)=>{"use strict";var lce=TypeError,cce=9007199254740991;jk.exports=function(t){if(t>cce)throw lce("Maximum allowed index exceeded");return t}});var Lr=h((rfr,Uk)=>{"use strict";var fce=N(),dce=fe(),hce=vr();Uk.exports=function(t,e,r){fce?dce.f(t,e,hce(0,r)):t[e]=r}});var Ba=h((tfr,Hk)=>{"use strict";var pce=x(),vce=$(),gce=tt(),mce=vce("species");Hk.exports=function(t){return gce>=51||!pce(function(){var e=[],r=e.constructor={};return r[mce]=function(){return{foo:1}},e[t](Boolean).foo!==1})}});var Kk=h(()=>{"use strict";var yce=m(),qce=x(),Sce=at(),bce=L(),Ece=Q(),xce=re(),zk=Mn(),Vk=Lr(),Tce=Pa(),Oce=Ba(),Ice=$(),wce=tt(),Wk=Ice("isConcatSpreadable"),Ace=wce>=51||!qce(function(){var t=[];return t[Wk]=!1,t.concat()[0]!==t}),Cce=o(function(t){if(!bce(t))return!1;var e=t[Wk];return e!==void 0?!!e:Sce(t)},"isConcatSpreadable"),Rce=!Ace||!Oce("concat");yce({target:"Array",proto:!0,arity:1,forced:Rce},{concat:o(function(e){var r=Ece(this),n=Tce(r,0),i=0,a,s,u,l,c;for(a=-1,u=arguments.length;a<u;a++)if(c=a===-1?r:arguments[a],Cce(c))for(l=xce(c),zk(i+l),s=0;s<l;s++,i++)s in c&&Vk(n,i,c[s]);else zk(i+1),Vk(n,i++,c);return n.length=i,n},"concat")})});var Bs=h((ofr,Jk)=>{"use strict";var Gk=Tn(),Mce=TypeError;Jk.exports=function(t,e){if(!delete t[e])throw new Mce("Cannot delete property "+Gk(e)+" of "+Gk(t))}});var Fm=h((sfr,Yk)=>{"use strict";var kce=Q(),Lm=it(),Pce=re(),Nce=Bs(),Dce=Math.min;Yk.exports=[].copyWithin||o(function(e,r){var n=kce(this),i=Pce(n),a=Lm(e,i),s=Lm(r,i),u=arguments.length>2?arguments[2]:void 0,l=Dce((u===void 0?i:Lm(u,i))-s,i-a),c=1;for(s<a&&a<s+l&&(c=-1,s+=l-1,a+=l-1);l-- >0;)s in n?n[a]=n[s]:Nce(n,a),a+=c,s+=c;return n},"copyWithin")});var Xk=h(()=>{"use strict";var Lce=m(),Fce=Fm(),_ce=Se();Lce({target:"Array",proto:!0},{copyWithin:Fce});_ce("copyWithin")});var Fr=h((ffr,Qk)=>{"use strict";var Bce=x();Qk.exports=function(t,e){var r=[][t];return!!r&&Bce(function(){r.call(null,e||function(){return 1},1)})}});var Zk=h(()=>{"use strict";var $ce=m(),jce=Te().every,Uce=Fr(),Hce=Uce("every");$ce({target:"Array",proto:!0,forced:!Hce},{every:o(function(e){return jce(this,e,arguments.length>1?arguments[1]:void 0)},"every")})});var df=h((vfr,rP)=>{"use strict";var zce=Q(),eP=it(),Vce=re();rP.exports=o(function(e){for(var r=zce(this),n=Vce(r),i=arguments.length,a=eP(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,u=s===void 0?n:eP(s,n);u>a;)r[a++]=e;return r},"fill")});var tP=h(()=>{"use strict";var Wce=m(),Kce=df(),Gce=Se();Wce({target:"Array",proto:!0},{fill:Kce});Gce("fill")});var nP=h(()=>{"use strict";var Jce=m(),Yce=Te().filter,Xce=Ba(),Qce=Xce("filter");Jce({target:"Array",proto:!0,forced:!Qce},{filter:o(function(e){return Yce(this,e,arguments.length>1?arguments[1]:void 0)},"filter")})});var aP=h(()=>{"use strict";var Zce=m(),efe=Te().find,rfe=Se(),_m="find",iP=!0;_m in[]&&Array(1)[_m](function(){iP=!1});Zce({target:"Array",proto:!0,forced:iP},{find:o(function(e){return efe(this,e,arguments.length>1?arguments[1]:void 0)},"find")});rfe(_m)});var sP=h(()=>{"use strict";var tfe=m(),nfe=Te().findIndex,ife=Se(),Bm="findIndex",oP=!0;Bm in[]&&Array(1)[Bm](function(){oP=!1});tfe({target:"Array",proto:!0,forced:oP},{findIndex:o(function(e){return nfe(this,e,arguments.length>1?arguments[1]:void 0)},"findIndex")});ife(Bm)});var $s=h((Afr,lP)=>{"use strict";var afe=le(),ofe=Ht(),sfe=Q(),ufe=re(),uP=o(function(t){var e=t===1;return function(r,n,i){for(var a=sfe(r),s=ofe(a),u=ufe(s),l=afe(n,i),c,f;u-- >0;)if(c=s[u],f=l(c,u,a),f)switch(t){case 0:return c;case 1:return u}return e?-1:void 0}},"createMethod");lP.exports={findLast:uP(0),findLastIndex:uP(1)}});var $m=h(()=>{"use strict";var lfe=m(),cfe=$s().findLast,ffe=Se();lfe({target:"Array",proto:!0},{findLast:o(function(e){return cfe(this,e,arguments.length>1?arguments[1]:void 0)},"findLast")});ffe("findLast")});var jm=h(()=>{"use strict";var dfe=m(),hfe=$s().findLastIndex,pfe=Se();dfe({target:"Array",proto:!0},{findLastIndex:o(function(e){return hfe(this,e,arguments.length>1?arguments[1]:void 0)},"findLastIndex")});pfe("findLastIndex")});var Um=h((Lfr,fP)=>{"use strict";var vfe=at(),gfe=re(),mfe=Mn(),yfe=le(),cP=o(function(t,e,r,n,i,a,s,u){for(var l=i,c=0,f=s?yfe(s,u):!1,d,p;c<n;)c in r&&(d=f?f(r[c],c,e):r[c],a>0&&vfe(d)?(p=gfe(d),l=cP(t,e,d,p,l,a-1)-1):(mfe(l+1),t[l]=d),l++),c++;return l},"flattenIntoArray");fP.exports=cP});var dP=h(()=>{"use strict";var qfe=m(),Sfe=Um(),bfe=Q(),Efe=re(),xfe=pe(),Tfe=Pa();qfe({target:"Array",proto:!0},{flat:o(function(){var e=arguments.length?arguments[0]:void 0,r=bfe(this),n=Efe(r),i=Tfe(r,0);return i.length=Sfe(i,r,r,n,0,e===void 0?1:xfe(e)),i},"flat")})});var hP=h(()=>{"use strict";var Ofe=m(),Ife=Um(),wfe=U(),Afe=Q(),Cfe=re(),Rfe=Pa();Ofe({target:"Array",proto:!0},{flatMap:o(function(e){var r=Afe(this),n=Cfe(r),i;return wfe(e),i=Rfe(r,0),i.length=Ife(i,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),i},"flatMap")})});var Hm=h((zfr,pP)=>{"use strict";var Mfe=Te().forEach,kfe=Fr(),Pfe=kfe("forEach");pP.exports=Pfe?[].forEach:o(function(e){return Mfe(this,e,arguments.length>1?arguments[1]:void 0)},"forEach")});var gP=h(()=>{"use strict";var Nfe=m(),vP=Hm();Nfe({target:"Array",proto:!0,forced:[].forEach!==vP},{forEach:vP})});var hf=h((Gfr,mP)=>{"use strict";var Dfe=C(),Lfe=Oe();mP.exports=function(t,e,r,n){try{return n?e(Dfe(r)[0],r[1]):e(r)}catch(i){Lfe(t,"throw",i)}}});var zm=h((Jfr,SP)=>{"use strict";var Ffe=le(),_fe=w(),Bfe=Q(),$fe=hf(),jfe=nf(),Ufe=ot(),Hfe=re(),yP=Lr(),zfe=Gt(),Vfe=qt(),qP=Array;SP.exports=o(function(e){var r=Bfe(e),n=Ufe(this),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0;s&&(a=Ffe(a,i>2?arguments[2]:void 0));var u=Vfe(r),l=0,c,f,d,p,v,g;if(u&&!(this===qP&&jfe(u)))for(f=n?new this:[],p=zfe(r,u),v=p.next;!(d=_fe(v,p)).done;l++)g=s?$fe(p,a,[d.value,l],!0):d.value,yP(f,l,g);else for(c=Hfe(r),f=n?new this(c):qP(c);c>l;l++)g=s?a(r[l],l):r[l],yP(f,l,g);return f.length=l,f},"from")});var js=h((Xfr,TP)=>{"use strict";var Wfe=$(),EP=Wfe("iterator"),xP=!1;try{bP=0,Vm={next:o(function(){return{done:!!bP++}},"next"),return:o(function(){xP=!0},"return")},Vm[EP]=function(){return this},Array.from(Vm,function(){throw 2})}catch(t){}var bP,Vm;TP.exports=function(t,e){try{if(!e&&!xP)return!1}catch(i){return!1}var r=!1;try{var n={};n[EP]=function(){return{next:o(function(){return{done:r=!0}},"next")}},t(n)}catch(i){}return r}});var OP=h(()=>{"use strict";var Kfe=m(),Gfe=zm(),Jfe=js(),Yfe=!Jfe(function(t){Array.from(t)});Kfe({target:"Array",stat:!0,forced:Yfe},{from:Gfe})});var IP=h(()=>{"use strict";var Xfe=m(),Qfe=Ma().includes,Zfe=x(),ede=Se(),rde=Zfe(function(){return!Array(1).includes()});Xfe({target:"Array",proto:!0,forced:rde},{includes:o(function(e){return Qfe(this,e,arguments.length>1?arguments[1]:void 0)},"includes")});ede("includes")});var AP=h(()=>{"use strict";var tde=m(),nde=wn(),ide=Ma().indexOf,ade=Fr(),Wm=nde([].indexOf),wP=!!Wm&&1/Wm([1],1,-0)<0,ode=wP||!ade("indexOf");tde({target:"Array",proto:!0,forced:ode},{indexOf:o(function(e){var r=arguments.length>1?arguments[1]:void 0;return wP?Wm(this,e,r)||0:ide(this,e,r)},"indexOf")})});var CP=h(()=>{"use strict";var sde=m(),ude=at();sde({target:"Array",stat:!0},{isArray:ude})});var kn=h((ldr,kP)=>{"use strict";var lde=x(),cde=G(),fde=L(),dde=xe(),RP=Me(),hde=oe(),pde=$(),vde=ee(),Jm=pde("iterator"),MP=!1,Jt,Km,Gm;[].keys&&(Gm=[].keys(),"next"in Gm?(Km=RP(RP(Gm)),Km!==Object.prototype&&(Jt=Km)):MP=!0);var gde=!fde(Jt)||lde(function(){var t={};return Jt[Jm].call(t)!==t});gde?Jt={}:vde&&(Jt=dde(Jt));cde(Jt[Jm])||hde(Jt,Jm,function(){return this});kP.exports={IteratorPrototype:Jt,BUGGY_SAFARI_ITERATORS:MP}});var Pn=h((cdr,PP)=>{"use strict";var mde=kn().IteratorPrototype,yde=xe(),qde=vr(),Sde=or(),bde=Oi(),Ede=o(function(){return this},"returnThis");PP.exports=function(t,e,r,n){var i=e+" Iterator";return t.prototype=yde(mde,{next:qde(+!n,r)}),Sde(t,i,!1,!0),bde[i]=Ede,t}});var gf=h((ddr,HP)=>{"use strict";var xde=m(),Tde=w(),pf=ee(),jP=gi(),Ode=G(),Ide=Pn(),NP=Me(),DP=Dr(),wde=or(),Ade=Re(),Ym=oe(),Cde=$(),LP=Oi(),UP=kn(),Rde=jP.PROPER,Mde=jP.CONFIGURABLE,FP=UP.IteratorPrototype,vf=UP.BUGGY_SAFARI_ITERATORS,Us=Cde("iterator"),_P="keys",Hs="values",BP="entries",$P=o(function(){return this},"returnThis");HP.exports=function(t,e,r,n,i,a,s){Ide(r,e,n);var u=o(function(S){if(S===i&&p)return p;if(!vf&&S&&S in f)return f[S];switch(S){case _P:return o(function(){return new r(this,S)},"keys");case Hs:return o(function(){return new r(this,S)},"values");case BP:return o(function(){return new r(this,S)},"entries")}return function(){return new r(this)}},"getIterationMethod"),l=e+" Iterator",c=!1,f=t.prototype,d=f[Us]||f["@@iterator"]||i&&f[i],p=!vf&&d||u(i),v=e==="Array"&&f.entries||d,g,y,q;if(v&&(g=NP(v.call(new t)),g!==Object.prototype&&g.next&&(!pf&&NP(g)!==FP&&(DP?DP(g,FP):Ode(g[Us])||Ym(g,Us,$P)),wde(g,l,!0,!0),pf&&(LP[l]=$P))),Rde&&i===Hs&&d&&d.name!==Hs&&(!pf&&Mde?Ade(f,"name",Hs):(c=!0,p=o(function(){return Tde(d,this)},"values"))),i)if(y={values:u(Hs),keys:a?p:u(_P),entries:u(BP)},s)for(q in y)(vf||c||!(q in f))&&Ym(f,q,y[q]);else xde({target:e,proto:!0,forced:vf||c},y);return(!pf||s)&&f[Us]!==p&&Ym(f,Us,p,{name:i}),LP[e]=p,y}});var Ne=h((pdr,zP)=>{"use strict";zP.exports=function(t,e){return{value:t,done:e}}});var zs=h((vdr,JP)=>{"use strict";var kde=Ce(),Xm=Se(),VP=Oi(),KP=ie(),Pde=fe().f,Nde=gf(),mf=Ne(),Dde=ee(),Lde=N(),GP="Array Iterator",Fde=KP.set,_de=KP.getterFor(GP);JP.exports=Nde(Array,"Array",function(t,e){Fde(this,{type:GP,target:kde(t),index:0,kind:e})},function(){var t=_de(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,mf(void 0,!0);switch(t.kind){case"keys":return mf(r,!1);case"values":return mf(e[r],!1)}return mf([r,e[r]],!1)},"values");var WP=VP.Arguments=VP.Array;Xm("keys");Xm("values");Xm("entries");if(!Dde&&Lde&&WP.name!=="values")try{Pde(WP,"name",{value:"values"})}catch(t){}});var YP=h(()=>{"use strict";var Bde=m(),$de=E(),jde=Ht(),Ude=Ce(),Hde=Fr(),zde=$de([].join),Vde=jde!==Object,Wde=Vde||!Hde("join",",");Bde({target:"Array",proto:!0,forced:Wde},{join:o(function(e){return zde(Ude(this),e===void 0?",":e)},"join")})});var Zm=h((qdr,QP)=>{"use strict";var Kde=He(),Gde=Ce(),Jde=pe(),Yde=re(),Xde=Fr(),Qde=Math.min,Qm=[].lastIndexOf,XP=!!Qm&&1/[1].lastIndexOf(1,-0)<0,Zde=Xde("lastIndexOf"),ehe=XP||!Zde;QP.exports=ehe?o(function(e){if(XP)return Kde(Qm,this,arguments)||0;var r=Gde(this),n=Yde(r);if(n===0)return-1;var i=n-1;for(arguments.length>1&&(i=Qde(i,Jde(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===e)return i||0;return-1},"lastIndexOf"):Qm});var eN=h(()=>{"use strict";var rhe=m(),ZP=Zm();rhe({target:"Array",proto:!0,forced:ZP!==[].lastIndexOf},{lastIndexOf:ZP})});var rN=h(()=>{"use strict";var the=m(),nhe=Te().map,ihe=Ba(),ahe=ihe("map");the({target:"Array",proto:!0,forced:!ahe},{map:o(function(e){return nhe(this,e,arguments.length>1?arguments[1]:void 0)},"map")})});var nN=h(()=>{"use strict";var ohe=m(),she=x(),uhe=ot(),lhe=Lr(),tN=Array,che=she(function(){function t(){}return o(t,"F"),!(tN.of.call(t)instanceof t)});ohe({target:"Array",stat:!0,forced:che},{of:o(function(){for(var e=0,r=arguments.length,n=new(uhe(this)?this:tN)(r);r>e;)lhe(n,e,arguments[e++]);return n.length=r,n},"of")})});var yf=h((Cdr,iN)=>{"use strict";var fhe=N(),dhe=at(),hhe=TypeError,phe=Object.getOwnPropertyDescriptor,vhe=fhe&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}})();iN.exports=vhe?function(t,e){if(dhe(t)&&!phe(t,"length").writable)throw new hhe("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}});var aN=h(()=>{"use strict";var ghe=m(),mhe=Q(),yhe=re(),qhe=yf(),She=Mn(),bhe=x(),Ehe=bhe(function(){return[].push.call({length:4294967296},1)!==4294967297}),xhe=o(function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},"properErrorOnNonWritableLength"),The=Ehe||!xhe();ghe({target:"Array",proto:!0,arity:1,forced:The},{push:o(function(e){var r=mhe(this),n=yhe(r),i=arguments.length;She(n+i);for(var a=0;a<i;a++)r[n]=arguments[a],n++;return qhe(r,n),n},"push")})});var Vs=h((Pdr,lN)=>{"use strict";var Ohe=U(),Ihe=Q(),whe=Ht(),Ahe=re(),oN=TypeError,sN="Reduce of empty array with no initial value",uN=o(function(t){return function(e,r,n,i){var a=Ihe(e),s=whe(a),u=Ahe(a);if(Ohe(r),u===0&&n<2)throw new oN(sN);var l=t?u-1:0,c=t?-1:1;if(n<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,t?l<0:u<=l)throw new oN(sN)}for(;t?l>=0:u>l;l+=c)l in s&&(i=r(i,s[l],l,a));return i}},"createMethod");lN.exports={left:uN(!1),right:uN(!0)}});var Ks=h((Ddr,cN)=>{"use strict";var Ws=R(),Che=et(),Rhe=je(),qf=o(function(t){return Che.slice(0,t.length)===t},"userAgentStartsWith");cN.exports=(function(){return qf("Bun/")?"BUN":qf("Cloudflare-Workers")?"CLOUDFLARE":qf("Deno/")?"DENO":qf("Node.js/")?"NODE":Ws.Bun&&typeof Bun.version=="string"?"BUN":Ws.Deno&&typeof Deno.version=="object"?"DENO":Rhe(Ws.process)==="process"?"NODE":Ws.window&&Ws.document?"BROWSER":"REST"})()});var wi=h((Fdr,fN)=>{"use strict";var Mhe=Ks();fN.exports=Mhe==="NODE"});var hN=h(()=>{"use strict";var khe=m(),Phe=Vs().left,Nhe=Fr(),dN=tt(),Dhe=wi(),Lhe=!Dhe&&dN>79&&dN<83,Fhe=Lhe||!Nhe("reduce");khe({target:"Array",proto:!0,forced:Fhe},{reduce:o(function(e){var r=arguments.length;return Phe(this,e,r,r>1?arguments[1]:void 0)},"reduce")})});var vN=h(()=>{"use strict";var _he=m(),Bhe=Vs().right,$he=Fr(),pN=tt(),jhe=wi(),Uhe=!jhe&&pN>79&&pN<83,Hhe=Uhe||!$he("reduceRight");_he({target:"Array",proto:!0,forced:Hhe},{reduceRight:o(function(e){return Bhe(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)},"reduceRight")})});var mN=h(()=>{"use strict";var zhe=m(),Vhe=E(),Whe=at(),Khe=Vhe([].reverse),gN=[1,2];zhe({target:"Array",proto:!0,forced:String(gN)===String(gN.reverse())},{reverse:o(function(){return Whe(this)&&(this.length=this.length),Khe(this)},"reverse")})});var SN=h(()=>{"use strict";var Ghe=m(),yN=at(),Jhe=ot(),Yhe=L(),qN=it(),Xhe=re(),Qhe=Ce(),Zhe=Lr(),epe=$(),rpe=Ba(),tpe=yr(),npe=rpe("slice"),ipe=epe("species"),ey=Array,ape=Math.max;Ghe({target:"Array",proto:!0,forced:!npe},{slice:o(function(e,r){var n=Qhe(this),i=Xhe(n),a=qN(e,i),s=qN(r===void 0?i:r,i),u,l,c;if(yN(n)&&(u=n.constructor,Jhe(u)&&(u===ey||yN(u.prototype))?u=void 0:Yhe(u)&&(u=u[ipe],u===null&&(u=void 0)),u===ey||u===void 0))return tpe(n,a,s);for(l=new(u===void 0?ey:u)(ape(s-a,0)),c=0;a<s;a++,c++)a in n&&Zhe(l,c,n[a]);return l.length=c,l},"slice")})});var bN=h(()=>{"use strict";var ope=m(),spe=Te().some,upe=Fr(),lpe=upe("some");ope({target:"Array",proto:!0,forced:!lpe},{some:o(function(e){return spe(this,e,arguments.length>1?arguments[1]:void 0)},"some")})});var Sf=h((Zdr,xN)=>{"use strict";var EN=yr(),cpe=Math.floor,ry=o(function(t,e){var r=t.length;if(r<8)for(var n=1,i,a;n<r;){for(a=n,i=t[n];a&&e(t[a-1],i)>0;)t[a]=t[--a];a!==n++&&(t[a]=i)}else for(var s=cpe(r/2),u=ry(EN(t,0,s),e),l=ry(EN(t,s),e),c=u.length,f=l.length,d=0,p=0;d<c||p<f;)t[d+p]=d<c&&p<f?e(u[d],l[p])<=0?u[d++]:l[p++]:d<c?u[d++]:l[p++];return t},"sort");xN.exports=ry});var ty=h((rhr,ON)=>{"use strict";var fpe=et(),TN=fpe.match(/firefox\/(\d+)/i);ON.exports=!!TN&&+TN[1]});var ny=h((thr,IN)=>{"use strict";var dpe=et();IN.exports=/MSIE|Trident/.test(dpe)});var bf=h((nhr,AN)=>{"use strict";var hpe=et(),wN=hpe.match(/AppleWebKit\/(\d+)\./);AN.exports=!!wN&&+wN[1]});var FN=h(()=>{"use strict";var ppe=m(),DN=E(),vpe=U(),gpe=Q(),CN=re(),mpe=Bs(),RN=W(),iy=x(),ype=Sf(),qpe=Fr(),MN=ty(),Spe=ny(),kN=tt(),PN=bf(),Nn=[],NN=DN(Nn.sort),bpe=DN(Nn.push),Epe=iy(function(){Nn.sort(void 0)}),xpe=iy(function(){Nn.sort(null)}),Tpe=qpe("sort"),LN=!iy(function(){if(kN)return kN<70;if(!(MN&&MN>3)){if(Spe)return!0;if(PN)return PN<603;var t="",e,r,n,i;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Nn.push({k:r+i,v:n})}for(Nn.sort(function(a,s){return s.v-a.v}),i=0;i<Nn.length;i++)r=Nn[i].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),Ope=Epe||!xpe||!Tpe||!LN,Ipe=o(function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:RN(e)>RN(r)?1:-1}},"getSortCompare");ppe({target:"Array",proto:!0,forced:Ope},{sort:o(function(e){e!==void 0&&vpe(e);var r=gpe(this);if(LN)return e===void 0?NN(r):NN(r,e);var n=[],i=CN(r),a,s;for(s=0;s<i;s++)s in r&&bpe(n,r[s]);for(ype(n,Ipe(e)),a=CN(n),s=0;s<a;)r[s]=n[s++];for(;s<i;)mpe(r,s++);return r},"sort")})});var Dn=h((shr,BN)=>{"use strict";var wpe=j(),Ape=ve(),Cpe=$(),Rpe=N(),_N=Cpe("species");BN.exports=function(t){var e=wpe(t);Rpe&&e&&!e[_N]&&Ape(e,_N,{configurable:!0,get:o(function(){return this},"get")})}});var $N=h(()=>{"use strict";var Mpe=Dn();Mpe("Array")});var jN=h(()=>{"use strict";var kpe=m(),Ppe=Q(),Npe=it(),Dpe=pe(),Lpe=re(),Fpe=yf(),_pe=Mn(),Bpe=Pa(),$pe=Lr(),ay=Bs(),jpe=Ba(),Upe=jpe("splice"),Hpe=Math.max,zpe=Math.min;kpe({target:"Array",proto:!0,forced:!Upe},{splice:o(function(e,r){var n=Ppe(this),i=Lpe(n),a=Npe(e,i),s=arguments.length,u,l,c,f,d,p;for(s===0?u=l=0:s===1?(u=0,l=i-a):(u=s-2,l=zpe(Hpe(Dpe(r),0),i-a)),_pe(i+u-l),c=Bpe(n,l),f=0;f<l;f++)d=a+f,d in n&&$pe(c,f,n[d]);if(c.length=l,u<l){for(f=a;f<i-l;f++)d=f+l,p=f+u,d in n?n[p]=n[d]:ay(n,p);for(f=i;f>i-l+u;f--)ay(n,f-1)}else if(u>l)for(f=i-l;f>a;f--)d=f+l-1,p=f+u-1,d in n?n[p]=n[d]:ay(n,p);for(f=0;f<u;f++)n[f+a]=arguments[f+2];return Fpe(n,i-l+u),c},"splice")})});var oy=h((phr,UN)=>{"use strict";var Vpe=re();UN.exports=function(t,e){for(var r=Vpe(t),n=new e(r),i=0;i<r;i++)n[i]=t[r-i-1];return n}});var sy=h(()=>{"use strict";var Wpe=m(),Kpe=oy(),Gpe=Ce(),Jpe=Se(),Ype=Array;Wpe({target:"Array",proto:!0},{toReversed:o(function(){return Kpe(Gpe(this),Ype)},"toReversed")});Jpe("toReversed")});var Yt=h((yhr,HN)=>{"use strict";var Xpe=re();HN.exports=function(t,e,r){for(var n=0,i=arguments.length>2?r:Xpe(e),a=new t(i);i>n;)a[n]=e[n++];return a}});var uy=h((qhr,zN)=>{"use strict";var Qpe=R();zN.exports=function(t,e){var r=Qpe[t],n=r&&r.prototype;return n&&n[e]}});var ly=h(()=>{"use strict";var Zpe=m(),eve=E(),rve=U(),tve=Ce(),nve=Yt(),ive=uy(),ave=Se(),ove=Array,sve=eve(ive("Array","sort"));Zpe({target:"Array",proto:!0},{toSorted:o(function(e){e!==void 0&&rve(e);var r=tve(this),n=nve(ove,r);return sve(n,e)},"toSorted")});ave("toSorted")});var cy=h(()=>{"use strict";var uve=m(),lve=Se(),cve=Mn(),fve=re(),dve=it(),hve=Ce(),pve=pe(),vve=Array,gve=Math.max,mve=Math.min;uve({target:"Array",proto:!0},{toSpliced:o(function(e,r){var n=hve(this),i=fve(n),a=dve(e,i),s=arguments.length,u=0,l,c,f,d;for(s===0?l=c=0:s===1?(l=0,c=i-a):(l=s-2,c=mve(gve(pve(r),0),i-a)),f=cve(i+l-c),d=vve(f);u<a;u++)d[u]=n[u];for(;u<a+l;u++)d[u]=arguments[u-a+2];for(;u<f;u++)d[u]=n[u+c-l];return d},"toSpliced")});lve("toSpliced")});var VN=h(()=>{"use strict";var yve=Se();yve("flat")});var WN=h(()=>{"use strict";var qve=Se();qve("flatMap")});var KN=h(()=>{"use strict";var Sve=m(),bve=Q(),Eve=re(),xve=yf(),Tve=Bs(),Ove=Mn(),Ive=[].unshift(0)!==1,wve=o(function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},"properErrorOnNonWritableLength"),Ave=Ive||!wve();Sve({target:"Array",proto:!0,arity:1,forced:Ave},{unshift:o(function(e){var r=bve(this),n=Eve(r),i=arguments.length;if(i){Ove(n+i);for(var a=n;a--;){var s=a+i;a in r?r[s]=r[a]:Tve(r,s)}for(var u=0;u<i;u++)r[u]=arguments[u]}return xve(r,n+i)},"unshift")})});var fy=h((Phr,GN)=>{"use strict";var Cve=re(),Rve=pe(),Mve=RangeError;GN.exports=function(t,e,r,n){var i=Cve(t),a=Rve(r),s=a<0?i+a:a;if(s>=i||s<0)throw new Mve("Incorrect index");for(var u=new e(i),l=0;l<i;l++)u[l]=l===s?n:t[l];return u}});var dy=h(()=>{"use strict";var kve=m(),Pve=fy(),Nve=Ce(),Dve=Array,Lve=(function(){try{[].with({valueOf:o(function(){throw 4},"valueOf")},null)}catch(t){return t!==4}})();kve({target:"Array",proto:!0,forced:Lve},{with:o(function(t,e){return Pve(Nve(this),Dve,t,e)},"with")})});var Gs=h((Fhr,JN)=>{"use strict";JN.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"});var _r=h((_hr,YN)=>{"use strict";var Fve=oe();YN.exports=function(t,e,r){for(var n in e)Fve(t,n,e[n],r);return t}});var Ze=h((Bhr,XN)=>{"use strict";var _ve=Ue(),Bve=TypeError;XN.exports=function(t,e){if(_ve(e,t))return t;throw new Bve("Incorrect invocation")}});var $a=h(($hr,QN)=>{"use strict";var $ve=pe(),jve=mr(),Uve=RangeError;QN.exports=function(t){if(t===void 0)return 0;var e=$ve(t),r=jve(e);if(e!==r)throw new Uve("Wrong length or index");return r}});var Ef=h((jhr,ZN)=>{"use strict";ZN.exports=Math.sign||o(function(e){var r=+e;return r===0||r!==r?r:r<0?-1:1},"sign")});var hy=h((Hhr,rD)=>{"use strict";var Hve=2220446049250313e-31,eD=1/Hve;rD.exports=function(t){return t+eD-eD}});var py=h((zhr,tD)=>{"use strict";var zve=Ef(),Vve=hy(),Wve=Math.abs,Kve=2220446049250313e-31;tD.exports=function(t,e,r,n){var i=+t,a=Wve(i),s=zve(i);if(a<n)return s*Vve(a/n/e)*n*e;var u=(1+e/Kve)*a,l=u-(u-a);return l>r||l!==l?s*(1/0):s*l}});var xf=h((Vhr,nD)=>{"use strict";var Gve=py(),Jve=11920928955078125e-23,Yve=34028234663852886e22,Xve=11754943508222875e-54;nD.exports=Math.fround||o(function(e){return Gve(e,Jve,Yve,Xve)},"fround")});var aD=h((Khr,iD)=>{"use strict";var Qve=Array,Zve=Math.abs,Xt=Math.pow,ege=Math.floor,rge=Math.log,tge=Math.LN2,nge=o(function(t,e,r){var n=Qve(r),i=r*8-e-1,a=(1<<i)-1,s=a>>1,u=e===23?Xt(2,-24)-Xt(2,-77):0,l=t<0||t===0&&1/t<0?1:0,c=0,f,d,p;for(t=Zve(t),t!==t||t===1/0?(d=t!==t?1:0,f=a):(f=ege(rge(t)/tge),p=Xt(2,-f),t*p<1&&(f--,p*=2),f+s>=1?t+=u/p:t+=u*Xt(2,1-s),t*p>=2&&(f++,p/=2),f+s>=a?(d=0,f=a):f+s>=1?(d=(t*p-1)*Xt(2,e),f+=s):(d=t*Xt(2,s-1)*Xt(2,e),f=0));e>=8;)n[c++]=d&255,d/=256,e-=8;for(f=f<<e|d,i+=e;i>0;)n[c++]=f&255,f/=256,i-=8;return n[c-1]|=l*128,n},"pack"),ige=o(function(t,e){var r=t.length,n=r*8-e-1,i=(1<<n)-1,a=i>>1,s=n-7,u=r-1,l=t[u--],c=l&127,f;for(l>>=7;s>0;)c=c*256+t[u--],s-=8;for(f=c&(1<<-s)-1,c>>=-s,s+=e;s>0;)f=f*256+t[u--],s-=8;if(c===0)c=1-a;else{if(c===i)return f?NaN:l?-1/0:1/0;f+=Xt(2,e),c-=a}return(l?-1:1)*f*Xt(2,c-e)},"unpack");iD.exports={pack:nge,unpack:ige}});var Xs=h((Jhr,ED)=>{"use strict";var Af=R(),qy=E(),vy=N(),age=Gs(),mD=gi(),oge=Re(),sge=ve(),oD=_r(),gy=x(),Tf=Ze(),uge=pe(),lge=mr(),If=$a(),cge=xf(),yD=aD(),fge=Me(),sD=Dr(),dge=df(),hge=yr(),pge=Rn(),vge=yi(),qD=or(),Sy=ie(),gge=mD.PROPER,uD=mD.CONFIGURABLE,Ua="ArrayBuffer",Cf="DataView",Ha="prototype",mge="Wrong length",SD="Wrong index",lD=Sy.getterFor(Ua),Ys=Sy.getterFor(Cf),cD=Sy.set,st=Af[Ua],Cr=st,ja=Cr&&Cr[Ha],St=Af[Cf],Ai=St&&St[Ha],fD=Object.prototype,yge=Af.Array,wf=Af.RangeError,qge=qy(dge),Sge=qy([].reverse),bD=yD.pack,dD=yD.unpack,hD=o(function(t){return[t&255]},"packInt8"),pD=o(function(t){return[t&255,t>>8&255]},"packInt16"),vD=o(function(t){return[t&255,t>>8&255,t>>16&255,t>>24&255]},"packInt32"),gD=o(function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},"unpackInt32"),bge=o(function(t){return bD(cge(t),23,4)},"packFloat32"),Ege=o(function(t){return bD(t,52,8)},"packFloat64"),Of=o(function(t,e,r){sge(t[Ha],e,{configurable:!0,get:o(function(){return r(this)[e]},"get")})},"addGetter"),Ln=o(function(t,e,r,n){var i=Ys(t),a=If(r),s=!!n;if(a+e>i.byteLength)throw new wf(SD);var u=i.bytes,l=a+i.byteOffset,c=hge(u,l,l+e);return s?c:Sge(c)},"get"),Fn=o(function(t,e,r,n,i,a){var s=Ys(t),u=If(r),l=n(+i),c=!!a;if(u+e>s.byteLength)throw new wf(SD);for(var f=s.bytes,d=u+s.byteOffset,p=0;p<e;p++)f[d+p]=l[c?p:e-p-1]},"set");age?(my=gge&&st.name!==Ua,!gy(function(){st(1)})||!gy(function(){new st(-1)})||gy(function(){return new st,new st(1.5),new st(NaN),st.length!==1||my&&!uD})?(Cr=o(function(e){return Tf(this,ja),pge(new st(If(e)),this,Cr)},"ArrayBuffer"),Cr[Ha]=ja,ja.constructor=Cr,vge(Cr,st)):my&&uD&&oge(st,"name",Ua),sD&&fge(Ai)!==fD&&sD(Ai,fD),Js=new St(new Cr(2)),yy=qy(Ai.setInt8),Js.setInt8(0,2147483648),Js.setInt8(1,2147483649),(Js.getInt8(0)||!Js.getInt8(1))&&oD(Ai,{setInt8:o(function(e,r){yy(this,e,r<<24>>24)},"setInt8"),setUint8:o(function(e,r){yy(this,e,r<<24>>24)},"setUint8")},{unsafe:!0})):(Cr=o(function(e){Tf(this,ja);var r=If(e);cD(this,{type:Ua,bytes:qge(yge(r),0),byteLength:r}),vy||(this.byteLength=r,this.detached=!1)},"ArrayBuffer"),ja=Cr[Ha],St=o(function(e,r,n){Tf(this,Ai),Tf(e,ja);var i=lD(e),a=i.byteLength,s=uge(r);if(s<0||s>a)throw new wf("Wrong offset");if(n=n===void 0?a-s:lge(n),s+n>a)throw new wf(mge);cD(this,{type:Cf,buffer:e,byteLength:n,byteOffset:s,bytes:i.bytes}),vy||(this.buffer=e,this.byteLength=n,this.byteOffset=s)},"DataView"),Ai=St[Ha],vy&&(Of(Cr,"byteLength",lD),Of(St,"buffer",Ys),Of(St,"byteLength",Ys),Of(St,"byteOffset",Ys)),oD(Ai,{getInt8:o(function(e){return Ln(this,1,e)[0]<<24>>24},"getInt8"),getUint8:o(function(e){return Ln(this,1,e)[0]},"getUint8"),getInt16:o(function(e){var r=Ln(this,2,e,arguments.length>1?arguments[1]:!1);return(r[1]<<8|r[0])<<16>>16},"getInt16"),getUint16:o(function(e){var r=Ln(this,2,e,arguments.length>1?arguments[1]:!1);return r[1]<<8|r[0]},"getUint16"),getInt32:o(function(e){return gD(Ln(this,4,e,arguments.length>1?arguments[1]:!1))},"getInt32"),getUint32:o(function(e){return gD(Ln(this,4,e,arguments.length>1?arguments[1]:!1))>>>0},"getUint32"),getFloat32:o(function(e){return dD(Ln(this,4,e,arguments.length>1?arguments[1]:!1),23)},"getFloat32"),getFloat64:o(function(e){return dD(Ln(this,8,e,arguments.length>1?arguments[1]:!1),52)},"getFloat64"),setInt8:o(function(e,r){Fn(this,1,e,hD,r)},"setInt8"),setUint8:o(function(e,r){Fn(this,1,e,hD,r)},"setUint8"),setInt16:o(function(e,r){Fn(this,2,e,pD,r,arguments.length>2?arguments[2]:!1)},"setInt16"),setUint16:o(function(e,r){Fn(this,2,e,pD,r,arguments.length>2?arguments[2]:!1)},"setUint16"),setInt32:o(function(e,r){Fn(this,4,e,vD,r,arguments.length>2?arguments[2]:!1)},"setInt32"),setUint32:o(function(e,r){Fn(this,4,e,vD,r,arguments.length>2?arguments[2]:!1)},"setUint32"),setFloat32:o(function(e,r){Fn(this,4,e,bge,r,arguments.length>2?arguments[2]:!1)},"setFloat32"),setFloat64:o(function(e,r){Fn(this,8,e,Ege,r,arguments.length>2?arguments[2]:!1)},"setFloat64")}));var my,Js,yy;qD(Cr,Ua);qD(St,Cf);ED.exports={ArrayBuffer:Cr,DataView:St}});var TD=h(()=>{"use strict";var xge=m(),Tge=R(),Oge=Xs(),Ige=Dn(),by="ArrayBuffer",xD=Oge[by],wge=Tge[by];xge({global:!0,constructor:!0,forced:wge!==xD},{ArrayBuffer:xD});Ige(by)});var X=h((Zhr,ND)=>{"use strict";var Age=Gs(),Oy=N(),sr=R(),AD=G(),kf=L(),Bn=J(),Iy=ar(),Cge=Tn(),Rge=Re(),Ey=oe(),Mge=ve(),kge=Ue(),Pf=Me(),Va=Dr(),Pge=$(),Nge=On(),CD=ie(),RD=CD.enforce,Dge=CD.get,Rf=sr.Int8Array,xy=Rf&&Rf.prototype,OD=sr.Uint8ClampedArray,ID=OD&&OD.prototype,bt=Rf&&Pf(Rf),ut=xy&&Pf(xy),Lge=Object.prototype,wy=sr.TypeError,wD=Pge("toStringTag"),Ty=Nge("TYPED_ARRAY_TAG"),Mf="TypedArrayConstructor",Qt=Age&&!!Va&&Iy(sr.opera)!=="Opera",MD=!1,Sr,_n,za,Zt={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ay={BigInt64Array:8,BigUint64Array:8},Fge=o(function(e){if(!kf(e))return!1;var r=Iy(e);return r==="DataView"||Bn(Zt,r)||Bn(Ay,r)},"isView"),kD=o(function(t){var e=Pf(t);if(kf(e)){var r=Dge(e);return r&&Bn(r,Mf)?r[Mf]:kD(e)}},"getTypedArrayConstructor"),PD=o(function(t){if(!kf(t))return!1;var e=Iy(t);return Bn(Zt,e)||Bn(Ay,e)},"isTypedArray"),_ge=o(function(t){if(PD(t))return t;throw new wy("Target is not a typed array")},"aTypedArray"),Bge=o(function(t){if(AD(t)&&(!Va||kge(bt,t)))return t;throw new wy(Cge(t)+" is not a typed array constructor")},"aTypedArrayConstructor"),$ge=o(function(t,e,r,n){if(Oy){if(r)for(var i in Zt){var a=sr[i];if(a&&Bn(a.prototype,t))try{delete a.prototype[t]}catch(s){try{a.prototype[t]=e}catch(u){}}}(!ut[t]||r)&&Ey(ut,t,r?e:Qt&&xy[t]||e,n)}},"exportTypedArrayMethod"),jge=o(function(t,e,r){var n,i;if(Oy){if(Va){if(r){for(n in Zt)if(i=sr[n],i&&Bn(i,t))try{delete i[t]}catch(a){}}if(!bt[t]||r)try{return Ey(bt,t,r?e:Qt&&bt[t]||e)}catch(a){}else return}for(n in Zt)i=sr[n],i&&(!i[t]||r)&&Ey(i,t,e)}},"exportTypedArrayStaticMethod");for(Sr in Zt)_n=sr[Sr],za=_n&&_n.prototype,za?RD(za)[Mf]=_n:Qt=!1;for(Sr in Ay)_n=sr[Sr],za=_n&&_n.prototype,za&&(RD(za)[Mf]=_n);if((!Qt||!AD(bt)||bt===Function.prototype)&&(bt=o(function(){throw new wy("Incorrect invocation")},"TypedArray"),Qt))for(Sr in Zt)sr[Sr]&&Va(sr[Sr],bt);if((!Qt||!ut||ut===Lge)&&(ut=bt.prototype,Qt))for(Sr in Zt)sr[Sr]&&Va(sr[Sr].prototype,ut);Qt&&Pf(ID)!==ut&&Va(ID,ut);if(Oy&&!Bn(ut,wD)){MD=!0,Mge(ut,wD,{configurable:!0,get:o(function(){return kf(this)?this[Ty]:void 0},"get")});for(Sr in Zt)sr[Sr]&&Rge(sr[Sr],Ty,Sr)}ND.exports={NATIVE_ARRAY_BUFFER_VIEWS:Qt,TYPED_ARRAY_TAG:MD&&Ty,aTypedArray:_ge,aTypedArrayConstructor:Bge,exportTypedArrayMethod:$ge,exportTypedArrayStaticMethod:jge,getTypedArrayConstructor:kD,isView:Fge,isTypedArray:PD,TypedArray:bt,TypedArrayPrototype:ut}});var LD=h(()=>{"use strict";var Uge=m(),DD=X(),Hge=DD.NATIVE_ARRAY_BUFFER_VIEWS;Uge({target:"ArrayBuffer",stat:!0,forced:!Hge},{isView:DD.isView})});var UD=h(()=>{"use strict";var zge=m(),Ry=wn(),Vge=x(),$D=Xs(),FD=C(),_D=it(),Wge=mr(),My=$D.ArrayBuffer,Cy=$D.DataView,jD=Cy.prototype,BD=Ry(My.prototype.slice),Kge=Ry(jD.getUint8),Gge=Ry(jD.setUint8),Jge=Vge(function(){return!new My(2).slice(1,void 0).byteLength});zge({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Jge},{slice:o(function(e,r){if(BD&&r===void 0)return BD(FD(this),e);for(var n=FD(this).byteLength,i=_D(e,n),a=_D(r===void 0?n:r,n),s=new My(Wge(a-i)),u=new Cy(this),l=new Cy(s),c=0;i<a;)Gge(l,c++,Kge(u,i++));return s},"slice")})});var HD=h(()=>{"use strict";var Yge=m(),Xge=Xs(),Qge=Gs();Yge({global:!0,constructor:!0,forced:!Qge},{DataView:Xge.DataView})});var zD=h(()=>{"use strict";HD()});var ky=h(()=>{"use strict";var Zge=m(),eme=E(),GD=Math.pow,VD=31,rme=1023,WD=GD(2,-24),KD=.0009765625,tme=o(function(t){var e=t>>>15,r=t>>>10&VD,n=t&rme;return r===VD?n===0?e===0?1/0:-1/0:NaN:r===0?n*(e===0?WD:-WD):GD(2,r-15)*(e===0?1+n*KD:-1-n*KD)},"unpackFloat16"),nme=eme(DataView.prototype.getUint16);Zge({target:"DataView",proto:!0},{getFloat16:o(function(e){return tme(nme(this,e,arguments.length>1?arguments[1]:!1))},"getFloat16")})});var Py=h((hpr,JD)=>{"use strict";var ime=ar(),ame=TypeError;JD.exports=function(t){if(ime(t)==="DataView")return t;throw new ame("Argument is not a DataView")}});var Ny=h((ppr,YD)=>{"use strict";var ome=Math.log,sme=Math.LN2;YD.exports=Math.log2||o(function(e){return ome(e)/sme},"log2")});var Ly=h(()=>{"use strict";var ume=m(),lme=E(),cme=Py(),fme=$a(),dme=Ny(),XD=hy(),hme=Math.pow,pme=65520,vme=61005353927612305e-21,gme=16777216,Dy=1024,mme=o(function(t){if(t!==t)return 32256;if(t===0)return(1/t===-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=pme)return e<<15|31744;if(t<vme)return e<<15|XD(t*gme);var r=dme(t)|0;if(r===-15)return e<<15|Dy;var n=XD((t*hme(2,-r)-1)*Dy);return n===Dy?e<<15|r+16<<10:e<<15|r+15<<10|n},"packFloat16"),yme=lme(DataView.prototype.setUint16);ume({target:"DataView",proto:!0},{setFloat16:o(function(e,r){yme(cme(this),fme(e),mme(+r),arguments.length>2?arguments[2]:!1)},"setFloat16")})});var Fy=h((qpr,eL)=>{"use strict";var ZD=R(),qme=Fs(),Sme=je(),QD=ZD.ArrayBuffer,bme=ZD.TypeError;eL.exports=QD&&qme(QD.prototype,"byteLength","get")||function(t){if(Sme(t)!=="ArrayBuffer")throw new bme("ArrayBuffer expected");return t.byteLength}});var _y=h((Spr,rL)=>{"use strict";var Eme=R(),xme=Gs(),Tme=Fy(),Ome=Eme.DataView;rL.exports=function(t){if(!xme||Tme(t)!==0)return!1;try{return new Ome(t),!1}catch(e){return!0}}});var By=h(()=>{"use strict";var Ime=N(),wme=ve(),Ame=_y(),tL=ArrayBuffer.prototype;Ime&&!("detached"in tL)&&wme(tL,"detached",{configurable:!0,get:o(function(){return Ame(this)},"detached")})});var Wa=h((Tpr,nL)=>{"use strict";var Cme=_y(),Rme=TypeError;nL.exports=function(t){if(Cme(t))throw new Rme("ArrayBuffer is detached");return t}});var $y=h((Opr,iL)=>{"use strict";var Mme=R(),kme=wi();iL.exports=function(t){if(kme){try{return Mme.process.getBuiltinModule(t)}catch(e){}try{return Function('return require("'+t+'")')()}catch(e){}}}});var Nf=h((Ipr,oL)=>{"use strict";var Pme=R(),Nme=x(),jy=tt(),Uy=Ks(),aL=Pme.structuredClone;oL.exports=!!aL&&!Nme(function(){if(Uy==="DENO"&&jy>92||Uy==="NODE"&&jy>94||Uy==="BROWSER"&&jy>97)return!1;var t=new ArrayBuffer(8),e=aL(t,{transfer:[t]});return t.byteLength!==0||e.byteLength!==8})});var Ky=h((wpr,lL)=>{"use strict";var Wy=R(),Dme=$y(),Lme=Nf(),Fme=Wy.structuredClone,sL=Wy.ArrayBuffer,Df=Wy.MessageChannel,Vy=!1,Hy,uL,Lf,zy;if(Lme)Vy=o(function(t){Fme(t,{transfer:[t]})},"detach");else if(sL)try{Df||(Hy=Dme("worker_threads"),Hy&&(Df=Hy.MessageChannel)),Df&&(uL=new Df,Lf=new sL(2),zy=o(function(t){uL.port1.postMessage(null,[t])},"$detach"),Lf.byteLength===2&&(zy(Lf),Lf.byteLength===0&&(Vy=zy)))}catch(t){}lL.exports=Vy});var Zy=h((Cpr,gL)=>{"use strict";var Yy=R(),Xy=E(),hL=Fs(),_me=$a(),Bme=Wa(),$me=Fy(),cL=Ky(),Gy=Nf(),jme=Yy.structuredClone,pL=Yy.ArrayBuffer,Jy=Yy.DataView,Ume=Math.min,Qy=pL.prototype,vL=Jy.prototype,Hme=Xy(Qy.slice),fL=hL(Qy,"resizable","get"),dL=hL(Qy,"maxByteLength","get"),zme=Xy(vL.getInt8),Vme=Xy(vL.setInt8);gL.exports=(Gy||cL)&&function(t,e,r){var n=$me(t),i=e===void 0?n:_me(e),a=!fL||!fL(t),s;if(Bme(t),Gy&&(t=jme(t,{transfer:[t]}),n===i&&(r||a)))return t;if(n>=i&&(!r||a))s=Hme(t,0,i);else{var u=r&&!a&&dL?{maxByteLength:dL(t)}:void 0;s=new pL(i,u);for(var l=new Jy(t),c=new Jy(s),f=Ume(i,n),d=0;d<f;d++)Vme(c,d,zme(l,d))}return Gy||cL(t),s}});var eq=h(()=>{"use strict";var Wme=m(),mL=Zy();mL&&Wme({target:"ArrayBuffer",proto:!0},{transfer:o(function(){return mL(this,arguments.length?arguments[0]:void 0,!0)},"transfer")})});var rq=h(()=>{"use strict";var Kme=m(),yL=Zy();yL&&Kme({target:"ArrayBuffer",proto:!0},{transferToFixedLength:o(function(){return yL(this,arguments.length?arguments[0]:void 0,!1)},"transferToFixedLength")})});var qL=h(()=>{"use strict";var Gme=m(),Jme=E(),Yme=x(),Xme=Yme(function(){return new Date(16e11).getYear()!==120}),Qme=Jme(Date.prototype.getFullYear);Gme({target:"Date",proto:!0,forced:Xme},{getYear:o(function(){return Qme(this)-1900},"getYear")})});var bL=h(()=>{"use strict";var Zme=m(),eye=E(),SL=Date,rye=eye(SL.prototype.getTime);Zme({target:"Date",stat:!0},{now:o(function(){return rye(new SL)},"now")})});var TL=h(()=>{"use strict";var tye=m(),EL=E(),nye=pe(),xL=Date.prototype,iye=EL(xL.getTime),aye=EL(xL.setFullYear);tye({target:"Date",proto:!0},{setYear:o(function(e){iye(this);var r=nye(e),n=r>=0&&r<=99?r+1900:r;return aye(this,n)},"setYear")})});var OL=h(()=>{"use strict";var oye=m();oye({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString})});var Qs=h((Kpr,IL)=>{"use strict";var sye=pe(),uye=W(),lye=he(),cye=RangeError;IL.exports=o(function(e){var r=uye(lye(this)),n="",i=sye(e);if(i<0||i===1/0)throw new cye("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n},"repeat")});var Zs=h((Jpr,RL)=>{"use strict";var CL=E(),fye=mr(),wL=W(),dye=Qs(),hye=he(),pye=CL(dye),vye=CL("".slice),gye=Math.ceil,AL=o(function(t){return function(e,r,n){var i=wL(hye(e)),a=fye(r),s=i.length,u=n===void 0?" ":wL(n),l,c;return a<=s||u===""?i:(l=a-s,c=pye(u,gye(l/u.length)),c.length>l&&(c=vye(c,0,l)),t?i+c:c+i)}},"createMethod");RL.exports={start:AL(!1),end:AL(!0)}});var PL=h((Xpr,kL)=>{"use strict";var $n=E(),ML=x(),Ci=Zs().start,mye=RangeError,yye=isFinite,qye=Math.abs,en=Date.prototype,tq=en.toISOString,Sye=$n(en.getTime),bye=$n(en.getUTCDate),Eye=$n(en.getUTCFullYear),xye=$n(en.getUTCHours),Tye=$n(en.getUTCMilliseconds),Oye=$n(en.getUTCMinutes),Iye=$n(en.getUTCMonth),wye=$n(en.getUTCSeconds);kL.exports=ML(function(){return tq.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!ML(function(){tq.call(new Date(NaN))})?o(function(){if(!yye(Sye(this)))throw new mye("Invalid time value");var e=this,r=Eye(e),n=Tye(e),i=r<0?"-":r>9999?"+":"";return i+Ci(qye(r),i?6:4,0)+"-"+Ci(Iye(e)+1,2,0)+"-"+Ci(bye(e),2,0)+"T"+Ci(xye(e),2,0)+":"+Ci(Oye(e),2,0)+":"+Ci(wye(e),2,0)+"."+Ci(n,3,0)+"Z"},"toISOString"):tq});var DL=h(()=>{"use strict";var Aye=m(),NL=PL();Aye({target:"Date",proto:!0,forced:Date.prototype.toISOString!==NL},{toISOString:NL})});var LL=h(()=>{"use strict";var Cye=m(),Rye=x(),Mye=Q(),kye=qs(),Pye=Rye(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:o(function(){return 1},"toISOString")})!==1});Cye({target:"Date",proto:!0,arity:1,forced:Pye},{toJSON:o(function(e){var r=Mye(this),n=kye(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()},"toJSON")})});var _L=h((ivr,FL)=>{"use strict";var Nye=C(),Dye=yg(),Lye=TypeError;FL.exports=function(t){if(Nye(this),t==="string"||t==="default")t="string";else if(t!=="number")throw new Lye("Incorrect hint");return Dye(this,t)}});var jL=h(()=>{"use strict";var Fye=J(),_ye=oe(),Bye=_L(),$ye=$(),BL=$ye("toPrimitive"),$L=Date.prototype;Fye($L,BL)||_ye($L,BL,Bye)});var VL=h(()=>{"use strict";var HL=E(),jye=oe(),nq=Date.prototype,UL="Invalid Date",zL="toString",Uye=HL(nq[zL]),Hye=HL(nq.getTime);String(new Date(NaN))!==UL&&jye(nq,zL,o(function(){var e=Hye(this);return e===e?Uye(this):UL},"toString"))});var aq=h((cvr,YL)=>{"use strict";var zye=j(),Vye=w(),Wye=E(),Kye=le(),Gye=C(),Jye=U(),GL=gr(),iq=Ee(),JL=$(),Yye=JL("asyncDispose"),WL=JL("dispose"),Xye=Wye([].push),Qye=o(function(t,e){if(e==="async-dispose"){var r=iq(t,Yye);return r!==void 0||(r=iq(t,WL),r===void 0)?r:function(){var n=this,i=zye("Promise");return new i(function(a){Vye(r,n),a(void 0)})}}return iq(t,WL)},"getDisposeMethod"),KL=o(function(t,e,r){return arguments.length<3&&!GL(t)&&(r=Jye(Qye(Gye(t),e))),r===void 0?function(){}:Kye(r,t)},"createDisposableResource");YL.exports=function(t,e,r,n){var i;if(arguments.length<4){if(GL(e)&&r==="sync-dispose")return;i=KL(e,r)}else i=KL(void 0,r,n);Xye(t.stack,i)}});var lq=h(()=>{"use strict";var Zye=m(),_f=N(),eqe=j(),XL=U(),rqe=Ze(),QL=oe(),tqe=_r(),nqe=ve(),ZL=$(),e2=ie(),oq=aq(),iqe=eqe("SuppressedError"),aqe=ReferenceError,oqe=ZL("dispose"),sqe=ZL("toStringTag"),$f="DisposableStack",uqe=e2.set,Bf=e2.getterFor($f),sq="sync-dispose",eu="disposed",lqe="pending",Ff=o(function(t){var e=Bf(t);if(e.state===eu)throw new aqe($f+" already disposed");return e},"getPendingDisposableStackInternalState"),uq=o(function(){uqe(rqe(this,Ka),{type:$f,state:lqe,stack:[]}),_f||(this.disposed=!1)},"DisposableStack"),Ka=uq.prototype;tqe(Ka,{dispose:o(function(){var e=Bf(this);if(e.state!==eu){e.state=eu,_f||(this.disposed=!0);for(var r=e.stack,n=r.length,i=!1,a;n;){var s=r[--n];r[n]=null;try{s()}catch(u){i?a=new iqe(u,a):(i=!0,a=u)}}if(e.stack=null,i)throw a}},"dispose"),use:o(function(e){return oq(Ff(this),e,sq),e},"use"),adopt:o(function(e,r){var n=Ff(this);return XL(r),oq(n,void 0,sq,function(){r(e)}),e},"adopt"),defer:o(function(e){var r=Ff(this);XL(e),oq(r,void 0,sq,e)},"defer"),move:o(function(){var e=Ff(this),r=new uq;return Bf(r).stack=e.stack,e.stack=[],e.state=eu,_f||(this.disposed=!0),r},"move")});_f&&nqe(Ka,"disposed",{configurable:!0,get:o(function(){return Bf(this).state===eu},"disposed")});QL(Ka,oqe,Ka.dispose,{name:"dispose"});QL(Ka,sqe,$f,{nonWritable:!0});Zye({global:!0,constructor:!0},{DisposableStack:uq})});var t2=h(()=>{"use strict";var cqe=m(),ru=E(),fqe=W(),dqe=ru("".charAt),hqe=ru("".charCodeAt),pqe=ru(/./.exec),vqe=ru(1.1.toString),gqe=ru("".toUpperCase),mqe=/[\w*+\-./@]/,r2=o(function(t,e){for(var r=vqe(t,16);r.length<e;)r="0"+r;return r},"hex");cqe({global:!0},{escape:o(function(e){for(var r=fqe(e),n="",i=r.length,a=0,s,u;a<i;)s=dqe(r,a++),pqe(mqe,s)?n+=s:(u=hqe(s,0),u<256?n+="%"+r2(u,2):n+="%u"+gqe(r2(u,4)));return n},"escape")})});var fq=h((yvr,o2)=>{"use strict";var i2=E(),yqe=U(),qqe=L(),Sqe=J(),n2=yr(),bqe=wa(),a2=Function,Eqe=i2([].concat),xqe=i2([].join),cq={},Tqe=o(function(t,e,r){if(!Sqe(cq,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";cq[e]=a2("C,a","return new C("+xqe(n,",")+")")}return cq[e](t,r)},"construct");o2.exports=bqe?a2.bind:o(function(e){var r=yqe(this),n=r.prototype,i=n2(arguments,1),a=o(function(){var u=Eqe(i,n2(arguments));return this instanceof a?Tqe(r,u.length,u):r.apply(e,u)},"bound");return qqe(n)&&(a.prototype=n),a},"bind")});var u2=h(()=>{"use strict";var Oqe=m(),s2=fq();Oqe({target:"Function",proto:!0,forced:Function.bind!==s2},{bind:s2})});var f2=h(()=>{"use strict";var Iqe=G(),l2=L(),wqe=fe(),Aqe=Ue(),Cqe=$(),Rqe=Ts(),dq=Cqe("hasInstance"),c2=Function.prototype;dq in c2||wqe.f(c2,dq,{value:Rqe(function(t){if(!Iqe(this)||!l2(t))return!1;var e=this.prototype;return l2(e)?Aqe(e,t):t instanceof this},dq)})});var v2=h(()=>{"use strict";var Mqe=N(),kqe=gi().EXISTS,d2=E(),Pqe=ve(),h2=Function.prototype,Nqe=d2(h2.toString),p2=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Dqe=d2(p2.exec),Lqe="name";Mqe&&!kqe&&Pqe(h2,Lqe,{configurable:!0,get:o(function(){try{return Dqe(p2,Nqe(this))[1]}catch(t){return""}},"get")})});var pq=h(()=>{"use strict";var Fqe=m(),hq=R();Fqe({global:!0,forced:hq.globalThis!==hq},{globalThis:hq})});var qq=h(()=>{"use strict";var _qe=m(),Bqe=R(),$qe=Ze(),jqe=C(),Uqe=G(),Hqe=Me(),zqe=ve(),Vqe=Lr(),Wqe=x(),mq=J(),Kqe=$(),Et=kn().IteratorPrototype,Gqe=N(),Jqe=ee(),vq="constructor",m2="Iterator",g2=Kqe("toStringTag"),y2=TypeError,gq=Bqe[m2],q2=Jqe||!Uqe(gq)||gq.prototype!==Et||!Wqe(function(){gq({})}),yq=o(function(){if($qe(this,Et),Hqe(this)===Et)throw new y2("Abstract class Iterator not directly constructable")},"Iterator"),S2=o(function(t,e){Gqe?zqe(Et,t,{configurable:!0,get:o(function(){return e},"get"),set:o(function(r){if(jqe(this),this===Et)throw new y2("You can't redefine this property");mq(this,t)?this[t]=r:Vqe(this,t,r)},"set")}):Et[t]=e},"defineIteratorPrototypeAccessor");mq(Et,g2)||S2(g2,m2);(q2||!mq(Et,vq)||Et[vq]===Object)&&S2(vq,yq);yq.prototype=Et;_qe({global:!0,constructor:!0,forced:q2},{Iterator:yq})});var Sq=h(()=>{"use strict";var Yqe=w(),Xqe=oe(),Qqe=Ee(),Zqe=J(),eSe=$(),b2=kn().IteratorPrototype,E2=eSe("dispose");Zqe(b2,E2)||Xqe(b2,E2,function(){var t=Qqe(this,"return");t&&Yqe(t,this)})});var de=h((Nvr,x2)=>{"use strict";x2.exports=function(t){return{iterator:t,next:t.next,done:!1}}});var tu=h((Dvr,T2)=>{"use strict";var rSe=RangeError;T2.exports=function(t){if(t===t)return t;throw new rSe("NaN is not allowed")}});var Ga=h((Lvr,O2)=>{"use strict";var tSe=pe(),nSe=RangeError;O2.exports=function(t){var e=tSe(t);if(e<0)throw new nSe("The argument can't be less than 0");return e}});var nu=h((Fvr,I2)=>{"use strict";var iSe=Oe();I2.exports=function(t,e,r){for(var n=t.length-1;n>=0;n--)if(t[n]!==void 0)try{r=iSe(t[n].iterator,e,r)}catch(i){e="throw",r=i}if(e==="throw")throw r;return r}});var lt=h((_vr,P2)=>{"use strict";var aSe=w(),oSe=xe(),sSe=Re(),uSe=_r(),lSe=$(),A2=ie(),cSe=Ee(),fSe=kn().IteratorPrototype,jf=Ne(),Uf=Oe(),dSe=nu(),hSe=lSe("toStringTag"),C2="IteratorHelper",R2="WrapForValidIterator",bq="normal",w2="throw",pSe=A2.set,M2=o(function(t){var e=A2.getterFor(t?R2:C2);return uSe(oSe(fSe),{next:o(function(){var n=e(this);if(t)return n.nextHandler();if(n.done)return jf(void 0,!0);try{var i=n.nextHandler();return n.returnHandlerResult?i:jf(i,n.done)}catch(a){throw n.done=!0,a}},"next"),return:o(function(){var r=e(this),n=r.iterator;if(r.done=!0,t){var i=cSe(n,"return");return i?aSe(i,n):jf(void 0,!0)}if(r.inner)try{Uf(r.inner.iterator,bq)}catch(a){return Uf(n,w2,a)}if(r.openIters)try{dSe(r.openIters,bq)}catch(a){return Uf(n,w2,a)}return n&&Uf(n,bq),jf(void 0,!0)},"return")})},"createIteratorProxyPrototype"),vSe=M2(!0),k2=M2(!1);sSe(k2,hSe,"Iterator Helper");P2.exports=function(t,e,r){var n=o(function(a,s){s?(s.iterator=a.iterator,s.next=a.next):s=a,s.type=e?R2:C2,s.returnHandlerResult=!!r,s.nextHandler=t,s.counter=0,s.done=!1,pSe(this,s)},"Iterator");return n.prototype=e?vSe:k2,n}});var iu=h(($vr,N2)=>{"use strict";N2.exports=function(t,e){var r=typeof Iterator=="function"&&Iterator.prototype[t];if(r)try{r.call({next:null},e).next()}catch(n){return!0}}});var ct=h((jvr,D2)=>{"use strict";var gSe=R();D2.exports=function(t,e){var r=gSe.Iterator,n=r&&r.prototype,i=n&&n[t],a=!1;if(i)try{i.call({next:o(function(){return{done:!0}},"next"),return:o(function(){a=!0},"return")},-1)}catch(s){s instanceof e||(a=!1)}if(!a)return i}});var Iq=h(()=>{"use strict";var mSe=m(),Eq=w(),xq=C(),ySe=de(),qSe=tu(),SSe=Ga(),bSe=Oe(),ESe=lt(),xSe=iu(),TSe=ct(),Oq=ee(),L2=!Oq&&!xSe("drop",0),Tq=!Oq&&!L2&&TSe("drop",RangeError),OSe=Oq||L2||Tq,ISe=ESe(function(){for(var t=this.iterator,e=this.next,r,n;this.remaining;)if(this.remaining--,r=xq(Eq(e,t)),n=this.done=!!r.done,n)return;if(r=xq(Eq(e,t)),n=this.done=!!r.done,!n)return r.value});mSe({target:"Iterator",proto:!0,real:!0,forced:OSe},{drop:o(function(e){xq(this);var r;try{r=SSe(qSe(+e))}catch(n){bSe(this,"throw",n)}return Tq?Eq(Tq,this,r):new ISe(ySe(this),{remaining:r})},"drop")})});var Aq=h(()=>{"use strict";var wSe=m(),ASe=w(),CSe=qe(),RSe=U(),MSe=C(),kSe=de(),PSe=Oe(),NSe=ct(),wq=NSe("every",TypeError);wSe({target:"Iterator",proto:!0,real:!0,forced:wq},{every:o(function(e){MSe(this);try{RSe(e)}catch(i){PSe(this,"throw",i)}if(wq)return ASe(wq,this,e);var r=kSe(this),n=0;return!CSe(r,function(i,a){if(!e(i,n++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"every")})});var Mq=h(()=>{"use strict";var DSe=m(),F2=w(),LSe=U(),_2=C(),FSe=de(),_Se=lt(),BSe=hf(),Rq=ee(),$Se=Oe(),jSe=iu(),USe=ct(),B2=!Rq&&!jSe("filter",function(){}),Cq=!Rq&&!B2&&USe("filter",TypeError),HSe=Rq||B2||Cq,zSe=_Se(function(){for(var t=this.iterator,e=this.predicate,r=this.next,n,i,a;;){if(n=_2(F2(r,t)),i=this.done=!!n.done,i)return;if(a=n.value,BSe(t,e,[a,this.counter++],!0))return a}});DSe({target:"Iterator",proto:!0,real:!0,forced:HSe},{filter:o(function(e){_2(this);try{LSe(e)}catch(r){$Se(this,"throw",r)}return Cq?F2(Cq,this,e):new zSe(FSe(this),{predicate:e})},"filter")})});var Pq=h(()=>{"use strict";var VSe=m(),WSe=w(),KSe=qe(),GSe=U(),JSe=C(),YSe=de(),XSe=Oe(),QSe=ct(),kq=QSe("find",TypeError);VSe({target:"Iterator",proto:!0,real:!0,forced:kq},{find:o(function(e){JSe(this);try{GSe(e)}catch(i){XSe(this,"throw",i)}if(kq)return WSe(kq,this,e);var r=YSe(this),n=0;return KSe(r,function(i,a){if(e(i,n++))return a(i)},{IS_RECORD:!0,INTERRUPTED:!0}).result},"find")})});var au=h((rgr,j2)=>{"use strict";var ZSe=w(),$2=C(),ebe=de(),rbe=qt();j2.exports=function(t,e){(!e||typeof t!="string")&&$2(t);var r=rbe(t);return ebe($2(r!==void 0?ZSe(r,t):t))}});var Bq=h(()=>{"use strict";var tbe=m(),Nq=w(),nbe=U(),Dq=C(),ibe=de(),abe=au(),obe=lt(),Lq=Oe(),_q=ee(),sbe=iu(),ube=ct(),U2=!_q&&!sbe("flatMap",function(){}),Fq=!_q&&!U2&&ube("flatMap",TypeError),lbe=_q||U2||Fq,cbe=obe(function(){for(var t=this.iterator,e=this.mapper,r,n;;){if(n=this.inner)try{if(r=Dq(Nq(n.next,n.iterator)),!r.done)return r.value;this.inner=null}catch(i){Lq(t,"throw",i)}if(r=Dq(Nq(this.next,t)),this.done=!!r.done)return;try{this.inner=abe(e(r.value,this.counter++),!1)}catch(i){Lq(t,"throw",i)}}});tbe({target:"Iterator",proto:!0,real:!0,forced:lbe},{flatMap:o(function(e){Dq(this);try{nbe(e)}catch(r){Lq(this,"throw",r)}return Fq?Nq(Fq,this,e):new cbe(ibe(this),{mapper:e,inner:null})},"flatMap")})});var jq=h(()=>{"use strict";var fbe=m(),dbe=w(),hbe=qe(),pbe=U(),vbe=C(),gbe=de(),mbe=Oe(),ybe=ct(),$q=ybe("forEach",TypeError);fbe({target:"Iterator",proto:!0,real:!0,forced:$q},{forEach:o(function(e){vbe(this);try{pbe(e)}catch(i){mbe(this,"throw",i)}if($q)return dbe($q,this,e);var r=gbe(this),n=0;hbe(r,function(i){e(i,n++)},{IS_RECORD:!0})},"forEach")})});var Uq=h(()=>{"use strict";var qbe=m(),Sbe=w(),bbe=Q(),Ebe=Ue(),xbe=kn().IteratorPrototype,Tbe=lt(),Obe=au(),Ibe=ee(),wbe=Ibe||(function(){try{Iterator.from({return:null}).return()}catch(t){return!0}})(),Abe=Tbe(function(){return Sbe(this.next,this.iterator)},!0);qbe({target:"Iterator",stat:!0,forced:wbe},{from:o(function(e){var r=Obe(typeof e=="string"?bbe(e):e,!0);return Ebe(xbe,r.iterator)?r.iterator:new Abe(r)},"from")})});var Hf=h(()=>{"use strict";var Cbe=m(),H2=w(),Rbe=U(),z2=C(),Mbe=de(),kbe=lt(),Pbe=hf(),Nbe=Oe(),Dbe=iu(),Lbe=ct(),zq=ee(),V2=!zq&&!Dbe("map",function(){}),Hq=!zq&&!V2&&Lbe("map",TypeError),Fbe=zq||V2||Hq,_be=kbe(function(){var t=this.iterator,e=z2(H2(this.next,t)),r=this.done=!!e.done;if(!r)return Pbe(t,this.mapper,[e.value,this.counter++],!0)});Cbe({target:"Iterator",proto:!0,real:!0,forced:Fbe},{map:o(function(e){z2(this);try{Rbe(e)}catch(r){Nbe(this,"throw",r)}return Hq?H2(Hq,this,e):new _be(Mbe(this),{mapper:e})},"map")})});var Wq=h(()=>{"use strict";var Bbe=m(),$be=qe(),jbe=U(),Ube=C(),Hbe=de(),zbe=Oe(),Vbe=ct(),Wbe=He(),Kbe=x(),W2=TypeError,K2=Kbe(function(){[].keys().reduce(function(){},void 0)}),Vq=!K2&&Vbe("reduce",W2);Bbe({target:"Iterator",proto:!0,real:!0,forced:K2||Vq},{reduce:o(function(e){Ube(this);try{jbe(e)}catch(s){zbe(this,"throw",s)}var r=arguments.length<2,n=r?void 0:arguments[1];if(Vq)return Wbe(Vq,this,r?[e]:[e,n]);var i=Hbe(this),a=0;if($be(i,function(s){r?(r=!1,n=s):n=e(n,s,a),a++},{IS_RECORD:!0}),r)throw new W2("Reduce of empty iterator with no initial value");return n},"reduce")})});var Gq=h(()=>{"use strict";var Gbe=m(),Jbe=w(),Ybe=qe(),Xbe=U(),Qbe=C(),Zbe=de(),eEe=Oe(),rEe=ct(),Kq=rEe("some",TypeError);Gbe({target:"Iterator",proto:!0,real:!0,forced:Kq},{some:o(function(e){Qbe(this);try{Xbe(e)}catch(i){eEe(this,"throw",i)}if(Kq)return Jbe(Kq,this,e);var r=Zbe(this),n=0;return Ybe(r,function(i,a){if(e(i,n++))return a()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped},"some")})});var Yq=h(()=>{"use strict";var tEe=m(),G2=w(),J2=C(),nEe=de(),iEe=tu(),aEe=Ga(),oEe=lt(),Y2=Oe(),sEe=ct(),X2=ee(),Jq=!X2&&sEe("take",RangeError),uEe=oEe(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,Y2(t,"normal",void 0);var e=J2(G2(this.next,t)),r=this.done=!!e.done;if(!r)return e.value});tEe({target:"Iterator",proto:!0,real:!0,forced:X2||Jq},{take:o(function(e){J2(this);var r;try{r=aEe(iEe(+e))}catch(n){Y2(this,"throw",n)}return Jq?G2(Jq,this,r):new uEe(nEe(this),{remaining:r})},"take")})});var Xq=h(()=>{"use strict";var lEe=m(),cEe=C(),fEe=qe(),dEe=de(),hEe=[].push;lEe({target:"Iterator",proto:!0,real:!0},{toArray:o(function(){var e=[];return fEe(dEe(cEe(this)),hEe,{that:e,IS_RECORD:!0}),e},"toArray")})});var Q2=h(()=>{"use strict";var pEe=R(),vEe=or();vEe(pEe.JSON,"JSON",!0)});var zf=h((Agr,Z2)=>{"use strict";var gEe=x();Z2.exports=gEe(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})});var Wf=h((Cgr,rF)=>{"use strict";var mEe=x(),yEe=L(),qEe=je(),eF=zf(),Vf=Object.isExtensible,SEe=mEe(function(){Vf(1)});rF.exports=SEe||eF?o(function(e){return!yEe(e)||eF&&qEe(e)==="ArrayBuffer"?!1:Vf?Vf(e):!0},"isExtensible"):Vf});var rn=h((Mgr,tF)=>{"use strict";var bEe=x();tF.exports=!bEe(function(){return Object.isExtensible(Object.preventExtensions({}))})});var jn=h((kgr,aF)=>{"use strict";var EEe=m(),xEe=E(),TEe=Ra(),OEe=L(),Qq=J(),IEe=fe().f,nF=In(),wEe=Hc(),Zq=Wf(),AEe=On(),CEe=rn(),iF=!1,tn=AEe("meta"),REe=0,eS=o(function(t){IEe(t,tn,{value:{objectID:"O"+REe++,weakData:{}}})},"setMetadata"),MEe=o(function(t,e){if(!OEe(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Qq(t,tn)){if(!Zq(t))return"F";if(!e)return"E";eS(t)}return t[tn].objectID},"fastKey"),kEe=o(function(t,e){if(!Qq(t,tn)){if(!Zq(t))return!0;if(!e)return!1;eS(t)}return t[tn].weakData},"getWeakData"),PEe=o(function(t){return CEe&&iF&&Zq(t)&&!Qq(t,tn)&&eS(t),t},"onFreeze"),NEe=o(function(){DEe.enable=function(){},iF=!0;var t=nF.f,e=xEe([].splice),r={};r[tn]=1,t(r).length&&(nF.f=function(n){for(var i=t(n),a=0,s=i.length;a<s;a++)if(i[a]===tn){e(i,a,1);break}return i},EEe({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:wEe.f}))},"enable"),DEe=aF.exports={enable:NEe,fastKey:MEe,getWeakData:kEe,onFreeze:PEe};TEe[tn]=!0});var ou=h((Ngr,sF)=>{"use strict";var LEe=m(),FEe=R(),_Ee=E(),oF=ka(),BEe=oe(),$Ee=jn(),jEe=qe(),UEe=Ze(),HEe=G(),zEe=gr(),rS=L(),tS=x(),VEe=js(),WEe=or(),KEe=Rn();sF.exports=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",s=FEe[t],u=s&&s.prototype,l=s,c={},f=o(function(S){var b=_Ee(u[S]);BEe(u,S,S==="add"?o(function(k){return b(this,k===0?0:k),this},"add"):S==="delete"?function(A){return i&&!rS(A)?!1:b(this,A===0?0:A)}:S==="get"?o(function(k){return i&&!rS(k)?void 0:b(this,k===0?0:k)},"get"):S==="has"?o(function(k){return i&&!rS(k)?!1:b(this,k===0?0:k)},"has"):o(function(k,P){return b(this,k===0?0:k,P),this},"set"))},"fixMethod"),d=oF(t,!HEe(s)||!(i||u.forEach&&!tS(function(){new s().entries().next()})));if(d)l=r.getConstructor(e,t,n,a),$Ee.enable();else if(oF(t,!0)){var p=new l,v=p[a](i?{}:-0,1)!==p,g=tS(function(){p.has(1)}),y=VEe(function(S){new s(S)}),q=!i&&tS(function(){for(var S=new s,b=5;b--;)S[a](b,b);return!S.has(-0)});y||(l=e(function(S,b){UEe(S,u);var A=KEe(new s,S,l);return zEe(b)||jEe(b,A[a],{that:A,AS_ENTRIES:n}),A}),l.prototype=u,u.constructor=l),(g||q)&&(f("delete"),f("has"),n&&f("get")),(q||v)&&f(a),i&&u.clear&&delete u.clear}return c[t]=l,LEe({global:!0,constructor:!0,forced:l!==s},c),WEe(l,t),i||r.setStrong(l,t,n),l}});var iS=h((Lgr,hF)=>{"use strict";var uF=xe(),GEe=ve(),lF=_r(),JEe=le(),YEe=Ze(),XEe=gr(),QEe=qe(),ZEe=gf(),Kf=Ne(),e0e=Dn(),su=N(),cF=jn().fastKey,dF=ie(),fF=dF.set,nS=dF.getterFor;hF.exports={getConstructor:o(function(t,e,r,n){var i=t(function(c,f){YEe(c,a),fF(c,{type:e,index:uF(null),first:null,last:null,size:0}),su||(c.size=0),XEe(f)||QEe(f,c[n],{that:c,AS_ENTRIES:r})}),a=i.prototype,s=nS(e),u=o(function(c,f,d){var p=s(c),v=l(c,f),g,y;return v?v.value=d:(p.last=v={index:y=cF(f,!0),key:f,value:d,previous:g=p.last,next:null,removed:!1},p.first||(p.first=v),g&&(g.next=v),su?p.size++:c.size++,y!=="F"&&(p.index[y]=v)),c},"define"),l=o(function(c,f){var d=s(c),p=cF(f),v;if(p!=="F")return d.index[p];for(v=d.first;v;v=v.next)if(v.key===f)return v},"getEntry");return lF(a,{clear:o(function(){for(var f=this,d=s(f),p=d.first;p;)p.removed=!0,p.previous&&(p.previous=p.previous.next=null),p=p.next;d.first=d.last=null,d.index=uF(null),su?d.size=0:f.size=0},"clear"),delete:o(function(c){var f=this,d=s(f),p=l(f,c);if(p){var v=p.next,g=p.previous;delete d.index[p.index],p.removed=!0,g&&(g.next=v),v&&(v.previous=g),d.first===p&&(d.first=v),d.last===p&&(d.last=g),su?d.size--:f.size--}return!!p},"delete"),forEach:o(function(f){for(var d=s(this),p=JEe(f,arguments.length>1?arguments[1]:void 0),v;v=v?v.next:d.first;)for(p(v.value,v.key,this);v&&v.removed;)v=v.previous},"forEach"),has:o(function(f){return!!l(this,f)},"has")}),lF(a,r?{get:o(function(f){var d=l(this,f);return d&&d.value},"get"),set:o(function(f,d){return u(this,f===0?0:f,d)},"set")}:{add:o(function(f){return u(this,f=f===0?0:f,f)},"add")}),su&&GEe(a,"size",{configurable:!0,get:o(function(){return s(this).size},"get")}),i},"getConstructor"),setStrong:o(function(t,e,r){var n=e+" Iterator",i=nS(e),a=nS(n);ZEe(t,e,function(s,u){fF(this,{type:n,target:s,state:i(s),kind:u,last:null})},function(){for(var s=a(this),u=s.kind,l=s.last;l&&l.removed;)l=l.previous;return!s.target||!(s.last=l=l?l.next:s.state.first)?(s.target=null,Kf(void 0,!0)):Kf(u==="keys"?l.key:u==="values"?l.value:[l.key,l.value],!1)},r?"entries":"values",!r,!0),e0e(e)},"setStrong")}});var pF=h(()=>{"use strict";var r0e=ou(),t0e=iS();r0e("Map",function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"Map")},t0e)});var Gf=h(()=>{"use strict";pF()});var De=h((Hgr,vF)=>{"use strict";var Jf=E(),uu=Map.prototype;vF.exports={Map,set:Jf(uu.set),get:Jf(uu.get),has:Jf(uu.has),remove:Jf(uu.delete),proto:uu}});var aS=h(()=>{"use strict";var n0e=m(),i0e=E(),a0e=U(),o0e=he(),s0e=qe(),Yf=De(),gF=ee(),u0e=x(),mF=Yf.Map,l0e=Yf.has,c0e=Yf.get,f0e=Yf.set,d0e=i0e([].push),h0e=gF||u0e(function(){return mF.groupBy("ab",function(t){return t}).get("a").length!==1});n0e({target:"Map",stat:!0,forced:gF||h0e},{groupBy:o(function(e,r){o0e(e),a0e(r);var n=new mF,i=0;return s0e(e,function(a){var s=r(a,i++);l0e(n,s)?d0e(c0e(n,s),a):f0e(n,s,[a])}),n},"groupBy")})});var oS=h((Kgr,yF)=>{"use strict";var p0e=Math.log;yF.exports=Math.log1p||o(function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:p0e(1+r)},"log1p")});var SF=h(()=>{"use strict";var v0e=m(),g0e=oS(),sS=Math.acosh,m0e=Math.log,qF=Math.sqrt,y0e=Math.LN2,q0e=!sS||Math.floor(sS(Number.MAX_VALUE))!==710||sS(1/0)!==1/0;v0e({target:"Math",stat:!0,forced:q0e},{acosh:o(function(e){var r=+e;return r<1?NaN:r>9490626562425156e-8?m0e(r)+y0e:g0e(r-1+qF(r-1)*qF(r+1))},"acosh")})});var xF=h(()=>{"use strict";var S0e=m(),bF=Math.asinh,b0e=Math.log,E0e=Math.sqrt;function EF(t){var e=+t;return!isFinite(e)||e===0?e:e<0?-EF(-e):b0e(e+E0e(e*e+1))}o(EF,"asinh");var x0e=!(bF&&1/bF(0)>0);S0e({target:"Math",stat:!0,forced:x0e},{asinh:EF})});var OF=h(()=>{"use strict";var T0e=m(),TF=Math.atanh,O0e=Math.log,I0e=!(TF&&1/TF(-0)<0);T0e({target:"Math",stat:!0,forced:I0e},{atanh:o(function(e){var r=+e;return r===0?r:O0e((1+r)/(1-r))/2},"atanh")})});var IF=h(()=>{"use strict";var w0e=m(),A0e=Ef(),C0e=Math.abs,R0e=Math.pow;w0e({target:"Math",stat:!0},{cbrt:o(function(e){var r=+e;return A0e(r)*R0e(C0e(r),1/3)},"cbrt")})});var wF=h(()=>{"use strict";var M0e=m(),k0e=Math.floor,P0e=Math.log,N0e=Math.LOG2E;M0e({target:"Math",stat:!0},{clz32:o(function(e){var r=e>>>0;return r?31-k0e(P0e(r+.5)*N0e):32},"clz32")})});var cu=h((cmr,AF)=>{"use strict";var lu=Math.expm1,D0e=Math.exp;AF.exports=!lu||lu(10)>22025.465794806718||lu(10)<22025.465794806718||lu(-2e-17)!==-2e-17?o(function(e){var r=+e;return r===0?r:r>-1e-6&&r<1e-6?r+r*r/2:D0e(r)-1},"expm1"):lu});var RF=h(()=>{"use strict";var L0e=m(),F0e=cu(),CF=Math.cosh,_0e=Math.abs,uS=Math.E,B0e=!CF||CF(710)===1/0;L0e({target:"Math",stat:!0,forced:B0e},{cosh:o(function(e){var r=F0e(_0e(e)-1)+1;return(r+1/(r*uS*uS))*(uS/2)},"cosh")})});var kF=h(()=>{"use strict";var $0e=m(),MF=cu();$0e({target:"Math",stat:!0,forced:MF!==Math.expm1},{expm1:MF})});var PF=h(()=>{"use strict";var j0e=m(),U0e=xf();j0e({target:"Math",stat:!0},{fround:U0e})});var lS=h(()=>{"use strict";var H0e=m(),z0e=py(),V0e=.0009765625,W0e=65504,K0e=6103515625e-14;H0e({target:"Math",stat:!0},{f16round:o(function(e){return z0e(e,V0e,W0e,K0e)},"f16round")})});var DF=h(()=>{"use strict";var G0e=m(),NF=Math.hypot,J0e=Math.abs,Y0e=Math.sqrt,X0e=!!NF&&NF(1/0,NaN)!==1/0;G0e({target:"Math",stat:!0,arity:2,forced:X0e},{hypot:o(function(e,r){for(var n=0,i=0,a=arguments.length,s=0,u,l;i<a;)u=J0e(arguments[i++]),s<u?(l=s/u,n=n*l*l+1,s=u):u>0?(l=u/s,n+=l*l):n+=u;return s===1/0?1/0:s*Y0e(n)},"hypot")})});var FF=h(()=>{"use strict";var Q0e=m(),Z0e=x(),LF=Math.imul,exe=Z0e(function(){return LF(4294967295,5)!==-5||LF.length!==2});Q0e({target:"Math",stat:!0,forced:exe},{imul:o(function(e,r){var n=65535,i=+e,a=+r,s=n&i,u=n&a;return 0|s*u+((n&i>>>16)*u+s*(n&a>>>16)<<16>>>0)},"imul")})});var cS=h((Amr,_F)=>{"use strict";var rxe=Math.log,txe=Math.LOG10E;_F.exports=Math.log10||o(function(e){return rxe(e)*txe},"log10")});var BF=h(()=>{"use strict";var nxe=m(),ixe=cS();nxe({target:"Math",stat:!0},{log10:ixe})});var $F=h(()=>{"use strict";var axe=m(),oxe=oS();axe({target:"Math",stat:!0},{log1p:oxe})});var jF=h(()=>{"use strict";var sxe=m(),uxe=Ny();sxe({target:"Math",stat:!0},{log2:uxe})});var UF=h(()=>{"use strict";var lxe=m(),cxe=Ef();lxe({target:"Math",stat:!0},{sign:cxe})});var VF=h(()=>{"use strict";var fxe=m(),dxe=x(),HF=cu(),hxe=Math.abs,zF=Math.exp,pxe=Math.E,vxe=dxe(function(){return Math.sinh(-2e-17)!==-2e-17});fxe({target:"Math",stat:!0,forced:vxe},{sinh:o(function(e){var r=+e;return hxe(r)<1?(HF(r)-HF(-r))/2:(zF(r-1)-zF(-r-1))*(pxe/2)},"sinh")})});var vS=h(()=>{"use strict";var gxe=m(),mxe=E(),yxe=qe(),qxe=RangeError,Sxe=TypeError,Br=1/0,bxe=NaN,Ri=Math.abs,pS=Math.pow,WF=mxe([].push),fu=pS(2,1023),Exe=pS(2,53)-1,KF=Number.MAX_VALUE,GF=pS(2,971),du={},fS={},dS={},hS={},JF={},Xf=o(function(t,e){var r=t+e,n=e-(r-t);return{hi:r,lo:n}},"twosum");gxe({target:"Math",stat:!0},{sumPrecise:o(function(e){var r=[],n=0,i=hS;switch(yxe(e,function(A){if(++n>=Exe)throw new qxe("Maximum allowed index exceeded");if(typeof A!="number")throw new Sxe("Value is not a number");i!==du&&(A!==A?i=du:A===Br?i=i===fS?du:dS:A===-Br?i=i===dS?du:fS:(A!==0||1/A===Br)&&(i===hS||i===JF)&&(i=JF,WF(r,A)))}),i){case du:return bxe;case fS:return-Br;case dS:return Br;case hS:return-0}for(var a=[],s=0,u,l,c,f,d,p,v=0;v<r.length;v++){u=r[v];for(var g=0,y=0;y<a.length;y++){if(l=a[y],Ri(u)<Ri(l)&&(p=u,u=l,l=p),c=Xf(u,l),f=c.hi,d=c.lo,Ri(f)===Br){var q=f===Br?1:-1;s+=q,u=u-q*fu-q*fu,Ri(u)<Ri(l)&&(p=u,u=l,l=p),c=Xf(u,l),f=c.hi,d=c.lo}d!==0&&(a[g++]=d),u=f}a.length=g,u!==0&&WF(a,u)}var S=a.length-1;if(f=0,d=0,s!==0){var b=S>=0?a[S]:0;if(S--,Ri(s)>1||s>0&&b>0||s<0&&b<0)return s>0?Br:-Br;if(c=Xf(s*fu,b/2),f=c.hi,d=c.lo,d*=2,Ri(2*f)===Br)return f>0?f===fu&&d===-(GF/2)&&S>=0&&a[S]<0?KF:Br:f===-fu&&d===GF/2&&S>=0&&a[S]>0?-KF:-Br;d!==0&&(a[++S]=d,d=0),f*=2}for(;S>=0&&(c=Xf(f,a[S--]),f=c.hi,d=c.lo,d===0););return S>=0&&(d<0&&a[S]<0||d>0&&a[S]>0)&&(l=d*2,u=f+l,l===u-f&&(f=u)),f},"sumPrecise")})});var QF=h(()=>{"use strict";var xxe=m(),YF=cu(),XF=Math.exp;xxe({target:"Math",stat:!0},{tanh:o(function(e){var r=+e,n=YF(r),i=YF(-r);return n===1/0?1:i===1/0?-1:(n-i)/(XF(r)+XF(-r))},"tanh")})});var ZF=h(()=>{"use strict";var Txe=or();Txe(Math,"Math",!0)});var e_=h(()=>{"use strict";var Oxe=m(),Ixe=Lg();Oxe({target:"Math",stat:!0},{trunc:Ixe})});var Ja=h((Xmr,r_)=>{"use strict";var wxe=E();r_.exports=wxe(1.1.valueOf)});var Mi=h((Qmr,t_)=>{"use strict";t_.exports="	\n\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF"});var ki=h((Zmr,i_)=>{"use strict";var Axe=E(),Cxe=he(),Rxe=W(),mS=Mi(),n_=Axe("".replace),Mxe=RegExp("^["+mS+"]+"),kxe=RegExp("(^|[^"+mS+"])["+mS+"]+$"),gS=o(function(t){return function(e){var r=Rxe(Cxe(e));return t&1&&(r=n_(r,Mxe,"")),t&2&&(r=n_(r,kxe,"$1")),r}},"createMethod");i_.exports={start:gS(1),end:gS(2),trim:gS(3)}});var f_=h(()=>{"use strict";var Pxe=m(),yS=ee(),Nxe=N(),s_=R(),qS=ws(),u_=E(),Dxe=ka(),a_=J(),Lxe=Rn(),Fxe=Ue(),_xe=zt(),l_=qs(),Bxe=x(),$xe=In().f,jxe=Le().f,Uxe=fe().f,Hxe=Ja(),zxe=ki().trim,hu="Number",Ya=s_[hu],o_=qS[hu],SS=Ya.prototype,Vxe=s_.TypeError,Wxe=u_("".slice),Qf=u_("".charCodeAt),Kxe=o(function(t){var e=l_(t,"number");return typeof e=="bigint"?e:Gxe(e)},"toNumeric"),Gxe=o(function(t){var e=l_(t,"number"),r,n,i,a,s,u,l,c;if(_xe(e))throw new Vxe("Cannot convert a Symbol value to a number");if(typeof e=="string"&&e.length>2){if(e=zxe(e),r=Qf(e,0),r===43||r===45){if(n=Qf(e,2),n===88||n===120)return NaN}else if(r===48){switch(Qf(e,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(s=Wxe(e,2),u=s.length,l=0;l<u;l++)if(c=Qf(s,l),c<48||c>a)return NaN;return parseInt(s,i)}}return+e},"toNumber"),bS=Dxe(hu,!Ya(" 0o1")||!Ya("0b1")||Ya("+0x1")),Jxe=o(function(t){return Fxe(SS,t)&&Bxe(function(){Hxe(t)})},"calledWithNew"),Zf=o(function(e){var r=arguments.length<1?0:Ya(Kxe(e));return Jxe(this)?Lxe(Object(r),this,Zf):r},"Number");Zf.prototype=SS;bS&&!yS&&(SS.constructor=Zf);Pxe({global:!0,constructor:!0,wrap:!0,forced:bS},{Number:Zf});var c_=o(function(t,e){for(var r=Nxe?$xe(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)a_(e,i=r[n])&&!a_(t,i)&&Uxe(t,i,jxe(e,i))},"copyConstructorProperties");yS&&o_&&c_(qS[hu],o_);(bS||yS)&&c_(qS[hu],Ya)});var d_=h(()=>{"use strict";var Yxe=m();Yxe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)})});var ES=h((oyr,h_)=>{"use strict";var Xxe=R(),Qxe=Xxe.isFinite;h_.exports=Number.isFinite||o(function(e){return typeof e=="number"&&Qxe(e)},"isFinite")});var p_=h(()=>{"use strict";var Zxe=m(),eTe=ES();Zxe({target:"Number",stat:!0},{isFinite:eTe})});var ed=h((cyr,v_)=>{"use strict";var rTe=L(),tTe=Math.floor;v_.exports=Number.isInteger||o(function(e){return!rTe(e)&&isFinite(e)&&tTe(e)===e},"isInteger")});var g_=h(()=>{"use strict";var nTe=m(),iTe=ed();nTe({target:"Number",stat:!0},{isInteger:iTe})});var m_=h(()=>{"use strict";var aTe=m();aTe({target:"Number",stat:!0},{isNaN:o(function(e){return e!==e},"isNaN")})});var y_=h(()=>{"use strict";var oTe=m(),sTe=ed(),uTe=Math.abs;oTe({target:"Number",stat:!0},{isSafeInteger:o(function(e){return sTe(e)&&uTe(e)<=9007199254740991},"isSafeInteger")})});var q_=h(()=>{"use strict";var lTe=m();lTe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991})});var S_=h(()=>{"use strict";var cTe=m();cTe({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991})});var xS=h((Tyr,T_)=>{"use strict";var x_=R(),fTe=x(),dTe=E(),hTe=W(),pTe=ki().trim,vTe=Mi(),gTe=dTe("".charAt),rd=x_.parseFloat,b_=x_.Symbol,E_=b_&&b_.iterator,mTe=1/rd(vTe+"-0")!==-1/0||E_&&!fTe(function(){rd(Object(E_))});T_.exports=mTe?o(function(e){var r=pTe(hTe(e)),n=rd(r);return n===0&&gTe(r,0)==="-"?-0:n},"parseFloat"):rd});var I_=h(()=>{"use strict";var yTe=m(),O_=xS();yTe({target:"Number",stat:!0,forced:Number.parseFloat!==O_},{parseFloat:O_})});var TS=h((Ayr,k_)=>{"use strict";var R_=R(),qTe=x(),STe=E(),bTe=W(),ETe=ki().trim,w_=Mi(),pu=R_.parseInt,A_=R_.Symbol,C_=A_&&A_.iterator,M_=/^[+-]?0x/i,xTe=STe(M_.exec),TTe=pu(w_+"08")!==8||pu(w_+"0x16")!==22||C_&&!qTe(function(){pu(Object(C_))});k_.exports=TTe?o(function(e,r){var n=ETe(bTe(e));return pu(n,r>>>0||(xTe(M_,n)?16:10))},"parseInt"):pu});var N_=h(()=>{"use strict";var OTe=m(),P_=TS();OTe({target:"Number",stat:!0,forced:Number.parseInt!==P_},{parseInt:P_})});var B_=h(()=>{"use strict";var ITe=m(),IS=E(),wTe=pe(),ATe=Ja(),CTe=Qs(),RTe=cS(),OS=x(),MTe=RangeError,D_=String,kTe=isFinite,PTe=Math.abs,NTe=Math.floor,L_=Math.pow,DTe=Math.round,xt=IS(1.1.toExponential),LTe=IS(CTe),F_=IS("".slice),__=xt(-69e-12,4)==="-6.9000e-11"&&xt(1.255,2)==="1.25e+0"&&xt(12345,3)==="1.235e+4"&&xt(25,0)==="3e+1",FTe=o(function(){return OS(function(){xt(1,1/0)})&&OS(function(){xt(1,-1/0)})},"throwsOnInfinityFraction"),_Te=o(function(){return!OS(function(){xt(1/0,1/0),xt(NaN,1/0)})},"properNonFiniteThisCheck"),BTe=!__||!FTe()||!_Te();ITe({target:"Number",proto:!0,forced:BTe},{toExponential:o(function(e){var r=ATe(this);if(e===void 0)return xt(r);var n=wTe(e);if(!kTe(r))return String(r);if(n<0||n>20)throw new MTe("Incorrect fraction digits");if(__)return xt(r,n);var i="",a,s,u,l;if(r<0&&(i="-",r=-r),r===0)s=0,a=LTe("0",n+1);else{var c=RTe(r);s=NTe(c);var f=L_(10,s-n),d=DTe(r/f);2*r>=(2*d+1)*f&&(d+=1),d>=L_(10,n+1)&&(d/=10,s+=1),a=D_(d)}return n!==0&&(a=F_(a,0,1)+"."+F_(a,1)),s===0?(u="+",l="0"):(u=s>0?"+":"-",l=D_(PTe(s))),a+="e"+u+l,i+a},"toExponential")})});var V_=h(()=>{"use strict";var $Te=m(),CS=E(),jTe=pe(),UTe=Ja(),HTe=Qs(),$_=x(),zTe=RangeError,H_=String,z_=Math.floor,AS=CS(HTe),j_=CS("".slice),vu=CS(1.1.toFixed),Qa=o(function(t,e,r){return e===0?r:e%2===1?Qa(t,e-1,r*t):Qa(t*t,e/2,r)},"pow"),VTe=o(function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e},"log"),Xa=o(function(t,e,r){for(var n=-1,i=r;++n<6;)i+=e*t[n],t[n]=i%1e7,i=z_(i/1e7)},"multiply"),wS=o(function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=z_(n/e),n=n%e*1e7},"divide"),U_=o(function(t){for(var e=6,r="";--e>=0;)if(r!==""||e===0||t[e]!==0){var n=H_(t[e]);r=r===""?n:r+AS("0",7-n.length)+n}return r},"dataToString"),WTe=$_(function(){return vu(8e-5,3)!=="0.000"||vu(.9,0)!=="1"||vu(1.255,2)!=="1.25"||vu(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!$_(function(){vu({})});$Te({target:"Number",proto:!0,forced:WTe},{toFixed:o(function(e){var r=UTe(this),n=jTe(e),i=[0,0,0,0,0,0],a="",s="0",u,l,c,f;if(n<0||n>20)throw new zTe("Incorrect fraction digits");if(r!==r)return"NaN";if(r<=-1e21||r>=1e21)return H_(r);if(r<0&&(a="-",r=-r),r>1e-21)if(u=VTe(r*Qa(2,69,1))-69,l=u<0?r*Qa(2,-u,1):r/Qa(2,u,1),l*=4503599627370496,u=52-u,u>0){for(Xa(i,0,l),c=n;c>=7;)Xa(i,1e7,0),c-=7;for(Xa(i,Qa(10,c,1),0),c=u-1;c>=23;)wS(i,1<<23),c-=23;wS(i,1<<c),Xa(i,1,1),wS(i,2),s=U_(i)}else Xa(i,0,l),Xa(i,1<<-u,0),s=U_(i)+AS("0",n);return n>0?(f=s.length,s=a+(f<=n?"0."+AS("0",n-f)+s:j_(s,0,f-n)+"."+j_(s,f-n))):s=a+s,s},"toFixed")})});var G_=h(()=>{"use strict";var KTe=m(),GTe=E(),W_=x(),K_=Ja(),td=GTe(1.1.toPrecision),JTe=W_(function(){return td(1,void 0)!=="1"})||!W_(function(){td({})});KTe({target:"Number",proto:!0,forced:JTe},{toPrecision:o(function(e){return e===void 0?td(K_(this)):td(K_(this),e)},"toPrecision")})});var MS=h((jyr,X_)=>{"use strict";var J_=N(),YTe=E(),XTe=w(),QTe=x(),RS=qi(),ZTe=Os(),eOe=Aa(),rOe=Q(),tOe=Ht(),Za=Object.assign,Y_=Object.defineProperty,nOe=YTe([].concat);X_.exports=!Za||QTe(function(){if(J_&&Za({b:1},Za(Y_({},"a",{enumerable:!0,get:o(function(){Y_(this,"b",{value:3,enumerable:!1})},"get")}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),Za({},t)[r]!==7||RS(Za({},e)).join("")!==n})?o(function(e,r){for(var n=rOe(e),i=arguments.length,a=1,s=ZTe.f,u=eOe.f;i>a;)for(var l=tOe(arguments[a++]),c=s?nOe(RS(l),s(l)):RS(l),f=c.length,d=0,p;f>d;)p=c[d++],(!J_||XTe(u,l,p))&&(n[p]=l[p]);return n},"assign"):Za});var Z_=h(()=>{"use strict";var iOe=m(),Q_=MS();iOe({target:"Object",stat:!0,arity:2,forced:Object.assign!==Q_},{assign:Q_})});var eB=h(()=>{"use strict";var aOe=m(),oOe=N(),sOe=xe();aOe({target:"Object",stat:!0,sham:!oOe},{create:sOe})});var gu=h((Kyr,tB)=>{"use strict";var uOe=ee(),lOe=R(),cOe=x(),rB=bf();tB.exports=uOe||!cOe(function(){if(!(rB&&rB<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete lOe[t]}})});var nB=h(()=>{"use strict";var fOe=m(),dOe=N(),hOe=gu(),pOe=U(),vOe=Q(),gOe=fe();dOe&&fOe({target:"Object",proto:!0,forced:hOe},{__defineGetter__:o(function(e,r){gOe.f(vOe(this),e,{get:pOe(r),enumerable:!0,configurable:!0})},"__defineGetter__")})});var aB=h(()=>{"use strict";var mOe=m(),yOe=N(),iB=$c().f;mOe({target:"Object",stat:!0,forced:Object.defineProperties!==iB,sham:!yOe},{defineProperties:iB})});var sB=h(()=>{"use strict";var qOe=m(),SOe=N(),oB=fe().f;qOe({target:"Object",stat:!0,forced:Object.defineProperty!==oB,sham:!SOe},{defineProperty:oB})});var uB=h(()=>{"use strict";var bOe=m(),EOe=N(),xOe=gu(),TOe=U(),OOe=Q(),IOe=fe();EOe&&bOe({target:"Object",proto:!0,forced:xOe},{__defineSetter__:o(function(e,r){IOe.f(OOe(this),e,{set:TOe(r),enumerable:!0,configurable:!0})},"__defineSetter__")})});var kS=h((iqr,hB)=>{"use strict";var cB=N(),wOe=x(),fB=E(),AOe=Me(),COe=qi(),ROe=Ce(),MOe=Aa().f,dB=fB(MOe),kOe=fB([].push),POe=cB&&wOe(function(){var t=Object.create(null);return t[2]=2,!dB(t,2)}),lB=o(function(t){return function(e){for(var r=ROe(e),n=COe(r),i=POe&&AOe(r)===null,a=n.length,s=0,u=[],l;a>s;)l=n[s++],(!cB||(i?l in r:dB(r,l)))&&kOe(u,t?[l,r[l]]:r[l]);return u}},"createMethod");hB.exports={entries:lB(!0),values:lB(!1)}});var pB=h(()=>{"use strict";var NOe=m(),DOe=kS().entries;NOe({target:"Object",stat:!0},{entries:o(function(e){return DOe(e)},"entries")})});var vB=h(()=>{"use strict";var LOe=m(),FOe=rn(),_Oe=x(),BOe=L(),$Oe=jn().onFreeze,PS=Object.freeze,jOe=_Oe(function(){PS(1)});LOe({target:"Object",stat:!0,forced:jOe,sham:!FOe},{freeze:o(function(e){return PS&&BOe(e)?PS($Oe(e)):e},"freeze")})});var gB=h(()=>{"use strict";var UOe=m(),HOe=qe(),zOe=Lr();UOe({target:"Object",stat:!0},{fromEntries:o(function(e){var r={};return HOe(e,function(n,i){zOe(r,n,i)},{AS_ENTRIES:!0}),r},"fromEntries")})});var qB=h(()=>{"use strict";var VOe=m(),WOe=x(),KOe=Ce(),mB=Le().f,yB=N(),GOe=!yB||WOe(function(){mB(1)});VOe({target:"Object",stat:!0,forced:GOe,sham:!yB},{getOwnPropertyDescriptor:o(function(e,r){return mB(KOe(e),r)},"getOwnPropertyDescriptor")})});var SB=h(()=>{"use strict";var JOe=m(),YOe=N(),XOe=Lc(),QOe=Ce(),ZOe=Le(),eIe=Lr();JOe({target:"Object",stat:!0,sham:!YOe},{getOwnPropertyDescriptors:o(function(e){for(var r=QOe(e),n=ZOe.f,i=XOe(r),a={},s=0,u,l;i.length>s;)l=n(r,u=i[s++]),l!==void 0&&eIe(a,u,l);return a},"getOwnPropertyDescriptors")})});var bB=h(()=>{"use strict";var rIe=m(),tIe=x(),nIe=Hc().f,iIe=tIe(function(){return!Object.getOwnPropertyNames(1)});rIe({target:"Object",stat:!0,forced:iIe},{getOwnPropertyNames:nIe})});var xB=h(()=>{"use strict";var aIe=m(),oIe=x(),sIe=Q(),EB=Me(),uIe=tf(),lIe=oIe(function(){EB(1)});aIe({target:"Object",stat:!0,forced:lIe,sham:!uIe},{getPrototypeOf:o(function(e){return EB(sIe(e))},"getPrototypeOf")})});var NS=h(()=>{"use strict";var cIe=m(),fIe=j(),dIe=E(),hIe=U(),pIe=he(),vIe=mt(),gIe=qe(),mIe=x(),TB=Object.groupBy,yIe=fIe("Object","create"),qIe=dIe([].push),SIe=!TB||mIe(function(){return TB("ab",function(t){return t}).a.length!==1});cIe({target:"Object",stat:!0,forced:SIe},{groupBy:o(function(e,r){pIe(e),hIe(r);var n=yIe(null),i=0;return gIe(e,function(a){var s=vIe(r(a,i++));s in n?qIe(n[s],a):n[s]=[a]}),n},"groupBy")})});var DS=h(()=>{"use strict";var bIe=m(),EIe=J();bIe({target:"Object",stat:!0},{hasOwn:EIe})});var LS=h((Mqr,OB)=>{"use strict";OB.exports=Object.is||o(function(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r},"is")});var IB=h(()=>{"use strict";var xIe=m(),TIe=LS();xIe({target:"Object",stat:!0},{is:TIe})});var AB=h(()=>{"use strict";var OIe=m(),wB=Wf();OIe({target:"Object",stat:!0,forced:Object.isExtensible!==wB},{isExtensible:wB})});var RB=h(()=>{"use strict";var IIe=m(),wIe=x(),AIe=L(),CIe=je(),CB=zf(),FS=Object.isFrozen,RIe=CB||wIe(function(){FS(1)});IIe({target:"Object",stat:!0,forced:RIe},{isFrozen:o(function(e){return!AIe(e)||CB&&CIe(e)==="ArrayBuffer"?!0:FS?FS(e):!1},"isFrozen")})});var kB=h(()=>{"use strict";var MIe=m(),kIe=x(),PIe=L(),NIe=je(),MB=zf(),_S=Object.isSealed,DIe=MB||kIe(function(){_S(1)});MIe({target:"Object",stat:!0,forced:DIe},{isSealed:o(function(e){return!PIe(e)||MB&&NIe(e)==="ArrayBuffer"?!0:_S?_S(e):!1},"isSealed")})});var NB=h(()=>{"use strict";var LIe=m(),FIe=Q(),PB=qi(),_Ie=x(),BIe=_Ie(function(){PB(1)});LIe({target:"Object",stat:!0,forced:BIe},{keys:o(function(e){return PB(FIe(e))},"keys")})});var DB=h(()=>{"use strict";var $Ie=m(),jIe=N(),UIe=gu(),HIe=Q(),zIe=mt(),VIe=Me(),WIe=Le().f;jIe&&$Ie({target:"Object",proto:!0,forced:UIe},{__lookupGetter__:o(function(e){var r=HIe(this),n=zIe(e),i;do if(i=WIe(r,n))return i.get;while(r=VIe(r))},"__lookupGetter__")})});var LB=h(()=>{"use strict";var KIe=m(),GIe=N(),JIe=gu(),YIe=Q(),XIe=mt(),QIe=Me(),ZIe=Le().f;GIe&&KIe({target:"Object",proto:!0,forced:JIe},{__lookupSetter__:o(function(e){var r=YIe(this),n=XIe(e),i;do if(i=ZIe(r,n))return i.set;while(r=QIe(r))},"__lookupSetter__")})});var FB=h(()=>{"use strict";var ewe=m(),rwe=L(),twe=jn().onFreeze,nwe=rn(),iwe=x(),BS=Object.preventExtensions,awe=iwe(function(){BS(1)});ewe({target:"Object",stat:!0,forced:awe,sham:!nwe},{preventExtensions:o(function(e){return BS&&rwe(e)?BS(twe(e)):e},"preventExtensions")})});var UB=h(()=>{"use strict";var owe=N(),swe=ve(),uwe=L(),lwe=hm(),cwe=Q(),fwe=he(),_B=Object.getPrototypeOf,BB=Object.setPrototypeOf,$B=Object.prototype,jB="__proto__";if(owe&&_B&&BB&&!(jB in $B))try{swe($B,jB,{configurable:!0,get:o(function(){return _B(cwe(this))},"__proto__"),set:o(function(e){var r=fwe(this);lwe(e)&&uwe(r)&&BB(r,e)},"__proto__")})}catch(t){}});var HB=h(()=>{"use strict";var dwe=m(),hwe=L(),pwe=jn().onFreeze,vwe=rn(),gwe=x(),$S=Object.seal,mwe=gwe(function(){$S(1)});dwe({target:"Object",stat:!0,forced:mwe,sham:!vwe},{seal:o(function(e){return $S&&hwe(e)?$S(pwe(e)):e},"seal")})});var zB=h(()=>{"use strict";var ywe=m(),qwe=Dr();ywe({target:"Object",stat:!0},{setPrototypeOf:qwe})});var WB=h((lSr,VB)=>{"use strict";var Swe=_c(),bwe=ar();VB.exports=Swe?{}.toString:o(function(){return"[object "+bwe(this)+"]"},"toString")});var KB=h(()=>{"use strict";var Ewe=_c(),xwe=oe(),Twe=WB();Ewe||xwe(Object.prototype,"toString",Twe,{unsafe:!0})});var GB=h(()=>{"use strict";var Owe=m(),Iwe=kS().values;Owe({target:"Object",stat:!0},{values:o(function(e){return Iwe(e)},"values")})});var YB=h(()=>{"use strict";var wwe=m(),JB=xS();wwe({global:!0,forced:parseFloat!==JB},{parseFloat:JB})});var QB=h(()=>{"use strict";var Awe=m(),XB=TS();Awe({global:!0,forced:parseInt!==XB},{parseInt:XB})});var mu=h((SSr,ZB)=>{"use strict";var Cwe=ot(),Rwe=Tn(),Mwe=TypeError;ZB.exports=function(t){if(Cwe(t))return t;throw new Mwe(Rwe(t)+" is not a constructor")}});var yu=h((bSr,r$)=>{"use strict";var e$=C(),kwe=mu(),Pwe=gr(),Nwe=$(),Dwe=Nwe("species");r$.exports=function(t,e){var r=e$(t).constructor,n;return r===void 0||Pwe(n=e$(r)[Dwe])?e:kwe(n)}});var Rr=h((ESr,t$)=>{"use strict";var Lwe=TypeError;t$.exports=function(t,e){if(t<e)throw new Lwe("Not enough arguments");return t}});var jS=h((xSr,n$)=>{"use strict";var Fwe=et();n$.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(Fwe)});var bu=h((TSr,d$)=>{"use strict";var Mr=R(),_we=He(),Bwe=le(),i$=G(),$we=J(),f$=x(),a$=Bg(),jwe=yr(),o$=Ss(),Uwe=Rr(),Hwe=jS(),zwe=wi(),KS=Mr.setImmediate,GS=Mr.clearImmediate,Vwe=Mr.process,US=Mr.Dispatch,Wwe=Mr.Function,s$=Mr.MessageChannel,Kwe=Mr.String,HS=0,qu={},u$="onreadystatechange",Su,Pi,zS,VS;f$(function(){Su=Mr.location});var JS=o(function(t){if($we(qu,t)){var e=qu[t];delete qu[t],e()}},"run"),WS=o(function(t){return function(){JS(t)}},"runner"),l$=o(function(t){JS(t.data)},"eventListener"),c$=o(function(t){Mr.postMessage(Kwe(t),Su.protocol+"//"+Su.host)},"globalPostMessageDefer");(!KS||!GS)&&(KS=o(function(e){Uwe(arguments.length,1);var r=i$(e)?e:Wwe(e),n=jwe(arguments,1);return qu[++HS]=function(){_we(r,void 0,n)},Pi(HS),HS},"setImmediate"),GS=o(function(e){delete qu[e]},"clearImmediate"),zwe?Pi=o(function(t){Vwe.nextTick(WS(t))},"defer"):US&&US.now?Pi=o(function(t){US.now(WS(t))},"defer"):s$&&!Hwe?(zS=new s$,VS=zS.port2,zS.port1.onmessage=l$,Pi=Bwe(VS.postMessage,VS)):Mr.addEventListener&&i$(Mr.postMessage)&&!Mr.importScripts&&Su&&Su.protocol!=="file:"&&!f$(c$)?(Pi=c$,Mr.addEventListener("message",l$,!1)):u$ in o$("script")?Pi=o(function(t){a$.appendChild(o$("script"))[u$]=function(){a$.removeChild(this),JS(t)}},"defer"):Pi=o(function(t){setTimeout(WS(t),0)},"defer"));d$.exports={set:KS,clear:GS}});var YS=h((ISr,p$)=>{"use strict";var h$=R(),Gwe=N(),Jwe=Object.getOwnPropertyDescriptor;p$.exports=function(t){if(!Gwe)return h$[t];var e=Jwe(h$,t);return e&&e.value}});var XS=h((wSr,g$)=>{"use strict";var v$=o(function(){this.head=null,this.tail=null},"Queue");v$.prototype={add:o(function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},"add"),get:o(function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}},"get")};g$.exports=v$});var y$=h((CSr,m$)=>{"use strict";var Ywe=et();m$.exports=/ipad|iphone|ipod/i.test(Ywe)&&typeof Pebble<"u"});var S$=h((RSr,q$)=>{"use strict";var Xwe=et();q$.exports=/web0s(?!.*chrome)/i.test(Xwe)});var nb=h((MSr,I$)=>{"use strict";var ro=R(),Qwe=YS(),b$=le(),QS=bu().set,Zwe=XS(),eAe=jS(),rAe=y$(),tAe=S$(),ZS=wi(),E$=ro.MutationObserver||ro.WebKitMutationObserver,x$=ro.document,T$=ro.process,nd=ro.Promise,tb=Qwe("queueMicrotask"),eo,eb,rb,id,O$;tb||(Eu=new Zwe,xu=o(function(){var t,e;for(ZS&&(t=T$.domain)&&t.exit();e=Eu.get();)try{e()}catch(r){throw Eu.head&&eo(),r}t&&t.enter()},"flush"),!eAe&&!ZS&&!tAe&&E$&&x$?(eb=!0,rb=x$.createTextNode(""),new E$(xu).observe(rb,{characterData:!0}),eo=o(function(){rb.data=eb=!eb},"notify")):!rAe&&nd&&nd.resolve?(id=nd.resolve(void 0),id.constructor=nd,O$=b$(id.then,id),eo=o(function(){O$(xu)},"notify")):ZS?eo=o(function(){T$.nextTick(xu)},"notify"):(QS=b$(QS,ro),eo=o(function(){QS(xu)},"notify")),tb=o(function(t){Eu.head||eo(),Eu.add(t)},"microtask"));var Eu,xu;I$.exports=tb});var ib=h((PSr,w$)=>{"use strict";w$.exports=function(t,e){try{arguments.length===1?console.error(t):console.error(t,e)}catch(r){}}});var Un=h((NSr,A$)=>{"use strict";A$.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}});var Ni=h((DSr,C$)=>{"use strict";var nAe=R();C$.exports=nAe.Promise});var to=h((LSr,P$)=>{"use strict";var iAe=R(),Tu=Ni(),aAe=G(),oAe=ka(),sAe=bs(),uAe=$(),R$=Ks(),lAe=ee(),ab=tt(),M$=Tu&&Tu.prototype,cAe=uAe("species"),ob=!1,k$=aAe(iAe.PromiseRejectionEvent),fAe=oAe("Promise",function(){var t=sAe(Tu),e=t!==String(Tu);if(!e&&ab===66||lAe&&!(M$.catch&&M$.finally))return!0;if(!ab||ab<51||!/native code/.test(t)){var r=new Tu(function(a){a(1)}),n=o(function(a){a(function(){},function(){})},"FakePromise"),i=r.constructor={};if(i[cAe]=n,ob=r.then(function(){})instanceof n,!ob)return!0}return!e&&(R$==="BROWSER"||R$==="DENO")&&!k$});P$.exports={CONSTRUCTOR:fAe,REJECTION_EVENT:k$,SUBCLASSING:ob}});var Tt=h((_Sr,D$)=>{"use strict";var N$=U(),dAe=TypeError,hAe=o(function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw new dAe("Bad Promise constructor");e=n,r=i}),this.resolve=N$(e),this.reject=N$(r)},"PromiseCapability");D$.exports.f=function(t){return new hAe(t)}});var rj=h(()=>{"use strict";var pAe=m(),vAe=ee(),ud=wi(),Hn=R(),gAe=ws(),oo=w(),L$=oe(),F$=Dr(),mAe=or(),yAe=Dn(),qAe=U(),sd=G(),SAe=L(),bAe=Ze(),EAe=yu(),U$=bu().set,fb=nb(),xAe=ib(),TAe=Un(),OAe=XS(),H$=ie(),ld=Ni(),db=to(),z$=Tt(),cd="Promise",V$=db.CONSTRUCTOR,IAe=db.REJECTION_EVENT,wAe=db.SUBCLASSING,sb=H$.getterFor(cd),AAe=H$.set,no=ld&&ld.prototype,Di=ld,ad=no,W$=Hn.TypeError,ub=Hn.document,hb=Hn.process,lb=z$.f,CAe=lb,RAe=!!(ub&&ub.createEvent&&Hn.dispatchEvent),K$="unhandledrejection",MAe="rejectionhandled",_$=0,G$=1,kAe=2,pb=1,J$=2,od,B$,Y$,$$,X$=o(function(t){var e;return SAe(t)&&sd(e=t.then)?e:!1},"isThenable"),Q$=o(function(t,e){var r=e.value,n=e.state===G$,i=n?t.ok:t.fail,a=t.resolve,s=t.reject,u=t.domain,l,c,f;try{i?(n||(e.rejection===J$&&NAe(e),e.rejection=pb),i===!0?l=r:(u&&u.enter(),l=i(r),u&&(u.exit(),f=!0)),l===t.promise?s(new W$("Promise-chain cycle")):(c=X$(l))?oo(c,l,a,s):a(l)):s(r)}catch(d){u&&!f&&u.exit(),s(d)}},"callReaction"),Z$=o(function(t,e){t.notified||(t.notified=!0,fb(function(){for(var r=t.reactions,n;n=r.get();)Q$(n,t);t.notified=!1,e&&!t.rejection&&PAe(t)}))},"notify"),ej=o(function(t,e,r){var n,i;RAe?(n=ub.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),Hn.dispatchEvent(n)):n={promise:e,reason:r},!IAe&&(i=Hn["on"+t])?i(n):t===K$&&xAe("Unhandled promise rejection",r)},"dispatchEvent"),PAe=o(function(t){oo(U$,Hn,function(){var e=t.facade,r=t.value,n=j$(t),i;if(n&&(i=TAe(function(){ud?hb.emit("unhandledRejection",r,e):ej(K$,e,r)}),t.rejection=ud||j$(t)?J$:pb,i.error))throw i.value})},"onUnhandled"),j$=o(function(t){return t.rejection!==pb&&!t.parent},"isUnhandled"),NAe=o(function(t){oo(U$,Hn,function(){var e=t.facade;ud?hb.emit("rejectionHandled",e):ej(MAe,e,t.value)})},"onHandleUnhandled"),io=o(function(t,e,r){return function(n){t(e,n,r)}},"bind"),ao=o(function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=kAe,Z$(t,!0))},"internalReject"),cb=o(function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new W$("Promise can't be resolved itself");var n=X$(e);n?fb(function(){var i={done:!1};try{oo(n,e,io(cb,i,t),io(ao,i,t))}catch(a){ao(i,a,t)}}):(t.value=e,t.state=G$,Z$(t,!1))}catch(i){ao({done:!1},i,t)}}},"internalResolve");if(V$&&(Di=o(function(e){bAe(this,ad),qAe(e),oo(od,this);var r=sb(this);try{e(io(cb,r),io(ao,r))}catch(n){ao(r,n)}},"Promise"),ad=Di.prototype,od=o(function(e){AAe(this,{type:cd,done:!1,notified:!1,parent:!1,reactions:new OAe,rejection:!1,state:_$,value:null})},"Promise"),od.prototype=L$(ad,"then",o(function(e,r){var n=sb(this),i=lb(EAe(this,Di));return n.parent=!0,i.ok=sd(e)?e:!0,i.fail=sd(r)&&r,i.domain=ud?hb.domain:void 0,n.state===_$?n.reactions.add(i):fb(function(){Q$(i,n)}),i.promise},"then")),B$=o(function(){var t=new od,e=sb(t);this.promise=t,this.resolve=io(cb,e),this.reject=io(ao,e)},"OwnPromiseCapability"),z$.f=lb=o(function(t){return t===Di||t===Y$?new B$(t):CAe(t)},"newPromiseCapability"),!vAe&&sd(ld)&&no!==Object.prototype)){$$=no.then,wAe||L$(no,"then",o(function(e,r){var n=this;return new Di(function(i,a){oo($$,n,i,a)}).then(e,r)},"then"),{unsafe:!0});try{delete no.constructor}catch(t){}F$&&F$(no,ad)}pAe({global:!0,constructor:!0,wrap:!0,forced:V$},{Promise:Di});Y$=gAe.Promise;mAe(Di,cd,!1,!0);yAe(cd)});var Ou=h((HSr,tj)=>{"use strict";var DAe=Ni(),LAe=js(),FAe=to().CONSTRUCTOR;tj.exports=FAe||!LAe(function(t){DAe.all(t).then(void 0,function(){})})});var nj=h(()=>{"use strict";var _Ae=m(),BAe=w(),$Ae=U(),jAe=Tt(),UAe=Un(),HAe=qe(),zAe=Ou();_Ae({target:"Promise",stat:!0,forced:zAe},{all:o(function(e){var r=this,n=jAe.f(r),i=n.resolve,a=n.reject,s=UAe(function(){var u=$Ae(r.resolve),l=[],c=0,f=1;HAe(e,function(d){var p=c++,v=!1;f++,BAe(u,r,d).then(function(g){v||(v=!0,l[p]=g,--f||i(l))},a)}),--f||i(l)});return s.error&&a(s.value),n.promise},"all")})});var aj=h(()=>{"use strict";var VAe=m(),WAe=ee(),KAe=to().CONSTRUCTOR,gb=Ni(),GAe=j(),JAe=G(),YAe=oe(),ij=gb&&gb.prototype;VAe({target:"Promise",proto:!0,forced:KAe,real:!0},{catch:o(function(t){return this.then(void 0,t)},"catch")});!WAe&&JAe(gb)&&(vb=GAe("Promise").prototype.catch,ij.catch!==vb&&YAe(ij,"catch",vb,{unsafe:!0}));var vb});var oj=h(()=>{"use strict";var XAe=m(),QAe=w(),ZAe=U(),e1e=Tt(),r1e=Un(),t1e=qe(),n1e=Ou();XAe({target:"Promise",stat:!0,forced:n1e},{race:o(function(e){var r=this,n=e1e.f(r),i=n.reject,a=r1e(function(){var s=ZAe(r.resolve);t1e(e,function(u){QAe(s,r,u).then(n.resolve,i)})});return a.error&&i(a.value),n.promise},"race")})});var sj=h(()=>{"use strict";var i1e=m(),a1e=Tt(),o1e=to().CONSTRUCTOR;i1e({target:"Promise",stat:!0,forced:o1e},{reject:o(function(e){var r=a1e.f(this),n=r.reject;return n(e),r.promise},"reject")})});var mb=h((tbr,uj)=>{"use strict";var s1e=C(),u1e=L(),l1e=Tt();uj.exports=function(t,e){if(s1e(t),u1e(e)&&e.constructor===t)return e;var r=l1e.f(t),n=r.resolve;return n(e),r.promise}});var fj=h(()=>{"use strict";var c1e=m(),f1e=j(),lj=ee(),d1e=Ni(),cj=to().CONSTRUCTOR,h1e=mb(),p1e=f1e("Promise"),v1e=lj&&!cj;c1e({target:"Promise",stat:!0,forced:lj||cj},{resolve:o(function(e){return h1e(v1e&&this===p1e?d1e:this,e)},"resolve")})});var dj=h(()=>{"use strict";rj();nj();aj();oj();sj();fj()});var yb=h(()=>{"use strict";var g1e=m(),m1e=w(),y1e=U(),q1e=Tt(),S1e=Un(),b1e=qe(),E1e=Ou();g1e({target:"Promise",stat:!0,forced:E1e},{allSettled:o(function(e){var r=this,n=q1e.f(r),i=n.resolve,a=n.reject,s=S1e(function(){var u=y1e(r.resolve),l=[],c=0,f=1;b1e(e,function(d){var p=c++,v=!1;f++,m1e(u,r,d).then(function(g){v||(v=!0,l[p]={status:"fulfilled",value:g},--f||i(l))},function(g){v||(v=!0,l[p]={status:"rejected",reason:g},--f||i(l))})}),--f||i(l)});return s.error&&a(s.value),n.promise},"allSettled")})});var qb=h(()=>{"use strict";var x1e=m(),T1e=w(),O1e=U(),I1e=j(),w1e=Tt(),A1e=Un(),C1e=qe(),R1e=Ou(),hj="No one promise resolved";x1e({target:"Promise",stat:!0,forced:R1e},{any:o(function(e){var r=this,n=I1e("AggregateError"),i=w1e.f(r),a=i.resolve,s=i.reject,u=A1e(function(){var l=O1e(r.resolve),c=[],f=0,d=1,p=!1;C1e(e,function(v){var g=f++,y=!1;d++,T1e(l,r,v).then(function(q){y||p||(p=!0,a(q))},function(q){y||p||(y=!0,c[g]=q,--d||s(new n(c,hj)))})}),--d||s(new n(c,hj))});return u.error&&s(u.value),i.promise},"any")})});var mj=h(()=>{"use strict";var M1e=m(),k1e=ee(),fd=Ni(),P1e=x(),vj=j(),gj=G(),N1e=yu(),pj=mb(),D1e=oe(),bb=fd&&fd.prototype,L1e=!!fd&&P1e(function(){bb.finally.call({then:o(function(){},"then")},function(){})});M1e({target:"Promise",proto:!0,real:!0,forced:L1e},{finally:o(function(t){var e=N1e(this,vj("Promise")),r=gj(t);return this.then(r?function(n){return pj(e,t()).then(function(){return n})}:t,r?function(n){return pj(e,t()).then(function(){throw n})}:t)},"finally")});!k1e&&gj(fd)&&(Sb=vj("Promise").prototype.finally,bb.finally!==Sb&&D1e(bb,"finally",Sb,{unsafe:!0}));var Sb});var xb=h(()=>{"use strict";var F1e=m(),_1e=R(),B1e=He(),$1e=yr(),j1e=Tt(),U1e=U(),qj=Un(),Eb=_1e.Promise,yj=!1,H1e=!Eb||!Eb.try||qj(function(){Eb.try(function(t){yj=t===8},8)}).error||!yj;F1e({target:"Promise",stat:!0,forced:H1e},{try:o(function(t){var e=arguments.length>1?$1e(arguments,1):[],r=j1e.f(this),n=qj(function(){return B1e(U1e(t),void 0,e)});return(n.error?r.reject:r.resolve)(n.value),r.promise},"try")})});var Tb=h(()=>{"use strict";var z1e=m(),V1e=Tt();z1e({target:"Promise",stat:!0},{withResolvers:o(function(){var e=V1e.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}},"withResolvers")})});var so=h((xbr,wj)=>{"use strict";var Tj=R(),Oj=ys(),Ij=G(),W1e=xe(),dd=Me(),K1e=oe(),G1e=$(),J1e=ee(),Sj="USE_FUNCTION_CONSTRUCTOR",bj=G1e("asyncIterator"),Ej=Tj.AsyncIterator,xj=Oj.AsyncIteratorPrototype,Ot,Ob;if(xj)Ot=xj;else if(Ij(Ej))Ot=Ej.prototype;else if(Oj[Sj]||Tj[Sj])try{Ob=dd(dd(dd(Function("return async function*(){}()")()))),dd(Ob)===Object.prototype&&(Ot=Ob)}catch(t){}Ot?J1e&&(Ot=W1e(Ot)):Ot={};Ij(Ot[bj])||K1e(Ot,bj,function(){return this});wj.exports=Ot});var Iu=h((Tbr,Lj)=>{"use strict";var Aj=w(),Cj=C(),Y1e=xe(),X1e=Ee(),Q1e=_r(),kj=ie(),Z1e=Oe(),eCe=j(),rCe=so(),Pj=Ne(),Ib=eCe("Promise"),Nj="AsyncFromSyncIterator",tCe=kj.set,Rj=kj.getterFor(Nj),Mj=o(function(t,e,r,n,i){var a=t.done;Ib.resolve(t.value).then(function(s){e(Pj(s,a))},function(s){if(!a&&i)try{Z1e(n,"throw",s)}catch(u){s=u}r(s)})},"asyncFromSyncIteratorContinuation"),Dj=o(function(e){e.type=Nj,tCe(this,e)},"AsyncIterator");Dj.prototype=Q1e(Y1e(rCe),{next:o(function(){var e=Rj(this);return new Ib(function(r,n){var i=Cj(Aj(e.next,e.iterator));Mj(i,r,n,e.iterator,!0)})},"next"),return:o(function(){var t=Rj(this).iterator;return new Ib(function(e,r){var n=X1e(t,"return");if(n===void 0)return e(Pj(void 0,!0));var i=Cj(Aj(n,t));Mj(i,e,r,t)})},"return")});Lj.exports=Dj});var _j=h((Ibr,Fj)=>{"use strict";var nCe=w(),iCe=Iu(),aCe=C(),oCe=Gt(),sCe=de(),uCe=Ee(),lCe=$(),cCe=lCe("asyncIterator");Fj.exports=function(t,e){var r=arguments.length<2?uCe(t,cCe):e;return r?aCe(nCe(r,t)):new iCe(sCe(oCe(t)))}});var uo=h((wbr,Bj)=>{"use strict";var fCe=w(),dCe=j(),hCe=Ee();Bj.exports=function(t,e,r,n){try{var i=hCe(t,"return");if(i)return dCe("Promise").resolve(fCe(i,t)).then(function(){e(r)},function(a){n(a)})}catch(a){return n(a)}e(r)}});var Li=h((Abr,$j)=>{"use strict";var pCe=w(),vCe=U(),wb=C(),gCe=L(),mCe=Mn(),yCe=j(),qCe=de(),Ab=uo(),wu=o(function(t){var e=t===0,r=t===1,n=t===2,i=t===3;return function(a,s,u){wb(a);var l=s!==void 0;(l||!e)&&vCe(s);var c=qCe(a),f=yCe("Promise"),d=c.iterator,p=c.next,v=0;return new f(function(g,y){var q=o(function(b){Ab(d,y,b,y)},"ifAbruptCloseAsyncIterator"),S=o(function(){try{if(l)try{mCe(v)}catch(b){q(b)}f.resolve(wb(pCe(p,d))).then(function(b){try{if(wb(b).done)e?(u.length=v,g(u)):g(i?!1:n||void 0);else{var A=b.value;try{if(l){var k=s(A,v),P=o(function(V){if(r)S();else if(n)V?S():Ab(d,g,!1,y);else if(e)try{u[v++]=V,S()}catch(ne){q(ne)}else V?Ab(d,g,i||A,y):S()},"handler");gCe(k)?f.resolve(k).then(P,q):P(k)}else u[v++]=A,S()}catch(V){q(V)}}}catch(V){y(V)}},y)}catch(b){y(b)}},"loop");S()})}},"createMethod");$j.exports={toArray:wu(0),forEach:wu(1),every:wu(2),some:wu(3),find:wu(4)}});var Cb=h((Rbr,zj)=>{"use strict";var SCe=le(),jj=E(),bCe=Q(),ECe=ot(),xCe=_j(),TCe=Gt(),OCe=de(),ICe=qt(),wCe=Ee(),ACe=j(),CCe=uy(),RCe=$(),MCe=Iu(),kCe=Li().toArray,PCe=RCe("asyncIterator"),Uj=jj(CCe("Array","values")),NCe=jj(Uj([]).next),DCe=o(function(){return new Hj(this)},"safeArrayIterator"),Hj=o(function(t){this.iterator=Uj(t)},"SafeArrayIterator");Hj.prototype.next=function(){return NCe(this.iterator)};zj.exports=o(function(e){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,a=n>2?arguments[2]:void 0;return new(ACe("Promise"))(function(s){var u=bCe(e);i!==void 0&&(i=SCe(i,a));var l=wCe(u,PCe),c=l?void 0:ICe(u)||DCe,f=ECe(r)?new r:[],d=l?xCe(u,l):new MCe(OCe(TCe(u,c)));s(kCe(d,i,f))})},"fromAsync")});var Rb=h(()=>{"use strict";var LCe=m(),FCe=Cb(),_Ce=x(),Vj=Array.fromAsync,BCe=!Vj||_Ce(function(){var t=0;return Vj.call(function(){return t++,[]},{length:0}),t!==1});LCe({target:"Array",stat:!0,forced:BCe},{fromAsync:FCe})});var Nb=h(()=>{"use strict";var $Ce=m(),pd=N(),Jj=j(),Wj=U(),jCe=Ze(),Yj=oe(),UCe=_r(),HCe=ve(),Xj=$(),Qj=ie(),Mb=aq(),Kj=tt(),Gj=Jj("Promise"),zCe=Jj("SuppressedError"),VCe=ReferenceError,WCe=Xj("asyncDispose"),KCe=Xj("toStringTag"),gd="AsyncDisposableStack",GCe=Qj.set,vd=Qj.getterFor(gd),kb="async-dispose",Au="disposed",JCe="pending",hd=o(function(t){var e=vd(t);if(e.state===Au)throw new VCe(gd+" already disposed");return e},"getPendingAsyncDisposableStackInternalState"),Pb=o(function(){GCe(jCe(this,lo),{type:gd,state:JCe,stack:[]}),pd||(this.disposed=!1)},"AsyncDisposableStack"),lo=Pb.prototype;UCe(lo,{disposeAsync:o(function(){var e=this;return new Gj(function(r,n){var i=vd(e);if(i.state===Au)return r(void 0);i.state=Au,pd||(e.disposed=!0);var a=i.stack,s=a.length,u=!1,l,c=o(function(d){u?l=new zCe(d,l):(u=!0,l=d),f()},"handleError"),f=o(function(){if(s){var d=a[--s];a[s]=null;try{Gj.resolve(d()).then(f,c)}catch(p){c(p)}}else i.stack=null,u?n(l):r(void 0)},"loop");f()})},"disposeAsync"),use:o(function(e){return Mb(hd(this),e,kb),e},"use"),adopt:o(function(e,r){var n=hd(this);return Wj(r),Mb(n,void 0,kb,function(){return r(e)}),e},"adopt"),defer:o(function(e){var r=hd(this);Wj(e),Mb(r,void 0,kb,e)},"defer"),move:o(function(){var e=hd(this),r=new Pb;return vd(r).stack=e.stack,e.stack=[],e.state=Au,pd||(this.disposed=!0),r},"move")});pd&&HCe(lo,"disposed",{configurable:!0,get:o(function(){return vd(this).state===Au},"disposed")});Yj(lo,WCe,lo.disposeAsync,{name:"disposeAsync"});Yj(lo,KCe,gd,{nonWritable:!0});var YCe=Kj&&Kj<136;$Ce({global:!0,constructor:!0,forced:YCe},{AsyncDisposableStack:Pb})});var Db=h(()=>{"use strict";var XCe=w(),QCe=oe(),ZCe=j(),eRe=Ee(),rRe=J(),tRe=$(),Zj=so(),eU=tRe("asyncDispose"),rU=ZCe("Promise");rRe(Zj,eU)||QCe(Zj,eU,function(){var t=this;return new rU(function(e,r){var n=eRe(t,"return");n?rU.resolve(XCe(n,t)).then(function(){e(void 0)},r):e(void 0)})})});var tU=h(()=>{"use strict";var nRe=m(),iRe=He(),aRe=U(),oRe=C(),sRe=x(),uRe=!sRe(function(){Reflect.apply(function(){})});nRe({target:"Reflect",stat:!0,forced:uRe},{apply:o(function(e,r,n){return iRe(aRe(e),r,oRe(n))},"apply")})});var lU=h(()=>{"use strict";var lRe=m(),cRe=j(),Lb=He(),fRe=fq(),nU=mu(),dRe=C(),iU=L(),hRe=xe(),oU=x(),Fb=cRe("Reflect","construct"),pRe=Object.prototype,vRe=[].push,sU=oU(function(){function t(){}return o(t,"F"),!(Fb(function(){},[],t)instanceof t)}),uU=!oU(function(){Fb(function(){})}),aU=sU||uU;lRe({target:"Reflect",stat:!0,forced:aU,sham:aU},{construct:o(function(e,r){nU(e),dRe(r);var n=arguments.length<3?e:nU(arguments[2]);if(uU&&!sU)return Fb(e,r,n);if(e===n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return Lb(vRe,i,r),new(Lb(fRe,e,i))}var a=n.prototype,s=hRe(iU(a)?a:pRe),u=Lb(e,s,r);return iU(u)?u:s},"construct")})});var dU=h(()=>{"use strict";var gRe=m(),mRe=N(),cU=C(),yRe=mt(),fU=fe(),qRe=x(),SRe=qRe(function(){Reflect.defineProperty(fU.f({},1,{value:1}),1,{value:2})});gRe({target:"Reflect",stat:!0,forced:SRe,sham:!mRe},{defineProperty:o(function(e,r,n){cU(e);var i=yRe(r);cU(n);try{return fU.f(e,i,n),!0}catch(a){return!1}},"defineProperty")})});var hU=h(()=>{"use strict";var bRe=m(),ERe=C(),xRe=Le().f;bRe({target:"Reflect",stat:!0},{deleteProperty:o(function(e,r){var n=xRe(ERe(e),r);return n&&!n.configurable?!1:delete e[r]},"deleteProperty")})});var _b=h((Xbr,vU)=>{"use strict";var pU=J();vU.exports=function(t){return t!==void 0&&(pU(t,"value")||pU(t,"writable"))}});var mU=h(()=>{"use strict";var TRe=m(),ORe=w(),IRe=L(),wRe=C(),ARe=_b(),CRe=Le(),RRe=Me();function gU(t,e){var r=arguments.length<3?t:arguments[2],n,i;if(wRe(t)===r)return t[e];if(n=CRe.f(t,e),n)return ARe(n)?n.value:n.get===void 0?void 0:ORe(n.get,r);if(IRe(i=RRe(t)))return gU(i,e,r)}o(gU,"get");TRe({target:"Reflect",stat:!0},{get:gU})});var yU=h(()=>{"use strict";var MRe=m(),kRe=N(),PRe=C(),NRe=Le();MRe({target:"Reflect",stat:!0,sham:!kRe},{getOwnPropertyDescriptor:o(function(e,r){return NRe.f(PRe(e),r)},"getOwnPropertyDescriptor")})});var qU=h(()=>{"use strict";var DRe=m(),LRe=C(),FRe=Me(),_Re=tf();DRe({target:"Reflect",stat:!0,sham:!_Re},{getPrototypeOf:o(function(e){return FRe(LRe(e))},"getPrototypeOf")})});var SU=h(()=>{"use strict";var BRe=m();BRe({target:"Reflect",stat:!0},{has:o(function(e,r){return r in e},"has")})});var bU=h(()=>{"use strict";var $Re=m(),jRe=C(),URe=Wf();$Re({target:"Reflect",stat:!0},{isExtensible:o(function(e){return jRe(e),URe(e)},"isExtensible")})});var EU=h(()=>{"use strict";var HRe=m(),zRe=Lc();HRe({target:"Reflect",stat:!0},{ownKeys:zRe})});var xU=h(()=>{"use strict";var VRe=m(),WRe=j(),KRe=C(),GRe=rn();VRe({target:"Reflect",stat:!0,sham:!GRe},{preventExtensions:o(function(e){KRe(e);try{var r=WRe("Object","preventExtensions");return r&&r(e),!0}catch(n){return!1}},"preventExtensions")})});var AU=h(()=>{"use strict";var JRe=m(),YRe=w(),XRe=C(),TU=L(),QRe=_b(),ZRe=x(),Bb=fe(),OU=Le(),eMe=Me(),IU=vr();function wU(t,e,r){var n=arguments.length<4?t:arguments[3],i=OU.f(XRe(t),e),a,s,u;if(!i){if(TU(s=eMe(t)))return wU(s,e,r,n);i=IU(0)}if(QRe(i)){if(i.writable===!1||!TU(n))return!1;if(a=OU.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,Bb.f(n,e,a)}else Bb.f(n,e,IU(0,r))}else{if(u=i.set,u===void 0)return!1;YRe(u,n,r)}return!0}o(wU,"set");var rMe=ZRe(function(){var t=o(function(){},"Constructor"),e=Bb.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});JRe({target:"Reflect",stat:!0,forced:rMe},{set:wU})});var RU=h(()=>{"use strict";var tMe=m(),nMe=C(),iMe=pm(),CU=Dr();CU&&tMe({target:"Reflect",stat:!0},{setPrototypeOf:o(function(e,r){nMe(e),iMe(r);try{return CU(e,r),!0}catch(n){return!1}},"setPrototypeOf")})});var MU=h(()=>{"use strict";var aMe=m(),oMe=R(),sMe=or();aMe({global:!0},{Reflect:{}});sMe(oMe.Reflect,"Reflect",!0)});var Cu=h((IEr,kU)=>{"use strict";var uMe=L(),lMe=je(),cMe=$(),fMe=cMe("match");kU.exports=function(t){var e;return uMe(t)&&((e=t[fMe])!==void 0?!!e:lMe(t)==="RegExp")}});var $b=h((wEr,NU)=>{"use strict";var dMe=R(),hMe=x(),PU=dMe.RegExp,pMe=!hMe(function(){var t=!0;try{PU(".","d")}catch(l){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=o(function(l,c){Object.defineProperty(e,l,{get:o(function(){return r+=c,!0},"get")})},"addGetter"),a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(a.hasIndices="d");for(var s in a)i(s,a[s]);var u=Object.getOwnPropertyDescriptor(PU.prototype,"flags").get.call(e);return u!==n||r!==n});NU.exports={correct:pMe}});var md=h((CEr,DU)=>{"use strict";var vMe=C();DU.exports=function(){var t=vMe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}});var zn=h((REr,FU)=>{"use strict";var gMe=w(),mMe=J(),yMe=Ue(),LU=$b(),qMe=md(),SMe=RegExp.prototype;FU.exports=LU.correct?function(t){return t.flags}:function(t){return!LU.correct&&yMe(SMe,t)&&!mMe(t,"flags")?gMe(qMe,t):t.flags}});var Ru=h((MEr,_U)=>{"use strict";var jb=x(),bMe=R(),Ub=bMe.RegExp,Hb=jb(function(){var t=Ub("a","y");return t.lastIndex=2,t.exec("abcd")!==null}),EMe=Hb||jb(function(){return!Ub("a","y").sticky}),xMe=Hb||jb(function(){var t=Ub("^r","gy");return t.lastIndex=2,t.exec("str")!==null});_U.exports={BROKEN_CARET:xMe,MISSED_STICKY:EMe,UNSUPPORTED_Y:Hb}});var yd=h((kEr,BU)=>{"use strict";var TMe=x(),OMe=R(),IMe=OMe.RegExp;BU.exports=TMe(function(){var t=IMe(".","s");return!(t.dotAll&&t.test("\n")&&t.flags==="s")})});var zb=h((PEr,$U)=>{"use strict";var wMe=x(),AMe=R(),CMe=AMe.RegExp;$U.exports=wMe(function(){var t=CMe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"})});var YU=h(()=>{"use strict";var RMe=N(),Gb=R(),Mu=E(),MMe=ka(),kMe=Rn(),PMe=Re(),NMe=xe(),DMe=In().f,jU=Ue(),LMe=Cu(),UU=W(),FMe=zn(),WU=Ru(),_Me=vm(),BMe=oe(),$Me=x(),jMe=J(),UMe=ie().enforce,HMe=Dn(),zMe=$(),KU=yd(),GU=zb(),VMe=zMe("match"),Wn=Gb.RegExp,co=Wn.prototype,WMe=Gb.SyntaxError,KMe=Mu(co.exec),qd=Mu("".charAt),HU=Mu("".replace),zU=Mu("".indexOf),VU=Mu("".slice),GMe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Fi=/a/g,Vb=/a/g,JMe=new Wn(Fi)!==Fi,JU=WU.MISSED_STICKY,YMe=WU.UNSUPPORTED_Y,XMe=RMe&&(!JMe||JU||KU||GU||$Me(function(){return Vb[VMe]=!1,Wn(Fi)!==Fi||Wn(Vb)===Vb||String(Wn(Fi,"i"))!=="/a/i"})),QMe=o(function(t){for(var e=t.length,r=0,n="",i=!1,a;r<=e;r++){if(a=qd(t,r),a==="\\"){n+=a+qd(t,++r);continue}!i&&a==="."?n+="[\\s\\S]":(a==="["?i=!0:a==="]"&&(i=!1),n+=a)}return n},"handleDotAll"),ZMe=o(function(t){for(var e=t.length,r=0,n="",i=[],a=NMe(null),s=!1,u=!1,l=0,c="",f;r<=e;r++){if(f=qd(t,r),f==="\\")f+=qd(t,++r);else if(f==="]")s=!1;else if(!s)switch(!0){case f==="[":s=!0;break;case f==="(":if(n+=f,VU(t,r+1,r+3)==="?:")continue;KMe(GMe,VU(t,r+1))&&(r+=2,u=!0),l++;continue;case(f===">"&&u):if(c===""||jMe(a,c))throw new WMe("Invalid capture group name");a[c]=!0,i[i.length]=[c,l],u=!1,c="";continue}u?c+=f:n+=f}return[n,i]},"handleNCG");if(MMe("RegExp",XMe)){for(Vn=o(function(e,r){var n=jU(co,this),i=LMe(e),a=r===void 0,s=[],u=e,l,c,f,d,p,v;if(!n&&i&&a&&e.constructor===Vn)return e;if((i||jU(co,e))&&(e=e.source,a&&(r=FMe(u))),e=e===void 0?"":UU(e),r=r===void 0?"":UU(r),u=e,KU&&"dotAll"in Fi&&(c=!!r&&zU(r,"s")>-1,c&&(r=HU(r,/s/g,""))),l=r,JU&&"sticky"in Fi&&(f=!!r&&zU(r,"y")>-1,f&&YMe&&(r=HU(r,/y/g,""))),GU&&(d=ZMe(e),e=d[0],s=d[1]),p=kMe(Wn(e,r),n?this:co,Vn),(c||f||s.length)&&(v=UMe(p),c&&(v.dotAll=!0,v.raw=Vn(QMe(e),l)),f&&(v.sticky=!0),s.length&&(v.groups=s)),e!==u)try{PMe(p,"source",u===""?"(?:)":u)}catch(g){}return p},"RegExp"),Wb=DMe(Wn),Kb=0;Wb.length>Kb;)_Me(Vn,Wn,Wb[Kb++]);co.constructor=Vn,Vn.prototype=co,BMe(Gb,"RegExp",Vn,{constructor:!0})}var Vn,Wb,Kb;HMe("RegExp")});var ku=h((FEr,XU)=>{"use strict";var eke=TypeError;XU.exports=function(t){if(typeof t=="string")return t;throw new eke("Argument is not a string")}});var Qb=h(()=>{"use strict";var rke=m(),Pu=E(),tke=ku(),nke=J(),QU=Zs().start,ike=Mi(),ake=Array,ZU=RegExp.escape,eH=Pu("".charAt),Xb=Pu("".charCodeAt),oke=Pu(1.1.toString),ske=Pu([].join),tH=/^[0-9a-z]/i,uke=/^[$()*+./?[\\\]^{|}]/,lke=RegExp("^[!\"#%&',\\-:;<=>@`~"+ike+"]"),Jb=Pu(tH.exec),rH={"	":"t","\n":"n","\v":"v","\f":"f","\r":"r"},Yb=o(function(t){var e=oke(Xb(t,0),16);return e.length<3?"\\x"+QU(e,2,"0"):"\\u"+QU(e,4,"0")},"escapeChar"),cke=!ZU||ZU("ab")!=="\\x61b";rke({target:"RegExp",stat:!0,forced:cke},{escape:o(function(e){tke(e);for(var r=e.length,n=ake(r),i=0;i<r;i++){var a=eH(e,i);if(i===0&&Jb(tH,a))n[i]=Yb(a);else if(nke(rH,a))n[i]="\\"+rH[a];else if(Jb(uke,a))n[i]="\\"+a;else if(Jb(lke,a))n[i]=Yb(a);else{var s=Xb(a,0);(s&63488)!==55296?n[i]=a:s>=56320||i+1>=r||(Xb(e,i+1)&64512)!==56320?n[i]=Yb(a):(n[i]=a,n[++i]=eH(e,i))}}return ske(n,"")},"escape")})});var iH=h(()=>{"use strict";var fke=N(),dke=yd(),hke=je(),pke=ve(),vke=ie().get,nH=RegExp.prototype,gke=TypeError;fke&&dke&&pke(nH,"dotAll",{configurable:!0,get:o(function(){if(this!==nH){if(hke(this)==="RegExp")return!!vke(this).dotAll;throw new gke("Incompatible receiver, RegExp required")}},"dotAll")})});var Ed=h((zEr,oH)=>{"use strict";var fo=w(),bd=E(),mke=W(),yke=md(),qke=Ru(),Ske=Vt(),bke=xe(),Eke=ie().get,xke=yd(),Tke=zb(),Oke=Ske("native-string-replace",String.prototype.replace),Sd=RegExp.prototype.exec,eE=Sd,Ike=bd("".charAt),wke=bd("".indexOf),Ake=bd("".replace),Zb=bd("".slice),rE=(function(){var t=/a/,e=/b*/g;return fo(Sd,t,"a"),fo(Sd,e,"a"),t.lastIndex!==0||e.lastIndex!==0})(),aH=qke.BROKEN_CARET,tE=/()??/.exec("")[1]!==void 0,Cke=rE||tE||aH||xke||Tke;Cke&&(eE=o(function(e){var r=this,n=Eke(r),i=mke(e),a=n.raw,s,u,l,c,f,d,p;if(a)return a.lastIndex=r.lastIndex,s=fo(eE,a,i),r.lastIndex=a.lastIndex,s;var v=n.groups,g=aH&&r.sticky,y=fo(yke,r),q=r.source,S=0,b=i;if(g&&(y=Ake(y,"y",""),wke(y,"g")===-1&&(y+="g"),b=Zb(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&Ike(i,r.lastIndex-1)!=="\n")&&(q="(?: "+q+")",b=" "+b,S++),u=new RegExp("^(?:"+q+")",y)),tE&&(u=new RegExp("^"+q+"$(?!\\s)",y)),rE&&(l=r.lastIndex),c=fo(Sd,g?u:r,b),g?c?(c.input=Zb(c.input,S),c[0]=Zb(c[0],S),c.index=r.lastIndex,r.lastIndex+=c[0].length):r.lastIndex=0:rE&&c&&(r.lastIndex=r.global?c.index+c[0].length:l),tE&&c&&c.length>1&&fo(Oke,c[0],u,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(c[f]=void 0)}),c&&v)for(c.groups=d=bke(null),f=0;f<v.length;f++)p=v[f],d[p[0]]=c[p[1]];return c},"exec"));oH.exports=eE});var xd=h(()=>{"use strict";var Rke=m(),sH=Ed();Rke({target:"RegExp",proto:!0,forced:/./.exec!==sH},{exec:sH})});var lH=h(()=>{"use strict";var Mke=N(),kke=ve(),uH=$b(),Pke=md();Mke&&!uH.correct&&(kke(RegExp.prototype,"flags",{configurable:!0,get:Pke}),uH.correct=!0)});var fH=h(()=>{"use strict";var Nke=N(),Dke=Ru().MISSED_STICKY,Lke=je(),Fke=ve(),_ke=ie().get,cH=RegExp.prototype,Bke=TypeError;Nke&&Dke&&Fke(cH,"sticky",{configurable:!0,get:o(function(){if(this!==cH){if(Lke(this)==="RegExp")return!!_ke(this).sticky;throw new Bke("Incompatible receiver, RegExp required")}},"sticky")})});var pH=h(()=>{"use strict";xd();var $ke=m(),dH=w(),jke=G(),hH=C(),Uke=W(),Hke=(function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t})(),zke=/./.test;$ke({target:"RegExp",proto:!0,forced:!Hke},{test:o(function(t){var e=hH(this),r=Uke(t),n=e.exec;if(!jke(n))return dH(zke,e,r);var i=dH(n,e,r);return i===null?!1:(hH(i),!0)},"test")})});var yH=h(()=>{"use strict";var Vke=gi().PROPER,Wke=oe(),Kke=C(),vH=W(),Gke=x(),Jke=zn(),nE="toString",gH=RegExp.prototype,mH=gH[nE],Yke=Gke(function(){return mH.call({source:"a",flags:"b"})!=="/a/b"}),Xke=Vke&&mH.name!==nE;(Yke||Xke)&&Wke(gH,nE,o(function(){var e=Kke(this),r=vH(e.source),n=vH(Jke(e));return"/"+r+"/"+n},"toString"),{unsafe:!0})});var qH=h(()=>{"use strict";var Qke=ou(),Zke=iS();Qke("Set",function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"Set")},Zke)});var SH=h(()=>{"use strict";qH()});var _e=h((c0r,bH)=>{"use strict";var iE=E(),Td=Set.prototype;bH.exports={Set,add:iE(Td.add),has:iE(Td.has),remove:iE(Td.delete),proto:Td}});var ze=h((f0r,EH)=>{"use strict";var ePe=_e().has;EH.exports=function(t){return ePe(t),t}});var nn=h((d0r,xH)=>{"use strict";var rPe=w();xH.exports=function(t,e,r){for(var n=r?t:t.iterator,i=t.next,a,s;!(a=rPe(i,n)).done;)if(s=e(a.value),s!==void 0)return s}});var br=h((h0r,AH)=>{"use strict";var TH=E(),tPe=nn(),OH=_e(),nPe=OH.Set,IH=OH.proto,iPe=TH(IH.forEach),wH=TH(IH.keys),aPe=wH(new nPe).next;AH.exports=function(t,e,r){return r?tPe({iterator:wH(t),next:aPe},e):iPe(t,e)}});var Od=h((p0r,RH)=>{"use strict";var CH=_e(),oPe=br(),sPe=CH.Set,uPe=CH.add;RH.exports=function(t){var e=new sPe;return oPe(t,function(r){uPe(e,r)}),e}});var ho=h((v0r,MH)=>{"use strict";var lPe=Fs(),cPe=_e();MH.exports=lPe(cPe.proto,"size","get")||function(t){return t.size}});var Kn=h((g0r,FH)=>{"use strict";var kH=U(),DH=C(),PH=w(),fPe=pe(),dPe=de(),NH="Invalid size",hPe=RangeError,pPe=TypeError,vPe=Math.max,LH=o(function(t,e){this.set=t,this.size=vPe(e,0),this.has=kH(t.has),this.keys=kH(t.keys)},"SetRecord");LH.prototype={getIterator:o(function(){return dPe(DH(PH(this.keys,this.set)))},"getIterator"),includes:o(function(t){return PH(this.has,this.set,t)},"includes")};FH.exports=function(t){DH(t);var e=+t.size;if(e!==e)throw new pPe(NH);var r=fPe(e);if(r<0)throw new hPe(NH);return new LH(t,r)}});var aE=h((y0r,$H)=>{"use strict";var gPe=ze(),BH=_e(),mPe=Od(),yPe=ho(),qPe=Kn(),SPe=br(),bPe=nn(),EPe=BH.has,_H=BH.remove;$H.exports=o(function(e){var r=gPe(this),n=qPe(e),i=mPe(r);return yPe(r)<=n.size?SPe(r,function(a){n.includes(a)&&_H(i,a)}):bPe(n.getIterator(),function(a){EPe(i,a)&&_H(i,a)}),i},"difference")});var Gn=h((S0r,HH)=>{"use strict";var xPe=j(),jH=o(function(t){return{size:t,has:o(function(){return!1},"has"),keys:o(function(){return{next:o(function(){return{done:!0}},"next")}},"keys")}},"createSetLike"),UH=o(function(t){return{size:t,has:o(function(){return!0},"has"),keys:o(function(){throw new Error("e")},"keys")}},"createSetLikeWithInfinitySize");HH.exports=function(t,e){var r=xPe("Set");try{new r()[t](jH(0));try{return new r()[t](jH(-1)),!1}catch(i){if(!e)return!0;try{return new r()[t](UH(-1/0)),!1}catch(a){var n=new r;return n.add(1),n.add(2),e(n[t](UH(1/0)))}}}catch(i){return!1}}});var oE=h(()=>{"use strict";var TPe=m(),OPe=aE(),IPe=x(),wPe=Gn(),APe=!wPe("difference",function(t){return t.size===0}),CPe=APe||IPe(function(){var t={size:1,has:o(function(){return!0},"has"),keys:o(function(){var r=0;return{next:o(function(){var n=r++>1;return e.has(1)&&e.clear(),{done:n,value:2}},"next")}},"keys")},e=new Set([1,2,3,4]);return e.difference(t).size!==3});TPe({target:"Set",proto:!0,real:!0,forced:CPe},{difference:OPe})});var uE=h((O0r,VH)=>{"use strict";var RPe=ze(),sE=_e(),MPe=ho(),kPe=Kn(),PPe=br(),NPe=nn(),DPe=sE.Set,zH=sE.add,LPe=sE.has;VH.exports=o(function(e){var r=RPe(this),n=kPe(e),i=new DPe;return MPe(r)>n.size?NPe(n.getIterator(),function(a){LPe(r,a)&&zH(i,a)}):PPe(r,function(a){n.includes(a)&&zH(i,a)}),i},"intersection")});var lE=h(()=>{"use strict";var FPe=m(),_Pe=x(),BPe=uE(),$Pe=Gn(),jPe=!$Pe("intersection",function(t){return t.size===2&&t.has(1)&&t.has(2)})||_Pe(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});FPe({target:"Set",proto:!0,real:!0,forced:jPe},{intersection:BPe})});var cE=h((C0r,WH)=>{"use strict";var UPe=ze(),HPe=_e().has,zPe=ho(),VPe=Kn(),WPe=br(),KPe=nn(),GPe=Oe();WH.exports=o(function(e){var r=UPe(this),n=VPe(e);if(zPe(r)<=n.size)return WPe(r,function(a){if(n.includes(a))return!1},!0)!==!1;var i=n.getIterator();return KPe(i,function(a){if(HPe(r,a))return GPe(i,"normal",!1)})!==!1},"isDisjointFrom")});var fE=h(()=>{"use strict";var JPe=m(),YPe=cE(),XPe=Gn(),QPe=!XPe("isDisjointFrom",function(t){return!t});JPe({target:"Set",proto:!0,real:!0,forced:QPe},{isDisjointFrom:YPe})});var dE=h((P0r,KH)=>{"use strict";var ZPe=ze(),eNe=ho(),rNe=br(),tNe=Kn();KH.exports=o(function(e){var r=ZPe(this),n=tNe(e);return eNe(r)>n.size?!1:rNe(r,function(i){if(!n.includes(i))return!1},!0)!==!1},"isSubsetOf")});var hE=h(()=>{"use strict";var nNe=m(),iNe=dE(),aNe=Gn(),oNe=!aNe("isSubsetOf",function(t){return t});nNe({target:"Set",proto:!0,real:!0,forced:oNe},{isSubsetOf:iNe})});var pE=h((F0r,GH)=>{"use strict";var sNe=ze(),uNe=_e().has,lNe=ho(),cNe=Kn(),fNe=nn(),dNe=Oe();GH.exports=o(function(e){var r=sNe(this),n=cNe(e);if(lNe(r)<n.size)return!1;var i=n.getIterator();return fNe(i,function(a){if(!uNe(r,a))return dNe(i,"normal",!1)})!==!1},"isSupersetOf")});var vE=h(()=>{"use strict";var hNe=m(),pNe=pE(),vNe=Gn(),gNe=!vNe("isSupersetOf",function(t){return!t});hNe({target:"Set",proto:!0,real:!0,forced:gNe},{isSupersetOf:pNe})});var mE=h((j0r,JH)=>{"use strict";var mNe=ze(),gE=_e(),yNe=Od(),qNe=Kn(),SNe=nn(),bNe=gE.add,ENe=gE.has,xNe=gE.remove;JH.exports=o(function(e){var r=mNe(this),n=qNe(e).getIterator(),i=yNe(r);return SNe(n,function(a){ENe(r,a)?xNe(i,a):bNe(i,a)}),i},"symmetricDifference")});var yE=h((H0r,YH)=>{"use strict";YH.exports=function(t){try{var e=new Set,r={size:0,has:o(function(){return!0},"has"),keys:o(function(){return Object.defineProperty({},"next",{get:o(function(){return e.clear(),e.add(4),function(){return{done:!0}}},"get")})},"keys")},n=e[t](r);return n.size===1&&n.values().next().value===4}catch(i){return!1}}});var qE=h(()=>{"use strict";var TNe=m(),ONe=mE(),INe=yE(),wNe=Gn(),ANe=!wNe("symmetricDifference")||!INe("symmetricDifference");TNe({target:"Set",proto:!0,real:!0,forced:ANe},{symmetricDifference:ONe})});var SE=h((K0r,XH)=>{"use strict";var CNe=ze(),RNe=_e().add,MNe=Od(),kNe=Kn(),PNe=nn();XH.exports=o(function(e){var r=CNe(this),n=kNe(e).getIterator(),i=MNe(r);return PNe(n,function(a){RNe(i,a)}),i},"union")});var bE=h(()=>{"use strict";var NNe=m(),DNe=SE(),LNe=yE(),FNe=Gn(),_Ne=!FNe("union")||!LNe("union");NNe({target:"Set",proto:!0,real:!0,forced:_Ne},{union:DNe})});var QH=h(()=>{"use strict";var BNe=m(),$Ne=E(),jNe=he(),UNe=pe(),HNe=W(),zNe=x(),VNe=$Ne("".charAt),WNe=zNe(function(){return"\u{20BB7}".at(-2)!=="\uD842"});BNe({target:"String",proto:!0,forced:WNe},{at:o(function(e){var r=HNe(jNe(this)),n=r.length,i=UNe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:VNe(r,a)},"at")})});var _i=h((exr,rz)=>{"use strict";var EE=E(),KNe=pe(),GNe=W(),JNe=he(),YNe=EE("".charAt),ZH=EE("".charCodeAt),XNe=EE("".slice),ez=o(function(t){return function(e,r){var n=GNe(JNe(e)),i=KNe(r),a=n.length,s,u;return i<0||i>=a?t?"":void 0:(s=ZH(n,i),s<55296||s>56319||i+1===a||(u=ZH(n,i+1))<56320||u>57343?t?YNe(n,i):s:t?XNe(n,i,i+2):(s-55296<<10)+(u-56320)+65536)}},"createMethod");rz.exports={codeAt:ez(!1),charAt:ez(!0)}});var tz=h(()=>{"use strict";var QNe=m(),ZNe=_i().codeAt;QNe({target:"String",proto:!0},{codePointAt:o(function(e){return ZNe(this,e)},"codePointAt")})});var Id=h((axr,nz)=>{"use strict";var eDe=Cu(),rDe=TypeError;nz.exports=function(t){if(eDe(t))throw new rDe("The method doesn't accept regular expressions");return t}});var wd=h((oxr,iz)=>{"use strict";var tDe=$(),nDe=tDe("match");iz.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[nDe]=!1,"/./"[t](e)}catch(n){}}return!1}});var sz=h(()=>{"use strict";var iDe=m(),aDe=wn(),oDe=Le().f,sDe=mr(),az=W(),uDe=Id(),lDe=he(),cDe=wd(),fDe=ee(),dDe=aDe("".slice),hDe=Math.min,oz=cDe("endsWith"),pDe=!fDe&&!oz&&!!(function(){var t=oDe(String.prototype,"endsWith");return t&&!t.writable})();iDe({target:"String",proto:!0,forced:!pDe&&!oz},{endsWith:o(function(e){var r=az(lDe(this));uDe(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:hDe(sDe(n),i),s=az(e);return dDe(r,a-s.length,a)===s},"endsWith")})});var xE=h(()=>{"use strict";var vDe=m(),gDe=E(),mDe=it(),yDe=RangeError,uz=String.fromCharCode,lz=String.fromCodePoint,qDe=gDe([].join),SDe=!!lz&&lz.length!==1;vDe({target:"String",stat:!0,arity:1,forced:SDe},{fromCodePoint:o(function(e){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],mDe(a,1114111)!==a)throw new yDe(a+" is not a valid code point");r[i]=a<65536?uz(a):uz(((a-=65536)>>10)+55296,a%1024+56320)}return qDe(r,"")},"fromCodePoint")})});var fz=h(()=>{"use strict";var bDe=m(),EDe=E(),xDe=Id(),TDe=he(),cz=W(),ODe=wd(),IDe=EDe("".indexOf);bDe({target:"String",proto:!0,forced:!ODe("includes")},{includes:o(function(e){return!!~IDe(cz(TDe(this)),cz(xDe(e)),arguments.length>1?arguments[1]:void 0)},"includes")})});var TE=h(()=>{"use strict";var wDe=m(),ADe=E(),CDe=he(),RDe=W(),dz=ADe("".charCodeAt);wDe({target:"String",proto:!0},{isWellFormed:o(function(){for(var e=RDe(CDe(this)),r=e.length,n=0;n<r;n++){var i=dz(e,n);if((i&63488)===55296&&(i>=56320||++n>=r||(dz(e,n)&64512)!==56320))return!1}return!0},"isWellFormed")})});var OE=h(()=>{"use strict";var MDe=_i().charAt,kDe=W(),pz=ie(),PDe=gf(),hz=Ne(),vz="String Iterator",NDe=pz.set,DDe=pz.getterFor(vz);PDe(String,"String",function(t){NDe(this,{type:vz,string:kDe(t),index:0})},o(function(){var e=DDe(this),r=e.string,n=e.index,i;return n>=r.length?hz(void 0,!0):(i=MDe(r,n),e.index+=i.length,hz(i,!1))},"next"))});var Nu=h((Exr,Sz)=>{"use strict";xd();var gz=w(),mz=oe(),LDe=Ed(),yz=x(),qz=$(),FDe=Re(),_De=qz("species"),IE=RegExp.prototype;Sz.exports=function(t,e,r,n){var i=qz(t),a=!yz(function(){var c={};return c[i]=function(){return 7},""[t](c)!==7}),s=a&&!yz(function(){var c=!1,f=/a/;return t==="split"&&(f={},f.constructor={},f.constructor[_De]=function(){return f},f.flags="",f[i]=/./[i]),f.exec=function(){return c=!0,null},f[i](""),!c});if(!a||!s||r){var u=/./[i],l=e(i,""[t],function(c,f,d,p,v){var g=f.exec;return g===LDe||g===IE.exec?a&&!v?{done:!0,value:gz(u,f,d,p)}:{done:!0,value:gz(c,d,f,p)}:{done:!1}});mz(String.prototype,t,l[0]),mz(IE,i,l[1])}n&&FDe(IE[i],"sham",!0)}});var Du=h((xxr,bz)=>{"use strict";var BDe=_i().charAt;bz.exports=function(t,e,r){return e+(r?BDe(t,e).length:1)}});var po=h((Txr,xz)=>{"use strict";var Ez=w(),$De=C(),jDe=G(),UDe=je(),HDe=Ed(),zDe=TypeError;xz.exports=function(t,e){var r=t.exec;if(jDe(r)){var n=Ez(r,t,e);return n!==null&&$De(n),n}if(UDe(t)==="RegExp")return Ez(HDe,t,e);throw new zDe("RegExp#exec called on incompatible receiver")}});var Iz=h(()=>{"use strict";var VDe=w(),WDe=E(),KDe=Nu(),GDe=C(),JDe=L(),YDe=mr(),Ad=W(),XDe=he(),QDe=Ee(),ZDe=Du(),eLe=zn(),Tz=po(),Oz=WDe("".indexOf);KDe("match",function(t,e,r){return[o(function(i){var a=XDe(this),s=JDe(i)?QDe(i,t):void 0;return s?VDe(s,i,a):new RegExp(i)[t](Ad(a))},"match"),function(n){var i=GDe(this),a=Ad(n),s=r(e,i,a);if(s.done)return s.value;var u=Ad(eLe(i));if(Oz(u,"g")===-1)return Tz(i,a);var l=Oz(u,"u")!==-1;i.lastIndex=0;for(var c=[],f=0,d;(d=Tz(i,a))!==null;){var p=Ad(d[0]);c[f]=p,p===""&&(i.lastIndex=ZDe(a,YDe(i.lastIndex),l)),f++}return f===0?null:c}]})});var ME=h(()=>{"use strict";var rLe=m(),wz=w(),Rz=wn(),tLe=Pn(),Cd=Ne(),Az=he(),Mz=mr(),Lu=W(),nLe=C(),iLe=L(),aLe=je(),oLe=Cu(),kz=zn(),sLe=Ee(),uLe=oe(),lLe=x(),cLe=$(),fLe=yu(),dLe=Du(),hLe=po(),Pz=ie(),AE=ee(),Rd=cLe("matchAll"),Nz="RegExp String",Dz=Nz+" Iterator",pLe=Pz.set,vLe=Pz.getterFor(Dz),Cz=RegExp.prototype,gLe=TypeError,CE=Rz("".indexOf),Md=Rz("".matchAll),wE=!!Md&&!lLe(function(){Md("a",/./)}),mLe=tLe(o(function(e,r,n,i){pLe(this,{type:Dz,regexp:e,string:r,global:n,unicode:i,done:!1})},"RegExpStringIterator"),Nz,o(function(){var e=vLe(this);if(e.done)return Cd(void 0,!0);var r=e.regexp,n=e.string,i=hLe(r,n);return i===null?(e.done=!0,Cd(void 0,!0)):e.global?(Lu(i[0])===""&&(r.lastIndex=dLe(n,Mz(r.lastIndex),e.unicode)),Cd(i,!1)):(e.done=!0,Cd(i,!1))},"next")),RE=o(function(t){var e=nLe(this),r=Lu(t),n=fLe(e,RegExp),i=Lu(kz(e)),a,s,u;return a=new n(n===RegExp?e.source:e,i),s=!!~CE(i,"g"),u=!!~CE(i,"u"),a.lastIndex=Mz(e.lastIndex),new mLe(a,r,s,u)},"$matchAll");rLe({target:"String",proto:!0,forced:wE},{matchAll:o(function(e){var r=Az(this),n,i,a,s;if(iLe(e)){if(oLe(e)&&(n=Lu(Az(kz(e))),!~CE(n,"g")))throw new gLe("`.matchAll` does not allow non-global regexes");if(wE)return Md(r,e);if(a=sLe(e,Rd),a===void 0&&AE&&aLe(e)==="RegExp"&&(a=RE),a)return wz(a,e,r)}else if(wE)return Md(r,e);return i=Lu(r),s=new RegExp(e,"g"),AE?wz(RE,s,i):s[Rd](i)},"matchAll")});AE||Rd in Cz||uLe(Cz,Rd,RE)});var kE=h((Mxr,Lz)=>{"use strict";var yLe=et();Lz.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(yLe)});var Fz=h(()=>{"use strict";var qLe=m(),SLe=Zs().end,bLe=kE();qLe({target:"String",proto:!0,forced:bLe},{padEnd:o(function(e){return SLe(this,e,arguments.length>1?arguments[1]:void 0)},"padEnd")})});var _z=h(()=>{"use strict";var ELe=m(),xLe=Zs().start,TLe=kE();ELe({target:"String",proto:!0,forced:TLe},{padStart:o(function(e){return xLe(this,e,arguments.length>1?arguments[1]:void 0)},"padStart")})});var Uz=h(()=>{"use strict";var OLe=m(),jz=E(),ILe=Ce(),wLe=Q(),Bz=W(),ALe=re(),$z=jz([].push),CLe=jz([].join);OLe({target:"String",stat:!0},{raw:o(function(e){var r=ILe(wLe(e).raw),n=ALe(r);if(!n)return"";for(var i=arguments.length,a=[],s=0;;){if($z(a,Bz(r[s++])),s===n)return CLe(a,"");s<i&&$z(a,Bz(arguments[s]))}},"raw")})});var Hz=h(()=>{"use strict";var RLe=m(),MLe=Qs();RLe({target:"String",proto:!0},{repeat:MLe})});var LE=h((Hxr,zz)=>{"use strict";var DE=E(),kLe=Q(),PLe=Math.floor,PE=DE("".charAt),NLe=DE("".replace),NE=DE("".slice),DLe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,LLe=/\$([$&'`]|\d{1,2})/g;zz.exports=function(t,e,r,n,i,a){var s=r+t.length,u=n.length,l=LLe;return i!==void 0&&(i=kLe(i),l=DLe),NLe(a,l,function(c,f){var d;switch(PE(f,0)){case"$":return"$";case"&":return t;case"`":return NE(e,0,r);case"'":return NE(e,s);case"<":d=i[NE(f,1,-1)];break;default:var p=+f;if(p===0)return c;if(p>u){var v=PLe(p/10);return v===0?c:v<=u?n[v-1]===void 0?PE(f,1):n[v-1]+PE(f,1):c}d=n[p-1]}return d===void 0?"":d})}});var Gz=h(()=>{"use strict";var FLe=He(),Vz=w(),Pd=E(),_Le=Nu(),BLe=x(),$Le=C(),jLe=G(),ULe=L(),HLe=pe(),zLe=mr(),Bi=W(),VLe=he(),WLe=Du(),KLe=Ee(),GLe=LE(),JLe=zn(),YLe=po(),XLe=$(),_E=XLe("replace"),QLe=Math.max,ZLe=Math.min,e2e=Pd([].concat),FE=Pd([].push),kd=Pd("".indexOf),Wz=Pd("".slice),r2e=o(function(t){return t===void 0?t:String(t)},"maybeToString"),t2e=(function(){return"a".replace(/./,"$0")==="$0"})(),Kz=(function(){return/./[_E]?/./[_E]("a","$0")==="":!1})(),n2e=!BLe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});_Le("replace",function(t,e,r){var n=Kz?"$":"$0";return[o(function(a,s){var u=VLe(this),l=ULe(a)?KLe(a,_E):void 0;return l?Vz(l,a,u,s):Vz(e,Bi(u),a,s)},"replace"),function(i,a){var s=$Le(this),u=Bi(i);if(typeof a=="string"&&kd(a,n)===-1&&kd(a,"$<")===-1){var l=r(e,s,u,a);if(l.done)return l.value}var c=jLe(a);c||(a=Bi(a));var f=Bi(JLe(s)),d=kd(f,"g")!==-1,p;d&&(p=kd(f,"u")!==-1,s.lastIndex=0);for(var v=[],g;g=YLe(s,u),!(g===null||(FE(v,g),!d));){var y=Bi(g[0]);y===""&&(s.lastIndex=WLe(u,zLe(s.lastIndex),p))}for(var q="",S=0,b=0;b<v.length;b++){g=v[b];for(var A=Bi(g[0]),k=QLe(ZLe(HLe(g.index),u.length),0),P=[],V,ne=1;ne<g.length;ne++)FE(P,r2e(g[ne]));var B=g.groups;if(c){var se=e2e([A],P,k,u);B!==void 0&&FE(se,B),V=Bi(FLe(a,void 0,se))}else V=GLe(A,u,k,P,B,a);k>=S&&(q+=Wz(u,S,k)+V,S=k+A.length)}return q+Wz(u,S)}]},!n2e||!t2e||Kz)});var jE=h(()=>{"use strict";var i2e=m(),a2e=w(),$E=E(),Jz=he(),o2e=G(),s2e=L(),u2e=Cu(),vo=W(),l2e=Ee(),c2e=zn(),f2e=LE(),d2e=$(),h2e=ee(),p2e=d2e("replace"),v2e=TypeError,BE=$E("".indexOf),g2e=$E("".replace),Yz=$E("".slice),m2e=Math.max;i2e({target:"String",proto:!0},{replaceAll:o(function(e,r){var n=Jz(this),i,a,s,u,l,c,f,d,p,v,g=0,y="";if(s2e(e)){if(i=u2e(e),i&&(a=vo(Jz(c2e(e))),!~BE(a,"g")))throw new v2e("`.replaceAll` does not allow non-global regexes");if(s=l2e(e,p2e),s)return a2e(s,e,n,r);if(h2e&&i)return g2e(vo(n),e,r)}for(u=vo(n),l=vo(e),c=o2e(r),c||(r=vo(r)),f=l.length,d=m2e(1,f),p=BE(u,l);p!==-1;)v=c?vo(r(l,p,u)):f2e(l,u,p,[],void 0,r),y+=Yz(u,g,p)+v,g=p+f,p=p+d>u.length?-1:BE(u,l,p+d);return g<u.length&&(y+=Yz(u,g)),y},"replaceAll")})});var Zz=h(()=>{"use strict";var y2e=w(),q2e=Nu(),S2e=C(),b2e=L(),E2e=he(),Xz=LS(),Qz=W(),x2e=Ee(),T2e=po();q2e("search",function(t,e,r){return[o(function(i){var a=E2e(this),s=b2e(i)?x2e(i,t):void 0;return s?y2e(s,i,a):new RegExp(i)[t](Qz(a))},"search"),function(n){var i=S2e(this),a=Qz(n),s=r(e,i,a);if(s.done)return s.value;var u=i.lastIndex;Xz(u,0)||(i.lastIndex=0);var l=T2e(i,a);return Xz(i.lastIndex,u)||(i.lastIndex=u),l===null?-1:l.index}]})});var i3=h(()=>{"use strict";var UE=w(),n3=E(),O2e=Nu(),I2e=C(),w2e=L(),A2e=he(),C2e=yu(),R2e=Du(),M2e=mr(),e3=W(),k2e=Ee(),r3=po(),P2e=Ru(),N2e=x(),go=P2e.UNSUPPORTED_Y,D2e=4294967295,L2e=Math.min,HE=n3([].push),zE=n3("".slice),F2e=!N2e(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"}),t3="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;O2e("split",function(t,e,r){var n="0".split(void 0,0).length?function(i,a){return i===void 0&&a===0?[]:UE(e,this,i,a)}:e;return[o(function(a,s){var u=A2e(this),l=w2e(a)?k2e(a,t):void 0;return l?UE(l,a,u,s):UE(n,e3(u),a,s)},"split"),function(i,a){var s=I2e(this),u=e3(i);if(!t3){var l=r(n,s,u,a,n!==e);if(l.done)return l.value}var c=C2e(s,RegExp),f=s.unicode,d=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(go?"g":"y"),p=new c(go?"^(?:"+s.source+")":s,d),v=a===void 0?D2e:a>>>0;if(v===0)return[];if(u.length===0)return r3(p,u)===null?[u]:[];for(var g=0,y=0,q=[];y<u.length;){p.lastIndex=go?0:y;var S=r3(p,go?zE(u,y):u),b;if(S===null||(b=L2e(M2e(p.lastIndex+(go?y:0)),u.length))===g)y=R2e(u,y,f);else{if(HE(q,zE(u,g,y)),q.length===v)return q;for(var A=1;A<=S.length-1;A++)if(HE(q,S[A]),q.length===v)return q;y=g=b}}return HE(q,zE(u,g)),q}]},t3||!F2e,go)});var s3=h(()=>{"use strict";var _2e=m(),B2e=wn(),$2e=Le().f,j2e=mr(),a3=W(),U2e=Id(),H2e=he(),z2e=wd(),V2e=ee(),W2e=B2e("".slice),K2e=Math.min,o3=z2e("startsWith"),G2e=!V2e&&!o3&&!!(function(){var t=$2e(String.prototype,"startsWith");return t&&!t.writable})();_2e({target:"String",proto:!0,forced:!G2e&&!o3},{startsWith:o(function(e){var r=a3(H2e(this));U2e(e);var n=j2e(K2e(arguments.length>1?arguments[1]:void 0,r.length)),i=a3(e);return W2e(r,n,n+i.length)===i},"startsWith")})});var l3=h(()=>{"use strict";var J2e=m(),Y2e=E(),X2e=he(),u3=pe(),Q2e=W(),Z2e=Y2e("".slice),eFe=Math.max,rFe=Math.min,tFe=!"".substr||"ab".substr(-1)!=="b";J2e({target:"String",proto:!0,forced:tFe},{substr:o(function(e,r){var n=Q2e(X2e(this)),i=n.length,a=u3(e),s,u;return a===1/0&&(a=0),a<0&&(a=eFe(i+a,0)),s=r===void 0?i:u3(r),s<=0||s===1/0?"":(u=rFe(a+s,i),a>=u?"":Z2e(n,a,u))},"substr")})});var GE=h(()=>{"use strict";var nFe=m(),d3=w(),KE=E(),iFe=he(),aFe=W(),oFe=x(),sFe=Array,VE=KE("".charAt),c3=KE("".charCodeAt),uFe=KE([].join),WE="".toWellFormed,lFe="\uFFFD",f3=WE&&oFe(function(){return d3(WE,1)!=="1"});nFe({target:"String",proto:!0,forced:f3},{toWellFormed:o(function(){var e=aFe(iFe(this));if(f3)return d3(WE,e);for(var r=e.length,n=sFe(r),i=0;i<r;i++){var a=c3(e,i);(a&63488)!==55296?n[i]=VE(e,i):a>=56320||i+1>=r||(c3(e,i+1)&64512)!==56320?n[i]=lFe:(n[i]=VE(e,i),n[++i]=VE(e,i))}return uFe(n,"")},"toWellFormed")})});var Nd=h((fTr,v3)=>{"use strict";var cFe=gi().PROPER,fFe=x(),h3=Mi(),p3="\u200B\x85\u180E";v3.exports=function(t){return fFe(function(){return!!h3[t]()||p3[t]()!==p3||cFe&&h3[t].name!==t})}});var g3=h(()=>{"use strict";var dFe=m(),hFe=ki().trim,pFe=Nd();dFe({target:"String",proto:!0,forced:pFe("trim")},{trim:o(function(){return hFe(this)},"trim")})});var JE=h((vTr,m3)=>{"use strict";var vFe=ki().end,gFe=Nd();m3.exports=gFe("trimEnd")?o(function(){return vFe(this)},"trimEnd"):"".trimEnd});var q3=h(()=>{"use strict";var mFe=m(),y3=JE();mFe({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==y3},{trimRight:y3})});var b3=h(()=>{"use strict";q3();var yFe=m(),S3=JE();yFe({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==S3},{trimEnd:S3})});var YE=h((bTr,E3)=>{"use strict";var qFe=ki().start,SFe=Nd();E3.exports=SFe("trimStart")?o(function(){return qFe(this)},"trimStart"):"".trimStart});var T3=h(()=>{"use strict";var bFe=m(),x3=YE();bFe({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==x3},{trimLeft:x3})});var I3=h(()=>{"use strict";T3();var EFe=m(),O3=YE();EFe({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==O3},{trimStart:O3})});var Er=h((wTr,A3)=>{"use strict";var xFe=E(),TFe=he(),w3=W(),OFe=/"/g,IFe=xFe("".replace);A3.exports=function(t,e,r,n){var i=w3(TFe(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+IFe(w3(n),OFe,"&quot;")+'"'),a+">"+i+"</"+e+">"}});var xr=h((ATr,C3)=>{"use strict";var wFe=x();C3.exports=function(t){return wFe(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}});var R3=h(()=>{"use strict";var AFe=m(),CFe=Er(),RFe=xr();AFe({target:"String",proto:!0,forced:RFe("anchor")},{anchor:o(function(e){return CFe(this,"a","name",e)},"anchor")})});var M3=h(()=>{"use strict";var MFe=m(),kFe=Er(),PFe=xr();MFe({target:"String",proto:!0,forced:PFe("big")},{big:o(function(){return kFe(this,"big","","")},"big")})});var k3=h(()=>{"use strict";var NFe=m(),DFe=Er(),LFe=xr();NFe({target:"String",proto:!0,forced:LFe("blink")},{blink:o(function(){return DFe(this,"blink","","")},"blink")})});var P3=h(()=>{"use strict";var FFe=m(),_Fe=Er(),BFe=xr();FFe({target:"String",proto:!0,forced:BFe("bold")},{bold:o(function(){return _Fe(this,"b","","")},"bold")})});var N3=h(()=>{"use strict";var $Fe=m(),jFe=Er(),UFe=xr();$Fe({target:"String",proto:!0,forced:UFe("fixed")},{fixed:o(function(){return jFe(this,"tt","","")},"fixed")})});var D3=h(()=>{"use strict";var HFe=m(),zFe=Er(),VFe=xr();HFe({target:"String",proto:!0,forced:VFe("fontcolor")},{fontcolor:o(function(e){return zFe(this,"font","color",e)},"fontcolor")})});var L3=h(()=>{"use strict";var WFe=m(),KFe=Er(),GFe=xr();WFe({target:"String",proto:!0,forced:GFe("fontsize")},{fontsize:o(function(e){return KFe(this,"font","size",e)},"fontsize")})});var F3=h(()=>{"use strict";var JFe=m(),YFe=Er(),XFe=xr();JFe({target:"String",proto:!0,forced:XFe("italics")},{italics:o(function(){return YFe(this,"i","","")},"italics")})});var _3=h(()=>{"use strict";var QFe=m(),ZFe=Er(),e_e=xr();QFe({target:"String",proto:!0,forced:e_e("link")},{link:o(function(e){return ZFe(this,"a","href",e)},"link")})});var B3=h(()=>{"use strict";var r_e=m(),t_e=Er(),n_e=xr();r_e({target:"String",proto:!0,forced:n_e("small")},{small:o(function(){return t_e(this,"small","","")},"small")})});var $3=h(()=>{"use strict";var i_e=m(),a_e=Er(),o_e=xr();i_e({target:"String",proto:!0,forced:o_e("strike")},{strike:o(function(){return a_e(this,"strike","","")},"strike")})});var j3=h(()=>{"use strict";var s_e=m(),u_e=Er(),l_e=xr();s_e({target:"String",proto:!0,forced:l_e("sub")},{sub:o(function(){return u_e(this,"sub","","")},"sub")})});var U3=h(()=>{"use strict";var c_e=m(),f_e=Er(),d_e=xr();c_e({target:"String",proto:!0,forced:d_e("sup")},{sup:o(function(){return f_e(this,"sup","","")},"sup")})});var Dd=h((pOr,z3)=>{"use strict";var H3=R(),XE=x(),h_e=js(),p_e=X().NATIVE_ARRAY_BUFFER_VIEWS,v_e=H3.ArrayBuffer,$i=H3.Int8Array;z3.exports=!p_e||!XE(function(){$i(1)})||!XE(function(){new $i(-1)})||!h_e(function(t){new $i,new $i(null),new $i(1.5),new $i(t)},!0)||XE(function(){return new $i(new v_e(2),1,void 0).length!==1})});var QE=h((vOr,V3)=>{"use strict";var g_e=Ga(),m_e=RangeError;V3.exports=function(t,e){var r=g_e(t);if(r%e)throw new m_e("Wrong offset");return r}});var ZE=h((gOr,W3)=>{"use strict";var y_e=Math.round;W3.exports=function(t){var e=y_e(t);return e<0?0:e>255?255:e&255}});var Ld=h((mOr,K3)=>{"use strict";var q_e=ar();K3.exports=function(t){var e=q_e(t);return e==="BigInt64Array"||e==="BigUint64Array"}});var Fu=h((yOr,G3)=>{"use strict";var S_e=qs(),b_e=TypeError;G3.exports=function(t){var e=S_e(t,"number");if(typeof e=="number")throw new b_e("Can't convert number to bigint");return BigInt(e)}});var e0=h((qOr,J3)=>{"use strict";var E_e=le(),x_e=w(),T_e=mu(),O_e=Q(),I_e=re(),w_e=Gt(),A_e=qt(),C_e=nf(),R_e=Ld(),M_e=X().aTypedArrayConstructor,k_e=Fu();J3.exports=o(function(e){var r=T_e(this),n=O_e(e),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0,u=A_e(n),l,c,f,d,p,v,g,y;if(u&&!C_e(u))for(g=w_e(n,u),y=g.next,n=[];!(v=x_e(y,g)).done;)n.push(v.value);for(s&&i>2&&(a=E_e(a,arguments[2])),c=I_e(n),f=new(M_e(r))(c),d=R_e(f),l=0;c>l;l++)p=s?a(n[l],l):n[l],f[l]=d?k_e(p):+p;return f},"from")});var It=h((bOr,s0)=>{"use strict";var Y3=m(),sV=R(),X3=w(),P_e=N(),N_e=Dd(),ju=X(),uV=Xs(),Q3=Ze(),D_e=vr(),_u=Re(),L_e=ed(),F_e=mr(),Z3=$a(),r0=QE(),__e=ZE(),lV=mt(),Bu=J(),B_e=ar(),i0=L(),$_e=zt(),j_e=xe(),U_e=Ue(),Fd=Dr(),H_e=In().f,eV=e0(),z_e=Te().forEach,V_e=Dn(),W_e=ve(),cV=fe(),fV=Le(),rV=Yt(),u0=ie(),K_e=Rn(),a0=u0.get,G_e=u0.set,J_e=u0.enforce,dV=cV.f,Y_e=fV.f,t0=sV.RangeError,hV=uV.ArrayBuffer,X_e=hV.prototype,Q_e=uV.DataView,_d=ju.NATIVE_ARRAY_BUFFER_VIEWS,tV=ju.TYPED_ARRAY_TAG,nV=ju.TypedArray,$u=ju.TypedArrayPrototype,o0=ju.isTypedArray,Bd="BYTES_PER_ELEMENT",n0="Wrong length",$d=o(function(t,e){W_e(t,e,{configurable:!0,get:o(function(){return a0(this)[e]},"get")})},"addGetter"),iV=o(function(t){var e;return U_e(X_e,t)||(e=B_e(t))==="ArrayBuffer"||e==="SharedArrayBuffer"},"isArrayBuffer"),pV=o(function(t,e){return o0(t)&&!$_e(e)&&e in t&&L_e(+e)&&e>=0},"isTypedArrayIndex"),aV=o(function(e,r){return r=lV(r),pV(e,r)?D_e(2,e[r]):Y_e(e,r)},"getOwnPropertyDescriptor"),oV=o(function(e,r,n){return r=lV(r),pV(e,r)&&i0(n)&&Bu(n,"value")&&!Bu(n,"get")&&!Bu(n,"set")&&!n.configurable&&(!Bu(n,"writable")||n.writable)&&(!Bu(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):dV(e,r,n)},"defineProperty");P_e?(_d||(fV.f=aV,cV.f=oV,$d($u,"buffer"),$d($u,"byteOffset"),$d($u,"byteLength"),$d($u,"length")),Y3({target:"Object",stat:!0,forced:!_d},{getOwnPropertyDescriptor:aV,defineProperty:oV}),s0.exports=function(t,e,r){var n=t.match(/\d+/)[0]/8,i=t+(r?"Clamped":"")+"Array",a="get"+t,s="set"+t,u=sV[i],l=u,c=l&&l.prototype,f={},d=o(function(y,q){var S=a0(y);return S.view[a](q*n+S.byteOffset,!0)},"getter"),p=o(function(y,q,S){var b=a0(y);b.view[s](q*n+b.byteOffset,r?__e(S):S,!0)},"setter"),v=o(function(y,q){dV(y,q,{get:o(function(){return d(this,q)},"get"),set:o(function(S){return p(this,q,S)},"set"),enumerable:!0})},"addElement");_d?N_e&&(l=e(function(y,q,S,b){return Q3(y,c),K_e((function(){return i0(q)?iV(q)?b!==void 0?new u(q,r0(S,n),b):S!==void 0?new u(q,r0(S,n)):new u(q):o0(q)?rV(l,q):X3(eV,l,q):new u(Z3(q))})(),y,l)}),Fd&&Fd(l,nV),z_e(H_e(u),function(y){y in l||_u(l,y,u[y])}),l.prototype=c):(l=e(function(y,q,S,b){Q3(y,c);var A=0,k=0,P,V,ne;if(!i0(q))ne=Z3(q),V=ne*n,P=new hV(V);else if(iV(q)){P=q,k=r0(S,n);var B=q.byteLength;if(b===void 0){if(B%n)throw new t0(n0);if(V=B-k,V<0)throw new t0(n0)}else if(V=F_e(b)*n,V+k>B)throw new t0(n0);ne=V/n}else return o0(q)?rV(l,q):X3(eV,l,q);for(G_e(y,{buffer:P,byteOffset:k,byteLength:V,length:ne,view:new Q_e(P)});A<ne;)v(y,A++)}),Fd&&Fd(l,nV),c=l.prototype=j_e($u)),c.constructor!==l&&_u(c,"constructor",l),J_e(c).TypedArrayConstructor=l,tV&&_u(c,tV,i);var g=l!==u;f[i]=l,Y3({global:!0,constructor:!0,forced:g,sham:!_d},f),Bd in l||_u(l,Bd,n),Bd in c||_u(c,Bd,n),V_e(i)}):s0.exports=function(){}});var vV=h(()=>{"use strict";var Z_e=It();Z_e("Float32",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Float32Array")})});var gV=h(()=>{"use strict";var eBe=It();eBe("Float64",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Float64Array")})});var mV=h(()=>{"use strict";var rBe=It();rBe("Int8",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Int8Array")})});var yV=h(()=>{"use strict";var tBe=It();tBe("Int16",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Int16Array")})});var qV=h(()=>{"use strict";var nBe=It();nBe("Int32",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Int32Array")})});var SV=h(()=>{"use strict";var iBe=It();iBe("Uint8",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint8Array")})});var bV=h(()=>{"use strict";var aBe=It();aBe("Uint8",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint8ClampedArray")},!0)});var EV=h(()=>{"use strict";var oBe=It();oBe("Uint16",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint16Array")})});var xV=h(()=>{"use strict";var sBe=It();sBe("Uint32",function(t){return o(function(r,n,i){return t(this,r,n,i)},"Uint32Array")})});var l0=h(()=>{"use strict";var TV=X(),uBe=re(),lBe=pe(),cBe=TV.aTypedArray,fBe=TV.exportTypedArrayMethod;fBe("at",o(function(e){var r=cBe(this),n=uBe(r),i=lBe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]},"at"))});var IV=h(()=>{"use strict";var dBe=E(),OV=X(),hBe=Fm(),pBe=dBe(hBe),vBe=OV.aTypedArray,gBe=OV.exportTypedArrayMethod;gBe("copyWithin",o(function(e,r){return pBe(vBe(this),e,r,arguments.length>2?arguments[2]:void 0)},"copyWithin"))});var AV=h(()=>{"use strict";var wV=X(),mBe=Te().every,yBe=wV.aTypedArray,qBe=wV.exportTypedArrayMethod;qBe("every",o(function(e){return mBe(yBe(this),e,arguments.length>1?arguments[1]:void 0)},"every"))});var RV=h(()=>{"use strict";var CV=X(),SBe=df(),bBe=Fu(),EBe=ar(),xBe=w(),TBe=E(),OBe=x(),IBe=CV.aTypedArray,wBe=CV.exportTypedArrayMethod,ABe=TBe("".slice),CBe=OBe(function(){var t=0;return new Int8Array(2).fill({valueOf:o(function(){return t++},"valueOf")}),t!==1});wBe("fill",o(function(e){var r=arguments.length;IBe(this);var n=ABe(EBe(this),0,3)==="Big"?bBe(e):+e;return xBe(SBe,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},"fill"),CBe)});var jd=h((uIr,MV)=>{"use strict";var RBe=Yt(),MBe=X().getTypedArrayConstructor;MV.exports=function(t,e){return RBe(MBe(t),e)}});var PV=h(()=>{"use strict";var kV=X(),kBe=Te().filter,PBe=jd(),NBe=kV.aTypedArray,DBe=kV.exportTypedArrayMethod;DBe("filter",o(function(e){var r=kBe(NBe(this),e,arguments.length>1?arguments[1]:void 0);return PBe(this,r)},"filter"))});var DV=h(()=>{"use strict";var NV=X(),LBe=Te().find,FBe=NV.aTypedArray,_Be=NV.exportTypedArrayMethod;_Be("find",o(function(e){return LBe(FBe(this),e,arguments.length>1?arguments[1]:void 0)},"find"))});var FV=h(()=>{"use strict";var LV=X(),BBe=Te().findIndex,$Be=LV.aTypedArray,jBe=LV.exportTypedArrayMethod;jBe("findIndex",o(function(e){return BBe($Be(this),e,arguments.length>1?arguments[1]:void 0)},"findIndex"))});var c0=h(()=>{"use strict";var _V=X(),UBe=$s().findLast,HBe=_V.aTypedArray,zBe=_V.exportTypedArrayMethod;zBe("findLast",o(function(e){return UBe(HBe(this),e,arguments.length>1?arguments[1]:void 0)},"findLast"))});var f0=h(()=>{"use strict";var BV=X(),VBe=$s().findLastIndex,WBe=BV.aTypedArray,KBe=BV.exportTypedArrayMethod;KBe("findLastIndex",o(function(e){return VBe(WBe(this),e,arguments.length>1?arguments[1]:void 0)},"findLastIndex"))});var jV=h(()=>{"use strict";var $V=X(),GBe=Te().forEach,JBe=$V.aTypedArray,YBe=$V.exportTypedArrayMethod;YBe("forEach",o(function(e){GBe(JBe(this),e,arguments.length>1?arguments[1]:void 0)},"forEach"))});var UV=h(()=>{"use strict";var XBe=Dd(),QBe=X().exportTypedArrayStaticMethod,ZBe=e0();QBe("from",ZBe,XBe)});var zV=h(()=>{"use strict";var HV=X(),e$e=Ma().includes,r$e=HV.aTypedArray,t$e=HV.exportTypedArrayMethod;t$e("includes",o(function(e){return e$e(r$e(this),e,arguments.length>1?arguments[1]:void 0)},"includes"))});var WV=h(()=>{"use strict";var VV=X(),n$e=Ma().indexOf,i$e=VV.aTypedArray,a$e=VV.exportTypedArrayMethod;a$e("indexOf",o(function(e){return n$e(i$e(this),e,arguments.length>1?arguments[1]:void 0)},"indexOf"))});var XV=h(()=>{"use strict";var o$e=R(),s$e=x(),d0=E(),GV=X(),h0=zs(),u$e=$(),p0=u$e("iterator"),KV=o$e.Uint8Array,l$e=d0(h0.values),c$e=d0(h0.keys),f$e=d0(h0.entries),v0=GV.aTypedArray,Ud=GV.exportTypedArrayMethod,mo=KV&&KV.prototype,Hd=!s$e(function(){mo[p0].call([1])}),JV=!!mo&&mo.values&&mo[p0]===mo.values&&mo.values.name==="values",YV=o(function(){return l$e(v0(this))},"values");Ud("entries",o(function(){return f$e(v0(this))},"entries"),Hd);Ud("keys",o(function(){return c$e(v0(this))},"keys"),Hd);Ud("values",YV,Hd||!JV,{name:"values"});Ud(p0,YV,Hd||!JV,{name:"values"})});var ZV=h(()=>{"use strict";var QV=X(),d$e=E(),h$e=QV.aTypedArray,p$e=QV.exportTypedArrayMethod,v$e=d$e([].join);p$e("join",o(function(e){return v$e(h$e(this),e)},"join"))});var rW=h(()=>{"use strict";var eW=X(),g$e=He(),m$e=Zm(),y$e=eW.aTypedArray,q$e=eW.exportTypedArrayMethod;q$e("lastIndexOf",o(function(e){var r=arguments.length;return g$e(m$e,y$e(this),r>1?[e,arguments[1]]:[e])},"lastIndexOf"))});var tW=h(()=>{"use strict";var g0=X(),S$e=Te().map,b$e=g0.aTypedArray,E$e=g0.getTypedArrayConstructor,x$e=g0.exportTypedArrayMethod;x$e("map",o(function(e){return S$e(b$e(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(E$e(r))(n)})},"map"))});var iW=h(()=>{"use strict";var nW=X(),T$e=Dd(),O$e=nW.aTypedArrayConstructor,I$e=nW.exportTypedArrayStaticMethod;I$e("of",o(function(){for(var e=0,r=arguments.length,n=new(O$e(this))(r);r>e;)n[e]=arguments[e++];return n},"of"),T$e)});var oW=h(()=>{"use strict";var aW=X(),w$e=Vs().left,A$e=aW.aTypedArray,C$e=aW.exportTypedArrayMethod;C$e("reduce",o(function(e){var r=arguments.length;return w$e(A$e(this),e,r,r>1?arguments[1]:void 0)},"reduce"))});var uW=h(()=>{"use strict";var sW=X(),R$e=Vs().right,M$e=sW.aTypedArray,k$e=sW.exportTypedArrayMethod;k$e("reduceRight",o(function(e){var r=arguments.length;return R$e(M$e(this),e,r,r>1?arguments[1]:void 0)},"reduceRight"))});var cW=h(()=>{"use strict";var lW=X(),P$e=lW.aTypedArray,N$e=lW.exportTypedArrayMethod,D$e=Math.floor;N$e("reverse",o(function(){for(var e=this,r=P$e(e).length,n=D$e(r/2),i=0,a;i<n;)a=e[i],e[i++]=e[--r],e[r]=a;return e},"reverse"))});var gW=h(()=>{"use strict";var dW=R(),hW=w(),q0=X(),L$e=re(),F$e=QE(),_$e=Q(),pW=x(),B$e=dW.RangeError,m0=dW.Int8Array,fW=m0&&m0.prototype,vW=fW&&fW.set,$$e=q0.aTypedArray,j$e=q0.exportTypedArrayMethod,y0=!pW(function(){var t=new Uint8ClampedArray(2);return hW(vW,t,{length:1,0:3},1),t[1]!==3}),U$e=y0&&q0.NATIVE_ARRAY_BUFFER_VIEWS&&pW(function(){var t=new m0(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});j$e("set",o(function(e){$$e(this);var r=F$e(arguments.length>1?arguments[1]:void 0,1),n=_$e(e);if(y0)return hW(vW,this,n,r);var i=this.length,a=L$e(n),s=0;if(a+r>i)throw new B$e("Wrong length");for(;s<a;)this[r+s]=n[s++]},"set"),!y0||U$e)});var mW=h(()=>{"use strict";var S0=X(),H$e=x(),z$e=yr(),V$e=S0.aTypedArray,W$e=S0.getTypedArrayConstructor,K$e=S0.exportTypedArrayMethod,G$e=H$e(function(){new Int8Array(1).slice()});K$e("slice",o(function(e,r){for(var n=z$e(V$e(this),e,r),i=W$e(this),a=0,s=n.length,u=new i(s);s>a;)u[a]=n[a++];return u},"slice"),G$e)});var qW=h(()=>{"use strict";var yW=X(),J$e=Te().some,Y$e=yW.aTypedArray,X$e=yW.exportTypedArrayMethod;X$e("some",o(function(e){return J$e(Y$e(this),e,arguments.length>1?arguments[1]:void 0)},"some"))});var OW=h(()=>{"use strict";var Q$e=R(),Z$e=wn(),b0=x(),eje=U(),rje=Sf(),TW=X(),SW=ty(),tje=ny(),bW=tt(),EW=bf(),nje=TW.aTypedArray,ije=TW.exportTypedArrayMethod,Uu=Q$e.Uint16Array,yo=Uu&&Z$e(Uu.prototype.sort),aje=!!yo&&!(b0(function(){yo(new Uu(2),null)})&&b0(function(){yo(new Uu(2),{})})),xW=!!yo&&!b0(function(){if(bW)return bW<74;if(SW)return SW<67;if(tje)return!0;if(EW)return EW<602;var t=new Uu(516),e=Array(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(yo(t,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),oje=o(function(t){return function(e,r){return t!==void 0?+t(e,r)||0:r!==r?-1:e!==e?1:e===0&&r===0?1/e>0&&1/r<0?1:-1:e>r}},"getSortCompare");ije("sort",o(function(e){return e!==void 0&&eje(e),xW?yo(this,e):rje(nje(this),oje(e))},"sort"),!xW||aje)});var wW=h(()=>{"use strict";var E0=X(),sje=mr(),IW=it(),uje=E0.aTypedArray,lje=E0.getTypedArrayConstructor,cje=E0.exportTypedArrayMethod;cje("subarray",o(function(e,r){var n=uje(this),i=n.length,a=IW(e,i),s=lje(n);return new s(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,sje((r===void 0?i:IW(r,i))-a))},"subarray"))});var kW=h(()=>{"use strict";var fje=R(),dje=He(),RW=X(),x0=x(),AW=yr(),zd=fje.Int8Array,CW=RW.aTypedArray,hje=RW.exportTypedArrayMethod,MW=[].toLocaleString,pje=!!zd&&x0(function(){MW.call(new zd(1))}),vje=x0(function(){return[1,2].toLocaleString()!==new zd([1,2]).toLocaleString()})||!x0(function(){zd.prototype.toLocaleString.call([1,2])});hje("toLocaleString",o(function(){return dje(MW,pje?AW(CW(this)):CW(this),AW(arguments))},"toLocaleString"),vje)});var O0=h(()=>{"use strict";var gje=oy(),T0=X(),mje=T0.aTypedArray,yje=T0.exportTypedArrayMethod,qje=T0.getTypedArrayConstructor;yje("toReversed",o(function(){return gje(mje(this),qje(this))},"toReversed"))});var I0=h(()=>{"use strict";var Vd=X(),Sje=E(),bje=U(),Eje=Yt(),xje=Vd.aTypedArray,Tje=Vd.getTypedArrayConstructor,Oje=Vd.exportTypedArrayMethod,Ije=Sje(Vd.TypedArrayPrototype.sort);Oje("toSorted",o(function(e){e!==void 0&&bje(e);var r=xje(this),n=Eje(Tje(r),r);return Ije(n,e)},"toSorted"))});var NW=h(()=>{"use strict";var wje=X().exportTypedArrayMethod,Aje=x(),Cje=R(),Rje=E(),PW=Cje.Uint8Array,Mje=PW&&PW.prototype||{},Wd=[].toString,kje=Rje([].join);Aje(function(){Wd.call({})})&&(Wd=o(function(){return kje(this)},"toString"));var Pje=Mje.toString!==Wd;wje("toString",Wd,Pje)});var A0=h(()=>{"use strict";var Nje=fy(),w0=X(),Dje=Ld(),Lje=pe(),Fje=Fu(),_je=w0.aTypedArray,Bje=w0.getTypedArrayConstructor,$je=w0.exportTypedArrayMethod,DW=(function(){try{new Int8Array(1).with(2,{valueOf:o(function(){throw 8},"valueOf")})}catch(t){return t===8}})(),jje=DW&&(function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}})();$je("with",o(function(t,e){var r=_je(this),n=Lje(t),i=Dje(r)?Fje(e):+e;return Nje(r,Bje(r),n,i)},"with"),!DW||jje)});var Hu=h((Dwr,LW)=>{"use strict";var Uje=L(),Hje=String,zje=TypeError;LW.exports=function(t){if(t===void 0||Uje(t))return t;throw new zje(Hje(t)+" is not an object or undefined")}});var zu=h((Lwr,jW)=>{"use strict";var $W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",FW=$W+"+/",_W=$W+"-_",BW=o(function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e},"inverse");jW.exports={i2c:FW,c2i:BW(FW),i2cUrl:_W,c2iUrl:BW(_W)}});var C0=h((_wr,UW)=>{"use strict";var Vje=TypeError;UW.exports=function(t){var e=t&&t.alphabet;if(e===void 0||e==="base64"||e==="base64url")return e||"base64";throw new Vje("Incorrect `alphabet` option")}});var P0=h((Bwr,VW)=>{"use strict";var HW=R(),Wje=E(),Kje=Hu(),Gje=ku(),Jje=J(),zW=zu(),Yje=C0(),Xje=Wa(),Qje=zW.c2i,Zje=zW.c2iUrl,Jn=HW.SyntaxError,eUe=HW.TypeError,ji=Wje("".charAt),R0=o(function(t,e){for(var r=t.length;e<r;e++){var n=ji(t,e);if(n!==" "&&n!=="	"&&n!=="\n"&&n!=="\f"&&n!=="\r")break}return e},"skipAsciiWhitespace"),M0=o(function(t,e,r){var n=t.length;n<4&&(t+=n===2?"AA":"A");var i=(e[ji(t,0)]<<18)+(e[ji(t,1)]<<12)+(e[ji(t,2)]<<6)+e[ji(t,3)],a=[i>>16&255,i>>8&255,i&255];if(n===2){if(r&&a[1]!==0)throw new Jn("Extra bits");return[a[0]]}if(n===3){if(r&&a[2]!==0)throw new Jn("Extra bits");return[a[0],a[1]]}return a},"decodeBase64Chunk"),k0=o(function(t,e,r){for(var n=e.length,i=0;i<n;i++)t[r+i]=e[i];return r+n},"writeBytes");VW.exports=function(t,e,r,n){Gje(t),Kje(e);var i=Yje(e)==="base64"?Qje:Zje,a=e?e.lastChunkHandling:void 0;if(a===void 0&&(a="loose"),a!=="loose"&&a!=="strict"&&a!=="stop-before-partial")throw new eUe("Incorrect `lastChunkHandling` option");r&&Xje(r.buffer);var s=t.length,u=r||[],l=0,c=0,f="",d=0;if(n)for(;;){if(d=R0(t,d),d===s){if(f.length>0){if(a==="stop-before-partial")break;if(a==="loose"){if(f.length===1)throw new Jn("Malformed padding: exactly one additional character");l=k0(u,M0(f,i,!1),l)}else throw new Jn("Missing padding")}c=s;break}var p=ji(t,d);if(++d,p==="="){if(f.length<2)throw new Jn("Padding is too early");if(d=R0(t,d),f.length===2){if(d===s){if(a==="stop-before-partial")break;throw new Jn("Malformed padding: only one =")}ji(t,d)==="="&&(++d,d=R0(t,d))}if(d<s)throw new Jn("Unexpected character after padding");l=k0(u,M0(f,i,a==="strict"),l),c=s;break}if(!Jje(i,p))throw new Jn("Unexpected character");var v=n-l;if(v===1&&f.length===2||v===2&&f.length===3||(f+=p,f.length===4&&(l=k0(u,M0(f,i,!1),l),f="",c=d,l===n)))break}return{bytes:u,read:c,written:l}}});var N0=h(()=>{"use strict";var rUe=m(),tUe=R(),nUe=Yt(),iUe=P0(),qo=tUe.Uint8Array,aUe=!qo||!qo.fromBase64||!(function(){try{qo.fromBase64("a");return}catch(t){}try{qo.fromBase64("",null)}catch(t){return!0}})();qo&&rUe({target:"Uint8Array",stat:!0,forced:aUe},{fromBase64:o(function(e){var r=iUe(e,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return nUe(qo,r.bytes)},"fromBase64")})});var L0=h((zwr,JW)=>{"use strict";var D0=R(),KW=E(),oUe=D0.Uint8Array,WW=D0.SyntaxError,sUe=D0.parseInt,uUe=Math.min,GW=/[^\da-f]/i,lUe=KW(GW.exec),cUe=KW("".slice);JW.exports=function(t,e){var r=t.length;if(r%2!==0)throw new WW("String should be an even number of characters");for(var n=e?uUe(e.length,r/2):r/2,i=e||new oUe(n),a=0,s=0;s<n;){var u=cUe(t,a,a+=2);if(lUe(GW,u))throw new WW("String should only contain hex characters");i[s++]=sUe(u,16)}return{bytes:i,read:a}}});var F0=h(()=>{"use strict";var fUe=m(),dUe=R(),hUe=ku(),pUe=L0();dUe.Uint8Array&&fUe({target:"Uint8Array",stat:!0},{fromHex:o(function(e){return pUe(hUe(e)).bytes},"fromHex")})});var Vu=h((Gwr,YW)=>{"use strict";var vUe=ar(),gUe=TypeError;YW.exports=function(t){if(vUe(t)==="Uint8Array")return t;throw new gUe("Argument is not an Uint8Array")}});var _0=h(()=>{"use strict";var mUe=m(),yUe=R(),qUe=P0(),SUe=Vu(),Kd=yUe.Uint8Array,bUe=!Kd||!Kd.prototype.setFromBase64||!(function(){var t=new Kd([255,255,255,255,255]);try{t.setFromBase64("",null);return}catch(e){}try{t.setFromBase64("a");return}catch(e){}try{t.setFromBase64("MjYyZg===")}catch(e){return t[0]===50&&t[1]===54&&t[2]===50&&t[3]===255&&t[4]===255}})();Kd&&mUe({target:"Uint8Array",proto:!0,forced:bUe},{setFromBase64:o(function(e){SUe(this);var r=qUe(e,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:r.read,written:r.written}},"setFromBase64")})});var B0=h(()=>{"use strict";var EUe=m(),xUe=R(),TUe=ku(),OUe=Vu(),IUe=Wa(),wUe=L0();xUe.Uint8Array&&EUe({target:"Uint8Array",proto:!0},{setFromHex:o(function(e){OUe(this),TUe(e),IUe(this.buffer);var r=wUe(e,this).read;return{read:r,written:r/2}},"setFromHex")})});var $0=h(()=>{"use strict";var AUe=m(),CUe=R(),RUe=E(),MUe=Hu(),kUe=Vu(),PUe=Wa(),XW=zu(),NUe=C0(),DUe=XW.i2c,LUe=XW.i2cUrl,FUe=RUe("".charAt),Gd=CUe.Uint8Array,_Ue=!Gd||!Gd.prototype.toBase64||!(function(){try{var t=new Gd;t.toBase64(null)}catch(e){return!0}})();Gd&&AUe({target:"Uint8Array",proto:!0,forced:_Ue},{toBase64:o(function(){var e=kUe(this),r=arguments.length?MUe(arguments[0]):void 0,n=NUe(r)==="base64"?DUe:LUe,i=!!r&&!!r.omitPadding;PUe(this.buffer);for(var a="",s=0,u=e.length,l,c=o(function(f){return FUe(n,l>>6*f&63)},"at");s+2<u;s+=3)l=(e[s]<<16)+(e[s+1]<<8)+e[s+2],a+=c(3)+c(2)+c(1)+c(0);return s+2===u?(l=(e[s]<<16)+(e[s+1]<<8),a+=c(3)+c(2)+c(1)+(i?"":"=")):s+1===u&&(l=e[s]<<16,a+=c(3)+c(2)+(i?"":"==")),a},"toBase64")})});var j0=h(()=>{"use strict";var BUe=m(),$Ue=R(),jUe=E(),UUe=Vu(),HUe=Wa(),zUe=jUe(1.1.toString),Jd=$Ue.Uint8Array,VUe=!Jd||!Jd.prototype.toHex||!(function(){try{var t=new Jd([255,255,255,255,255,255,255,255]);return t.toHex()==="ffffffffffffffff"}catch(e){return!1}})();Jd&&BUe({target:"Uint8Array",proto:!0,forced:VUe},{toHex:o(function(){UUe(this),HUe(this.buffer);for(var e="",r=0,n=this.length;r<n;r++){var i=zUe(this[r],16);e+=i.length===1?"0"+i:i}return e},"toHex")})});var t4=h(()=>{"use strict";var WUe=m(),U0=E(),KUe=W(),QW=String.fromCharCode,ZW=U0("".charAt),e4=U0(/./.exec),r4=U0("".slice),GUe=/^[\da-f]{2}$/i,JUe=/^[\da-f]{4}$/i;WUe({global:!0},{unescape:o(function(e){for(var r=KUe(e),n="",i=r.length,a=0,s,u;a<i;){if(s=ZW(r,a++),s==="%"){if(ZW(r,a)==="u"){if(u=r4(r,a+1,a+5),e4(JUe,u)){n+=QW(parseInt(u,16)),a+=5;continue}}else if(u=r4(r,a,a+2),e4(GUe,u)){n+=QW(parseInt(u,16)),a+=2;continue}}n+=s}return n},"unescape")})});var V0=h((cAr,u4)=>{"use strict";var YUe=E(),n4=_r(),Yd=jn().getWeakData,XUe=Ze(),QUe=C(),ZUe=gr(),H0=L(),eHe=qe(),a4=Te(),i4=J(),o4=ie(),rHe=o4.set,tHe=o4.getterFor,nHe=a4.find,iHe=a4.findIndex,aHe=YUe([].splice),oHe=0,Xd=o(function(t){return t.frozen||(t.frozen=new s4)},"uncaughtFrozenStore"),s4=o(function(){this.entries=[]},"UncaughtFrozenStore"),z0=o(function(t,e){return nHe(t.entries,function(r){return r[0]===e})},"findUncaughtFrozen");s4.prototype={get:o(function(t){var e=z0(this,t);if(e)return e[1]},"get"),has:o(function(t){return!!z0(this,t)},"has"),set:o(function(t,e){var r=z0(this,t);r?r[1]=e:this.entries.push([t,e])},"set"),delete:o(function(t){var e=iHe(this.entries,function(r){return r[0]===t});return~e&&aHe(this.entries,e,1),!!~e},"delete")};u4.exports={getConstructor:o(function(t,e,r,n){var i=t(function(l,c){XUe(l,a),rHe(l,{type:e,id:oHe++,frozen:null}),ZUe(c)||eHe(c,l[n],{that:l,AS_ENTRIES:r})}),a=i.prototype,s=tHe(e),u=o(function(l,c,f){var d=s(l),p=Yd(QUe(c),!0);return p===!0?Xd(d).set(c,f):p[d.id]=f,l},"define");return n4(a,{delete:o(function(l){var c=s(this);if(!H0(l))return!1;var f=Yd(l);return f===!0?Xd(c).delete(l):f&&i4(f,c.id)&&delete f[c.id]},"delete"),has:o(function(c){var f=s(this);if(!H0(c))return!1;var d=Yd(c);return d===!0?Xd(f).has(c):d&&i4(d,f.id)},"has")}),n4(a,r?{get:o(function(c){var f=s(this);if(H0(c)){var d=Yd(c);if(d===!0)return Xd(f).get(c);if(d)return d[f.id]}},"get"),set:o(function(c,f){return u(this,c,f)},"set")}:{add:o(function(c){return u(this,c,!0)},"add")}),i},"getConstructor")}});var g4=h(()=>{"use strict";var sHe=rn(),l4=R(),rh=E(),c4=_r(),uHe=jn(),lHe=ou(),f4=V0(),Qd=L(),Zd=ie().enforce,cHe=x(),fHe=Rg(),Gu=Object,dHe=Array.isArray,eh=Gu.isExtensible,d4=Gu.isFrozen,hHe=Gu.isSealed,h4=Gu.freeze,pHe=Gu.seal,vHe=!l4.ActiveXObject&&"ActiveXObject"in l4,Wu,p4=o(function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakMap")},"wrapper"),v4=lHe("WeakMap",p4,f4),So=v4.prototype,th=rh(So.set),gHe=o(function(){return sHe&&cHe(function(){var t=h4([]);return th(new v4,t,1),!d4(t)})},"hasMSEdgeFreezingBug");fHe&&(vHe?(Wu=f4.getConstructor(p4,"WeakMap",!0),uHe.enable(),W0=rh(So.delete),Ku=rh(So.has),K0=rh(So.get),c4(So,{delete:o(function(t){if(Qd(t)&&!eh(t)){var e=Zd(this);return e.frozen||(e.frozen=new Wu),W0(this,t)||e.frozen.delete(t)}return W0(this,t)},"delete"),has:o(function(e){if(Qd(e)&&!eh(e)){var r=Zd(this);return r.frozen||(r.frozen=new Wu),Ku(this,e)||r.frozen.has(e)}return Ku(this,e)},"has"),get:o(function(e){if(Qd(e)&&!eh(e)){var r=Zd(this);return r.frozen||(r.frozen=new Wu),Ku(this,e)?K0(this,e):r.frozen.get(e)}return K0(this,e)},"get"),set:o(function(e,r){if(Qd(e)&&!eh(e)){var n=Zd(this);n.frozen||(n.frozen=new Wu),Ku(this,e)?th(this,e,r):n.frozen.set(e,r)}else th(this,e,r);return this},"set")})):gHe()&&c4(So,{set:o(function(e,r){var n;return dHe(e)&&(d4(e)?n=h4:hHe(e)&&(n=pHe)),th(this,e,r),n&&n(e),this},"set")}));var W0,Ku,K0});var nh=h(()=>{"use strict";g4()});var m4=h(()=>{"use strict";var mHe=ou(),yHe=V0();mHe("WeakSet",function(t){return o(function(){return t(this,arguments.length?arguments[0]:void 0)},"WeakSet")},yHe)});var y4=h(()=>{"use strict";m4()});var q4=h(()=>{"use strict";Cm()});var S4=h(()=>{"use strict";km()});var b4=h(()=>{"use strict";Rb()});var E4=h(()=>{"use strict";Dm()});var x4=h(()=>{"use strict";var qHe=m(),SHe=Te().filterReject,bHe=Se();qHe({target:"Array",proto:!0,forced:!0},{filterOut:o(function(e){return SHe(this,e,arguments.length>1?arguments[1]:void 0)},"filterOut")});bHe("filterOut")});var T4=h(()=>{"use strict";var EHe=m(),xHe=Te().filterReject,THe=Se();EHe({target:"Array",proto:!0,forced:!0},{filterReject:o(function(e){return xHe(this,e,arguments.length>1?arguments[1]:void 0)},"filterReject")});THe("filterReject")});var O4=h(()=>{"use strict";$m()});var I4=h(()=>{"use strict";jm()});var ih=h(($Ar,w4)=>{"use strict";var OHe=le(),IHe=E(),wHe=Ht(),AHe=Q(),CHe=mt(),RHe=re(),MHe=xe(),kHe=Yt(),PHe=Array,NHe=IHe([].push);w4.exports=function(t,e,r,n){for(var i=AHe(t),a=wHe(i),s=OHe(e,r),u=MHe(null),l=RHe(a),c=0,f,d,p;l>c;c++)p=a[c],d=CHe(s(p,c,i)),d in u?NHe(u[d],p):u[d]=[p];if(n&&(f=n(i),f!==PHe))for(d in u)u[d]=kHe(f,u[d]);return u}});var A4=h(()=>{"use strict";var DHe=m(),LHe=ih(),FHe=Se();DHe({target:"Array",proto:!0},{group:o(function(e){var r=arguments.length>1?arguments[1]:void 0;return LHe(this,e,r)},"group")});FHe("group")});var C4=h(()=>{"use strict";var _He=m(),BHe=ih(),$He=Fr(),jHe=Se();_He({target:"Array",proto:!0,forced:!$He("groupBy")},{groupBy:o(function(e){var r=arguments.length>1?arguments[1]:void 0;return BHe(this,e,r)},"groupBy")});jHe("groupBy")});var G0=h((KAr,R4)=>{"use strict";var UHe=le(),HHe=E(),zHe=Ht(),VHe=Q(),WHe=re(),ah=De(),KHe=ah.Map,GHe=ah.get,JHe=ah.has,YHe=ah.set,XHe=HHe([].push);R4.exports=o(function(e){for(var r=VHe(this),n=zHe(r),i=UHe(e,arguments.length>1?arguments[1]:void 0),a=new KHe,s=WHe(n),u=0,l,c;s>u;u++)c=n[u],l=i(c,u,r),JHe(a,l)?XHe(GHe(a,l),c):YHe(a,l,[c]);return a},"groupToMap")});var M4=h(()=>{"use strict";var QHe=m(),ZHe=Fr(),eze=Se(),rze=G0(),tze=ee();QHe({target:"Array",proto:!0,name:"groupToMap",forced:tze||!ZHe("groupByToMap")},{groupByToMap:rze});eze("groupByToMap")});var k4=h(()=>{"use strict";var nze=m(),ize=Se(),aze=G0(),oze=ee();nze({target:"Array",proto:!0,forced:oze},{groupToMap:aze});ize("groupToMap")});var D4=h(()=>{"use strict";var sze=m(),uze=at(),P4=Object.isFrozen,N4=o(function(t,e){if(!P4||!uze(t)||!P4(t))return!1;for(var r=0,n=t.length,i;r<n;)if(i=t[r++],!(typeof i=="string"||e&&i===void 0))return!1;return n!==0},"isFrozenStringArray");sze({target:"Array",stat:!0,sham:!0,forced:!0},{isTemplateObject:o(function(e){if(!N4(e,!0))return!1;var r=e.raw;return r.length===e.length&&N4(r,!1)},"isTemplateObject")})});var L4=h(()=>{"use strict";var lze=N(),cze=Se(),fze=Q(),dze=re(),hze=ve();lze&&(hze(Array.prototype,"lastIndex",{configurable:!0,get:o(function(){var e=fze(this),r=dze(e);return r===0?0:r-1},"lastIndex")}),cze("lastIndex"))});var B4=h(()=>{"use strict";var pze=N(),vze=Se(),F4=Q(),_4=re(),gze=ve();pze&&(gze(Array.prototype,"lastItem",{configurable:!0,get:o(function(){var e=F4(this),r=_4(e);return r===0?void 0:e[r-1]},"lastItem"),set:o(function(e){var r=F4(this),n=_4(r);return r[n===0?0:n-1]=e},"lastItem")}),vze("lastItem"))});var $4=h(()=>{"use strict";sy()});var j4=h(()=>{"use strict";ly()});var U4=h(()=>{"use strict";cy()});var $r=h((p1r,K4)=>{"use strict";var H4=E(),mze=nn(),z4=De(),yze=z4.Map,V4=z4.proto,qze=H4(V4.forEach),W4=H4(V4.entries),Sze=W4(new yze).next;K4.exports=function(t,e,r){return r?mze({iterator:W4(t),next:Sze},function(n){return e(n[1],n[0])}):qze(t,e)}});var oh=h((v1r,G4)=>{"use strict";var bze=E(),Eze=U(),xze=gr(),Tze=re(),Oze=Q(),J0=De(),Ize=$r(),wze=J0.Map,Aze=J0.has,Cze=J0.set,Rze=bze([].push);G4.exports=o(function(e){var r=Oze(this),n=Tze(r),i=[],a=new wze,s=xze(e)?function(f){return f}:Eze(e),u,l,c;for(u=0;u<n;u++)l=r[u],c=s(l),Aze(a,c)||Cze(a,c,l);return Ize(a,function(f){Rze(i,f)}),i},"uniqueBy")});var J4=h(()=>{"use strict";var Mze=m(),kze=Se(),Pze=oh();Mze({target:"Array",proto:!0,forced:!0},{uniqueBy:Pze});kze("uniqueBy")});var Y4=h(()=>{"use strict";dy()});var X4=h(()=>{"use strict";By()});var Q4=h(()=>{"use strict";eq()});var Z4=h(()=>{"use strict";rq()});var eK=h(()=>{"use strict";Nb()});var aK=h(()=>{"use strict";var Nze=m(),Dze=Ze(),Lze=Me(),tK=Re(),nK=J(),Fze=$(),Yn=so(),iK=ee(),rK=Fze("toStringTag"),_ze=TypeError,Y0=o(function(){if(Dze(this,Yn),Lze(this)===Yn)throw new _ze("Abstract class AsyncIterator not directly constructable")},"AsyncIterator");Y0.prototype=Yn;nK(Yn,rK)||tK(Yn,rK,"AsyncIterator");(iK||!nK(Yn,"constructor")||Yn.constructor===Object)&&tK(Yn,"constructor",Y0);Nze({global:!0,constructor:!0,forced:iK},{AsyncIterator:Y0})});var Ui=h((k1r,hK)=>{"use strict";var Bze=w(),sh=Un(),oK=C(),$ze=xe(),jze=Re(),Uze=_r(),Hze=$(),uK=ie(),zze=j(),Vze=Ee(),Wze=so(),X0=Ne(),sK=Oe(),wt=zze("Promise"),Kze=Hze("toStringTag"),lK="AsyncIteratorHelper",cK="WrapForValidAsyncIterator",Gze=uK.set,fK=o(function(t){var e=!t,r=uK.getterFor(t?cK:lK),n=o(function(i){var a=sh(function(){return r(i)}),s=a.error,u=a.value;return s||e&&u.done?{exit:!0,value:s?wt.reject(u):wt.resolve(X0(void 0,!0))}:{exit:!1,value:u}},"getStateOrEarlyExit");return Uze($ze(Wze),{next:o(function(){var a=n(this),s=a.value;if(a.exit)return s;var u=sh(function(){return oK(s.nextHandler(wt))}),l=u.error,c=u.value;return l&&(s.done=!0),l?wt.reject(c):wt.resolve(c)},"next"),return:o(function(){var i=n(this),a=i.value;if(i.exit)return a;a.done=!0;var s=a.iterator,u,l,c=sh(function(){if(a.inner)try{sK(a.inner.iterator,"normal")}catch(f){return sK(s,"throw",f)}return Vze(s,"return")});return u=l=c.value,c.error?wt.reject(l):u===void 0?wt.resolve(X0(void 0,!0)):(c=sh(function(){return Bze(u,s)}),l=c.value,c.error?wt.reject(l):t?wt.resolve(l):wt.resolve(l).then(function(f){return oK(f),X0(void 0,!0)}))},"return")})},"createAsyncIteratorProxyPrototype"),Jze=fK(!0),dK=fK(!1);jze(dK,Kze,"Async Iterator Helper");hK.exports=function(t,e){var r=o(function(i,a){a?(a.iterator=i.iterator,a.next=i.next):a=i,a.type=e?cK:lK,a.nextHandler=t,a.counter=0,a.done=!1,Gze(this,a)},"AsyncIterator");return r.prototype=e?Jze:dK,r}});var Z0=h((N1r,vK)=>{"use strict";var Yze=w(),Xze=U(),Q0=C(),Qze=L(),Zze=de(),e3e=Ui(),pK=Ne(),r3e=uo(),t3e=e3e(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(i,a){var s=o(function(l){e.done=!0,a(l)},"doneAndReject"),u=o(function(l){r3e(r,s,l,s)},"ifAbruptCloseAsyncIterator");t.resolve(Q0(Yze(e.next,r))).then(function(l){try{if(Q0(l).done)e.done=!0,i(pK(void 0,!0));else{var c=l.value;try{var f=n(c,e.counter++),d=o(function(p){i(pK(p,!1))},"handler");Qze(f)?t.resolve(f).then(d,u):d(f)}catch(p){u(p)}}}catch(p){s(p)}},s)})});vK.exports=o(function(e){return Q0(this),Xze(e),new t3e(Zze(this),{mapper:e})},"map")});var ex=h((L1r,gK)=>{"use strict";var n3e=w(),i3e=Z0(),a3e=o(function(t,e){return[e,t]},"callback");gK.exports=o(function(){return n3e(i3e,this,a3e)},"indexed")});var mK=h(()=>{"use strict";var o3e=m(),s3e=ex();o3e({target:"AsyncIterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:s3e})});var yK=h(()=>{"use strict";Db()});var SK=h(()=>{"use strict";var u3e=m(),l3e=w(),rx=C(),c3e=de(),f3e=tu(),d3e=Ga(),h3e=Ui(),qK=Ne(),p3e=h3e(function(t){var e=this;return new t(function(r,n){var i=o(function(s){e.done=!0,n(s)},"doneAndReject"),a=o(function(){try{t.resolve(rx(l3e(e.next,e.iterator))).then(function(s){try{rx(s).done?(e.done=!0,r(qK(void 0,!0))):e.remaining?(e.remaining--,a()):r(qK(s.value,!1))}catch(u){i(u)}},i)}catch(s){i(s)}},"loop");a()})});u3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{drop:o(function(e){rx(this);var r=d3e(f3e(+e));return new p3e(c3e(this),{remaining:r})},"drop")})});var bK=h(()=>{"use strict";var v3e=m(),g3e=Li().every;v3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{every:o(function(e){return g3e(this,e)},"every")})});var xK=h(()=>{"use strict";var m3e=m(),y3e=w(),q3e=U(),tx=C(),S3e=L(),b3e=de(),E3e=Ui(),EK=Ne(),x3e=uo(),T3e=E3e(function(t){var e=this,r=e.iterator,n=e.predicate;return new t(function(i,a){var s=o(function(c){e.done=!0,a(c)},"doneAndReject"),u=o(function(c){x3e(r,s,c,s)},"ifAbruptCloseAsyncIterator"),l=o(function(){try{t.resolve(tx(y3e(e.next,r))).then(function(c){try{if(tx(c).done)e.done=!0,i(EK(void 0,!0));else{var f=c.value;try{var d=n(f,e.counter++),p=o(function(v){v?i(EK(f,!1)):l()},"handler");S3e(d)?t.resolve(d).then(p,u):p(d)}catch(v){u(v)}}}catch(v){s(v)}},s)}catch(c){s(c)}},"loop");l()})});m3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{filter:o(function(e){return tx(this),q3e(e),new T3e(b3e(this),{predicate:e})},"filter")})});var TK=h(()=>{"use strict";var O3e=m(),I3e=Li().find;O3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{find:o(function(e){return I3e(this,e)},"find")})});var nx=h((eCr,wK)=>{"use strict";var w3e=w(),A3e=G(),OK=C(),IK=de(),C3e=qt(),R3e=Ee(),M3e=$(),k3e=Iu(),P3e=M3e("asyncIterator");wK.exports=function(t){var e=OK(t),r=!0,n=R3e(e,P3e),i;return A3e(n)||(n=C3e(e),r=!1),n!==void 0?i=w3e(n,e):(i=e,r=!0),OK(i),IK(r?i:new k3e(IK(i)))}});var RK=h(()=>{"use strict";var N3e=m(),AK=w(),D3e=U(),Ju=C(),L3e=L(),F3e=de(),_3e=Ui(),CK=Ne(),B3e=nx(),$3e=uo(),j3e=_3e(function(t){var e=this,r=e.iterator,n=e.mapper;return new t(function(i,a){var s=o(function(f){e.done=!0,a(f)},"doneAndReject"),u=o(function(f){$3e(r,s,f,s)},"ifAbruptCloseAsyncIterator"),l=o(function(){try{t.resolve(Ju(AK(e.next,r))).then(function(f){try{if(Ju(f).done)e.done=!0,i(CK(void 0,!0));else{var d=f.value;try{var p=n(d,e.counter++),v=o(function(g){try{e.inner=B3e(g),c()}catch(y){u(y)}},"handler");L3e(p)?t.resolve(p).then(v,u):v(p)}catch(g){u(g)}}}catch(g){s(g)}},s)}catch(f){s(f)}},"outerLoop"),c=o(function(){var f=e.inner;if(f)try{t.resolve(Ju(AK(f.next,f.iterator))).then(function(d){try{Ju(d).done?(e.inner=null,l()):i(CK(d.value,!1))}catch(p){u(p)}},u)}catch(d){u(d)}else l()},"innerLoop");c()})});N3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{flatMap:o(function(e){return Ju(this),D3e(e),new j3e(F3e(this),{mapper:e,inner:null})},"flatMap")})});var MK=h(()=>{"use strict";var U3e=m(),H3e=Li().forEach;U3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{forEach:o(function(e){return H3e(this,e)},"forEach")})});var ix=h((sCr,kK)=>{"use strict";var z3e=w(),V3e=Ui();kK.exports=V3e(function(){return z3e(this.next,this.iterator)},!0)});var PK=h(()=>{"use strict";var W3e=m(),K3e=Q(),G3e=Ue(),J3e=nx(),Y3e=so(),X3e=ix();W3e({target:"AsyncIterator",stat:!0,forced:!0},{from:o(function(e){var r=J3e(typeof e=="string"?K3e(e):e);return G3e(Y3e,r.iterator)?r.iterator:new X3e(r)},"from")})});var NK=h(()=>{"use strict";var Q3e=m(),Z3e=ex();Q3e({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{indexed:Z3e})});var DK=h(()=>{"use strict";var eVe=m(),rVe=Z0();eVe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{map:rVe})});var LK=h(()=>{"use strict";var tVe=m(),nVe=w(),iVe=U(),ax=C(),aVe=L(),oVe=j(),sVe=de(),uVe=uo(),ox=oVe("Promise"),lVe=TypeError;tVe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{reduce:o(function(e){ax(this),iVe(e);var r=sVe(this),n=r.iterator,i=r.next,a=arguments.length<2,s=a?void 0:arguments[1],u=0;return new ox(function(l,c){var f=o(function(p){uVe(n,c,p,c)},"ifAbruptCloseAsyncIterator"),d=o(function(){try{ox.resolve(ax(nVe(i,n))).then(function(p){try{if(ax(p).done)a?c(new lVe("Reduce of empty iterator with no initial value")):l(s);else{var v=p.value;if(a)a=!1,s=v,d();else try{var g=e(s,v,u),y=o(function(q){s=q,d()},"handler");aVe(g)?ox.resolve(g).then(y,f):y(g)}catch(q){f(q)}}u++}catch(q){c(q)}},c)}catch(p){c(p)}},"loop");d()})},"reduce")})});var FK=h(()=>{"use strict";var cVe=m(),fVe=Li().some;cVe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{some:o(function(e){return fVe(this,e)},"some")})});var $K=h(()=>{"use strict";var dVe=m(),_K=w(),BK=C(),hVe=de(),pVe=tu(),vVe=Ga(),gVe=Ui(),sx=Ne(),mVe=gVe(function(t){var e=this,r=e.iterator,n;if(!e.remaining--){var i=sx(void 0,!0);return e.done=!0,n=r.return,n!==void 0?t.resolve(_K(n,r,void 0)).then(function(){return i}):i}return t.resolve(_K(e.next,r)).then(function(a){return BK(a).done?(e.done=!0,sx(void 0,!0)):sx(a.value,!1)}).then(null,function(a){throw e.done=!0,a})});dVe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{take:o(function(e){BK(this);var r=vVe(pVe(+e));return new mVe(hVe(this),{remaining:r})},"take")})});var jK=h(()=>{"use strict";var yVe=m(),qVe=Li().toArray;yVe({target:"AsyncIterator",proto:!0,real:!0,forced:!0},{toArray:o(function(){return qVe(this,void 0,[])},"toArray")})});var lh=h((wCr,KK)=>{"use strict";var HK=ie(),SVe=Pn(),ux=Ne(),bVe=gr(),EVe=L(),xVe=ve(),zK=N(),Yu="Incorrect Iterator.range arguments",cx="NumericRangeIterator",TVe=HK.set,VK=HK.getterFor(cx),UK=RangeError,lx=TypeError,WK=SVe(o(function(e,r,n,i,a,s){if(typeof e!=i||r!==1/0&&r!==-1/0&&typeof r!=i)throw new lx(Yu);if(e===1/0||e===-1/0)throw new UK(Yu);var u=r>e,l=!1,c;if(n===void 0)c=void 0;else if(EVe(n))c=n.step,l=!!n.inclusive;else if(typeof n==i)c=n;else throw new lx(Yu);if(bVe(c)&&(c=u?s:-s),typeof c!=i)throw new lx(Yu);if(c===1/0||c===-1/0||c===a&&e!==r)throw new UK(Yu);var f=e!==e||r!==r||c!==c||r>e!=c>a;TVe(this,{type:cx,start:e,end:r,step:c,inclusive:l,hitsEnd:f,currentCount:a,zero:a}),zK||(this.start=e,this.end=r,this.step=c,this.inclusive=l)},"NumericRangeIterator"),cx,o(function(){var e=VK(this);if(e.hitsEnd)return ux(void 0,!0);var r=e.start,n=e.end,i=e.step,a=r+i*e.currentCount++;a===n&&(e.hitsEnd=!0);var s=e.inclusive,u;return n>r?u=s?a>n:a>=n:u=s?n>a:n>=a,u?(e.hitsEnd=!0,ux(void 0,!0)):ux(a,!1)},"next")),uh=o(function(t){xVe(WK.prototype,t,{get:o(function(){return VK(this)[t]},"get"),set:o(function(){},"set"),configurable:!0,enumerable:!1})},"addGetter");zK&&(uh("start"),uh("end"),uh("inclusive"),uh("step"));KK.exports=WK});var GK=h(()=>{"use strict";var OVe=m(),IVe=lh();typeof BigInt=="function"&&OVe({target:"BigInt",stat:!0,forced:!0},{range:o(function(e,r,n){return new IVe(e,r,n,"bigint",BigInt(0),BigInt(1))},"range")})});var fx=h((kCr,QK)=>{"use strict";Gf();nh();var XK=j(),wVe=xe(),JK=L(),AVe=Object,CVe=TypeError,RVe=XK("Map"),MVe=XK("WeakMap"),ch=o(function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=wVe(null)},"Node");ch.prototype.get=function(t,e){return this[t]||(this[t]=e())};ch.prototype.next=function(t,e,r){var n=r?this.objectsByIndex[t]||(this.objectsByIndex[t]=new MVe):this.primitives||(this.primitives=new RVe),i=n.get(e);return i||n.set(e,i=new ch),i};var YK=new ch;QK.exports=function(){var t=YK,e=arguments.length,r,n;for(r=0;r<e;r++)JK(n=arguments[r])&&(t=t.next(r,n,!0));if(this===AVe&&t===YK)throw new CVe("Composite keys must contain a non-primitive component");for(r=0;r<e;r++)JK(n=arguments[r])||(t=t.next(r,n,!1));return t}});var e5=h(()=>{"use strict";var kVe=m(),PVe=He(),NVe=fx(),DVe=j(),ZK=xe(),LVe=Object,FVe=o(function(){var t=DVe("Object","freeze");return t?t(ZK(null)):ZK(null)},"initializer");kVe({global:!0,forced:!0},{compositeKey:o(function(){return PVe(NVe,LVe,arguments).get("object",FVe)},"compositeKey")})});var t5=h(()=>{"use strict";var _Ve=m(),BVe=fx(),r5=j(),$Ve=He();_Ve({global:!0,forced:!0},{compositeSymbol:o(function(){return arguments.length===1&&typeof arguments[0]=="string"?r5("Symbol").for(arguments[0]):$Ve(BVe,null,arguments).get("symbol",r5("Symbol"))},"compositeSymbol")})});var n5=h(()=>{"use strict";ky()});var i5=h(()=>{"use strict";var jVe=m(),UVe=E(),HVe=UVe(DataView.prototype.getUint8);jVe({target:"DataView",proto:!0,forced:!0},{getUint8Clamped:o(function(e){return HVe(this,e)},"getUint8Clamped")})});var a5=h(()=>{"use strict";Ly()});var o5=h(()=>{"use strict";var zVe=m(),VVe=E(),WVe=Py(),KVe=$a(),GVe=ZE(),JVe=VVe(DataView.prototype.setUint8);zVe({target:"DataView",proto:!0,forced:!0},{setUint8Clamped:o(function(e,r){JVe(WVe(this),KVe(e),GVe(r))},"setUint8Clamped")})});var s5=h(()=>{"use strict";lq()});var u5=h(()=>{"use strict";xm()});var dx=h((eRr,l5)=>{"use strict";var YVe=E(),XVe=U();l5.exports=o(function(){return YVe(XVe(this))},"demethodize")});var c5=h(()=>{"use strict";var QVe=m(),ZVe=dx();QVe({target:"Function",proto:!0,forced:!0},{demethodize:ZVe})});var d5=h(()=>{"use strict";var eWe=m(),rWe=E(),tWe=G(),nWe=bs(),iWe=J(),aWe=N(),oWe=Object.getOwnPropertyDescriptor,f5=/^\s*class\b/,sWe=rWe(f5.exec),uWe=o(function(t){try{if(!aWe||!sWe(f5,nWe(t)))return!1}catch(r){}var e=oWe(t,"prototype");return!!e&&iWe(e,"writable")&&!e.writable},"isClassConstructor");eWe({target:"Function",stat:!0,sham:!0,forced:!0},{isCallable:o(function(e){return tWe(e)&&!uWe(e)},"isCallable")})});var h5=h(()=>{"use strict";var lWe=m(),cWe=ot();lWe({target:"Function",stat:!0,forced:!0},{isConstructor:cWe})});var g5=h(()=>{"use strict";var fWe=$(),dWe=fe().f,p5=fWe("metadata"),v5=Function.prototype;v5[p5]===void 0&&dWe(v5,p5,{value:null})});var m5=h(()=>{"use strict";var hWe=m(),pWe=dx();hWe({target:"Function",proto:!0,forced:!0,name:"demethodize"},{unThis:pWe})});var y5=h(()=>{"use strict";pq()});var q5=h(()=>{"use strict";qq()});var hx=h((mRr,S5)=>{"use strict";Hf();var vWe=w(),gWe=kn().IteratorPrototype.map,mWe=o(function(t,e){return[e,t]},"callback");S5.exports=o(function(){return vWe(gWe,this,mWe)},"indexed")});var b5=h(()=>{"use strict";var yWe=m(),qWe=hx();yWe({target:"Iterator",name:"indexed",proto:!0,real:!0,forced:!0},{asIndexedPairs:qWe})});var x5=h(()=>{"use strict";var SWe=m(),E5=C(),bWe=w(),EWe=lt(),xWe=de(),TWe=Oe(),OWe=E(),IWe=RangeError,wWe=OWe([].push),AWe=EWe(function(){for(var t=this.iterator,e=this.next,r=this.chunkSize,n=[],i,a;;){if(i=E5(bWe(e,t)),a=!!i.done,a){if(n.length)return n;this.done=!0;return}if(wWe(n,i.value),n.length===r)return n}});SWe({target:"Iterator",proto:!0,real:!0,forced:!0},{chunks:o(function(e){var r=E5(this);return typeof e!="number"||!e||e>>>0!==e?TWe(r,"throw",new IWe("chunkSize must be integer in [1, 2^32-1]")):new AWe(xWe(r),{chunkSize:e})},"chunks")})});var I5=h(()=>{"use strict";var CWe=m(),T5=w(),RWe=U(),O5=C(),MWe=qt(),kWe=lt(),PWe=Array,NWe=kWe(function(){for(;;){var t=this.iterator;if(!t){var e=this.nextIterableIndex++,r=this.iterables;if(e>=r.length){this.done=!0;return}var n=r[e];this.iterables[e]=null,t=this.iterator=T5(n.method,n.iterable),this.next=t.next}var i=O5(T5(this.next,t));if(i.done){this.iterator=null,this.next=null;continue}return i.value}});CWe({target:"Iterator",stat:!0},{concat:o(function(){for(var e=arguments.length,r=PWe(e),n=0;n<e;n++){var i=O5(arguments[n]);r[n]={iterable:i,method:RWe(MWe(i))}}return new NWe({iterables:r,nextIterableIndex:0,iterator:null,next:null})},"concat")})});var w5=h(()=>{"use strict";Sq()});var A5=h(()=>{"use strict";Iq()});var C5=h(()=>{"use strict";Aq()});var R5=h(()=>{"use strict";Mq()});var M5=h(()=>{"use strict";Pq()});var k5=h(()=>{"use strict";Bq()});var P5=h(()=>{"use strict";jq()});var N5=h(()=>{"use strict";Uq()});var D5=h(()=>{"use strict";var DWe=m(),LWe=hx();DWe({target:"Iterator",proto:!0,real:!0,forced:!0},{indexed:LWe})});var L5=h(()=>{"use strict";Hf()});var _5=h(()=>{"use strict";var FWe=m(),F5=lh(),_We=TypeError;FWe({target:"Iterator",stat:!0,forced:!0},{range:o(function(e,r,n){if(typeof e=="number")return new F5(e,r,n,"number",0,1);if(typeof e=="bigint")return new F5(e,r,n,"bigint",BigInt(0),BigInt(1));throw new _We("Incorrect Iterator.range arguments")},"range")})});var B5=h(()=>{"use strict";Wq()});var vx=h((QRr,U5)=>{"use strict";var $5=C(),BWe=w(),$We=lt(),px=Ne(),jWe=de(),UWe=Oe(),j5=E(),HWe=RangeError,zWe=j5([].push),VWe=j5([].slice),WWe=$We(function(){for(var t=this.iterator,e=this.next,r=this.buffer,n=this.windowSize,i=this.sliding,a,s;;){if(a=$5(BWe(e,t)),s=this.done=!!a.done,i&&s&&r.length&&r.length<n)return px(r,!1);if(s)return px(void 0,!0);if(r.length===n&&(this.buffer=r=VWe(r,1)),zWe(r,a.value),r.length===n)return px(r,!1)}},!1,!0);U5.exports=function(t,e,r){return $5(t),typeof e!="number"||!e||e>>>0!==e?UWe(t,"throw",new HWe("windowSize must be integer in [1, 2^32-1]")):new WWe(jWe(t),{windowSize:e,buffer:[],sliding:r})}});var H5=h(()=>{"use strict";var KWe=m(),GWe=vx();KWe({target:"Iterator",proto:!0,real:!0,forced:!0},{sliding:o(function(e){return GWe(this,e,!0)},"sliding")})});var z5=h(()=>{"use strict";Gq()});var V5=h(()=>{"use strict";Yq()});var W5=h(()=>{"use strict";Xq()});var G5=h(()=>{"use strict";var JWe=m(),YWe=C(),XWe=Iu(),QWe=ix(),K5=de();JWe({target:"Iterator",proto:!0,real:!0,forced:!0},{toAsync:o(function(){return new QWe(K5(new XWe(K5(YWe(this)))))},"toAsync")})});var J5=h(()=>{"use strict";var ZWe=m(),e4e=vx();ZWe({target:"Iterator",proto:!0,real:!0,forced:!0},{windows:o(function(e){return e4e(this,e,!1)},"windows")})});var X5=h((pMr,Y5)=>{"use strict";var r4e=Gt(),t4e=de();Y5.exports=function(t){return t4e(r4e(t))}});var gx=h((vMr,Q5)=>{"use strict";var n4e=TypeError;Q5.exports=function(t){var e=t&&t.mode;if(e===void 0||e==="shortest"||e==="longest"||e==="strict")return e||"shortest";throw new n4e("Incorrect `mode` option")}});var mx=h((gMr,i6)=>{"use strict";var Z5=w(),n6=E(),i4e=lt(),Xu=nu(),e6=TypeError,a4e=n6([].slice),r6=n6([].push),t6="Iterator is exhausted",fh="throw",o4e=i4e(function(){var t=this.iterCount;if(!t){this.done=!0;return}for(var e=this.openIters,r=this.iters,n=this.padding,i=this.mode,a=this.finishResults,s=[],u,l,c=0;c<t;c++){var f=r[c];if(f===null)r6(s,n[c]);else{try{u=Z5(f.next,f.iterator),l=u.done,u=u.value}catch(g){return e[c]=void 0,Xu(e,fh,g)}if(l){if(e[c]=void 0,this.openItersCount--,i==="shortest")return this.done=!0,Xu(e,"normal",void 0);if(i==="strict"){if(c)return Xu(e,fh,new e6(t6));for(var d,p,v=1;v<t;v++){try{d=Z5(r[v].next,r[v].iterator),p=d.done,d=d.value}catch(g){return e[v]=void 0,Xu(e,fh,d)}if(p)e[v]=void 0,this.openItersCount--;else return Xu(e,fh,new e6(t6))}this.done=!0;return}if(!this.openItersCount){this.done=!0;return}r[c]=null,u=n[c]}}r6(s,u)}return a?a(s):s});i6.exports=function(t,e,r,n){var i=t.length;return new o4e({iters:t,iterCount:i,openIters:a4e(t,0),openItersCount:i,mode:e,padding:r,finishResults:n})}});var l6=h(()=>{"use strict";var s4e=m(),yx=C(),a6=Hu(),o6=w(),u6=E(),s6=X5(),u4e=au(),l4e=gx(),c4e=Oe(),Qu=nu(),f4e=mx(),d4e=u6([].concat),dh=u6([].push),Zu="throw";s4e({target:"Iterator",stat:!0,forced:!0},{zip:o(function(e){yx(e);for(var r=arguments.length>1?a6(arguments[1]):void 0,n=l4e(r),i=n==="longest"?a6(r&&r.padding):void 0,a=[],s=[],u=s6(e),l,c,f;!c;){try{f=yx(o6(u.next,u.iterator)),c=f.done}catch(q){return Qu(a,Zu,q)}if(!c){try{l=u4e(f.value,!0)}catch(q){return Qu(d4e([u.iterator],a),Zu,q)}dh(a,l)}}var d=a.length,p,v,g;if(n==="longest")if(i===void 0)for(p=0;p<d;p++)dh(s,void 0);else{try{g=s6(i)}catch(q){return Qu(a,Zu,q)}var y=!0;for(p=0;p<d;p++)if(y){try{f=yx(o6(g.next,g.iterator)),v=f.done,f=f.value}catch(q){return Qu(a,Zu,q)}v?y=!1:dh(s,f)}else dh(s,void 0);if(y)try{c4e(g.iterator,"normal")}catch(q){return Qu(a,Zu,q)}}return f4e(a,n,s)},"zip")})});var p6=h(()=>{"use strict";var h4e=m(),p4e=C(),c6=Hu(),v4e=w(),g4e=E(),h6=j(),m4e=Aa(),y4e=au(),q4e=gx(),f6=nu(),S4e=mx(),b4e=h6("Object","create"),E4e=h6("Reflect","ownKeys"),hh=g4e([].push),d6="throw";h4e({target:"Iterator",stat:!0,forced:!0},{zipKeyed:o(function(e){p4e(e);var r=arguments.length>1?c6(arguments[1]):void 0,n=q4e(r),i=n==="longest"?c6(r&&r.padding):void 0,a=[],s=[],u=E4e(e),l=[],c=m4e.f,f,d,p;for(f=0;f<u.length;f++)try{if(d=u[f],!v4e(c,e,d))continue;p=e[d],p!==void 0&&(hh(l,d),hh(a,y4e(p,!0)))}catch(g){return f6(a,d6,g)}var v=a.length;if(n==="longest")if(i===void 0)for(f=0;f<v;f++)hh(s,void 0);else for(f=0;f<l.length;f++){try{p=i[l[f]]}catch(g){return f6(a,d6,g)}hh(s,p)}return S4e(a,n,s,function(g){for(var y=b4e(null),q=0;q<v;q++)y[l[q]]=g[q];return y})},"zipKeyed")})});var qx=h((xMr,v6)=>{"use strict";var x4e=x();v6.exports=!x4e(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t})});var Sx=h((TMr,g6)=>{"use strict";var T4e=L(),O4e=ie().get;g6.exports=o(function(e){if(!T4e(e))return!1;var r=O4e(e);return!!r&&r.type==="RawJSON"},"isRawJSON")});var m6=h(()=>{"use strict";var I4e=m(),w4e=qx(),A4e=Sx();I4e({target:"JSON",stat:!0,forced:!w4e},{isRawJSON:A4e})});var Ex=h((AMr,b6)=>{"use strict";var bx=E(),C4e=J(),ph=SyntaxError,R4e=parseInt,M4e=String.fromCharCode,k4e=bx("".charAt),y6=bx("".slice),q6=bx(/./.exec),S6={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"	"},P4e=/^[\da-f]{4}$/i,N4e=/^[\u0000-\u001F]$/;b6.exports=function(t,e){for(var r=!0,n="";e<t.length;){var i=k4e(t,e);if(i==="\\"){var a=y6(t,e,e+2);if(C4e(S6,a))n+=S6[a],e+=2;else if(a==="\\u"){e+=2;var s=y6(t,e,e+4);if(!q6(P4e,s))throw new ph("Bad Unicode escape at: "+e);n+=M4e(R4e(s,16)),e+=4}else throw new ph('Unknown escape sequence: "'+a+'"')}else if(i==='"'){r=!1,e++;break}else{if(q6(N4e,i))throw new ph("Bad control character in string literal at: "+e);n+=i,e++}}if(r)throw new ph("Unterminated string at: "+e);return{value:n,end:e}}});var C6=h(()=>{"use strict";var D4e=m(),L4e=N(),Rx=R(),F4e=j(),vh=E(),_4e=w(),w6=G(),B4e=L(),$4e=at(),j4e=J(),U4e=W(),E6=re(),wx=Lr(),A6=x(),H4e=Ex(),z4e=xn(),x6=Rx.JSON,V4e=Rx.Number,bo=Rx.SyntaxError,Mx=x6&&x6.parse,W4e=F4e("Object","keys"),K4e=Object.getOwnPropertyDescriptor,Ve=vh("".charAt),xx=vh("".slice),Tx=vh(/./.exec),T6=vh([].push),Ox=/^\d$/,G4e=/^[1-9]$/,J4e=/^[\d-]$/,el=/^[\t\n\r ]$/,Ix=0,O6=1,Y4e=o(function(t,e){t=U4e(t);var r=new Cx(t,0,""),n=r.parse(),i=n.value,a=r.skip(el,n.end);if(a<t.length)throw new bo('Unexpected extra character: "'+Ve(t,a)+'" after the parsed data at: '+a);return w6(e)?Ax({"":i},"",e,n):i},"$parse"),Ax=o(function(t,e,r,n){var i=t[e],a=n&&i===n.value,s=a&&typeof n.source=="string"?{source:n.source}:{},u,l,c,f,d;if(B4e(i)){var p=$4e(i),v=a?n.nodes:p?[]:{};if(p)for(u=v.length,c=E6(i),f=0;f<c;f++)I6(i,f,Ax(i,""+f,r,f<u?v[f]:void 0));else for(l=W4e(i),c=E6(l),f=0;f<c;f++)d=l[f],I6(i,d,Ax(i,d,r,j4e(v,d)?v[d]:void 0))}return _4e(r,t,e,i,s)},"internalize"),I6=o(function(t,e,r){if(L4e){var n=K4e(t,e);if(n&&!n.configurable)return}r===void 0?delete t[e]:wx(t,e,r)},"internalizeProperty"),X4e=o(function(t,e,r,n){this.value=t,this.end=e,this.source=r,this.nodes=n},"Node"),Cx=o(function(t,e){this.source=t,this.index=e},"Context");Cx.prototype={fork:o(function(t){return new Cx(this.source,t)},"fork"),parse:o(function(){var t=this.source,e=this.skip(el,this.index),r=this.fork(e),n=Ve(t,e);if(Tx(J4e,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case'"':return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new bo('Unexpected character: "'+n+'" at: '+e)},"parse"),node:o(function(t,e,r,n,i){return new X4e(e,n,t?null:xx(this.source,r,n),i)},"node"),object:o(function(){for(var t=this.source,e=this.index+1,r=!1,n={},i={};e<t.length;){if(e=this.until(['"',"}"],e),Ve(t,e)==="}"&&!r){e++;break}var a=this.fork(e).string(),s=a.value;e=a.end,e=this.until([":"],e)+1,e=this.skip(el,e),a=this.fork(e).parse(),wx(i,s,a),wx(n,s,a.value),e=this.until([",","}"],a.end);var u=Ve(t,e);if(u===",")r=!0,e++;else if(u==="}"){e++;break}}return this.node(O6,n,this.index,e,i)},"object"),array:o(function(){for(var t=this.source,e=this.index+1,r=!1,n=[],i=[];e<t.length;){if(e=this.skip(el,e),Ve(t,e)==="]"&&!r){e++;break}var a=this.fork(e).parse();if(T6(i,a),T6(n,a.value),e=this.until([",","]"],a.end),Ve(t,e)===",")r=!0,e++;else if(Ve(t,e)==="]"){e++;break}}return this.node(O6,n,this.index,e,i)},"array"),string:o(function(){var t=this.index,e=H4e(this.source,this.index+1);return this.node(Ix,e.value,t,e.end)},"string"),number:o(function(){var t=this.source,e=this.index,r=e;if(Ve(t,r)==="-"&&r++,Ve(t,r)==="0")r++;else if(Tx(G4e,Ve(t,r)))r=this.skip(Ox,r+1);else throw new bo("Failed to parse number at: "+r);if(Ve(t,r)==="."&&(r=this.skip(Ox,r+1)),Ve(t,r)==="e"||Ve(t,r)==="E"){r++,(Ve(t,r)==="+"||Ve(t,r)==="-")&&r++;var n=r;if(r=this.skip(Ox,r),n===r)throw new bo("Failed to parse number's exponent value at: "+r)}return this.node(Ix,V4e(xx(t,e,r)),e,r)},"number"),keyword:o(function(t){var e=""+t,r=this.index,n=r+e.length;if(xx(this.source,r,n)!==e)throw new bo("Failed to parse value at: "+r);return this.node(Ix,t,r,n)},"keyword"),skip:o(function(t,e){for(var r=this.source;e<r.length&&Tx(t,Ve(r,e));e++);return e},"skip"),until:o(function(t,e){e=this.skip(el,e);for(var r=Ve(this.source,e),n=0;n<t.length;n++)if(t[n]===r)return e;throw new bo('Unexpected character: "'+r+'" at: '+e)},"until")};var Q4e=A6(function(){var t="9007199254740993",e;return Mx(t,function(r,n,i){e=i.source}),e!==t}),Z4e=z4e&&!A6(function(){return 1/Mx("-0 	")!==-1/0});D4e({target:"JSON",stat:!0,forced:Q4e},{parse:o(function(e,r){return Z4e&&!w6(r)?Mx(e):Y4e(e,r)},"parse")})});var F6=h(()=>{"use strict";var D6=m(),eKe=rn(),L6=qx(),gh=j(),rKe=w(),Dx=E(),tKe=G(),nKe=Sx(),iKe=W(),aKe=Lr(),oKe=Ex(),sKe=om(),uKe=On(),lKe=ie().set,cKe=String,R6=SyntaxError,fKe=gh("JSON","parse"),M6=gh("JSON","stringify"),dKe=gh("Object","create"),hKe=gh("Object","freeze"),Px=Dx("".charAt),kx=Dx("".slice),pKe=Dx([].push),Nx=uKe(),k6=Nx.length,P6="Unacceptable as raw JSON",N6=o(function(t){return t===" "||t==="	"||t==="\n"||t==="\r"},"isWhitespace");D6({target:"JSON",stat:!0,forced:!L6},{rawJSON:o(function(e){var r=iKe(e);if(r===""||N6(Px(r,0))||N6(Px(r,r.length-1)))throw new R6(P6);var n=fKe(r);if(typeof n=="object"&&n!==null)throw new R6(P6);var i=dKe(null);return lKe(i,{type:"RawJSON"}),aKe(i,"rawJSON",r),eKe?hKe(i):i},"rawJSON")});M6&&D6({target:"JSON",stat:!0,arity:3,forced:!L6},{stringify:o(function(e,r,n){var i=sKe(r),a=[],s=M6(e,function(v,g){var y=tKe(i)?rKe(i,this,cKe(v),g):g;return nKe(y)?Nx+(pKe(a,y.rawJSON)-1):y},n);if(typeof s!="string")return s;for(var u="",l=s.length,c=0;c<l;c++){var f=Px(s,c);if(f==='"'){var d=oKe(s,++c).end-1,p=kx(s,c,d);u+=kx(p,0,k6)===Nx?a[kx(p,k6)]:'"'+p+'"',c=d}else u+=f}return u},"stringify")})});var We=h((DMr,_6)=>{"use strict";var vKe=De().has;_6.exports=function(t){return vKe(t),t}});var B6=h(()=>{"use strict";var gKe=m(),mKe=We(),yKe=De().remove;gKe({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=mKe(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=yKe(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var j6=h(()=>{"use strict";var qKe=m(),SKe=We(),Lx=De(),bKe=Lx.get,EKe=Lx.has,$6=Lx.set;qKe({target:"Map",proto:!0,real:!0,forced:!0},{emplace:o(function(e,r){var n=SKe(this),i,a;return EKe(n,e)?(i=bKe(n,e),"update"in r&&(i=r.update(i,e,n),$6(n,e,i)),i):(a=r.insert(e,n),$6(n,e,a),a)},"emplace")})});var U6=h(()=>{"use strict";var xKe=m(),TKe=le(),OKe=We(),IKe=$r();xKe({target:"Map",proto:!0,real:!0,forced:!0},{every:o(function(e){var r=OKe(this),n=TKe(e,arguments.length>1?arguments[1]:void 0);return IKe(r,function(i,a){if(!n(i,a,r))return!1},!0)!==!1},"every")})});var z6=h(()=>{"use strict";var wKe=m(),AKe=le(),CKe=We(),H6=De(),RKe=$r(),MKe=H6.Map,kKe=H6.set;wKe({target:"Map",proto:!0,real:!0,forced:!0},{filter:o(function(e){var r=CKe(this),n=AKe(e,arguments.length>1?arguments[1]:void 0),i=new MKe;return RKe(r,function(a,s){n(a,s,r)&&kKe(i,s,a)}),i},"filter")})});var V6=h(()=>{"use strict";var PKe=m(),NKe=le(),DKe=We(),LKe=$r();PKe({target:"Map",proto:!0,real:!0,forced:!0},{find:o(function(e){var r=DKe(this),n=NKe(e,arguments.length>1?arguments[1]:void 0),i=LKe(r,function(a,s){if(n(a,s,r))return{value:a}},!0);return i&&i.value},"find")})});var W6=h(()=>{"use strict";var FKe=m(),_Ke=le(),BKe=We(),$Ke=$r();FKe({target:"Map",proto:!0,real:!0,forced:!0},{findKey:o(function(e){var r=BKe(this),n=_Ke(e,arguments.length>1?arguments[1]:void 0),i=$Ke(r,function(a,s){if(n(a,s,r))return{key:s}},!0);return i&&i.key},"findKey")})});var rl=h((ekr,K6)=>{"use strict";var jKe=le(),UKe=C(),HKe=Q(),zKe=qe();K6.exports=function(t,e,r){return o(function(i){var a=HKe(i),s=arguments.length,u=s>1?arguments[1]:void 0,l=u!==void 0,c=l?jKe(u,s>2?arguments[2]:void 0):void 0,f=new t,d=0;return zKe(a,function(p){var v=l?c(p,d++):p;r?e(f,UKe(v)[0],v[1]):e(f,v)}),f},"from")}});var J6=h(()=>{"use strict";var VKe=m(),G6=De(),WKe=rl();VKe({target:"Map",stat:!0,forced:!0},{from:WKe(G6.Map,G6.set,!0)})});var Y6=h(()=>{"use strict";var KKe=m(),GKe=We(),Fx=De(),JKe=ee(),YKe=Fx.get,XKe=Fx.has,QKe=Fx.set;KKe({target:"Map",proto:!0,real:!0,forced:JKe},{getOrInsert:o(function(e,r){return XKe(GKe(this),e)?YKe(this,e):(QKe(this,e,r),r)},"getOrInsert")})});var X6=h(()=>{"use strict";var ZKe=m(),e5e=U(),r5e=We(),_x=De(),t5e=ee(),n5e=_x.get,i5e=_x.has,a5e=_x.set;ZKe({target:"Map",proto:!0,real:!0,forced:t5e},{getOrInsertComputed:o(function(e,r){if(r5e(this),e5e(r),i5e(this,e))return n5e(this,e);e===0&&1/e===-1/0&&(e=0);var n=r(e);return a5e(this,e,n),n},"getOrInsertComputed")})});var Q6=h(()=>{"use strict";aS()});var eG=h((dkr,Z6)=>{"use strict";Z6.exports=function(t,e){return t===e||t!==t&&e!==e}});var rG=h(()=>{"use strict";var o5e=m(),s5e=eG(),u5e=We(),l5e=$r();o5e({target:"Map",proto:!0,real:!0,forced:!0},{includes:o(function(e){return l5e(u5e(this),function(r){if(s5e(r,e))return!0},!0)===!0},"includes")})});var nG=h(()=>{"use strict";var c5e=m(),f5e=w(),d5e=qe(),h5e=G(),tG=U(),p5e=De().Map;c5e({target:"Map",stat:!0,forced:!0},{keyBy:o(function(e,r){var n=h5e(this)?this:p5e,i=new n;tG(r);var a=tG(i.set);return d5e(e,function(s){f5e(a,i,r(s),s)}),i},"keyBy")})});var iG=h(()=>{"use strict";var v5e=m(),g5e=We(),m5e=$r();v5e({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:o(function(e){var r=m5e(g5e(this),function(n,i){if(n===e)return{key:i}},!0);return r&&r.key},"keyOf")})});var oG=h(()=>{"use strict";var y5e=m(),q5e=le(),S5e=We(),aG=De(),b5e=$r(),E5e=aG.Map,x5e=aG.set;y5e({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:o(function(e){var r=S5e(this),n=q5e(e,arguments.length>1?arguments[1]:void 0),i=new E5e;return b5e(r,function(a,s){x5e(i,n(a,s,r),a)}),i},"mapKeys")})});var uG=h(()=>{"use strict";var T5e=m(),O5e=le(),I5e=We(),sG=De(),w5e=$r(),A5e=sG.Map,C5e=sG.set;T5e({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:o(function(e){var r=I5e(this),n=O5e(e,arguments.length>1?arguments[1]:void 0),i=new A5e;return w5e(r,function(a,s){C5e(i,s,n(a,s,r))}),i},"mapValues")})});var lG=h(()=>{"use strict";var R5e=m(),M5e=We(),k5e=qe(),P5e=De().set;R5e({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:o(function(e){for(var r=M5e(this),n=arguments.length,i=0;i<n;)k5e(arguments[i++],function(a,s){P5e(r,a,s)},{AS_ENTRIES:!0});return r},"merge")})});var tl=h((Mkr,cG)=>{"use strict";var N5e=C();cG.exports=function(t,e,r){return o(function(){for(var i=new t,a=arguments.length,s=0;s<a;s++){var u=arguments[s];r?e(i,N5e(u)[0],u[1]):e(i,u)}return i},"of")}});var dG=h(()=>{"use strict";var D5e=m(),fG=De(),L5e=tl();D5e({target:"Map",stat:!0,forced:!0},{of:L5e(fG.Map,fG.set,!0)})});var hG=h(()=>{"use strict";var F5e=m(),_5e=U(),B5e=We(),$5e=$r(),j5e=TypeError;F5e({target:"Map",proto:!0,real:!0,forced:!0},{reduce:o(function(e){var r=B5e(this),n=arguments.length<2,i=n?void 0:arguments[1];if(_5e(e),$5e(r,function(a,s){n?(n=!1,i=a):i=e(i,a,s,r)}),n)throw new j5e("Reduce of empty map with no initial value");return i},"reduce")})});var pG=h(()=>{"use strict";var U5e=m(),H5e=le(),z5e=We(),V5e=$r();U5e({target:"Map",proto:!0,real:!0,forced:!0},{some:o(function(e){var r=z5e(this),n=H5e(e,arguments.length>1?arguments[1]:void 0);return V5e(r,function(i,a){if(n(i,a,r))return!0},!0)===!0},"some")})});var gG=h(()=>{"use strict";var W5e=m(),vG=U(),K5e=We(),Bx=De(),G5e=TypeError,J5e=Bx.get,Y5e=Bx.has,X5e=Bx.set;W5e({target:"Map",proto:!0,real:!0,forced:!0},{update:o(function(e,r){var n=K5e(this),i=arguments.length;vG(r);var a=Y5e(n,e);if(!a&&i<3)throw new G5e("Updating absent value");var s=a?J5e(n,e):vG(i>2?arguments[2]:void 0)(e,n);return X5e(n,e,r(s,e,n)),n},"update")})});var qh=h((zkr,mG)=>{"use strict";var mh=w(),$x=U(),yh=G(),Q5e=C(),Z5e=TypeError;mG.exports=o(function(e,r){var n=Q5e(this),i=$x(n.get),a=$x(n.has),s=$x(n.set),u=arguments.length>2?arguments[2]:void 0,l;if(!yh(r)&&!yh(u))throw new Z5e("At least one callback required");return mh(a,n,e)?(l=mh(i,n,e),yh(r)&&(l=r(l),mh(s,n,e,l))):yh(u)&&(l=u(),mh(s,n,e,l)),l},"upsert")});var yG=h(()=>{"use strict";var e6e=m(),r6e=qh();e6e({target:"Map",proto:!0,real:!0,name:"upsert",forced:!0},{updateOrInsert:r6e})});var qG=h(()=>{"use strict";var t6e=m(),n6e=qh();t6e({target:"Map",proto:!0,real:!0,forced:!0},{upsert:n6e})});var bG=h((Ykr,SG)=>{"use strict";var i6e=TypeError;SG.exports=function(t){if(typeof t=="number")return t;throw new i6e("Argument is not a number")}});var Ux=h((Xkr,EG)=>{"use strict";var jx=bG(),a6e=Math.min,o6e=Math.max;EG.exports=o(function(e,r,n){return a6e(o6e(jx(e),jx(r)),jx(n))},"clamp")});var xG=h(()=>{"use strict";var s6e=m(),u6e=Ux();s6e({target:"Math",stat:!0,forced:!0},{clamp:u6e})});var TG=h(()=>{"use strict";var l6e=m();l6e({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{DEG_PER_RAD:Math.PI/180})});var OG=h(()=>{"use strict";var c6e=m(),f6e=180/Math.PI;c6e({target:"Math",stat:!0,forced:!0},{degrees:o(function(e){return e*f6e},"degrees")})});var Hx=h((oPr,IG)=>{"use strict";IG.exports=o(function(e,r,n,i,a){var s=+e,u=+r,l=+n,c=+i,f=+a;return s!==s||u!==u||l!==l||c!==c||f!==f?NaN:s===1/0||s===-1/0?s:(s-u)*(f-c)/(l-u)+c},"scale")});var wG=h(()=>{"use strict";var d6e=m(),h6e=Hx(),p6e=xf();d6e({target:"Math",stat:!0,forced:!0},{fscale:o(function(e,r,n,i,a){return p6e(h6e(e,r,n,i,a))},"fscale")})});var AG=h(()=>{"use strict";lS()});var CG=h(()=>{"use strict";var v6e=m();v6e({target:"Math",stat:!0,forced:!0},{iaddh:o(function(e,r,n,i){var a=e>>>0,s=r>>>0,u=n>>>0;return s+(i>>>0)+((a&u|(a|u)&~(a+u>>>0))>>>31)|0},"iaddh")})});var RG=h(()=>{"use strict";var g6e=m();g6e({target:"Math",stat:!0,forced:!0},{imulh:o(function(e,r){var n=65535,i=+e,a=+r,s=i&n,u=a&n,l=i>>16,c=a>>16,f=(l*u>>>0)+(s*u>>>16);return l*c+(f>>16)+((s*c>>>0)+(f&n)>>16)},"imulh")})});var MG=h(()=>{"use strict";var m6e=m();m6e({target:"Math",stat:!0,forced:!0},{isubh:o(function(e,r,n,i){var a=e>>>0,s=r>>>0,u=n>>>0;return s-(i>>>0)-((~a&u|~(a^u)&a-u>>>0)>>>31)|0},"isubh")})});var kG=h(()=>{"use strict";var y6e=m();y6e({target:"Math",stat:!0,nonConfigurable:!0,nonWritable:!0},{RAD_PER_DEG:180/Math.PI})});var PG=h(()=>{"use strict";var q6e=m(),S6e=Math.PI/180;q6e({target:"Math",stat:!0,forced:!0},{radians:o(function(e){return e*S6e},"radians")})});var NG=h(()=>{"use strict";var b6e=m(),E6e=Hx();b6e({target:"Math",stat:!0,forced:!0},{scale:E6e})});var _G=h(()=>{"use strict";var x6e=m(),T6e=C(),O6e=ES(),I6e=Pn(),w6e=Ne(),DG=ie(),LG="Seeded Random",FG=LG+" Generator",A6e='Math.seededPRNG() argument should have a "seed" field with a finite value.',C6e=DG.set,R6e=DG.getterFor(FG),M6e=TypeError,k6e=I6e(o(function(e){C6e(this,{type:FG,seed:e%2147483647})},"SeededRandomGenerator"),LG,o(function(){var e=R6e(this),r=e.seed=(e.seed*1103515245+12345)%2147483647;return w6e((r&1073741823)/1073741823,!1)},"next"));x6e({target:"Math",stat:!0,forced:!0},{seededPRNG:o(function(e){var r=T6e(e).seed;if(!O6e(r))throw new M6e(A6e);return new k6e(r)},"seededPRNG")})});var BG=h(()=>{"use strict";var P6e=m();P6e({target:"Math",stat:!0,forced:!0},{signbit:o(function(e){var r=+e;return r===r&&r===0?1/r===-1/0:r<0},"signbit")})});var $G=h(()=>{"use strict";vS()});var jG=h(()=>{"use strict";var N6e=m();N6e({target:"Math",stat:!0,forced:!0},{umulh:o(function(e,r){var n=65535,i=+e,a=+r,s=i&n,u=a&n,l=i>>>16,c=a>>>16,f=(l*u>>>0)+(s*u>>>16);return l*c+(f>>>16)+((s*c>>>0)+(f&n)>>>16)},"umulh")})});var UG=h(()=>{"use strict";var D6e=m(),L6e=Ux(),F6e=Ja();D6e({target:"Number",proto:!0,forced:!0},{clamp:o(function(e,r){return L6e(F6e(this),e,r)},"clamp")})});var VG=h(()=>{"use strict";var _6e=m(),il=E(),B6e=pe(),nl="Invalid number representation",$6e="Invalid radix",j6e=RangeError,Sh=SyntaxError,U6e=TypeError,HG=parseInt,H6e=Math.pow,zG=/^[\d.a-z]+$/,z6e=il("".charAt),V6e=il(zG.exec),W6e=il(1.1.toString),K6e=il("".slice),G6e=il("".split);_6e({target:"Number",stat:!0,forced:!0},{fromString:o(function(e,r){var n=1;if(typeof e!="string")throw new U6e(nl);if(!e.length)throw new Sh(nl);if(z6e(e,0)==="-"&&(n=-1,e=K6e(e,1),!e.length))throw new Sh(nl);var i=r===void 0?10:B6e(r);if(i<2||i>36)throw new j6e($6e);if(!V6e(zG,e))throw new Sh(nl);var a=G6e(e,"."),s=HG(a[0],i);if(a.length>1&&(s+=HG(a[1],i)/H6e(i,a[1].length)),i===10&&W6e(s,i)!==e)throw new Sh(nl);return n*s},"fromString")})});var WG=h(()=>{"use strict";var J6e=m(),Y6e=lh();J6e({target:"Number",stat:!0,forced:!0},{range:o(function(e,r,n){return new Y6e(e,r,n,"number",0,1)},"range")})});var KG=h(()=>{"use strict";DS()});var Eh=h((XPr,YG)=>{"use strict";var GG=ie(),X6e=Pn(),bh=Ne(),Q6e=J(),Z6e=qi(),eGe=Q(),JG="Object Iterator",rGe=GG.set,tGe=GG.getterFor(JG);YG.exports=X6e(o(function(e,r){var n=eGe(e);rGe(this,{type:JG,mode:r,object:n,keys:Z6e(n),index:0})},"ObjectIterator"),"Object",o(function(){for(var e=tGe(this),r=e.keys;;){if(r===null||e.index>=r.length)return e.object=e.keys=null,bh(void 0,!0);var n=r[e.index++],i=e.object;if(Q6e(i,n)){switch(e.mode){case"keys":return bh(n,!1);case"values":return bh(i[n],!1)}return bh([n,i[n]],!1)}}},"next"))});var XG=h(()=>{"use strict";var nGe=m(),iGe=Eh();nGe({target:"Object",stat:!0,forced:!0},{iterateEntries:o(function(e){return new iGe(e,"entries")},"iterateEntries")})});var QG=h(()=>{"use strict";var aGe=m(),oGe=Eh();aGe({target:"Object",stat:!0,forced:!0},{iterateKeys:o(function(e){return new oGe(e,"keys")},"iterateKeys")})});var ZG=h(()=>{"use strict";var sGe=m(),uGe=Eh();sGe({target:"Object",stat:!0,forced:!0},{iterateValues:o(function(e){return new uGe(e,"values")},"iterateValues")})});var e8=h(()=>{"use strict";NS()});var c8=h(()=>{"use strict";var lGe=m(),xh=w(),al=N(),cGe=Dn(),r8=U(),fGe=C(),dGe=Ze(),t8=G(),hGe=gr(),pGe=L(),Th=Ee(),vGe=oe(),zx=_r(),n8=ve(),Eo=ib(),gGe=$(),i8=ie(),mGe=gGe("observable"),Vx="Observable",a8="Subscription",o8="SubscriptionObserver",Wx=i8.getterFor,Kx=i8.set,yGe=Wx(Vx),s8=Wx(a8),Oh=Wx(o8),u8=o(function(t){this.observer=fGe(t),this.cleanup=null,this.subscriptionObserver=null},"SubscriptionState");u8.prototype={type:a8,clean:o(function(){var t=this.cleanup;if(t){this.cleanup=null;try{t()}catch(e){Eo(e)}}},"clean"),close:o(function(){if(!al){var t=this.facade,e=this.subscriptionObserver;t.closed=!0,e&&(e.closed=!0)}this.observer=null},"close"),isClosed:o(function(){return this.observer===null},"isClosed")};var Gx=o(function(t,e){var r=Kx(this,new u8(t)),n;al||(this.closed=!1);try{(n=Th(t,"start"))&&xh(n,t,this)}catch(u){Eo(u)}if(!r.isClosed()){var i=r.subscriptionObserver=new Jx(r);try{var a=e(i),s=a;hGe(a)||(r.cleanup=t8(a.unsubscribe)?function(){s.unsubscribe()}:r8(a))}catch(u){i.error(u);return}r.isClosed()&&r.clean()}},"Subscription");Gx.prototype=zx({},{unsubscribe:o(function(){var e=s8(this);e.isClosed()||(e.close(),e.clean())},"unsubscribe")});al&&n8(Gx.prototype,"closed",{configurable:!0,get:o(function(){return s8(this).isClosed()},"closed")});var Jx=o(function(t){Kx(this,{type:o8,subscriptionState:t}),al||(this.closed=!1)},"SubscriptionObserver");Jx.prototype=zx({},{next:o(function(e){var r=Oh(this).subscriptionState;if(!r.isClosed()){var n=r.observer;try{var i=Th(n,"next");i&&xh(i,n,e)}catch(a){Eo(a)}}},"next"),error:o(function(e){var r=Oh(this).subscriptionState;if(!r.isClosed()){var n=r.observer;r.close();try{var i=Th(n,"error");i?xh(i,n,e):Eo(e)}catch(a){Eo(a)}r.clean()}},"error"),complete:o(function(){var e=Oh(this).subscriptionState;if(!e.isClosed()){var r=e.observer;e.close();try{var n=Th(r,"complete");n&&xh(n,r)}catch(i){Eo(i)}e.clean()}},"complete")});al&&n8(Jx.prototype,"closed",{configurable:!0,get:o(function(){return Oh(this).subscriptionState.isClosed()},"closed")});var l8=o(function(e){dGe(this,Yx),Kx(this,{type:Vx,subscriber:r8(e)})},"Observable"),Yx=l8.prototype;zx(Yx,{subscribe:o(function(e){var r=arguments.length;return new Gx(t8(e)?{next:e,error:r>1?arguments[1]:void 0,complete:r>2?arguments[2]:void 0}:pGe(e)?e:{},yGe(this).subscriber)},"subscribe")});vGe(Yx,mGe,function(){return this});lGe({global:!0,constructor:!0,forced:!0},{Observable:l8});cGe(Vx)});var d8=h(()=>{"use strict";var qGe=m(),SGe=j(),bGe=w(),f8=C(),EGe=ot(),xGe=Gt(),TGe=Ee(),OGe=qe(),IGe=$(),wGe=IGe("observable");qGe({target:"Observable",stat:!0,forced:!0},{from:o(function(e){var r=EGe(this)?this:SGe("Observable"),n=TGe(f8(e),wGe);if(n){var i=f8(bGe(n,e));return i.constructor===r?i:new r(function(s){return i.subscribe(s)})}var a=xGe(e);return new r(function(s){OGe(a,function(u,l){if(s.next(u),s.closed)return l()},{IS_ITERATOR:!0,INTERRUPTED:!0}),s.complete()})},"from")})});var p8=h(()=>{"use strict";var AGe=m(),h8=j(),CGe=ot(),RGe=h8("Array");AGe({target:"Observable",stat:!0,forced:!0},{of:o(function(){for(var e=CGe(this)?this:h8("Observable"),r=arguments.length,n=RGe(r),i=0;i<r;)n[i]=arguments[i++];return new e(function(a){for(var s=0;s<r;s++)if(a.next(n[s]),a.closed)return;a.complete()})},"of")})});var v8=h(()=>{"use strict";c8();d8();p8()});var g8=h(()=>{"use strict";yb()});var m8=h(()=>{"use strict";qb()});var y8=h(()=>{"use strict";xb()});var q8=h(()=>{"use strict";Tb()});var At=h((CNr,x8)=>{"use strict";Gf();nh();var E8=j(),MGe=E(),kGe=Vt(),S8=E8("Map"),PGe=E8("WeakMap"),NGe=MGe([].push),b8=kGe("metadata"),Xx=b8.store||(b8.store=new PGe),ol=o(function(t,e,r){var n=Xx.get(t);if(!n){if(!r)return;Xx.set(t,n=new S8)}var i=n.get(e);if(!i){if(!r)return;n.set(e,i=new S8)}return i},"getOrCreateMetadataMap"),DGe=o(function(t,e,r){var n=ol(e,r,!1);return n===void 0?!1:n.has(t)},"ordinaryHasOwnMetadata"),LGe=o(function(t,e,r){var n=ol(e,r,!1);return n===void 0?void 0:n.get(t)},"ordinaryGetOwnMetadata"),FGe=o(function(t,e,r,n){ol(r,n,!0).set(t,e)},"ordinaryDefineOwnMetadata"),_Ge=o(function(t,e){var r=ol(t,e,!1),n=[];return r&&r.forEach(function(i,a){NGe(n,a)}),n},"ordinaryOwnMetadataKeys"),BGe=o(function(t){return t===void 0||typeof t=="symbol"?t:String(t)},"toMetadataKey");x8.exports={store:Xx,getMap:ol,has:DGe,get:LGe,set:FGe,keys:_Ge,toKey:BGe}});var O8=h(()=>{"use strict";var $Ge=m(),T8=At(),jGe=C(),UGe=T8.toKey,HGe=T8.set;$Ge({target:"Reflect",stat:!0},{defineMetadata:o(function(e,r,n){var i=arguments.length<4?void 0:UGe(arguments[3]);HGe(e,r,jGe(n),i)},"defineMetadata")})});var w8=h(()=>{"use strict";var zGe=m(),Qx=At(),VGe=C(),WGe=Qx.toKey,KGe=Qx.getMap,I8=Qx.store;zGe({target:"Reflect",stat:!0},{deleteMetadata:o(function(e,r){var n=arguments.length<3?void 0:WGe(arguments[2]),i=KGe(VGe(r),n,!1);if(i===void 0||!i.delete(e))return!1;if(i.size)return!0;var a=I8.get(r);return a.delete(n),!!a.size||I8.delete(r)},"deleteMetadata")})});var C8=h(()=>{"use strict";var GGe=m(),Zx=At(),JGe=C(),YGe=Me(),XGe=Zx.has,QGe=Zx.get,ZGe=Zx.toKey,A8=o(function(t,e,r){var n=XGe(t,e,r);if(n)return QGe(t,e,r);var i=YGe(e);return i!==null?A8(t,i,r):void 0},"ordinaryGetMetadata");GGe({target:"Reflect",stat:!0},{getMetadata:o(function(e,r){var n=arguments.length<3?void 0:ZGe(arguments[2]);return A8(e,JGe(r),n)},"getMetadata")})});var P8=h(()=>{"use strict";var e8e=m(),R8=E(),M8=At(),r8e=C(),t8e=Me(),n8e=oh(),i8e=R8(n8e),a8e=R8([].concat),o8e=M8.keys,s8e=M8.toKey,k8=o(function(t,e){var r=o8e(t,e),n=t8e(t);if(n===null)return r;var i=k8(n,e);return i.length?r.length?i8e(a8e(r,i)):i:r},"ordinaryMetadataKeys");e8e({target:"Reflect",stat:!0},{getMetadataKeys:o(function(e){var r=arguments.length<2?void 0:s8e(arguments[1]);return k8(r8e(e),r)},"getMetadataKeys")})});var D8=h(()=>{"use strict";var u8e=m(),N8=At(),l8e=C(),c8e=N8.get,f8e=N8.toKey;u8e({target:"Reflect",stat:!0},{getOwnMetadata:o(function(e,r){var n=arguments.length<3?void 0:f8e(arguments[2]);return c8e(e,l8e(r),n)},"getOwnMetadata")})});var F8=h(()=>{"use strict";var d8e=m(),L8=At(),h8e=C(),p8e=L8.keys,v8e=L8.toKey;d8e({target:"Reflect",stat:!0},{getOwnMetadataKeys:o(function(e){var r=arguments.length<2?void 0:v8e(arguments[1]);return p8e(h8e(e),r)},"getOwnMetadataKeys")})});var $8=h(()=>{"use strict";var g8e=m(),_8=At(),m8e=C(),y8e=Me(),q8e=_8.has,S8e=_8.toKey,B8=o(function(t,e,r){var n=q8e(t,e,r);if(n)return!0;var i=y8e(e);return i!==null?B8(t,i,r):!1},"ordinaryHasMetadata");g8e({target:"Reflect",stat:!0},{hasMetadata:o(function(e,r){var n=arguments.length<3?void 0:S8e(arguments[2]);return B8(e,m8e(r),n)},"hasMetadata")})});var U8=h(()=>{"use strict";var b8e=m(),j8=At(),E8e=C(),x8e=j8.has,T8e=j8.toKey;b8e({target:"Reflect",stat:!0},{hasOwnMetadata:o(function(e,r){var n=arguments.length<3?void 0:T8e(arguments[2]);return x8e(e,E8e(r),n)},"hasOwnMetadata")})});var z8=h(()=>{"use strict";var O8e=m(),H8=At(),I8e=C(),w8e=H8.toKey,A8e=H8.set;O8e({target:"Reflect",stat:!0},{metadata:o(function(e,r){return o(function(i,a){A8e(e,r,I8e(i),w8e(a))},"decorator")},"metadata")})});var V8=h(()=>{"use strict";Qb()});var W8=h(()=>{"use strict";var C8e=m(),R8e=ze(),M8e=_e().add;C8e({target:"Set",proto:!0,real:!0,forced:!0},{addAll:o(function(){for(var e=R8e(this),r=0,n=arguments.length;r<n;r++)M8e(e,arguments[r]);return e},"addAll")})});var K8=h(()=>{"use strict";var k8e=m(),P8e=ze(),N8e=_e().remove;k8e({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=P8e(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=N8e(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var G8=h(()=>{"use strict";oE()});var Y8=h((pDr,J8)=>{"use strict";var D8e=ar(),L8e=J(),F8e=gr(),_8e=$(),B8e=Oi(),$8e=_8e("iterator"),j8e=Object;J8.exports=function(t){if(F8e(t))return!1;var e=j8e(t);return e[$8e]!==void 0||"@@iterator"in e||L8e(B8e,D8e(e))}});var Xn=h((vDr,Q8)=>{"use strict";var U8e=j(),X8=G(),H8e=Y8(),z8e=L(),V8e=U8e("Set"),W8e=o(function(t){return z8e(t)&&typeof t.size=="number"&&X8(t.has)&&X8(t.keys)},"isSetLike");Q8.exports=function(t){return W8e(t)?t:H8e(t)?new V8e(t):t}});var Z8=h(()=>{"use strict";var K8e=m(),G8e=w(),J8e=Xn(),Y8e=aE();K8e({target:"Set",proto:!0,real:!0,forced:!0},{difference:o(function(e){return G8e(Y8e,this,J8e(e))},"difference")})});var eJ=h(()=>{"use strict";var X8e=m(),Q8e=le(),Z8e=ze(),eJe=br();X8e({target:"Set",proto:!0,real:!0,forced:!0},{every:o(function(e){var r=Z8e(this),n=Q8e(e,arguments.length>1?arguments[1]:void 0);return eJe(r,function(i){if(!n(i,i,r))return!1},!0)!==!1},"every")})});var tJ=h(()=>{"use strict";var rJe=m(),tJe=le(),nJe=ze(),rJ=_e(),iJe=br(),aJe=rJ.Set,oJe=rJ.add;rJe({target:"Set",proto:!0,real:!0,forced:!0},{filter:o(function(e){var r=nJe(this),n=tJe(e,arguments.length>1?arguments[1]:void 0),i=new aJe;return iJe(r,function(a){n(a,a,r)&&oJe(i,a)}),i},"filter")})});var nJ=h(()=>{"use strict";var sJe=m(),uJe=le(),lJe=ze(),cJe=br();sJe({target:"Set",proto:!0,real:!0,forced:!0},{find:o(function(e){var r=lJe(this),n=uJe(e,arguments.length>1?arguments[1]:void 0),i=cJe(r,function(a){if(n(a,a,r))return{value:a}},!0);return i&&i.value},"find")})});var aJ=h(()=>{"use strict";var fJe=m(),iJ=_e(),dJe=rl();fJe({target:"Set",stat:!0,forced:!0},{from:dJe(iJ.Set,iJ.add,!1)})});var oJ=h(()=>{"use strict";lE()});var sJ=h(()=>{"use strict";var hJe=m(),pJe=w(),vJe=Xn(),gJe=uE();hJe({target:"Set",proto:!0,real:!0,forced:!0},{intersection:o(function(e){return pJe(gJe,this,vJe(e))},"intersection")})});var uJ=h(()=>{"use strict";fE()});var lJ=h(()=>{"use strict";var mJe=m(),yJe=w(),qJe=Xn(),SJe=cE();mJe({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:o(function(e){return yJe(SJe,this,qJe(e))},"isDisjointFrom")})});var cJ=h(()=>{"use strict";hE()});var fJ=h(()=>{"use strict";var bJe=m(),EJe=w(),xJe=Xn(),TJe=dE();bJe({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:o(function(e){return EJe(TJe,this,xJe(e))},"isSubsetOf")})});var dJ=h(()=>{"use strict";vE()});var hJ=h(()=>{"use strict";var OJe=m(),IJe=w(),wJe=Xn(),AJe=pE();OJe({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:o(function(e){return IJe(AJe,this,wJe(e))},"isSupersetOf")})});var vJ=h(()=>{"use strict";var CJe=m(),pJ=E(),RJe=ze(),MJe=br(),kJe=W(),PJe=pJ([].join),NJe=pJ([].push);CJe({target:"Set",proto:!0,real:!0,forced:!0},{join:o(function(e){var r=RJe(this),n=e===void 0?",":kJe(e),i=[];return MJe(r,function(a){NJe(i,a)}),PJe(i,n)},"join")})});var mJ=h(()=>{"use strict";var DJe=m(),LJe=le(),FJe=ze(),gJ=_e(),_Je=br(),BJe=gJ.Set,$Je=gJ.add;DJe({target:"Set",proto:!0,real:!0,forced:!0},{map:o(function(e){var r=FJe(this),n=LJe(e,arguments.length>1?arguments[1]:void 0),i=new BJe;return _Je(r,function(a){$Je(i,n(a,a,r))}),i},"map")})});var qJ=h(()=>{"use strict";var jJe=m(),yJ=_e(),UJe=tl();jJe({target:"Set",stat:!0,forced:!0},{of:UJe(yJ.Set,yJ.add,!1)})});var SJ=h(()=>{"use strict";var HJe=m(),zJe=U(),VJe=ze(),WJe=br(),KJe=TypeError;HJe({target:"Set",proto:!0,real:!0,forced:!0},{reduce:o(function(e){var r=VJe(this),n=arguments.length<2,i=n?void 0:arguments[1];if(zJe(e),WJe(r,function(a){n?(n=!1,i=a):i=e(i,a,a,r)}),n)throw new KJe("Reduce of empty set with no initial value");return i},"reduce")})});var bJ=h(()=>{"use strict";var GJe=m(),JJe=le(),YJe=ze(),XJe=br();GJe({target:"Set",proto:!0,real:!0,forced:!0},{some:o(function(e){var r=YJe(this),n=JJe(e,arguments.length>1?arguments[1]:void 0);return XJe(r,function(i){if(n(i,i,r))return!0},!0)===!0},"some")})});var EJ=h(()=>{"use strict";qE()});var xJ=h(()=>{"use strict";var QJe=m(),ZJe=w(),e7e=Xn(),r7e=mE();QJe({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:o(function(e){return ZJe(r7e,this,e7e(e))},"symmetricDifference")})});var TJ=h(()=>{"use strict";bE()});var OJ=h(()=>{"use strict";var t7e=m(),n7e=w(),i7e=Xn(),a7e=SE();t7e({target:"Set",proto:!0,real:!0,forced:!0},{union:o(function(e){return n7e(a7e,this,i7e(e))},"union")})});var IJ=h(()=>{"use strict";var o7e=m(),s7e=_i().charAt,u7e=he(),l7e=pe(),c7e=W();o7e({target:"String",proto:!0,forced:!0},{at:o(function(e){var r=c7e(u7e(this)),n=r.length,i=l7e(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:s7e(r,a)},"at")})});var eT=h((TLr,RJ)=>{"use strict";var CJ=E(),f7e=Ce(),wJ=W(),d7e=re(),h7e=TypeError,AJ=CJ([].push),p7e=CJ([].join);RJ.exports=o(function(e){var r=f7e(e),n=d7e(r);if(!n)return"";for(var i=arguments.length,a=[],s=0;;){var u=r[s++];if(u===void 0)throw new h7e("Incorrect template");if(AJ(a,wJ(u)),s===n)return p7e(a,"");s<i&&AJ(a,wJ(arguments[s]))}},"cooked")});var MJ=h(()=>{"use strict";var v7e=m(),g7e=eT();v7e({target:"String",stat:!0,forced:!0},{cooked:g7e})});var LJ=h(()=>{"use strict";var m7e=m(),y7e=Pn(),kJ=Ne(),q7e=he(),S7e=W(),PJ=ie(),NJ=_i(),b7e=NJ.codeAt,E7e=NJ.charAt,DJ="String Iterator",x7e=PJ.set,T7e=PJ.getterFor(DJ),O7e=y7e(o(function(e){x7e(this,{type:DJ,string:e,index:0})},"StringIterator"),"String",o(function(){var e=T7e(this),r=e.string,n=e.index,i;return n>=r.length?kJ(void 0,!0):(i=E7e(r,n),e.index+=i.length,kJ({codePoint:b7e(i,0),position:n},!1))},"next"));m7e({target:"String",proto:!0,forced:!0},{codePoints:o(function(){return new O7e(S7e(q7e(this)))},"codePoints")})});var Ct=h((MLr,FJ)=>{"use strict";var Ih=E(),wh=WeakMap.prototype;FJ.exports={WeakMap,set:Ih(wh.set),get:Ih(wh.get),has:Ih(wh.has),remove:Ih(wh.delete)}});var WJ=h((kLr,VJ)=>{"use strict";var I7e=j(),Ah=E(),w7e=String.fromCharCode,A7e=I7e("String","fromCodePoint"),rT=Ah("".charAt),HJ=Ah("".charCodeAt),_J=Ah("".indexOf),BJ=Ah("".slice),nT=48,zJ=57,$J=97,C7e=102,jJ=65,R7e=70,UJ=o(function(t,e){var r=HJ(t,e);return r>=nT&&r<=zJ},"isDigit"),tT=o(function(t,e,r){if(r>=t.length)return-1;for(var n=0;e<r;e++){var i=M7e(HJ(t,e));if(i===-1)return-1;n=n*16+i}return n},"parseHex"),M7e=o(function(t){return t>=nT&&t<=zJ?t-nT:t>=$J&&t<=C7e?t-$J+10:t>=jJ&&t<=R7e?t-jJ+10:-1},"hexToInt");VJ.exports=function(t){for(var e="",r=0,n=0,i;(n=_J(t,"\\",n))>-1;){if(e+=BJ(t,r,n),++n===t.length)return;var a=rT(t,n++);switch(a){case"b":e+="\b";break;case"t":e+="	";break;case"n":e+="\n";break;case"v":e+="\v";break;case"f":e+="\f";break;case"r":e+="\r";break;case"\r":n<t.length&&rT(t,n)==="\n"&&++n;case"\n":case"\u2028":case"\u2029":break;case"0":if(UJ(t,n))return;e+="\0";break;case"x":if(i=tT(t,n,n+2),i===-1)return;n+=2,e+=w7e(i);break;case"u":if(n<t.length&&rT(t,n)==="{"){var s=_J(t,"}",++n);if(s===-1)return;i=tT(t,n,s),n=s+1}else i=tT(t,n,n+4),n+=4;if(i===-1||i>1114111)return;e+=A7e(i);break;default:if(UJ(a,0))return;e+=a}r=n}return e+BJ(t,r)}});var t7=h(()=>{"use strict";var k7e=rn(),P7e=m(),N7e=Ts(),Ch=E(),XJ=He(),QJ=C(),D7e=Q(),L7e=G(),F7e=re(),_7e=fe().f,B7e=yr(),Rh=Ct(),$7e=eT(),j7e=WJ(),ZJ=Mi(),iT=new Rh.WeakMap,U7e=Rh.get,H7e=Rh.has,z7e=Rh.set,aT=Array,sl=TypeError,KJ=Object.freeze||Object,V7e=Object.isFrozen,W7e=Math.min,GJ=Ch("".charAt),e7=Ch("".slice),K7e=Ch("".split),JJ=Ch(/./.exec),G7e=/([\n\u2028\u2029]|\r\n?)/g,J7e=RegExp("^["+ZJ+"]*"),Y7e=RegExp("[^"+ZJ+"]"),YJ="Invalid tag",X7e="Invalid opening line",Q7e="Invalid closing line",Z7e=o(function(t){var e=t.raw;if(k7e&&!V7e(e))throw new sl("Raw template should be frozen");if(H7e(iT,e))return U7e(iT,e);var r=eYe(e),n=tYe(r);return _7e(n,"raw",{value:KJ(r)}),KJ(n),z7e(iT,e,n),n},"dedentTemplateStringsArray"),eYe=o(function(t){var e=D7e(t),r=F7e(e),n=aT(r),i=aT(r),a=0,s,u,l,c;if(!r)throw new sl(YJ);for(;a<r;a++){var f=e[a];if(typeof f=="string")n[a]=K7e(f,G7e);else throw new sl(YJ)}for(a=0;a<r;a++){var d=a+1===r;if(s=n[a],a===0){if(s.length===1||s[0].length>0)throw new sl(X7e);s[1]=""}if(d){if(s.length===1||JJ(Y7e,s[s.length-1]))throw new sl(Q7e);s[s.length-2]="",s[s.length-1]=""}for(var p=2;p<s.length;p+=2){var v=s[p],g=p+1===s.length&&!d,y=JJ(J7e,v)[0];if(!g&&y.length===v.length){s[p]="";continue}u=rYe(y,u)}}var q=u?u.length:0;for(a=0;a<r;a++){for(s=n[a],l=s[0],c=1;c<s.length;c+=2)l+=s[c]+e7(s[c+1],q);i[a]=l}return i},"dedentStringsArray"),rYe=o(function(t,e){if(e===void 0||t===e)return t;for(var r=0,n=W7e(t.length,e.length);r<n&&GJ(t,r)===GJ(e,r);r++);return e7(t,0,r)},"commonLeadingIndentation"),tYe=o(function(t){for(var e=0,r=t.length,n=aT(r);e<r;e++)n[e]=j7e(t[e]);return n},"cookStrings"),r7=o(function(t){return N7e(function(e){var r=B7e(arguments);return r[0]=Z7e(QJ(e)),XJ(t,this,r)},"")},"makeDedentTag"),nYe=r7($7e);P7e({target:"String",stat:!0,forced:!0},{dedent:o(function(e){return QJ(e),L7e(e)?r7(e):XJ(nYe,this,arguments)},"dedent")})});var n7=h(()=>{"use strict";TE()});var i7=h(()=>{"use strict";ME()});var a7=h(()=>{"use strict";jE()});var o7=h(()=>{"use strict";GE()});var s7=h(()=>{"use strict";cm()});var u7=h(()=>{"use strict";var iYe=ye();iYe("customMatcher")});var l7=h(()=>{"use strict";dm()});var sT=h((XLr,c7)=>{"use strict";var aYe=j(),oYe=E(),oT=aYe("Symbol"),sYe=oT.keyFor,uYe=oYe(oT.prototype.valueOf);c7.exports=oT.isRegisteredSymbol||o(function(e){try{return sYe(uYe(e))!==void 0}catch(r){return!1}},"isRegisteredSymbol")});var f7=h(()=>{"use strict";var lYe=m(),cYe=sT();lYe({target:"Symbol",stat:!0},{isRegisteredSymbol:cYe})});var d7=h(()=>{"use strict";var fYe=m(),dYe=sT();fYe({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:dYe})});var cT=h((n2r,y7)=>{"use strict";var hYe=Vt(),g7=j(),pYe=E(),vYe=zt(),gYe=$(),kh=g7("Symbol"),h7=kh.isWellKnownSymbol,m7=g7("Object","getOwnPropertyNames"),mYe=pYe(kh.prototype.valueOf),p7=hYe("wks");for(Mh=0,uT=m7(kh),v7=uT.length;Mh<v7;Mh++)try{lT=uT[Mh],vYe(kh[lT])&&gYe(lT)}catch(t){}var lT,Mh,uT,v7;y7.exports=o(function(e){if(h7&&h7(e))return!0;try{for(var r=mYe(e),n=0,i=m7(p7),a=i.length;n<a;n++)if(p7[i[n]]==r)return!0}catch(s){}return!1},"isWellKnownSymbol")});var q7=h(()=>{"use strict";var yYe=m(),qYe=cT();yYe({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:qYe})});var S7=h(()=>{"use strict";var SYe=m(),bYe=cT();SYe({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:bYe})});var b7=h(()=>{"use strict";var EYe=ye();EYe("matcher")});var E7=h(()=>{"use strict";var xYe=ye();xYe("metadata")});var x7=h(()=>{"use strict";var TYe=ye();TYe("metadataKey")});var T7=h(()=>{"use strict";var OYe=ye();OYe("observable")});var O7=h(()=>{"use strict";var IYe=ye();IYe("patternMatch")});var I7=h(()=>{"use strict";var wYe=ye();wYe("replaceAll")});var A7=h(()=>{"use strict";var AYe=j(),CYe=mu(),RYe=Cb(),w7=X(),MYe=Yt(),kYe=w7.aTypedArrayConstructor,PYe=w7.exportTypedArrayStaticMethod;PYe("fromAsync",o(function(e){var r=this,n=arguments.length,i=n>1?arguments[1]:void 0,a=n>2?arguments[2]:void 0;return new(AYe("Promise"))(function(s){CYe(r),s(RYe(e,i,a))}).then(function(s){return MYe(kYe(r),s)})},"fromAsync"),!0)});var C7=h(()=>{"use strict";l0()});var M7=h(()=>{"use strict";var R7=X(),NYe=Te().filterReject,DYe=jd(),LYe=R7.aTypedArray,FYe=R7.exportTypedArrayMethod;FYe("filterOut",o(function(e){var r=NYe(LYe(this),e,arguments.length>1?arguments[1]:void 0);return DYe(this,r)},"filterOut"),!0)});var P7=h(()=>{"use strict";var k7=X(),_Ye=Te().filterReject,BYe=jd(),$Ye=k7.aTypedArray,jYe=k7.exportTypedArrayMethod;jYe("filterReject",o(function(e){var r=_Ye($Ye(this),e,arguments.length>1?arguments[1]:void 0);return BYe(this,r)},"filterReject"),!0)});var N7=h(()=>{"use strict";c0()});var D7=h(()=>{"use strict";f0()});var L7=h(()=>{"use strict";var fT=X(),UYe=ih(),HYe=fT.aTypedArray,zYe=fT.getTypedArrayConstructor,VYe=fT.exportTypedArrayMethod;VYe("groupBy",o(function(e){var r=arguments.length>1?arguments[1]:void 0;return UYe(HYe(this),e,r,zYe)},"groupBy"),!0)});var F7=h(()=>{"use strict";O0()});var _7=h(()=>{"use strict";I0()});var B7=h(()=>{"use strict";var dT=X(),WYe=re(),KYe=Ld(),GYe=it(),JYe=Fu(),YYe=pe(),XYe=dT.aTypedArray,QYe=dT.getTypedArrayConstructor,ZYe=dT.exportTypedArrayMethod,e9e=Math.max,r9e=Math.min;ZYe("toSpliced",o(function(e,r){var n=XYe(this),i=QYe(n),a=WYe(n),s=GYe(e,a),u=arguments.length,l=0,c,f,d,p,v,g,y;if(u===0)c=f=0;else if(u===1)c=0,f=a-s;else if(f=r9e(e9e(YYe(r),0),a-s),c=u-2,c){p=new i(c),d=KYe(p);for(var q=2;q<u;q++)v=arguments[q],p[q-2]=d?JYe(v):+v}for(g=a+c-f,y=new i(g);l<s;l++)y[l]=n[l];for(;l<s+c;l++)y[l]=p[l-s];for(;l<g;l++)y[l]=n[l+f-c];return y},"toSpliced"),!0)});var $7=h(()=>{"use strict";var t9e=E(),hT=X(),n9e=Yt(),i9e=oh(),a9e=hT.aTypedArray,o9e=hT.getTypedArrayConstructor,s9e=hT.exportTypedArrayMethod,u9e=t9e(i9e);s9e("uniqueBy",o(function(e){return a9e(this),n9e(o9e(this),u9e(this,e))},"uniqueBy"),!0)});var j7=h(()=>{"use strict";A0()});var U7=h(()=>{"use strict";N0()});var H7=h(()=>{"use strict";F0()});var z7=h(()=>{"use strict";_0()});var V7=h(()=>{"use strict";B0()});var W7=h(()=>{"use strict";$0()});var K7=h(()=>{"use strict";j0()});var ul=h((lFr,G7)=>{"use strict";var l9e=Ct().has;G7.exports=function(t){return l9e(t),t}});var J7=h(()=>{"use strict";var c9e=m(),f9e=ul(),d9e=Ct().remove;c9e({target:"WeakMap",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=f9e(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=d9e(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var X7=h(()=>{"use strict";var h9e=m(),Y7=Ct(),p9e=rl();h9e({target:"WeakMap",stat:!0,forced:!0},{from:p9e(Y7.WeakMap,Y7.set,!0)})});var Z7=h(()=>{"use strict";var v9e=m(),Q7=Ct(),g9e=tl();v9e({target:"WeakMap",stat:!0,forced:!0},{of:g9e(Q7.WeakMap,Q7.set,!0)})});var rY=h(()=>{"use strict";var m9e=m(),y9e=ul(),pT=Ct(),q9e=pT.get,S9e=pT.has,eY=pT.set;m9e({target:"WeakMap",proto:!0,real:!0,forced:!0},{emplace:o(function(e,r){var n=y9e(this),i,a;return S9e(n,e)?(i=q9e(n,e),"update"in r&&(i=r.update(i,e,n),eY(n,e,i)),i):(a=r.insert(e,n),eY(n,e,a),a)},"emplace")})});var tY=h(()=>{"use strict";var b9e=m(),E9e=ul(),vT=Ct(),x9e=ee(),T9e=vT.get,O9e=vT.has,I9e=vT.set;b9e({target:"WeakMap",proto:!0,real:!0,forced:x9e},{getOrInsert:o(function(e,r){return O9e(E9e(this),e)?T9e(this,e):(I9e(this,e,r),r)},"getOrInsert")})});var aY=h((xFr,iY)=>{"use strict";var gT=Ct(),nY=new gT.WeakMap,w9e=gT.set,A9e=gT.remove;iY.exports=function(t){return w9e(nY,t,1),A9e(nY,t),t}});var oY=h(()=>{"use strict";var C9e=m(),R9e=U(),M9e=ul(),k9e=aY(),mT=Ct(),P9e=ee(),N9e=mT.get,D9e=mT.has,L9e=mT.set;C9e({target:"WeakMap",proto:!0,real:!0,forced:P9e},{getOrInsertComputed:o(function(e,r){if(M9e(this),k9e(e),R9e(r),D9e(this,e))return N9e(this,e);var n=r(e);return L9e(this,e,n),n},"getOrInsertComputed")})});var sY=h(()=>{"use strict";var F9e=m(),_9e=qh();F9e({target:"WeakMap",proto:!0,real:!0,forced:!0},{upsert:_9e})});var xo=h((CFr,uY)=>{"use strict";var yT=E(),qT=WeakSet.prototype;uY.exports={WeakSet,add:yT(qT.add),has:yT(qT.has),remove:yT(qT.delete)}});var ST=h((RFr,lY)=>{"use strict";var B9e=xo().has;lY.exports=function(t){return B9e(t),t}});var cY=h(()=>{"use strict";var $9e=m(),j9e=ST(),U9e=xo().add;$9e({target:"WeakSet",proto:!0,real:!0,forced:!0},{addAll:o(function(){for(var e=j9e(this),r=0,n=arguments.length;r<n;r++)U9e(e,arguments[r]);return e},"addAll")})});var fY=h(()=>{"use strict";var H9e=m(),z9e=ST(),V9e=xo().remove;H9e({target:"WeakSet",proto:!0,real:!0,forced:!0},{deleteAll:o(function(){for(var e=z9e(this),r=!0,n,i=0,a=arguments.length;i<a;i++)n=V9e(e,arguments[i]),r=r&&n;return!!r},"deleteAll")})});var hY=h(()=>{"use strict";var W9e=m(),dY=xo(),K9e=rl();W9e({target:"WeakSet",stat:!0,forced:!0},{from:K9e(dY.WeakSet,dY.add,!1)})});var vY=h(()=>{"use strict";var G9e=m(),pY=xo(),J9e=tl();G9e({target:"WeakSet",stat:!0,forced:!0},{of:J9e(pY.WeakSet,pY.add,!1)})});var EY=h(()=>{"use strict";var Y9e=m(),X9e=R(),yY=j(),bT=E(),Q9e=w(),Ph=x(),Z9e=W(),eXe=Rr(),gY=zu().c2i,qY=/[^\d+/a-z]/i,rXe=/[\t\n\f\r ]+/g,tXe=/[=]{1,2}$/,Hi=yY("atob"),nXe=String.fromCharCode,iXe=bT("".charAt),mY=bT("".replace),aXe=bT(qY.exec),To=!!Hi&&!Ph(function(){return Hi("aGk=")!=="hi"}),SY=To&&Ph(function(){return Hi(" ")!==""}),bY=To&&!Ph(function(){Hi("a")}),oXe=To&&!Ph(function(){Hi()}),sXe=To&&Hi.length!==1,uXe=!To||SY||bY||oXe||sXe;Y9e({global:!0,bind:!0,enumerable:!0,forced:uXe},{atob:o(function(e){if(eXe(arguments.length,1),To&&!SY&&!bY)return Q9e(Hi,X9e,e);var r=mY(Z9e(e),rXe,""),n="",i=0,a=0,s,u,l;if(r.length%4===0&&(r=mY(r,tXe,"")),s=r.length,s%4===1||aXe(qY,r))throw new(yY("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;i<s;)u=iXe(r,i++),l=a%4?l*64+gY[u]:gY[u],a++%4&&(n+=nXe(255&l>>(-2*a&6)));return n},"atob")})});var wY=h(()=>{"use strict";var lXe=m(),cXe=R(),OY=j(),IY=E(),fXe=w(),ET=x(),xY=W(),dXe=Rr(),hXe=zu().i2c,Oo=OY("btoa"),TY=IY("".charAt),pXe=IY("".charCodeAt),ll=!!Oo&&!ET(function(){return Oo("hi")!=="aGk="}),vXe=ll&&!ET(function(){Oo()}),gXe=ll&&ET(function(){return Oo(null)!=="bnVsbA=="}),mXe=ll&&Oo.length!==1;lXe({global:!0,bind:!0,enumerable:!0,forced:!ll||vXe||gXe||mXe},{btoa:o(function(e){if(dXe(arguments.length,1),ll)return fXe(Oo,cXe,xY(e));for(var r=xY(e),n="",i=0,a=hXe,s,u;TY(r,i)||(a="=",i%1);){if(u=pXe(r,i+=3/4),u>255)throw new(OY("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");s=s<<8|u,n+=TY(a,63&s>>8-i%1*8)}return n},"btoa")})});var xT=h((KFr,AY)=>{"use strict";AY.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}});var OT=h((GFr,RY)=>{"use strict";var yXe=Ss(),TT=yXe("span").classList,CY=TT&&TT.constructor&&TT.constructor.prototype;RY.exports=CY===Object.prototype?void 0:CY});var NY=h(()=>{"use strict";var MY=R(),kY=xT(),qXe=OT(),IT=Hm(),SXe=Re(),PY=o(function(t){if(t&&t.forEach!==IT)try{SXe(t,"forEach",IT)}catch(e){t.forEach=IT}},"handlePrototype");for(Nh in kY)kY[Nh]&&PY(MY[Nh]&&MY[Nh].prototype);var Nh;PY(qXe)});var BY=h(()=>{"use strict";var DY=R(),FY=xT(),bXe=OT(),cl=zs(),LY=Re(),EXe=or(),xXe=$(),wT=xXe("iterator"),AT=cl.values,_Y=o(function(t,e){if(t){if(t[wT]!==AT)try{LY(t,wT,AT)}catch(n){t[wT]=AT}if(EXe(t,e,!0),FY[e]){for(var r in cl)if(t[r]!==cl[r])try{LY(t,r,cl[r])}catch(n){t[r]=cl[r]}}}},"handlePrototype");for(Dh in FY)_Y(DY[Dh]&&DY[Dh].prototype,Dh);var Dh;_Y(bXe,"DOMTokenList")});var CT=h((r_r,$Y)=>{"use strict";$Y.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var XY=h(()=>{"use strict";var TXe=m(),_h=j(),OXe=$y(),DT=x(),IXe=xe(),LT=vr(),Bh=fe().f,wXe=oe(),Lh=ve(),Fh=J(),AXe=Ze(),CXe=C(),HY=Tm(),jY=xi(),Io=CT(),RXe=Xc(),zY=ie(),FT=N(),VY=ee(),wo="DOMException",NT="DATA_CLONE_ERR",jh=_h("Error"),an=_h(wo)||(function(){try{var t=_h("MessageChannel")||OXe("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(e){if(e.name===NT&&e.code===25)return e.constructor}})(),MXe=an&&an.prototype,WY=jh.prototype,kXe=zY.set,PXe=zY.getterFor(wo),NXe="stack"in new jh(wo),KY=o(function(t){return Fh(Io,t)&&Io[t].m?Io[t].c:0},"codeFor"),_T=o(function(){AXe(this,dl);var e=arguments.length,r=jY(e<1?void 0:arguments[0]),n=jY(e<2?void 0:arguments[1],"Error"),i=KY(n);if(kXe(this,{type:wo,name:n,message:r,code:i}),FT||(this.name=n,this.message=r,this.code=i),NXe){var a=new jh(r);a.name=wo,Bh(this,"stack",LT(1,RXe(a.stack,1)))}},"DOMException"),dl=_T.prototype=IXe(WY),GY=o(function(t){return{enumerable:!0,configurable:!0,get:t}},"createGetterDescriptor"),RT=o(function(t){return GY(function(){return PXe(this)[t]})},"getterFor");FT&&(Lh(dl,"code",RT("code")),Lh(dl,"message",RT("message")),Lh(dl,"name",RT("name")));Bh(dl,"constructor",LT(1,_T));var Uh=DT(function(){return!(new an instanceof jh)}),JY=Uh||DT(function(){return WY.toString!==HY||String(new an(1,2))!=="2: 1"}),YY=Uh||DT(function(){return new an(1,"DataCloneError").code!==25}),DXe=Uh||an[NT]!==25||MXe[NT]!==25,UY=VY?JY||YY||DXe:Uh;TXe({global:!0,constructor:!0,forced:UY},{DOMException:UY?_T:an});var hl=_h(wo),$h=hl.prototype;JY&&(VY||an===hl)&&wXe($h,"toString",HY);YY&&FT&&an===hl&&Lh($h,"code",GY(function(){return KY(CXe(this).name)}));for(MT in Io)Fh(Io,MT)&&(kT=Io[MT],fl=kT.s,PT=LT(6,kT.c),Fh(hl,fl)||Bh(hl,fl,PT),Fh($h,fl)||Bh($h,fl,PT));var kT,fl,PT,MT});var i9=h(()=>{"use strict";var LXe=m(),FXe=R(),WT=j(),zT=vr(),VT=fe().f,QY=J(),_Xe=Ze(),BXe=Rn(),ZY=xi(),BT=CT(),$Xe=Xc(),jXe=N(),t9=ee(),vl="DOMException",n9=WT("Error"),gl=WT(vl),KT=o(function(){_Xe(this,UXe);var e=arguments.length,r=ZY(e<1?void 0:arguments[0]),n=ZY(e<2?void 0:arguments[1],"Error"),i=new gl(r,n),a=new n9(r);return a.name=vl,VT(i,"stack",zT(1,$Xe(a.stack,1))),BXe(i,this,KT),i},"DOMException"),UXe=KT.prototype=gl.prototype,HXe="stack"in new n9(vl),zXe="stack"in new gl(1,2),$T=gl&&jXe&&Object.getOwnPropertyDescriptor(FXe,vl),VXe=!!$T&&!($T.writable&&$T.configurable),e9=HXe&&!VXe&&!zXe;LXe({global:!0,constructor:!0,forced:t9||e9},{DOMException:e9?KT:gl});var pl=WT(vl),r9=pl.prototype;if(r9.constructor!==pl){t9||VT(r9,"constructor",zT(1,pl));for(jT in BT)QY(BT,jT)&&(UT=BT[jT],HT=UT.s,QY(pl,HT)||VT(pl,HT,zT(6,UT.c)))}var UT,HT,jT});var o9=h(()=>{"use strict";var WXe=j(),KXe=or(),a9="DOMException";KXe(WXe(a9),a9)});var u9=h(()=>{"use strict";var GXe=m(),JXe=R(),s9=bu().clear;GXe({global:!0,bind:!0,enumerable:!0,forced:JXe.clearImmediate!==s9},{clearImmediate:s9})});var Hh=h((d_r,c9)=>{"use strict";var l9=R(),YXe=He(),XXe=G(),QXe=Ks(),ZXe=et(),eQe=yr(),rQe=Rr(),tQe=l9.Function,nQe=/MSIE .\./.test(ZXe)||QXe==="BUN"&&(function(){var t=l9.Bun.version.split(".");return t.length<3||t[0]==="0"&&(t[1]<3||t[1]==="3"&&t[2]==="0")})();c9.exports=function(t,e){var r=e?2:1;return nQe?function(n,i){var a=rQe(arguments.length,1)>r,s=XXe(n)?n:tQe(n),u=a?eQe(arguments,r):[],l=a?function(){YXe(s,this,u)}:s;return e?t(l,i):t(l)}:t}});var p9=h(()=>{"use strict";var iQe=m(),h9=R(),f9=bu().set,aQe=Hh(),d9=h9.setImmediate?aQe(f9,!1):f9;iQe({global:!0,bind:!0,enumerable:!0,forced:h9.setImmediate!==d9},{setImmediate:d9})});var v9=h(()=>{"use strict";u9();p9()});var g9=h(()=>{"use strict";var oQe=m(),sQe=R(),uQe=nb(),lQe=U(),cQe=Rr(),fQe=x(),dQe=N(),hQe=fQe(function(){return dQe&&Object.getOwnPropertyDescriptor(sQe,"queueMicrotask").value.length!==1});oQe({global:!0,enumerable:!0,dontCallGetSet:!0,forced:hQe},{queueMicrotask:o(function(e){cQe(arguments.length,1),uQe(lQe(e))},"queueMicrotask")})});var y9=h(()=>{"use strict";var pQe=m(),Qn=R(),vQe=ve(),gQe=N(),mQe=TypeError,yQe=Object.defineProperty,m9=Qn.self!==Qn;try{gQe?(zh=Object.getOwnPropertyDescriptor(Qn,"self"),(m9||!zh||!zh.get||!zh.enumerable)&&vQe(Qn,"self",{get:o(function(){return Qn},"self"),set:o(function(e){if(this!==Qn)throw new mQe("Illegal invocation");yQe(Qn,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},"self"),configurable:!0,enumerable:!0})):pQe({global:!0,simple:!0,forced:m9},{self:Qn})}catch(t){}var zh});var C9=h(()=>{"use strict";var qQe=ee(),SQe=m(),Ge=R(),yl=j(),Sl=E(),ZT=x(),bQe=On(),Co=G(),EQe=ot(),xQe=gr(),Jh=L(),TQe=zt(),OQe=qe(),b9=C(),Kh=ar(),IQe=J(),wQe=Lr(),GT=Re(),Vh=re(),AQe=Rr(),CQe=zn(),Yh=De(),eO=_e(),RQe=br(),q9=Ky(),MQe=mm(),rO=Nf(),ml=Ge.Object,kQe=Ge.Array,E9=Ge.Date,x9=Ge.Error,PQe=Ge.TypeError,NQe=Ge.PerformanceMark,zi=yl("DOMException"),XT=Yh.Map,tO=Yh.has,T9=Yh.get,Gh=Yh.set,O9=eO.Set,I9=eO.add,DQe=eO.has,LQe=yl("Object","keys"),FQe=Sl([].push),_Qe=Sl((!0).valueOf),BQe=Sl(1.1.valueOf),$Qe=Sl("".valueOf),jQe=Sl(E9.prototype.getTime),QT=bQe("structuredClone"),ql="DataCloneError",Wh="Transferring",w9=o(function(t){return!ZT(function(){var e=new Ge.Set([7]),r=t(e),n=t(ml(7));return r===e||!r.has(7)||!Jh(n)||+n!=7})&&t},"checkBasicSemantic"),S9=o(function(t,e){return!ZT(function(){var r=new e,n=t({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===r.stack)})},"checkErrorsCloning"),UQe=o(function(t){return!ZT(function(){var e=t(new Ge.AggregateError([1],QT,{cause:3}));return e.name!=="AggregateError"||e.errors[0]!==1||e.message!==QT||e.cause!==3})},"checkNewErrorsCloningSemantic"),Ao=Ge.structuredClone,HQe=qQe||!S9(Ao,x9)||!S9(Ao,zi)||!UQe(Ao),zQe=!Ao&&w9(function(t){return new NQe(QT,{detail:t}).detail}),on=w9(Ao)||zQe,JT=o(function(t){throw new zi("Uncloneable type: "+t,ql)},"throwUncloneable"),Tr=o(function(t,e){throw new zi((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",ql)},"throwUnpolyfillable"),YT=o(function(t,e){return on||Tr(e),on(t)},"tryNativeRestrictedStructuredClone"),VQe=o(function(){var t;try{t=new Ge.DataTransfer}catch(e){try{t=new Ge.ClipboardEvent("").clipboardData}catch(r){}}return t&&t.items&&t.files?t:null},"createDataTransfer"),A9=o(function(t,e,r){if(tO(e,t))return T9(e,t);var n=r||Kh(t),i,a,s,u,l,c;if(n==="SharedArrayBuffer")on?i=on(t):i=t;else{var f=Ge.DataView;!f&&!Co(t.slice)&&Tr("ArrayBuffer");try{if(Co(t.slice)&&!t.resizable)i=t.slice(0);else for(a=t.byteLength,s=("maxByteLength"in t)?{maxByteLength:t.maxByteLength}:void 0,i=new ArrayBuffer(a,s),u=new f(t),l=new f(i),c=0;c<a;c++)l.setUint8(c,u.getUint8(c))}catch(d){throw new zi("ArrayBuffer is detached",ql)}}return Gh(e,t,i),i},"cloneBuffer"),WQe=o(function(t,e,r,n,i){var a=Ge[e];return Jh(a)||Tr(e),new a(A9(t.buffer,i),r,n)},"cloneView"),Ke=o(function(t,e){if(TQe(t)&&JT("Symbol"),!Jh(t))return t;if(e){if(tO(e,t))return T9(e,t)}else e=new XT;var r=Kh(t),n,i,a,s,u,l,c,f;switch(r){case"Array":a=kQe(Vh(t));break;case"Object":a={};break;case"Map":a=new XT;break;case"Set":a=new O9;break;case"RegExp":a=new RegExp(t.source,CQe(t));break;case"Error":switch(i=t.name,i){case"AggregateError":a=new(yl(i))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":a=new(yl(i));break;case"CompileError":case"LinkError":case"RuntimeError":a=new(yl("WebAssembly",i));break;default:a=new x9}break;case"DOMException":a=new zi(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":a=A9(t,e,r);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":l=r==="DataView"?t.byteLength:t.length,a=WQe(t,r,t.byteOffset,l,e);break;case"DOMQuad":try{a=new DOMQuad(Ke(t.p1,e),Ke(t.p2,e),Ke(t.p3,e),Ke(t.p4,e))}catch(d){a=YT(t,r)}break;case"File":if(on)try{a=on(t),Kh(a)!==r&&(a=void 0)}catch(d){}if(!a)try{a=new File([t],t.name,t)}catch(d){}a||Tr(r);break;case"FileList":if(s=VQe(),s){for(u=0,l=Vh(t);u<l;u++)s.items.add(Ke(t[u],e));a=s.files}else a=YT(t,r);break;case"ImageData":try{a=new ImageData(Ke(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(d){a=YT(t,r)}break;default:if(on)a=on(t);else switch(r){case"BigInt":a=ml(t.valueOf());break;case"Boolean":a=ml(_Qe(t));break;case"Number":a=ml(BQe(t));break;case"String":a=ml($Qe(t));break;case"Date":a=new E9(jQe(t));break;case"Blob":try{a=t.slice(0,t.size,t.type)}catch(d){Tr(r)}break;case"DOMPoint":case"DOMPointReadOnly":n=Ge[r];try{a=n.fromPoint?n.fromPoint(t):new n(t.x,t.y,t.z,t.w)}catch(d){Tr(r)}break;case"DOMRect":case"DOMRectReadOnly":n=Ge[r];try{a=n.fromRect?n.fromRect(t):new n(t.x,t.y,t.width,t.height)}catch(d){Tr(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":n=Ge[r];try{a=n.fromMatrix?n.fromMatrix(t):new n(t)}catch(d){Tr(r)}break;case"AudioData":case"VideoFrame":Co(t.clone)||Tr(r);try{a=t.clone()}catch(d){JT(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":Tr(r);default:JT(r)}}switch(Gh(e,t,a),r){case"Array":case"Object":for(c=LQe(t),u=0,l=Vh(c);u<l;u++)f=c[u],wQe(a,f,Ke(t[f],e));break;case"Map":t.forEach(function(d,p){Gh(a,Ke(p,e),Ke(d,e))});break;case"Set":t.forEach(function(d){I9(a,Ke(d,e))});break;case"Error":GT(a,"message",Ke(t.message,e)),IQe(t,"cause")&&GT(a,"cause",Ke(t.cause,e)),i==="AggregateError"?a.errors=Ke(t.errors,e):i==="SuppressedError"&&(a.error=Ke(t.error,e),a.suppressed=Ke(t.suppressed,e));case"DOMException":MQe&&GT(a,"stack",Ke(t.stack,e))}return a},"structuredCloneInternal"),KQe=o(function(t,e){if(!Jh(t))throw new PQe("Transfer option cannot be converted to a sequence");var r=[];OQe(t,function(p){FQe(r,b9(p))});for(var n=0,i=Vh(r),a=new O9,s,u,l,c,f,d;n<i;){if(s=r[n++],u=Kh(s),u==="ArrayBuffer"?DQe(a,s):tO(e,s))throw new zi("Duplicate transferable",ql);if(u==="ArrayBuffer"){I9(a,s);continue}if(rO)c=Ao(s,{transfer:[s]});else switch(u){case"ImageBitmap":l=Ge.OffscreenCanvas,EQe(l)||Tr(u,Wh);try{f=new l(s.width,s.height),d=f.getContext("bitmaprenderer"),d.transferFromImageBitmap(s),c=f.transferToImageBitmap()}catch(p){}break;case"AudioData":case"VideoFrame":(!Co(s.clone)||!Co(s.close))&&Tr(u,Wh);try{c=s.clone(),s.close()}catch(p){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":Tr(u,Wh)}if(c===void 0)throw new zi("This object cannot be transferred: "+u,ql);Gh(e,s,c)}return a},"tryToTransfer"),GQe=o(function(t){RQe(t,function(e){rO?on(e,{transfer:[e]}):Co(e.transfer)?e.transfer():q9?q9(e):Tr("ArrayBuffer",Wh)})},"detachBuffers");SQe({global:!0,enumerable:!0,sham:!rO,forced:HQe},{structuredClone:o(function(e){var r=AQe(arguments.length,1)>1&&!xQe(arguments[1])?b9(arguments[1]):void 0,n=r?r.transfer:void 0,i,a;n!==void 0&&(i=new XT,a=KQe(n,i));var s=Ke(e,i);return a&&GQe(a),s},"structuredClone")})});var k9=h(()=>{"use strict";var JQe=m(),M9=R(),YQe=Hh(),R9=YQe(M9.setInterval,!0);JQe({global:!0,bind:!0,forced:M9.setInterval!==R9},{setInterval:R9})});var D9=h(()=>{"use strict";var XQe=m(),N9=R(),QQe=Hh(),P9=QQe(N9.setTimeout,!0);XQe({global:!0,bind:!0,forced:N9.setTimeout!==P9},{setTimeout:P9})});var L9=h(()=>{"use strict";k9();D9()});var bl=h((k_r,_9)=>{"use strict";var ZQe=x(),eZe=$(),rZe=N(),F9=ee(),tZe=eZe("iterator");_9.exports=!ZQe(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(i,a){e.delete("b"),n+=a+i}),r.delete("a",2),r.delete("b",void 0),F9&&(!t.toJSON||!r.has("a",1)||r.has("a",2)||!r.has("a",void 0)||r.has("b"))||!e.size&&(F9||!rZe)||!e.sort||t.href!=="https://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[tZe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("https://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("https://a#\u0431").hash!=="#%D0%B1"||n!=="a1c3"||new URL("https://x",void 0).host!=="x"})});var K9=h((P_r,W9)=>{"use strict";var Vi=E(),nO=2147483647,El=36,H9=1,oO=26,nZe=38,iZe=700,aZe=72,oZe=128,sZe="-",uZe=/[^\0-\u007E]/,z9=/[.\u3002\uFF0E\uFF61]/g,B9="Overflow: input needs wider integers to process",iO=El-H9,$9=RangeError,lZe=Vi(z9.exec),Ro=Math.floor,aO=String.fromCharCode,j9=Vi("".charCodeAt),V9=Vi([].join),Zn=Vi([].push),cZe=Vi("".replace),fZe=Vi("".split),dZe=Vi("".toLowerCase),hZe=o(function(t){for(var e=[],r=0,n=t.length;r<n;){var i=j9(t,r++);if(i>=55296&&i<=56319&&r<n){var a=j9(t,r++);(a&64512)===56320?Zn(e,((i&1023)<<10)+(a&1023)+65536):(Zn(e,i),r--)}else Zn(e,i)}return e},"ucs2decode"),U9=o(function(t){return t+22+75*(t<26)},"digitToBasic"),pZe=o(function(t,e,r){var n=0;for(t=r?Ro(t/iZe):t>>1,t+=Ro(t/e);t>iO*oO>>1;)t=Ro(t/iO),n+=El;return Ro(n+(iO+1)*t/(t+nZe))},"adapt"),vZe=o(function(t){var e=[];t=hZe(t);var r=t.length,n=oZe,i=0,a=aZe,s,u;for(s=0;s<t.length;s++)u=t[s],u<128&&Zn(e,aO(u));var l=e.length,c=l;for(l&&Zn(e,sZe);c<r;){var f=nO;for(s=0;s<t.length;s++)u=t[s],u>=n&&u<f&&(f=u);var d=c+1;if(f-n>Ro((nO-i)/d))throw new $9(B9);for(i+=(f-n)*d,n=f,s=0;s<t.length;s++){if(u=t[s],u<n&&++i>nO)throw new $9(B9);if(u===n){for(var p=i,v=El;;){var g=v<=a?H9:v>=a+oO?oO:v-a;if(p<g)break;var y=p-g,q=El-g;Zn(e,aO(U9(g+y%q))),p=Ro(y/q),v+=El}Zn(e,aO(U9(p))),a=pZe(i,d,c===l),i=0,c++}}i++,n++}return V9(e,"")},"encode");W9.exports=function(t){var e=[],r=fZe(cZe(dZe(t),z9,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Zn(e,lZe(uZe,i)?"xn--"+vZe(i):i);return V9(e,".")}});var vO=h((D_r,gX)=>{"use strict";zs();xE();var dO=m(),oX=R(),hO=YS(),gZe=j(),Xh=w(),ft=E(),xl=N(),sX=bl(),uX=oe(),mZe=ve(),yZe=_r(),qZe=or(),SZe=Pn(),pO=ie(),lX=Ze(),sO=G(),bZe=J(),EZe=le(),xZe=ar(),TZe=C(),cX=L(),ur=W(),OZe=xe(),G9=vr(),J9=Gt(),IZe=qt(),Qh=Ne(),Mo=Rr(),wZe=$(),AZe=Sf(),CZe=wZe("iterator"),Po="URLSearchParams",fX=Po+"Iterator",dX=pO.set,jr=pO.getterFor(Po),RZe=pO.getterFor(fX),Y9=hO("fetch"),rp=hO("Request"),Tl=hO("Headers"),uO=rp&&rp.prototype,X9=Tl&&Tl.prototype,MZe=oX.TypeError,kZe=oX.encodeURIComponent,PZe=String.fromCharCode,NZe=gZe("String","fromCodePoint"),DZe=parseInt,ep=ft("".charAt),Q9=ft([].join),ei=ft([].push),hX=ft("".replace),LZe=ft([].shift),Z9=ft([].splice),eX=ft("".split),pX=ft("".slice),FZe=ft(/./.exec),_Ze=/\+/g,lO="\uFFFD",BZe=/^[0-9a-f]+$/i,rX=o(function(t,e){var r=pX(t,e,e+2);return FZe(BZe,r)?DZe(r,16):NaN},"parseHexOctet"),$Ze=o(function(t){for(var e=0,r=128;r>0&&(t&r)!==0;r>>=1)e++;return e},"getLeadingOnes"),jZe=o(function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(t[0]&31)<<6|t[1]&63;break;case 3:e=(t[0]&15)<<12|(t[1]&63)<<6|t[2]&63;break;case 4:e=(t[0]&7)<<18|(t[1]&63)<<12|(t[2]&63)<<6|t[3]&63;break}return e>1114111?null:e},"utf8Decode"),tX=o(function(t){t=hX(t,_Ze," ");for(var e=t.length,r="",n=0;n<e;){var i=ep(t,n);if(i==="%"){if(ep(t,n+1)==="%"||n+3>e){r+="%",n++;continue}var a=rX(t,n+1);if(a!==a){r+=i,n++;continue}n+=2;var s=$Ze(a);if(s===0)i=PZe(a);else{if(s===1||s>4){r+=lO,n++;continue}for(var u=[a],l=1;l<s&&(n++,!(n+3>e||ep(t,n)!=="%"));){var c=rX(t,n+1);if(c!==c){n+=3;break}if(c>191||c<128)break;ei(u,c),n+=2,l++}if(u.length!==s){r+=lO;continue}var f=jZe(u);f===null?r+=lO:i=NZe(f)}}r+=i,n++}return r},"decode"),UZe=/[!'()~]|%20/g,HZe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},zZe=o(function(t){return HZe[t]},"replacer"),nX=o(function(t){return hX(kZe(t),UZe,zZe)},"serialize"),cO=SZe(o(function(e,r){dX(this,{type:fX,target:jr(e).entries,index:0,kind:r})},"Iterator"),Po,o(function(){var e=RZe(this),r=e.target,n=e.index++;if(!r||n>=r.length)return e.target=null,Qh(void 0,!0);var i=r[n];switch(e.kind){case"keys":return Qh(i.key,!1);case"values":return Qh(i.value,!1)}return Qh([i.key,i.value],!1)},"next"),!0),vX=o(function(t){this.entries=[],this.url=null,t!==void 0&&(cX(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?ep(t,0)==="?"?pX(t,1):t:ur(t)))},"URLSearchParamsState");vX.prototype={type:Po,bindURL:o(function(t){this.url=t,this.update()},"bindURL"),parseObject:o(function(t){var e=this.entries,r=IZe(t),n,i,a,s,u,l,c;if(r)for(n=J9(t,r),i=n.next;!(a=Xh(i,n)).done;){if(s=J9(TZe(a.value)),u=s.next,(l=Xh(u,s)).done||(c=Xh(u,s)).done||!Xh(u,s).done)throw new MZe("Expected sequence with length 2");ei(e,{key:ur(l.value),value:ur(c.value)})}else for(var f in t)bZe(t,f)&&ei(e,{key:f,value:ur(t[f])})},"parseObject"),parseQuery:o(function(t){if(t)for(var e=this.entries,r=eX(t,"&"),n=0,i,a;n<r.length;)i=r[n++],i.length&&(a=eX(i,"="),ei(e,{key:tX(LZe(a)),value:tX(Q9(a,"="))}))},"parseQuery"),serialize:o(function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],ei(e,nX(n.key)+"="+nX(n.value));return Q9(e,"&")},"serialize"),update:o(function(){this.entries.length=0,this.parseQuery(this.url.query)},"update"),updateURL:o(function(){this.url&&this.url.update()},"updateURL")};var tp=o(function(){lX(this,ko);var e=arguments.length>0?arguments[0]:void 0,r=dX(this,new vX(e));xl||(this.size=r.entries.length)},"URLSearchParams"),ko=tp.prototype;yZe(ko,{append:o(function(e,r){var n=jr(this);Mo(arguments.length,2),ei(n.entries,{key:ur(e),value:ur(r)}),xl||this.length++,n.updateURL()},"append"),delete:o(function(t){for(var e=jr(this),r=Mo(arguments.length,1),n=e.entries,i=ur(t),a=r<2?void 0:arguments[1],s=a===void 0?a:ur(a),u=0;u<n.length;){var l=n[u];if(l.key===i&&(s===void 0||l.value===s)){if(Z9(n,u,1),s!==void 0)break}else u++}xl||(this.size=n.length),e.updateURL()},"delete"),get:o(function(e){var r=jr(this).entries;Mo(arguments.length,1);for(var n=ur(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},"get"),getAll:o(function(e){var r=jr(this).entries;Mo(arguments.length,1);for(var n=ur(e),i=[],a=0;a<r.length;a++)r[a].key===n&&ei(i,r[a].value);return i},"getAll"),has:o(function(e){for(var r=jr(this).entries,n=Mo(arguments.length,1),i=ur(e),a=n<2?void 0:arguments[1],s=a===void 0?a:ur(a),u=0;u<r.length;){var l=r[u++];if(l.key===i&&(s===void 0||l.value===s))return!0}return!1},"has"),set:o(function(e,r){var n=jr(this);Mo(arguments.length,1);for(var i=n.entries,a=!1,s=ur(e),u=ur(r),l=0,c;l<i.length;l++)c=i[l],c.key===s&&(a?Z9(i,l--,1):(a=!0,c.value=u));a||ei(i,{key:s,value:u}),xl||(this.size=i.length),n.updateURL()},"set"),sort:o(function(){var e=jr(this);AZe(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},"sort"),forEach:o(function(e){for(var r=jr(this).entries,n=EZe(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},"forEach"),keys:o(function(){return new cO(this,"keys")},"keys"),values:o(function(){return new cO(this,"values")},"values"),entries:o(function(){return new cO(this,"entries")},"entries")},{enumerable:!0});uX(ko,CZe,ko.entries,{name:"entries"});uX(ko,"toString",o(function(){return jr(this).serialize()},"toString"),{enumerable:!0});xl&&mZe(ko,"size",{get:o(function(){return jr(this).entries.length},"size"),configurable:!0,enumerable:!0});qZe(tp,Po);dO({global:!0,constructor:!0,forced:!sX},{URLSearchParams:tp});!sX&&sO(Tl)&&(iX=ft(X9.has),aX=ft(X9.set),fO=o(function(t){if(cX(t)){var e=t.body,r;if(xZe(e)===Po)return r=t.headers?new Tl(t.headers):new Tl,iX(r,"content-type")||aX(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),OZe(t,{body:G9(0,ur(e)),headers:G9(0,r)})}return t},"wrapRequestOptions"),sO(Y9)&&dO({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:o(function(e){return Y9(e,arguments.length>1?fO(arguments[1]):{})},"fetch")}),sO(rp)&&(Zh=o(function(e){return lX(this,uO),new rp(e,arguments.length>1?fO(arguments[1]):{})},"Request"),uO.constructor=Zh,Zh.prototype=uO,dO({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Zh})));var iX,aX,fO,Zh;gX.exports={URLSearchParams:tp,getState:jr}});var NX=h(()=>{"use strict";OE();var VZe=m(),kO=N(),WZe=bl(),PO=R(),mX=le(),Wr=E(),sp=oe(),Ur=ve(),KZe=Ze(),CO=J(),NO=MS(),No=zm(),dt=yr(),GZe=_i().codeAt,JZe=K9(),un=W(),YZe=or(),XZe=Rr(),AX=vO(),CX=ie(),QZe=CX.set,up=CX.getterFor("URL"),ZZe=AX.URLSearchParams,eer=AX.getState,Ol=PO.URL,RO=PO.TypeError,lp=PO.parseInt,rer=Math.floor,yX=Math.pow,Vr=Wr("".charAt),ht=Wr(/./.exec),wl=Wr([].join),ter=Wr(1.1.toString),ner=Wr([].pop),Lo=Wr([].push),gO=Wr("".replace),ier=Wr([].shift),aer=Wr("".split),Cl=Wr("".slice),cp=Wr("".toLowerCase),oer=Wr([].unshift),ser="Invalid authority",mO="Invalid scheme",Wi="Invalid host",qX="Invalid port",RX=/[a-z]/i,uer=/[\d+-.a-z]/i,MO=/\d/,ler=/^0x/i,cer=/^[0-7]+$/,fer=/^\d+$/,MX=/^[\da-f]+$/i,der=/[\0\t\n\r #%/:<>?@[\\\]^|]/,her=/[\0\t\n\r #/:<>?@[\\\]^|]/,per=/^[\u0000-\u0020]+/,ver=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ger=/[\t\n\r]/g,Hr,mer=o(function(t){var e=aer(t,"."),r,n,i,a,s,u,l;if(e.length&&e[e.length-1]===""&&e.length--,r=e.length,r>4)return t;for(n=[],i=0;i<r;i++){if(a=e[i],a==="")return t;if(s=10,a.length>1&&Vr(a,0)==="0"&&(s=ht(ler,a)?16:8,a=Cl(a,s===8?1:2)),a==="")u=0;else{if(!ht(s===10?fer:s===8?cer:MX,a))return t;u=lp(a,s)}Lo(n,u)}for(i=0;i<r;i++)if(u=n[i],i===r-1){if(u>=yX(256,5-r))return null}else if(u>255)return null;for(l=ner(n),i=0;i<n.length;i++)l+=n[i]*yX(256,3-i);return l},"parseIPv4"),yer=o(function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,a,s,u,l,c,f,d,p=o(function(){return Vr(t,i)},"chr");if(p()===":"){if(Vr(t,1)!==":")return;i+=2,r++,n=r}for(;p();){if(r===8)return;if(p()===":"){if(n!==null)return;i++,r++,n=r;continue}for(a=s=0;s<4&&ht(MX,p());)a=a*16+lp(p(),16),i++,s++;if(p()==="."){if(s===0||(i-=s,r>6))return;for(u=0;p();){if(l=null,u>0)if(p()==="."&&u<4)i++;else return;if(!ht(MO,p()))return;for(;ht(MO,p());){if(c=lp(p(),10),l===null)l=c;else{if(l===0)return;l=l*10+c}if(l>255)return;i++}e[r]=e[r]*256+l,u++,(u===2||u===4)&&r++}if(u!==4)return;break}else if(p()===":"){if(i++,!p())return}else if(p())return;e[r++]=a}if(n!==null)for(f=r-n,r=7;r!==0&&f>0;)d=e[r],e[r--]=e[n+f-1],e[n+--f]=d;else if(r!==8)return;return e},"parseIPv6"),qer=o(function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)t[a]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=a),++i);return i>r?n:e},"findLongestZeroSequence"),Il=o(function(t){var e,r,n,i;if(typeof t=="number"){for(e=[],r=0;r<4;r++)oer(e,t%256),t=rer(t/256);return wl(e,".")}if(typeof t=="object"){for(e="",n=qer(t),r=0;r<8;r++)i&&t[r]===0||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=ter(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},"serializeHost"),op={},kX=NO({},op,{" ":1,'"':1,"<":1,">":1,"`":1}),PX=NO({},kX,{"#":1,"?":1,"{":1,"}":1}),yO=NO({},PX,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ri=o(function(t,e){var r=GZe(t,0);return r>32&&r<127&&!CO(e,t)?t:encodeURIComponent(t)},"percentEncode"),np={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Al=o(function(t,e){var r;return t.length===2&&ht(RX,Vr(t,0))&&((r=Vr(t,1))===":"||!e&&r==="|")},"isWindowsDriveLetter"),SX=o(function(t){var e;return t.length>1&&Al(Cl(t,0,2))&&(t.length===2||(e=Vr(t,2))==="/"||e==="\\"||e==="?"||e==="#")},"startsWithWindowsDriveLetter"),Ser=o(function(t){return t==="."||cp(t)==="%2e"},"isSingleDot"),ber=o(function(t){return t=cp(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},"isDoubleDot"),qO={},bX={},SO={},EX={},xX={},bO={},TX={},OX={},ip={},ap={},EO={},xO={},TO={},OO={},IX={},IO={},Do={},Rt={},wX={},Ki={},sn={},DO=o(function(t,e,r){var n=un(t),i,a,s;if(e){if(a=this.parse(n),a)throw new RO(a);this.searchParams=null}else{if(r!==void 0&&(i=new DO(r,!0)),a=this.parse(n,null,i),a)throw new RO(a);s=eer(new ZZe),s.bindURL(this),this.searchParams=s}},"URLState");DO.prototype={type:"URL",parse:o(function(t,e,r){var n=this,i=e||qO,a=0,s="",u=!1,l=!1,c=!1,f,d,p,v;for(t=un(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=gO(t,per,""),t=gO(t,ver,"$1")),t=gO(t,ger,""),f=No(t);a<=f.length;){switch(d=f[a],i){case qO:if(d&&ht(RX,d))s+=cp(d),i=bX;else{if(e)return mO;i=SO;continue}break;case bX:if(d&&(ht(uer,d)||d==="+"||d==="-"||d==="."))s+=cp(d);else if(d===":"){if(e&&(n.isSpecial()!==CO(np,s)||s==="file"&&(n.includesCredentials()||n.port!==null)||n.scheme==="file"&&!n.host))return;if(n.scheme=s,e){n.isSpecial()&&np[n.scheme]===n.port&&(n.port=null);return}s="",n.scheme==="file"?i=OO:n.isSpecial()&&r&&r.scheme===n.scheme?i=EX:n.isSpecial()?i=OX:f[a+1]==="/"?(i=xX,a++):(n.cannotBeABaseURL=!0,Lo(n.path,""),i=wX)}else{if(e)return mO;s="",i=SO,a=0;continue}break;case SO:if(!r||r.cannotBeABaseURL&&d!=="#")return mO;if(r.cannotBeABaseURL&&d==="#"){n.scheme=r.scheme,n.path=dt(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=sn;break}i=r.scheme==="file"?OO:bO;continue;case EX:if(d==="/"&&f[a+1]==="/")i=ip,a++;else{i=bO;continue}break;case xX:if(d==="/"){i=ap;break}else{i=Rt;continue}case bO:if(n.scheme=r.scheme,d===Hr)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=dt(r.path),n.query=r.query;else if(d==="/"||d==="\\"&&n.isSpecial())i=TX;else if(d==="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=dt(r.path),n.query="",i=Ki;else if(d==="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=dt(r.path),n.query=r.query,n.fragment="",i=sn;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=dt(r.path),n.path.length--,i=Rt;continue}break;case TX:if(n.isSpecial()&&(d==="/"||d==="\\"))i=ip;else if(d==="/")i=ap;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=Rt;continue}break;case OX:if(i=ip,d!=="/"||Vr(s,a+1)!=="/")continue;a++;break;case ip:if(d!=="/"&&d!=="\\"){i=ap;continue}break;case ap:if(d==="@"){u&&(s="%40"+s),u=!0,p=No(s);for(var g=0;g<p.length;g++){var y=p[g];if(y===":"&&!c){c=!0;continue}var q=ri(y,yO);c?n.password+=q:n.username+=q}s=""}else if(d===Hr||d==="/"||d==="?"||d==="#"||d==="\\"&&n.isSpecial()){if(u&&s==="")return ser;a-=No(s).length+1,s="",i=EO}else s+=d;break;case EO:case xO:if(e&&n.scheme==="file"){i=IO;continue}else if(d===":"&&!l){if(s==="")return Wi;if(v=n.parseHost(s),v)return v;if(s="",i=TO,e===xO)return}else if(d===Hr||d==="/"||d==="?"||d==="#"||d==="\\"&&n.isSpecial()){if(n.isSpecial()&&s==="")return Wi;if(e&&s===""&&(n.includesCredentials()||n.port!==null))return;if(v=n.parseHost(s),v)return v;if(s="",i=Do,e)return;continue}else d==="["?l=!0:d==="]"&&(l=!1),s+=d;break;case TO:if(ht(MO,d))s+=d;else if(d===Hr||d==="/"||d==="?"||d==="#"||d==="\\"&&n.isSpecial()||e){if(s!==""){var S=lp(s,10);if(S>65535)return qX;n.port=n.isSpecial()&&S===np[n.scheme]?null:S,s=""}if(e)return;i=Do;continue}else return qX;break;case OO:if(n.scheme="file",d==="/"||d==="\\")i=IX;else if(r&&r.scheme==="file")switch(d){case Hr:n.host=r.host,n.path=dt(r.path),n.query=r.query;break;case"?":n.host=r.host,n.path=dt(r.path),n.query="",i=Ki;break;case"#":n.host=r.host,n.path=dt(r.path),n.query=r.query,n.fragment="",i=sn;break;default:SX(wl(dt(f,a),""))||(n.host=r.host,n.path=dt(r.path),n.shortenPath()),i=Rt;continue}else{i=Rt;continue}break;case IX:if(d==="/"||d==="\\"){i=IO;break}r&&r.scheme==="file"&&!SX(wl(dt(f,a),""))&&(Al(r.path[0],!0)?Lo(n.path,r.path[0]):n.host=r.host),i=Rt;continue;case IO:if(d===Hr||d==="/"||d==="\\"||d==="?"||d==="#"){if(!e&&Al(s))i=Rt;else if(s===""){if(n.host="",e)return;i=Do}else{if(v=n.parseHost(s),v)return v;if(n.host==="localhost"&&(n.host=""),e)return;s="",i=Do}continue}else s+=d;break;case Do:if(n.isSpecial()){if(i=Rt,d!=="/"&&d!=="\\")continue}else if(!e&&d==="?")n.query="",i=Ki;else if(!e&&d==="#")n.fragment="",i=sn;else if(d!==Hr&&(i=Rt,d!=="/"))continue;break;case Rt:if(d===Hr||d==="/"||d==="\\"&&n.isSpecial()||!e&&(d==="?"||d==="#")){if(ber(s)?(n.shortenPath(),d!=="/"&&!(d==="\\"&&n.isSpecial())&&Lo(n.path,"")):Ser(s)?d!=="/"&&!(d==="\\"&&n.isSpecial())&&Lo(n.path,""):(n.scheme==="file"&&!n.path.length&&Al(s)&&(n.host&&(n.host=""),s=Vr(s,0)+":"),Lo(n.path,s)),s="",n.scheme==="file"&&(d===Hr||d==="?"||d==="#"))for(;n.path.length>1&&n.path[0]==="";)ier(n.path);d==="?"?(n.query="",i=Ki):d==="#"&&(n.fragment="",i=sn)}else s+=ri(d,PX);break;case wX:d==="?"?(n.query="",i=Ki):d==="#"?(n.fragment="",i=sn):d!==Hr&&(n.path[0]+=ri(d,op));break;case Ki:!e&&d==="#"?(n.fragment="",i=sn):d!==Hr&&(d==="'"&&n.isSpecial()?n.query+="%27":d==="#"?n.query+="%23":n.query+=ri(d,op));break;case sn:d!==Hr&&(n.fragment+=ri(d,kX));break}a++}},"parse"),parseHost:o(function(t){var e,r,n;if(Vr(t,0)==="["){if(Vr(t,t.length-1)!=="]"||(e=yer(Cl(t,1,-1)),!e))return Wi;this.host=e}else if(this.isSpecial()){if(t=JZe(t),ht(der,t)||(e=mer(t),e===null))return Wi;this.host=e}else{if(ht(her,t))return Wi;for(e="",r=No(t),n=0;n<r.length;n++)e+=ri(r[n],op);this.host=e}},"parseHost"),cannotHaveUsernamePasswordPort:o(function(){return!this.host||this.cannotBeABaseURL||this.scheme==="file"},"cannotHaveUsernamePasswordPort"),includesCredentials:o(function(){return this.username!==""||this.password!==""},"includesCredentials"),isSpecial:o(function(){return CO(np,this.scheme)},"isSpecial"),shortenPath:o(function(){var t=this.path,e=t.length;e&&(this.scheme!=="file"||e!==1||!Al(t[0],!0))&&t.length--},"shortenPath"),serialize:o(function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,s=t.path,u=t.query,l=t.fragment,c=e+":";return i!==null?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=Il(i),a!==null&&(c+=":"+a)):e==="file"&&(c+="//"),c+=t.cannotBeABaseURL?s[0]:s.length?"/"+wl(s,"/"):"",u!==null&&(c+="?"+u),l!==null&&(c+="#"+l),c},"serialize"),setHref:o(function(t){var e=this.parse(t);if(e)throw new RO(e);this.searchParams.update()},"setHref"),getOrigin:o(function(){var t=this.scheme,e=this.port;if(t==="blob")try{return new Fo(t.path[0]).origin}catch(r){return"null"}return t==="file"||!this.isSpecial()?"null":t+"://"+Il(this.host)+(e!==null?":"+e:"")},"getOrigin"),getProtocol:o(function(){return this.scheme+":"},"getProtocol"),setProtocol:o(function(t){this.parse(un(t)+":",qO)},"setProtocol"),getUsername:o(function(){return this.username},"getUsername"),setUsername:o(function(t){var e=No(un(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ri(e[r],yO)}},"setUsername"),getPassword:o(function(){return this.password},"getPassword"),setPassword:o(function(t){var e=No(un(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ri(e[r],yO)}},"setPassword"),getHost:o(function(){var t=this.host,e=this.port;return t===null?"":e===null?Il(t):Il(t)+":"+e},"getHost"),setHost:o(function(t){this.cannotBeABaseURL||this.parse(t,EO)},"setHost"),getHostname:o(function(){var t=this.host;return t===null?"":Il(t)},"getHostname"),setHostname:o(function(t){this.cannotBeABaseURL||this.parse(t,xO)},"setHostname"),getPort:o(function(){var t=this.port;return t===null?"":un(t)},"getPort"),setPort:o(function(t){this.cannotHaveUsernamePasswordPort()||(t=un(t),t===""?this.port=null:this.parse(t,TO))},"setPort"),getPathname:o(function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+wl(t,"/"):""},"getPathname"),setPathname:o(function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Do))},"setPathname"),getSearch:o(function(){var t=this.query;return t?"?"+t:""},"getSearch"),setSearch:o(function(t){t=un(t),t===""?this.query=null:(Vr(t,0)==="?"&&(t=Cl(t,1)),this.query="",this.parse(t,Ki)),this.searchParams.update()},"setSearch"),getSearchParams:o(function(){return this.searchParams.facade},"getSearchParams"),getHash:o(function(){var t=this.fragment;return t?"#"+t:""},"getHash"),setHash:o(function(t){if(t=un(t),t===""){this.fragment=null;return}Vr(t,0)==="#"&&(t=Cl(t,1)),this.fragment="",this.parse(t,sn)},"setHash"),update:o(function(){this.query=this.searchParams.serialize()||null},"update")};var Fo=o(function(e){var r=KZe(this,lr),n=XZe(arguments.length,1)>1?arguments[1]:void 0,i=QZe(r,new DO(e,!1,n));kO||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},"URL"),lr=Fo.prototype,zr=o(function(t,e){return{get:o(function(){return up(this)[t]()},"get"),set:e&&function(r){return up(this)[e](r)},configurable:!0,enumerable:!0}},"accessorDescriptor");kO&&(Ur(lr,"href",zr("serialize","setHref")),Ur(lr,"origin",zr("getOrigin")),Ur(lr,"protocol",zr("getProtocol","setProtocol")),Ur(lr,"username",zr("getUsername","setUsername")),Ur(lr,"password",zr("getPassword","setPassword")),Ur(lr,"host",zr("getHost","setHost")),Ur(lr,"hostname",zr("getHostname","setHostname")),Ur(lr,"port",zr("getPort","setPort")),Ur(lr,"pathname",zr("getPathname","setPathname")),Ur(lr,"search",zr("getSearch","setSearch")),Ur(lr,"searchParams",zr("getSearchParams")),Ur(lr,"hash",zr("getHash","setHash")));sp(lr,"toJSON",o(function(){return up(this).serialize()},"toJSON"),{enumerable:!0});sp(lr,"toString",o(function(){return up(this).serialize()},"toString"),{enumerable:!0});Ol&&(wO=Ol.createObjectURL,AO=Ol.revokeObjectURL,wO&&sp(Fo,"createObjectURL",mX(wO,Ol)),AO&&sp(Fo,"revokeObjectURL",mX(AO,Ol)));var wO,AO;YZe(Fo,"URL");VZe({global:!0,constructor:!0,forced:!WZe,sham:!kO},{URL:Fo})});var DX=h(()=>{"use strict";NX()});var _X=h(()=>{"use strict";var Eer=m(),xer=j(),FX=x(),Ter=Rr(),LX=W(),Oer=bl(),LO=xer("URL"),Ier=Oer&&FX(function(){LO.canParse()}),wer=FX(function(){return LO.canParse.length!==1});Eer({target:"URL",stat:!0,forced:!Ier||wer},{canParse:o(function(e){var r=Ter(arguments.length,1),n=LX(e),i=r<2||arguments[1]===void 0?void 0:LX(arguments[1]);try{return!!new LO(n,i)}catch(a){return!1}},"canParse")})});var $X=h(()=>{"use strict";var Aer=m(),Cer=j(),Rer=Rr(),BX=W(),Mer=bl(),ker=Cer("URL");Aer({target:"URL",stat:!0,forced:!Mer},{parse:o(function(e){var r=Rer(arguments.length,1),n=BX(e),i=r<2||arguments[1]===void 0?void 0:BX(arguments[1]);try{return new ker(n,i)}catch(a){return null}},"parse")})});var jX=h(()=>{"use strict";var Per=m(),Ner=w();Per({target:"URL",proto:!0,enumerable:!0},{toJSON:o(function(){return Ner(URL.prototype.toString,this)},"toJSON")})});var UX=h(()=>{"use strict";vO()});var WX=h(()=>{"use strict";var Der=oe(),fp=E(),HX=W(),Ler=Rr(),VX=URLSearchParams,dp=VX.prototype,Fer=fp(dp.append),zX=fp(dp.delete),_er=fp(dp.forEach),Ber=fp([].push),FO=new VX("a=1&a=2&b=3");FO.delete("a",1);FO.delete("b",void 0);FO+""!="a=2"&&Der(dp,"delete",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&r===void 0)return zX(this,t);var n=[];_er(this,function(d,p){Ber(n,{key:p,value:d})}),Ler(e,1);for(var i=HX(t),a=HX(r),s=0,u=0,l=!1,c=n.length,f;s<c;)f=n[s++],l||f.key===i?(l=!0,zX(this,f.key)):u++;for(;u<c;)f=n[u++],f.key===i&&f.value===a||Fer(this,f.key,f.value)},{enumerable:!0,unsafe:!0})});var YX=h(()=>{"use strict";var $er=oe(),GX=E(),jer=W(),Uer=Rr(),JX=URLSearchParams,_O=JX.prototype,Her=GX(_O.getAll),zer=GX(_O.has),KX=new JX("a=1");(KX.has("a",2)||!KX.has("a",void 0))&&$er(_O,"has",o(function(e){var r=arguments.length,n=r<2?void 0:arguments[1];if(r&&n===void 0)return zer(this,e);var i=Her(this,e);Uer(r,1);for(var a=jer(n),s=0;s<i.length;)if(i[s++]===a)return!0;return!1},"has"),{enumerable:!0,unsafe:!0})});var XX=h(()=>{"use strict";var Ver=N(),Wer=E(),Ker=ve(),BO=URLSearchParams.prototype,Ger=Wer(BO.forEach);Ver&&!("size"in BO)&&Ker(BO,"size",{get:o(function(){var e=0;return Ger(this,function(){e++}),e},"size"),configurable:!0,enumerable:!0})});var ZX=h((sBr,QX)=>{"use strict";mM();TM();cm();OM();dm();IM();wM();AM();CM();RM();MM();kM();PM();NM();DM();LM();FM();lk();xm();mk();Cm();Fk();km();Dm();Kk();Xk();Zk();tP();nP();aP();sP();$m();jm();dP();hP();gP();OP();IP();AP();CP();zs();YP();eN();rN();nN();aN();hN();vN();mN();SN();bN();FN();$N();jN();sy();ly();cy();VN();WN();KN();dy();TD();LD();UD();zD();ky();Ly();By();eq();rq();qL();bL();TL();OL();DL();LL();jL();VL();lq();t2();u2();f2();v2();pq();qq();Sq();Iq();Aq();Mq();Pq();Bq();jq();Uq();Hf();Wq();Gq();Yq();Xq();sm();Q2();Gf();aS();SF();xF();OF();IF();wF();RF();kF();PF();lS();DF();FF();BF();$F();jF();UF();VF();vS();QF();ZF();e_();f_();d_();p_();g_();m_();y_();q_();S_();I_();N_();B_();V_();G_();Z_();eB();nB();aB();sB();uB();pB();vB();gB();qB();SB();bB();xB();NS();DS();IB();AB();RB();kB();NB();DB();LB();FB();UB();HB();zB();KB();GB();YB();QB();dj();yb();qb();mj();xb();Tb();Rb();Nb();Db();tU();lU();dU();hU();mU();yU();qU();SU();bU();EU();xU();AU();RU();MU();YU();Qb();iH();xd();lH();fH();pH();yH();SH();oE();lE();fE();hE();vE();qE();bE();QH();tz();sz();xE();fz();TE();OE();Iz();ME();Fz();_z();Uz();Hz();Gz();jE();Zz();i3();s3();l3();GE();g3();b3();I3();R3();M3();k3();P3();N3();D3();L3();F3();_3();B3();$3();j3();U3();vV();gV();mV();yV();qV();SV();bV();EV();xV();l0();IV();AV();RV();PV();DV();FV();c0();f0();jV();UV();zV();WV();XV();ZV();rW();tW();iW();oW();uW();cW();gW();mW();qW();OW();wW();kW();O0();I0();NW();A0();N0();F0();_0();B0();$0();j0();t4();nh();y4();q4();S4();b4();E4();x4();T4();O4();I4();A4();C4();M4();k4();D4();L4();B4();$4();j4();U4();J4();Y4();X4();Q4();Z4();eK();aK();mK();yK();SK();bK();xK();TK();RK();MK();PK();NK();DK();LK();FK();$K();jK();GK();e5();t5();n5();i5();a5();o5();s5();u5();c5();d5();h5();g5();m5();y5();q5();b5();x5();I5();w5();A5();C5();R5();M5();k5();P5();N5();D5();L5();_5();B5();H5();z5();V5();W5();G5();J5();l6();p6();m6();C6();F6();B6();j6();U6();z6();V6();W6();J6();Y6();X6();Q6();rG();nG();iG();oG();uG();lG();dG();hG();pG();gG();yG();qG();xG();TG();OG();wG();AG();CG();RG();MG();kG();PG();NG();_G();BG();$G();jG();UG();VG();WG();KG();XG();QG();ZG();e8();v8();g8();m8();y8();q8();O8();w8();C8();P8();D8();F8();$8();U8();z8();V8();W8();K8();G8();Z8();eJ();tJ();nJ();aJ();oJ();sJ();uJ();lJ();cJ();fJ();dJ();hJ();vJ();mJ();qJ();SJ();bJ();EJ();xJ();TJ();OJ();IJ();MJ();LJ();t7();n7();i7();a7();o7();s7();u7();l7();f7();d7();q7();S7();b7();E7();x7();T7();O7();I7();A7();C7();M7();P7();N7();D7();L7();F7();_7();B7();$7();j7();U7();H7();z7();V7();W7();K7();J7();X7();Z7();rY();tY();oY();sY();cY();fY();hY();vY();EY();wY();NY();BY();XY();i9();o9();v9();g9();y9();C9();L9();DX();_X();$X();jX();UX();WX();YX();XX();QX.exports=ws()});var hp=h((uBr,eQ)=>{"use strict";eQ.exports=ZX()});var xzr=og(hp());function er(t){this.content=t}o(er,"OrderedMap");er.prototype={constructor:er,find:o(function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},"find"),get:o(function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},"get"),update:o(function(t,e,r){var n=r&&r!=t?this.remove(r):this,i=n.find(t),a=n.content.slice();return i==-1?a.push(r||t,e):(a[i+1]=e,r&&(a[i]=r)),new er(a)},"update"),remove:o(function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new er(r)},"remove"),addToStart:o(function(t,e){return new er([t,e].concat(this.remove(t).content))},"addToStart"),addToEnd:o(function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new er(r)},"addToEnd"),addBefore:o(function(t,e,r){var n=this.remove(e),i=n.content.slice(),a=n.find(t);return i.splice(a==-1?i.length:a,0,e,r),new er(i)},"addBefore"),forEach:o(function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},"forEach"),prepend:o(function(t){return t=er.from(t),t.size?new er(t.content.concat(this.subtract(t).content)):this},"prepend"),append:o(function(t){return t=er.from(t),t.size?new er(this.subtract(t).content.concat(t.content)):this},"append"),subtract:o(function(t){var e=this;t=er.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},"subtract"),toObject:o(function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},"toObject"),get size(){return this.content.length>>1}};er.from=function(t){if(t instanceof er)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new er(e)};var $O=er;function cQ(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let i=t.child(n),a=e.child(n);if(i==a){r+=i.nodeSize;continue}if(!i.sameMarkup(a))return r;if(i.isText&&i.text!=a.text){for(let s=0;i.text[s]==a.text[s];s++)r++;return r}if(i.content.size||a.content.size){let s=cQ(i.content,a.content,r+1);if(s!=null)return s}r+=i.nodeSize}}o(cQ,"findDiffStart");function fQ(t,e,r,n){for(let i=t.childCount,a=e.childCount;;){if(i==0||a==0)return i==a?null:{a:r,b:n};let s=t.child(--i),u=e.child(--a),l=s.nodeSize;if(s==u){r-=l,n-=l;continue}if(!s.sameMarkup(u))return{a:r,b:n};if(s.isText&&s.text!=u.text){let c=0,f=Math.min(s.text.length,u.text.length);for(;c<f&&s.text[s.text.length-c-1]==u.text[u.text.length-c-1];)c++,r--,n--;return{a:r,b:n}}if(s.content.size||u.content.size){let c=fQ(s.content,u.content,r-1,n-1);if(c)return c}r-=l,n-=l}}o(fQ,"findDiffEnd");var Je=class Je{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,i=0,a){for(let s=0,u=0;u<r;s++){let l=this.content[s],c=u+l.nodeSize;if(c>e&&n(l,i+u,a||null,s)!==!1&&l.content.size){let f=u+1;l.nodesBetween(Math.max(0,e-f),Math.min(l.content.size,r-f),n,i+f)}u=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,i){let a="",s=!0;return this.nodesBetween(e,r,(u,l)=>{let c=u.isText?u.text.slice(Math.max(e,l)-l,r-l):u.isLeaf?i?typeof i=="function"?i(u):i:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&c||u.isTextblock)&&n&&(s?s=!1:a+=n),a+=c},0),a}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,i=this.content.slice(),a=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),a=1);a<e.content.length;a++)i.push(e.content[a]);return new Je(i,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],i=0;if(r>e)for(let a=0,s=0;s<r;a++){let u=this.content[a],l=s+u.nodeSize;l>e&&((s<e||l>r)&&(u.isText?u=u.cut(Math.max(0,e-s),Math.min(u.text.length,r-s)):u=u.cut(Math.max(0,e-s-1),Math.min(u.content.size,r-s-1))),n.push(u),i+=u.nodeSize),s=l}return new Je(n,i)}cutByIndex(e,r){return e==r?Je.empty:e==0&&r==this.content.length?this:new Je(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let i=this.content.slice(),a=this.size+r.nodeSize-n.nodeSize;return i[e]=r,new Je(i,a)}addToStart(e){return new Je([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Je(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let i=this.content[r];e(i,n,r),n+=i.nodeSize}}findDiffStart(e,r=0){return cQ(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return fQ(this,e,r,n)}findIndex(e){if(e==0)return pp(0,e);if(e==this.size)return pp(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position ".concat(e," outside of fragment (").concat(this,")"));for(let r=0,n=0;;r++){let i=this.child(r),a=n+i.nodeSize;if(a>=e)return a==e?pp(r+1,a):pp(r,n);n=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Je.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Je(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Je.empty;let r,n=0;for(let i=0;i<e.length;i++){let a=e[i];n+=a.nodeSize,i&&a.isText&&e[i-1].sameMarkup(a)?(r||(r=e.slice(0,i)),r[r.length-1]=a.withText(r[r.length-1].text+a.text)):r&&r.push(a)}return new Je(r||e,n)}static from(e){if(!e)return Je.empty;if(e instanceof Je)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Je([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}};o(Je,"Fragment");var O=Je;O.empty=new O([],0);var jO={index:0,offset:0};function pp(t,e){return jO.index=t,jO.offset=e,jO}o(pp,"retIndex");function gp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!gp(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!gp(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}o(gp,"compareDeep");var kl=class kl{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let i=0;i<e.length;i++){let a=e[i];if(this.eq(a))return e;if(this.type.excludes(a.type))r||(r=e.slice(0,i));else{if(a.type.excludes(this.type))return e;!n&&a.type.rank>this.type.rank&&(r||(r=e.slice(0,i)),r.push(this),n=!0),r&&r.push(a)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&gp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError("There is no mark type ".concat(r.type," in this schema"));let i=n.create(r.attrs);return n.checkAttrs(i.attrs),i}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kl.none;if(e instanceof kl)return[e];let r=e.slice();return r.sort((n,i)=>n.type.rank-i.type.rank),r}};o(kl,"Mark");var ae=kl;ae.none=[];var JO=class JO extends Error{};o(JO,"ReplaceError");var Yi=JO,ti=class ti{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=hQ(this.content,e+this.openStart,r);return n&&new ti(n,this.openStart,this.openEnd)}removeBetween(e,r){return new ti(dQ(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return ti.empty;let n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ti(O.fromJSON(e,r.content),n,i)}static maxOpen(e,r=!0){let n=0,i=0;for(let a=e.firstChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.firstChild)n++;for(let a=e.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new ti(e,n,i)}};o(ti,"Slice");var M=ti;M.empty=new M(O.empty,0,0);function dQ(t,e,r){let{index:n,offset:i}=t.findIndex(e),a=t.maybeChild(n),{index:s,offset:u}=t.findIndex(r);if(i==e||a.isText){if(u!=r&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(n,a.copy(dQ(a.content,e-i-1,r-i-1)))}o(dQ,"removeRange");function hQ(t,e,r,n){let{index:i,offset:a}=t.findIndex(e),s=t.maybeChild(i);if(a==e||s.isText)return n&&!n.canReplace(i,i,r)?null:t.cut(0,e).append(r).append(t.cut(e));let u=hQ(s.content,e-a-1,r,s);return u&&t.replaceChild(i,s.copy(u))}o(hQ,"insertInto");function Jer(t,e,r){if(r.openStart>t.depth)throw new Yi("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Yi("Inconsistent open depths");return pQ(t,e,r,0)}o(Jer,"replace");function pQ(t,e,r,n){let i=t.index(n),a=t.node(n);if(i==e.index(n)&&n<t.depth-r.openStart){let s=pQ(t,e,r,n+1);return a.copy(a.content.replaceChild(i,s))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let s=t.parent,u=s.content;return Ji(s,u.cut(0,t.parentOffset).append(r.content).append(u.cut(e.parentOffset)))}else{let{start:s,end:u}=Yer(r,t);return Ji(a,gQ(t,s,u,e,n))}else return Ji(a,mp(t,e,n))}o(pQ,"replaceOuter");function vQ(t,e){if(!e.type.compatibleContent(t.type))throw new Yi("Cannot join "+e.type.name+" onto "+t.type.name)}o(vQ,"checkJoin");function HO(t,e,r){let n=t.node(r);return vQ(n,e.node(r)),n}o(HO,"joinable");function Gi(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}o(Gi,"addNode");function Rl(t,e,r,n){let i=(e||t).node(r),a=0,s=e?e.index(r):i.childCount;t&&(a=t.index(r),t.depth>r?a++:t.textOffset&&(Gi(t.nodeAfter,n),a++));for(let u=a;u<s;u++)Gi(i.child(u),n);e&&e.depth==r&&e.textOffset&&Gi(e.nodeBefore,n)}o(Rl,"addRange");function Ji(t,e){return t.type.checkContent(e),t.copy(e)}o(Ji,"close");function gQ(t,e,r,n,i){let a=t.depth>i&&HO(t,e,i+1),s=n.depth>i&&HO(r,n,i+1),u=[];return Rl(null,t,i,u),a&&s&&e.index(i)==r.index(i)?(vQ(a,s),Gi(Ji(a,gQ(t,e,r,n,i+1)),u)):(a&&Gi(Ji(a,mp(t,e,i+1)),u),Rl(e,r,i,u),s&&Gi(Ji(s,mp(r,n,i+1)),u)),Rl(n,null,i,u),new O(u)}o(gQ,"replaceThreeWay");function mp(t,e,r){let n=[];if(Rl(null,t,r,n),t.depth>r){let i=HO(t,e,r+1);Gi(Ji(i,mp(t,e,r+1)),n)}return Rl(e,null,r,n),new O(n)}o(mp,"replaceTwoWay");function Yer(t,e){let r=e.depth-t.openStart,i=e.node(r).copy(t.content);for(let a=r-1;a>=0;a--)i=e.node(a).copy(O.from(i));return{start:i.resolveNoCache(t.openStart+r),end:i.resolveNoCache(i.content.size-t.openEnd-r)}}o(Yer,"prepareSliceForReplace");var Pl=class Pl{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],i=e.child(r);return n?e.child(r).cut(n):i}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1;for(let a=0;a<e;a++)i+=n.child(a).nodeSize;return i}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return ae.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),i=e.maybeChild(r);if(!n){let u=n;n=i,i=u}let a=n.marks;for(var s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,i=e.parent.maybeChild(e.index());for(var a=0;a<n.length;a++)n[a].type.spec.inclusive===!1&&(!i||!n[a].isInSet(i.marks))&&(n=n[a--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Xi(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],i=0,a=r;for(let s=e;;){let{index:u,offset:l}=s.content.findIndex(a),c=a-l;if(n.push(s,u,i+l),!c||(s=s.child(u),s.isText))break;a=c-1,i+=l+1}return new Pl(r,n,a)}static resolveCached(e,r){let n=rQ.get(e);if(n)for(let a=0;a<n.elts.length;a++){let s=n.elts[a];if(s.pos==r)return s}else rQ.set(e,n=new zO);let i=n.elts[n.i]=Pl.resolve(e,r);return n.i=(n.i+1)%Xer,i}};o(Pl,"ResolvedPos");var yp=Pl,YO=class YO{constructor(){this.elts=[],this.i=0}};o(YO,"ResolveCache");var zO=YO,Xer=12,rQ=new WeakMap,XO=class XO{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}};o(XO,"NodeRange");var Xi=XO,Qer=Object.create(null),Nl=class Nl{constructor(e,r,n,i=ae.none){this.type=e,this.attrs=r,this.marks=i,this.content=n||O.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,i=0){this.content.nodesBetween(e,r,n,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,i){return this.content.textBetween(e,r,n,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&gp(this.attrs,r||e.defaultAttrs||Qer)&&ae.sameSet(this.marks,n||ae.none)}copy(e=null){return e==this.content?this:new Nl(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Nl(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return M.empty;let i=this.resolve(e),a=this.resolve(r),s=n?0:i.sharedDepth(r),u=i.start(s),c=i.node(s).content.cut(i.pos-u,a.pos-u);return new M(c,i.depth-s,a.depth-s)}replace(e,r,n){return Jer(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:i}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(i==e||r.isText)return r;e-=i+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let i=this.content.child(r-1);return{node:i,index:r-1,offset:n-i.nodeSize}}resolve(e){return yp.resolveCached(this,e)}resolveNoCache(e){return yp.resolve(this,e)}rangeHasMark(e,r,n){let i=!1;return r>e&&this.nodesBetween(e,r,a=>(n.isInSet(a.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),mQ(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=O.empty,i=0,a=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,i,a),u=s&&s.matchFragment(this.content,r);if(!u||!u.validEnd)return!1;for(let l=i;l<a;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;let a=this.contentMatchAt(e).matchType(n),s=a&&a.matchFragment(this.content,r);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ae.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!ae.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map(r=>r.type.name)));this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let i=O.fromJSON(e,r.content),a=e.nodeType(r.type).create(r.attrs,i,n);return a.type.checkAttrs(a.attrs),a}};o(Nl,"Node");var Or=Nl;Or.prototype.text=void 0;var Dl=class Dl extends Or{constructor(e,r,n,i){if(super(e,r,null,i),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):mQ(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Dl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Dl(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};o(Dl,"TextNode");var VO=Dl;function mQ(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}o(mQ,"wrapMarks");var bp=class bp{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new WO(e,r);if(n.next==null)return bp.empty;let i=yQ(n);n.next&&n.err("Unexpected trailing text");let a=arr(irr(i));return orr(a,n),a}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let i=this;for(let a=r;i&&a<n;a++)i=i.matchType(e.child(a).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let i=[this];function a(s,u){let l=s.matchFragment(e,n);if(l&&(!r||l.validEnd))return O.from(u.map(c=>c.createAndFill()));for(let c=0;c<s.next.length;c++){let{type:f,next:d}=s.next[c];if(!(f.isText||f.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let p=a(d,u.concat(f));if(p)return p}}return null}return o(a,"search"),a(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let i=n.shift(),a=i.match;if(a.matchType(e)){let s=[];for(let u=i;u.type;u=u.via)s.push(u.type);return s.reverse()}for(let s=0;s<a.next.length;s++){let{type:u,next:l}=a.next[s];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in r)&&(!i.type||l.validEnd)&&(n.push({match:u.contentMatch,type:u,via:i}),r[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError("There's no ".concat(e,"th edge in this content match"));return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let i=0;i<n.next.length;i++)e.indexOf(n.next[i].next)==-1&&r(n.next[i].next)}return o(r,"scan"),r(this),e.map((n,i)=>{let a=i+(n.validEnd?"*":" ")+" ";for(let s=0;s<n.next.length;s++)a+=(s?", ":"")+n.next[s].type.name+"->"+e.indexOf(n.next[s].next);return a}).join("\n")}};o(bp,"ContentMatch");var Qi=bp;Qi.empty=new Qi(!0);var QO=class QO{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}};o(QO,"TokenStream");var WO=QO;function yQ(t){let e=[];do e.push(Zer(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}o(yQ,"parseExpr");function Zer(t){let e=[];do e.push(err(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}o(Zer,"parseExprSeq");function err(t){let e=nrr(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=rrr(t,e);else break;return e}o(err,"parseExprSubscript");function tQ(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}o(tQ,"parseNum");function rrr(t,e){let r=tQ(t),n=r;return t.eat(",")&&(t.next!="}"?n=tQ(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}o(rrr,"parseExprRange");function trr(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let i=[];for(let a in r){let s=r[a];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}o(trr,"resolveName");function nrr(t){if(t.eat("(")){let e=yQ(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=trr(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}o(nrr,"parseExprAtom");function irr(t){let e=[[]];return i(a(t,0),r()),e;function r(){return e.push([])-1}o(r,"node");function n(s,u,l){let c={term:l,to:u};return e[s].push(c),c}o(n,"edge");function i(s,u){s.forEach(l=>l.to=u)}o(i,"connect");function a(s,u){if(s.type=="choice")return s.exprs.reduce((l,c)=>l.concat(a(c,u)),[]);if(s.type=="seq")for(let l=0;;l++){let c=a(s.exprs[l],u);if(l==s.exprs.length-1)return c;i(c,u=r())}else if(s.type=="star"){let l=r();return n(u,l),i(a(s.expr,l),l),[n(l)]}else if(s.type=="plus"){let l=r();return i(a(s.expr,u),l),i(a(s.expr,l),l),[n(l)]}else{if(s.type=="opt")return[n(u)].concat(a(s.expr,u));if(s.type=="range"){let l=u;for(let c=0;c<s.min;c++){let f=r();i(a(s.expr,l),f),l=f}if(s.max==-1)i(a(s.expr,l),l);else for(let c=s.min;c<s.max;c++){let f=r();n(l,f),i(a(s.expr,l),f),l=f}return[n(l)]}else{if(s.type=="name")return[n(u,void 0,s.value)];throw new Error("Unknown expr type")}}}o(a,"compile")}o(irr,"nfa");function qQ(t,e){return e-t}o(qQ,"cmp");function nQ(t,e){let r=[];return n(e),r.sort(qQ);function n(i){let a=t[i];if(a.length==1&&!a[0].term)return n(a[0].to);r.push(i);for(let s=0;s<a.length;s++){let{term:u,to:l}=a[s];!u&&r.indexOf(l)==-1&&n(l)}}o(n,"scan")}o(nQ,"nullFrom");function arr(t){let e=Object.create(null);return r(nQ(t,0));function r(n){let i=[];n.forEach(s=>{t[s].forEach(({term:u,to:l})=>{if(!u)return;let c;for(let f=0;f<i.length;f++)i[f][0]==u&&(c=i[f][1]);nQ(t,l).forEach(f=>{c||i.push([u,c=[]]),c.indexOf(f)==-1&&c.push(f)})})});let a=e[n.join(",")]=new Qi(n.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let u=i[s][1].sort(qQ);a.next.push({type:i[s][0],next:e[u.join(",")]||r(u)})}return a}}o(arr,"dfa");function orr(t,e){for(let r=0,n=[t];r<n.length;r++){let i=n[r],a=!i.validEnd,s=[];for(let u=0;u<i.next.length;u++){let{type:l,next:c}=i.next[u];s.push(l.name),a&&!(l.isText||l.hasRequiredAttrs())&&(a=!1),n.indexOf(c)==-1&&n.push(c)}a&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}o(orr,"checkForDeadEnds");function SQ(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}o(SQ,"defaultAttrs");function bQ(t,e){let r=Object.create(null);for(let n in t){let i=e&&e[n];if(i===void 0){let a=t[n];if(a.hasDefault)i=a.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}o(bQ,"computeAttrs");function EQ(t,e,r,n){for(let i in e)if(!(i in t))throw new RangeError("Unsupported attribute ".concat(i," for ").concat(r," of type ").concat(i));for(let i in t){let a=t[i];a.validate&&a.validate(e[i])}}o(EQ,"checkAttrs");function xQ(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new KO(t,n,e[n]);return r}o(xQ,"initAttrs");var Ep=class Ep{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=xQ(e,n.attrs),this.defaultAttrs=SQ(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bQ(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Or(this,this.computeAttrs(e),O.from(r),ae.setFrom(n))}createChecked(e=null,r,n){return r=O.from(r),this.checkContent(r),new Or(this,this.computeAttrs(e),r,ae.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=O.from(r),r.size){let s=this.contentMatch.fillBefore(r);if(!s)return null;r=s.append(r)}let i=this.contentMatch.matchFragment(r),a=i&&i.fillBefore(O.empty,!0);return a?new Or(this,e,r.append(a),ae.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError("Invalid content for node ".concat(this.name,": ").concat(e.toString().slice(0,50)))}checkAttrs(e){EQ(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:ae.none:e}static compile(e,r){let n=Object.create(null);e.forEach((a,s)=>n[a]=new Ep(a,r,s));let i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let a in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};o(Ep,"NodeType");var qp=Ep;function srr(t,e,r){let n=r.split("|");return i=>{let a=i===null?"null":typeof i;if(n.indexOf(a)<0)throw new RangeError("Expected value of type ".concat(n," for attribute ").concat(e," on type ").concat(t,", got ").concat(a))}}o(srr,"validateType");var ZO=class ZO{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?srr(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}};o(ZO,"Attribute");var KO=ZO,xp=class xp{constructor(e,r,n,i){this.name=e,this.rank=r,this.schema=n,this.spec=i,this.attrs=xQ(e,i.attrs),this.excluded=null;let a=SQ(this.attrs);this.instance=a?new ae(this,a):null}create(e=null){return!e&&this.instance?this.instance:new ae(this,bQ(this.attrs,e))}static compile(e,r){let n=Object.create(null),i=0;return e.forEach((a,s)=>n[a]=new xp(a,i++,r,s)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){EQ(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}};o(xp,"MarkType");var Fl=xp,eI=class eI{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let i in e)r[i]=e[i];r.nodes=$O.from(e.nodes),r.marks=$O.from(e.marks||{}),this.nodes=qp.compile(this.spec.nodes,this),this.marks=Fl.compile(this.spec.marks,this);let n=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let a=this.nodes[i],s=a.spec.content||"",u=a.spec.marks;if(a.contentMatch=n[s]||(n[s]=Qi.parse(s,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=u=="_"?null:u?iQ(this,u.split(" ")):u==""||!a.inlineContent?[]:null}for(let i in this.marks){let a=this.marks[i],s=a.spec.excludes;a.excluded=s==null?[a]:s==""?[]:iQ(this,s.split(" "))}this.nodeFromJSON=i=>Or.fromJSON(this,i),this.markFromJSON=i=>ae.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof qp){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,i)}text(e,r){let n=this.nodes.text;return new VO(n,n.defaultAttrs,e,ae.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}};o(eI,"Schema");var Bo=eI;function iQ(t,e){let r=[];for(let n=0;n<e.length;n++){let i=e[n],a=t.marks[i],s=a;if(a)r.push(a);else for(let u in t.marks){let l=t.marks[u];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&r.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}o(iQ,"gatherMarks");function urr(t){return t.tag!=null}o(urr,"isTagRule");function lrr(t){return t.style!=null}o(lrr,"isStyleRule");var Ll=class Ll{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(i=>{if(urr(i))this.tags.push(i);else if(lrr(i)){let a=/[^=]*/.exec(i.style)[0];n.indexOf(a)<0&&n.push(a),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let a=e.nodes[i.node];return a.contentMatch.matchType(a)})}parse(e,r={}){let n=new Sp(this,r,!1);return n.addAll(e,ae.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Sp(this,r,!0);return n.addAll(e,ae.none,r.from,r.to),M.maxOpen(n.finish())}matchTag(e,r,n){for(let i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){let a=this.tags[i];if(drr(e,a.tag)&&(a.namespace===void 0||e.namespaceURI==a.namespace)&&(!a.context||r.matchesContext(a.context))){if(a.getAttrs){let s=a.getAttrs(e);if(s===!1)continue;a.attrs=s||void 0}return a}}}matchStyle(e,r,n,i){for(let a=i?this.styles.indexOf(i)+1:0;a<this.styles.length;a++){let s=this.styles[a],u=s.style;if(!(u.indexOf(e)!=0||s.context&&!n.matchesContext(s.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=r))){if(s.getAttrs){let l=s.getAttrs(r);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let r=[];function n(i){let a=i.priority==null?50:i.priority,s=0;for(;s<r.length;s++){let u=r[s];if((u.priority==null?50:u.priority)<a)break}r.splice(s,0,i)}o(n,"insert");for(let i in e.marks){let a=e.marks[i].spec.parseDOM;a&&a.forEach(s=>{n(s=oQ(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let a=e.nodes[i].spec.parseDOM;a&&a.forEach(s=>{n(s=oQ(s)),s.node||s.ignore||s.mark||(s.node=i)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ll(e,Ll.schemaRules(e)))}};o(Ll,"DOMParser");var Mt=Ll,TQ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},crr={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},OQ={ol:!0,ul:!0},_l=1,GO=2,Ml=4;function aQ(t,e,r){return e!=null?(e?_l:0)|(e==="full"?GO:0):t&&t.whitespace=="pre"?_l|GO:r&~Ml}o(aQ,"wsOptionsFor");var rI=class rI{constructor(e,r,n,i,a,s){this.type=e,this.attrs=r,this.marks=n,this.solid=i,this.options=s,this.content=[],this.activeMarks=ae.none,this.match=a||(s&Ml?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(O.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,i;return(i=n.findWrapping(e.type))?(this.match=n,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&_l)){let n=this.content[this.content.length-1],i;if(n&&n.isText&&(i=/[ \t\r\n\u000c]+$/.exec(n.text))){let a=n;n.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-i[0].length))}}let r=O.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(O.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!TQ.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}};o(rI,"NodeContext");var _o=rI,tI=class tI{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let i=r.topNode,a,s=aQ(null,r.preserveWhitespace,0)|(n?Ml:0);i?a=new _o(i.type,i.attrs,ae.none,!0,r.topMatch||i.type.contentMatch,s):n?a=new _o(null,null,ae.none,!0,null,s):a=new _o(e.schema.topNodeType,null,ae.none,!0,null,s),this.nodes=[a],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,i=this.top,a=i.options&GO?"full":this.localPreserveWS||(i.options&_l)>0;if(a==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(a)a!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,"\n");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],u=e.previousSibling;(!s||u&&u.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let i=this.localPreserveWS,a=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let s=e.nodeName.toLowerCase(),u;OQ.hasOwnProperty(s)&&this.parser.normalizeLists&&frr(e);let l=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,n));e:if(l?l.ignore:crr.hasOwnProperty(s))this.findInside(e),this.ignoreFallback(e,r);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(e=l.skip);let c,f=this.needsBlock;if(TQ.hasOwnProperty(s))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),c=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let d=l&&l.skip?r:this.readStyles(e,r);d&&this.addAll(e,d),c&&this.sync(a),this.needsBlock=f}else{let c=this.readStyles(e,r);c&&this.addElementByRule(e,l,c,l.consuming===!1?u:void 0)}this.localPreserveWS=i}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let a=this.parser.matchedStyles[i],s=n.getPropertyValue(a);if(s)for(let u=void 0;;){let l=this.parser.matchStyle(a,s,this,u);if(!l)break;if(l.ignore)return null;if(l.clearMark?r=r.filter(c=>!l.clearMark(c)):r=r.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)u=l;else break}}return r}addElementByRule(e,r,n,i){let a,s;if(r.node)if(s=this.parser.schema.nodes[r.node],s.isLeaf)this.insertNode(s.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let l=this.enter(s,r.attrs||null,n,r.preserveWhitespace);l&&(a=!0,n=l)}else{let l=this.parser.schema.marks[r.mark];n=n.concat(l.create(r.attrs))}let u=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,n,i);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,n,!1));else{let l=e;typeof r.contentElement=="string"?l=e.querySelector(r.contentElement):typeof r.contentElement=="function"?l=r.contentElement(e):r.contentElement&&(l=r.contentElement),this.findAround(e,l,!0),this.addAll(l,n),this.findAround(e,l,!1)}a&&this.sync(u)&&this.open--}addAll(e,r,n,i){let a=n||0;for(let s=n?e.childNodes[n]:e.firstChild,u=i==null?null:e.childNodes[i];s!=u;s=s.nextSibling,++a)this.findAtPoint(e,a),this.addDOM(s,r);this.findAtPoint(e,a)}findPlace(e,r,n){let i,a;for(let s=this.open,u=0;s>=0;s--){let l=this.nodes[s],c=l.findWrapping(e);if(c&&(!i||i.length>c.length+u)&&(i=c,a=l,!c.length))break;if(l.solid){if(n)break;u+=2}}if(!i)return null;this.sync(a);for(let s=0;s<i.length;s++)r=this.enterInner(i[s],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(r=this.enterInner(a,null,r))}let i=this.findPlace(e,r,n);if(i){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(e.type));let s=ae.none;for(let u of i.concat(e.marks))(a.type?a.type.allowsMarkType(u.type):sQ(u.type,e.type))&&(s=u.addToSet(s));return a.content.push(e.mark(s)),!0}return!1}enter(e,r,n,i){let a=this.findPlace(e.create(r),n,!1);return a&&(a=this.enterInner(e,r,n,!0,i)),a}enterInner(e,r,n,i=!1,a){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let u=aQ(e,a,s.options);s.options&Ml&&s.content.length==0&&(u|=Ml);let l=ae.none;return n=n.filter(c=>(s.type?s.type.allowsMarkType(c.type):sQ(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new _o(e,r,l,i,null,u)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=_l)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let i=n.length-1;i>=0;i--)e+=n[i].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&r.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,i=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),a=-(n?n.depth+1:0)+(i?0:1),s=o((u,l)=>{for(;u>=0;u--){let c=r[u];if(c==""){if(u==r.length-1||u==0)continue;for(;l>=a;l--)if(s(u-1,l))return!0;return!1}else{let f=l>0||l==0&&i?this.nodes[l].type:n&&l>=a?n.node(l-a).type:null;if(!f||f.name!=c&&!f.isInGroup(c))return!1;l--}}return!0},"match");return s(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}};o(tI,"ParseContext");var Sp=tI;function frr(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&OQ.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}o(frr,"normalizeList");function drr(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}o(drr,"matches");function oQ(t){let e={};for(let r in t)e[r]=t[r];return e}o(oQ,"copy");function sQ(t,e){let r=e.schema.nodes;for(let n in r){let i=r[n];if(!i.allowsMarkType(t))continue;let a=[],s=o(u=>{a.push(u);for(let l=0;l<u.edgeCount;l++){let{type:c,next:f}=u.edge(l);if(c==e||a.indexOf(f)<0&&s(f))return!0}},"scan");if(s(i.contentMatch))return!0}}o(sQ,"markMayApply");var Tp=class Tp{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=UO(r).createDocumentFragment());let i=n,a=[];return e.forEach(s=>{if(a.length||s.marks.length){let u=0,l=0;for(;u<a.length&&l<s.marks.length;){let c=s.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(a[u][0])||c.type.spec.spanning===!1)break;u++,l++}for(;u<a.length;)i=a.pop()[1];for(;l<s.marks.length;){let c=s.marks[l++],f=this.serializeMark(c,s.isInline,r);f&&(a.push([c,i]),i.appendChild(f.dom),i=f.contentDOM||f.dom)}}i.appendChild(this.serializeNodeInner(s,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:i}=vp(UO(r),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,i)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let i=e.marks.length-1;i>=0;i--){let a=this.serializeMark(e.marks[i],e.isInline,r);a&&((a.contentDOM||a.dom).appendChild(n),n=a.dom)}return n}serializeMark(e,r,n={}){let i=this.marks[e.type.name];return i&&vp(UO(n),i(e,r),null,e.attrs)}static renderSpec(e,r,n=null,i){return vp(e,r,n,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Tp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=uQ(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return uQ(e.marks)}};o(Tp,"DOMSerializer");var ln=Tp;function uQ(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}o(uQ,"gatherToDOM");function UO(t){return t.document||window.document}o(UO,"doc");var lQ=new WeakMap;function hrr(t){let e=lQ.get(t);return e===void 0&&lQ.set(t,e=prr(t)),e}o(hrr,"suspiciousAttributes");function prr(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let i=0;i<n.length;i++)r(n[i]);else for(let i in n)r(n[i])}return o(r,"scan"),r(t),e}o(prr,"suspiciousAttributesInner");function vp(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],a;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(a=hrr(n))&&a.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(r=i.slice(0,s),i=i.slice(s+1));let u,l=r?t.createElementNS(r,i):t.createElement(i),c=e[1],f=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){f=2;for(let d in c)if(c[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),c[d]):d=="style"&&l.style?l.style.cssText=c[d]:l.setAttribute(d,c[d])}}for(let d=f;d<e.length;d++){let p=e[d];if(p===0){if(d<e.length-1||d>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:v,contentDOM:g}=vp(t,p,r,n);if(l.appendChild(v),g){if(u)throw new RangeError("Multiple content holes");u=g}}}return{dom:l,contentDOM:u}}o(vp,"renderSpec");var AQ=65535,CQ=Math.pow(2,16);function vrr(t,e){return t+e*CQ}o(vrr,"makeRecover");function IQ(t){return t&AQ}o(IQ,"recoverIndex");function grr(t){return(t-(t&AQ))/CQ}o(grr,"recoverOffset");var RQ=1,MQ=2,Op=4,kQ=8,cI=class cI{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&kQ)>0}get deletedBefore(){return(this.delInfo&(RQ|Op))>0}get deletedAfter(){return(this.delInfo&(MQ|Op))>0}get deletedAcross(){return(this.delInfo&Op)>0}};o(cI,"MapResult");var zl=cI,ni=class ni{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&ni.empty)return ni.empty}recover(e){let r=0,n=IQ(e);if(!this.inverted)for(let i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+grr(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let i=0,a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let l=this.ranges[u]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[u+a],f=this.ranges[u+s],d=l+c;if(e<=d){let p=c?e==l?-1:e==d?1:r:r,v=l+i+(p<0?0:f);if(n)return v;let g=e==(r<0?l:d)?null:vrr(u/3,e-l),y=e==l?MQ:e==d?RQ:Op;return(r<0?e!=l:e!=d)&&(y|=kQ),new zl(v,y,g)}i+=f-c}return n?e+i:new zl(e+i,0,null)}touches(e,r){let n=0,i=IQ(r),a=this.inverted?2:1,s=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let l=this.ranges[u]-(this.inverted?n:0);if(l>e)break;let c=this.ranges[u+a],f=l+c;if(e<=f&&u==i*3)return!0;n+=this.ranges[u+s]-c}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let i=0,a=0;i<this.ranges.length;i+=3){let s=this.ranges[i],u=s-(this.inverted?a:0),l=s+(this.inverted?0:a),c=this.ranges[i+r],f=this.ranges[i+n];e(u,u+c,l,l+f),a+=f-c}}invert(){return new ni(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ni.empty:new ni(e<0?[0,-e,0]:[0,0,e])}};o(ni,"StepMap");var fn=ni;fn.empty=new fn([]);var jl=class jl{constructor(e,r,n=0,i=e?e.length:0){this.mirror=r,this.from=n,this.to=i,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new jl(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let i=e.getMirror(r);this.appendMap(e._maps[r],i!=null&&i<r?n+i:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let i=e.getMirror(r);this.appendMap(e._maps[r].invert(),i!=null&&i>r?n-i-1:void 0)}}invert(){let e=new jl;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let i=0;for(let a=this.from;a<this.to;a++){let s=this._maps[a],u=s.mapResult(e,r);if(u.recover!=null){let l=this.getMirror(a);if(l!=null&&l>a&&l<this.to){a=l,e=this._maps[l].recover(u.recover);continue}}i|=u.delInfo,e=u.pos}return n?e:new zl(e,i,null)}};o(jl,"Mapping");var Vl=jl,nI=Object.create(null),fI=class fI{getMap(){return fn.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=nI[r.stepType];if(!n)throw new RangeError("No step type ".concat(r.stepType," defined"));return n.fromJSON(e,r)}static jsonID(e,r){if(e in nI)throw new RangeError("Duplicate use of step JSON ID "+e);return nI[e]=r,r.prototype.jsonID=e,r}};o(fI,"Step");var Be=fI,Zi=class Zi{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Zi(e,null)}static fail(e){return new Zi(null,e)}static fromReplace(e,r,n,i){try{return Zi.ok(e.replace(r,n,i))}catch(a){if(a instanceof Yi)return Zi.fail(a.message);throw a}}};o(Zi,"StepResult");var Ye=Zi;function uI(t,e,r){let n=[];for(let i=0;i<t.childCount;i++){let a=t.child(i);a.content.size&&(a=a.copy(uI(a.content,e,a))),a.isInline&&(a=e(a,r,i)),n.push(a)}return O.fromArray(n)}o(uI,"mapFragment");var ea=class ea extends Be{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),i=n.node(n.sharedDepth(this.to)),a=new M(uI(r.content,(s,u)=>!s.isAtom||!u.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),r.openStart,r.openEnd);return Ye.fromReplace(e,this.from,this.to,a)}invert(){return new dn(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ea(r.pos,n.pos,this.mark)}merge(e){return e instanceof ea&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ea(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ea(r.from,r.to,e.markFromJSON(r.mark))}};o(ea,"AddMarkStep");var Wl=ea;Be.jsonID("addMark",Wl);var ra=class ra extends Be{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new M(uI(r.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),r.openStart,r.openEnd);return Ye.fromReplace(e,this.from,this.to,n)}invert(){return new Wl(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ra(r.pos,n.pos,this.mark)}merge(e){return e instanceof ra&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ra(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ra(r.from,r.to,e.markFromJSON(r.mark))}};o(ra,"RemoveMarkStep");var dn=ra;Be.jsonID("removeMark",dn);var ta=class ta extends Be{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ye.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Ye.fromReplace(e,this.pos,this.pos+1,new M(O.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let i=0;i<r.marks.length;i++)if(!r.marks[i].isInSet(n))return new ta(this.pos,r.marks[i]);return new ta(this.pos,this.mark)}}return new Ho(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new ta(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ta(r.pos,e.markFromJSON(r.mark))}};o(ta,"AddNodeMarkStep");var Kl=ta;Be.jsonID("addNodeMark",Kl);var Ul=class Ul extends Be{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ye.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Ye.fromReplace(e,this.pos,this.pos+1,new M(O.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Kl(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Ul(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ul(r.pos,e.markFromJSON(r.mark))}};o(Ul,"RemoveNodeMarkStep");var Ho=Ul;Be.jsonID("removeNodeMark",Ho);var cn=class cn extends Be{constructor(e,r,n,i=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=i}apply(e){return this.structure&&oI(e,this.from,this.to)?Ye.fail("Structure replace would overwrite content"):Ye.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new fn([this.from,this.to-this.from,this.slice.size])}invert(e){return new cn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new cn(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof cn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?M.empty:new M(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new cn(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?M.empty:new M(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new cn(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new cn(r.from,r.to,M.fromJSON(e,r.slice),!!r.structure)}};o(cn,"ReplaceStep");var rr=cn;Be.jsonID("replace",rr);var $o=class $o extends Be{constructor(e,r,n,i,a,s,u=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=i,this.slice=a,this.insert=s,this.structure=u}apply(e){if(this.structure&&(oI(e,this.from,this.gapFrom)||oI(e,this.gapTo,this.to)))return Ye.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Ye.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Ye.fromReplace(e,this.from,this.to,n):Ye.fail("Content does not fit in gap")}getMap(){return new fn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new $o(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),i=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),a=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||i<r.pos||a>n.pos?null:new $o(r.pos,n.pos,i,a,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new $o(r.from,r.to,r.gapFrom,r.gapTo,M.fromJSON(e,r.slice),r.insert,!!r.structure)}};o($o,"ReplaceAroundStep");var ke=$o;Be.jsonID("replaceAround",ke);function oI(t,e,r){let n=t.resolve(e),i=r-e,a=n.depth;for(;i>0&&a>0&&n.indexAfter(a)==n.node(a).childCount;)a--,i--;if(i>0){let s=n.node(a).maybeChild(n.indexAfter(a));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}o(oI,"contentBetween");function mrr(t,e,r,n){let i=[],a=[],s,u;t.doc.nodesBetween(e,r,(l,c,f)=>{if(!l.isInline)return;let d=l.marks;if(!n.isInSet(d)&&f.type.allowsMarkType(n.type)){let p=Math.max(c,e),v=Math.min(c+l.nodeSize,r),g=n.addToSet(d);for(let y=0;y<d.length;y++)d[y].isInSet(g)||(s&&s.to==p&&s.mark.eq(d[y])?s.to=v:i.push(s=new dn(p,v,d[y])));u&&u.to==p?u.to=v:a.push(u=new Wl(p,v,n))}}),i.forEach(l=>t.step(l)),a.forEach(l=>t.step(l))}o(mrr,"addMark");function yrr(t,e,r,n){let i=[],a=0;t.doc.nodesBetween(e,r,(s,u)=>{if(!s.isInline)return;a++;let l=null;if(n instanceof Fl){let c=s.marks,f;for(;f=n.isInSet(c);)(l||(l=[])).push(f),c=f.removeFromSet(c)}else n?n.isInSet(s.marks)&&(l=[n]):l=s.marks;if(l&&l.length){let c=Math.min(u+s.nodeSize,r);for(let f=0;f<l.length;f++){let d=l[f],p;for(let v=0;v<i.length;v++){let g=i[v];g.step==a-1&&d.eq(i[v].style)&&(p=g)}p?(p.to=c,p.step=a):i.push({style:d,from:Math.max(u,e),to:c,step:a})}}}),i.forEach(s=>t.step(new dn(s.from,s.to,s.style)))}o(yrr,"removeMark");function lI(t,e,r,n=r.contentMatch,i=!0){let a=t.doc.nodeAt(e),s=[],u=e+1;for(let l=0;l<a.childCount;l++){let c=a.child(l),f=u+c.nodeSize,d=n.matchType(c.type);if(!d)s.push(new rr(u,f,M.empty));else{n=d;for(let p=0;p<c.marks.length;p++)r.allowsMarkType(c.marks[p].type)||t.step(new dn(u,f,c.marks[p]));if(i&&c.isText&&r.whitespace!="pre"){let p,v=/\r?\n|\r/g,g;for(;p=v.exec(c.text);)g||(g=new M(O.from(r.schema.text(" ",r.allowedMarks(c.marks))),0,0)),s.push(new rr(u+p.index,u+p.index+p[0].length,g))}}u=f}if(!n.validEnd){let l=n.fillBefore(O.empty,!0);t.replace(u,u,new M(l,0,0))}for(let l=s.length-1;l>=0;l--)t.step(s[l])}o(lI,"clearIncompatible");function qrr(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}o(qrr,"canCut");function hn(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let i=t.$from.node(n),a=t.$from.index(n),s=t.$to.indexAfter(n);if(n<t.depth&&i.canReplace(a,s,r))return n;if(n==0||i.type.spec.isolating||!qrr(i,a,s))break}return null}o(hn,"liftTarget");function Srr(t,e,r){let{$from:n,$to:i,depth:a}=e,s=n.before(a+1),u=i.after(a+1),l=s,c=u,f=O.empty,d=0;for(let g=a,y=!1;g>r;g--)y||n.index(g)>0?(y=!0,f=O.from(n.node(g).copy(f)),d++):l--;let p=O.empty,v=0;for(let g=a,y=!1;g>r;g--)y||i.after(g+1)<i.end(g)?(y=!0,p=O.from(i.node(g).copy(p)),v++):c++;t.step(new ke(l,c,s,u,new M(f.append(p),d,v),f.size-d,!0))}o(Srr,"lift");function Wo(t,e,r=null,n=t){let i=brr(t,e),a=i&&Err(n,e);return a?i.map(wQ).concat({type:e,attrs:r}).concat(a.map(wQ)):null}o(Wo,"findWrapping");function wQ(t){return{type:t,attrs:null}}o(wQ,"withAttrs");function brr(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.contentMatchAt(n).findWrapping(e);if(!a)return null;let s=a.length?a[0]:e;return r.canReplaceWith(n,i,s)?a:null}o(brr,"findWrappingOutside");function Err(t,e){let{parent:r,startIndex:n,endIndex:i}=t,a=r.child(n),s=e.contentMatch.findWrapping(a.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let c=n;l&&c<i;c++)l=l.matchType(r.child(c).type);return!l||!l.validEnd?null:s}o(Err,"findWrappingInside");function xrr(t,e,r){let n=O.empty;for(let s=r.length-1;s>=0;s--){if(n.size){let u=r[s].type.contentMatch.matchFragment(n);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=O.from(r[s].type.create(r[s].attrs,n))}let i=e.start,a=e.end;t.step(new ke(i,a,i,a,new M(n,0,0),r.length,!0))}o(xrr,"wrap");function Trr(t,e,r,n,i){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,r,(s,u)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(n,l)&&Orr(t.doc,t.mapping.slice(a).map(u),n)){let c=null;if(n.schema.linebreakReplacement){let v=n.whitespace=="pre",g=!!n.contentMatch.matchType(n.schema.linebreakReplacement);v&&!g?c=!1:!v&&g&&(c=!0)}c===!1&&NQ(t,s,u,a),lI(t,t.mapping.slice(a).map(u,1),n,void 0,c===null);let f=t.mapping.slice(a),d=f.map(u,1),p=f.map(u+s.nodeSize,1);return t.step(new ke(d,p,d+1,p-1,new M(O.from(n.create(l,null,s.marks)),0,0),1,!0)),c===!0&&PQ(t,s,u,a),!1}})}o(Trr,"setBlockType");function PQ(t,e,r,n){e.forEach((i,a)=>{if(i.isText){let s,u=/\r?\n|\r/g;for(;s=u.exec(i.text);){let l=t.mapping.slice(n).map(r+1+a+s.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}o(PQ,"replaceNewlines");function NQ(t,e,r,n){e.forEach((i,a)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(n).map(r+1+a);t.replaceWith(s,s+1,e.type.schema.text("\n"))}})}o(NQ,"replaceLinebreaks");function Orr(t,e,r){let n=t.resolve(e),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}o(Orr,"canChangeType");function Irr(t,e,r,n,i){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");r||(r=a.type);let s=r.create(n,null,i||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!r.validContent(a.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ke(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new M(O.from(s),0,0),1,!0))}o(Irr,"setNodeMarkup");function kr(t,e,r=1,n){let i=t.resolve(e),a=i.depth-r,s=n&&n[n.length-1]||i.parent;if(a<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,f=r-2;c>a;c--,f--){let d=i.node(c),p=i.index(c);if(d.type.spec.isolating)return!1;let v=d.content.cutByIndex(p,d.childCount),g=n&&n[f+1];g&&(v=v.replaceChild(0,g.type.create(g.attrs)));let y=n&&n[f]||d;if(!d.canReplace(p+1,d.childCount)||!y.type.validContent(v))return!1}let u=i.indexAfter(a),l=n&&n[0];return i.node(a).canReplaceWith(u,u,l?l.type:i.node(a+1).type)}o(kr,"canSplit");function wrr(t,e,r=1,n){let i=t.doc.resolve(e),a=O.empty,s=O.empty;for(let u=i.depth,l=i.depth-r,c=r-1;u>l;u--,c--){a=O.from(i.node(u).copy(a));let f=n&&n[c];s=O.from(f?f.type.create(f.attrs,s):i.node(u).copy(s))}t.step(new rr(e,e,new M(a.append(s),r,r),!0))}o(wrr,"split");function Kr(t,e){let r=t.resolve(e),n=r.index();return DQ(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}o(Kr,"canJoin");function Arr(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let i=0;i<e.childCount;i++){let a=e.child(i),s=a.type==n?t.type.schema.nodes.text:a.type;if(r=r.matchType(s),!r||!t.type.allowsMarks(a.marks))return!1}return r.validEnd}o(Arr,"canAppendWithSubstitutedLinebreaks");function DQ(t,e){return!!(t&&e&&!t.isLeaf&&Arr(t,e))}o(DQ,"joinable");function na(t,e,r=-1){let n=t.resolve(e);for(let i=n.depth;;i--){let a,s,u=n.index(i);if(i==n.depth?(a=n.nodeBefore,s=n.nodeAfter):r>0?(a=n.node(i+1),u++,s=n.node(i).maybeChild(u)):(a=n.node(i).maybeChild(u-1),s=n.node(i+1)),a&&!a.isTextblock&&DQ(a,s)&&n.node(i).canReplace(u,u+1))return e;if(i==0)break;e=r<0?n.before(i):n.after(i)}}o(na,"joinPoint");function Crr(t,e,r){let n=null,{linebreakReplacement:i}=t.doc.type.schema,a=t.doc.resolve(e-r),s=a.node().type;if(i&&s.inlineContent){let f=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);f&&!d?n=!1:!f&&d&&(n=!0)}let u=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);NQ(t,f.node(),f.before(),u)}s.inlineContent&&lI(t,e+r-1,s,a.node().contentMatchAt(a.index()),n==null);let l=t.mapping.slice(u),c=l.map(e-r);if(t.step(new rr(c,l.map(e+r,-1),M.empty,!0)),n===!0){let f=t.doc.resolve(c);PQ(t,f.node(),f.before(),t.steps.length)}return t}o(Crr,"join");function Rrr(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let i=n.depth-1;i>=0;i--){let a=n.index(i);if(n.node(i).canReplaceWith(a,a,r))return n.before(i+1);if(a>0)return null}if(n.parentOffset==n.parent.content.size)for(let i=n.depth-1;i>=0;i--){let a=n.indexAfter(i);if(n.node(i).canReplaceWith(a,a,r))return n.after(i+1);if(a<n.node(i).childCount)return null}return null}o(Rrr,"insertPoint");function Ap(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let i=r.content;for(let a=0;a<r.openStart;a++)i=i.firstChild.content;for(let a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(let s=n.depth;s>=0;s--){let u=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,l=n.index(s)+(u>0?1:0),c=n.node(s),f=!1;if(a==1)f=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);f=d&&c.canReplaceWith(l,l,d[0])}if(f)return u==0?n.pos:u<0?n.before(s+1):n.after(s+1)}return null}o(Ap,"dropPoint");function Gl(t,e,r=e,n=M.empty){if(e==r&&!n.size)return null;let i=t.resolve(e),a=t.resolve(r);return LQ(i,a,n)?new rr(e,r,n):new sI(i,a,n).fit()}o(Gl,"replaceStep");function LQ(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}o(LQ,"fitsTrivially");var dI=class dI{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=O.empty;for(let i=0;i<=e.depth;i++){let a=e.node(i);this.frontier.push({type:a.type,match:a.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=O.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(e<0?this.$to:n.doc.resolve(e));if(!i)return null;let a=this.placed,s=n.depth,u=i.depth;for(;s&&u&&a.childCount==1;)a=a.firstChild.content,s--,u--;let l=new M(a,s,u);return e>-1?new ke(n.pos,e,this.$to.pos,this.$to.end(),l,r):l.size||n.pos!=this.$to.pos?new rr(n.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,i=this.unplaced.openEnd;n<e;n++){let a=r.firstChild;if(r.childCount>1&&(i=0),a.type.spec.isolating&&i<=n){e=n;break}r=a.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let i,a=null;n?(a=iI(this.unplaced.content,n-1).firstChild,i=a.content):i=this.unplaced.content;let s=i.firstChild;for(let u=this.depth;u>=0;u--){let{type:l,match:c}=this.frontier[u],f,d=null;if(r==1&&(s?c.matchType(s.type)||(d=c.fillBefore(O.from(s),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:n,frontierDepth:u,parent:a,inject:d};if(r==2&&s&&(f=c.findWrapping(s.type)))return{sliceDepth:n,frontierDepth:u,parent:a,wrap:f};if(a&&c.matchType(a.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=iI(e,r);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new M(e,r+1,Math.max(n,i.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,i=iI(e,r);if(i.childCount<=1&&r>0){let a=e.size-r<=r+i.size;this.unplaced=new M(Bl(e,r-1,1),r-1,a?r-1:n)}else this.unplaced=new M(Bl(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:i,wrap:a}){for(;this.depth>r;)this.closeFrontierNode();if(a)for(let y=0;y<a.length;y++)this.openFrontierNode(a[y]);let s=this.unplaced,u=n?n.content:s.content,l=s.openStart-e,c=0,f=[],{match:d,type:p}=this.frontier[r];if(i){for(let y=0;y<i.childCount;y++)f.push(i.child(y));d=d.matchFragment(i)}let v=u.size+e-(s.content.size-s.openEnd);for(;c<u.childCount;){let y=u.child(c),q=d.matchType(y.type);if(!q)break;c++,(c>1||l==0||y.content.size)&&(d=q,f.push(FQ(y.mark(p.allowedMarks(y.marks)),c==1?l:0,c==u.childCount?v:-1)))}let g=c==u.childCount;g||(v=-1),this.placed=$l(this.placed,r,O.from(f)),this.frontier[r].match=d,g&&v<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,q=u;y<v;y++){let S=q.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),q=S.content}this.unplaced=g?e==0?M.empty:new M(Bl(s.content,e-1,1),e-1,v<0?s.openEnd:e-1):new M(Bl(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!aI(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,i=this.$to.after(n);for(;n>1&&i==this.$to.end(--n);)++i;return i}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:i}=this.frontier[r],a=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),s=aI(e,r,i,n,a);if(s){for(let u=r-1;u>=0;u--){let{match:l,type:c}=this.frontier[u],f=aI(e,u,c,l,!0);if(!f||f.childCount)continue e}return{depth:r,fit:s,move:a?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=$l(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let i=e.node(n),a=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,a)}return e}openFrontierNode(e,r=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=$l(this.placed,this.depth,O.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(O.empty,!0);r.childCount&&(this.placed=$l(this.placed,this.frontier.length,r))}};o(dI,"Fitter");var sI=dI;function Bl(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(Bl(t.firstChild.content,e-1,r)))}o(Bl,"dropFromFragment");function $l(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy($l(t.lastChild.content,e-1,r)))}o($l,"addToFragment");function iI(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}o(iI,"contentAt");function FQ(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,FQ(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(O.empty,!0)))),t.copy(n)}o(FQ,"closeNodeStart");function aI(t,e,r,n,i){let a=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==a.childCount&&!r.compatibleContent(a.type))return null;let u=n.fillBefore(a.content,!0,s);return u&&!Mrr(r,a.content,s)?u:null}o(aI,"contentAfterFits");function Mrr(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}o(Mrr,"invalidMarks");function krr(t){return t.spec.defining||t.spec.definingForContent}o(krr,"definesContent");function Prr(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let i=t.doc.resolve(e),a=t.doc.resolve(r);if(LQ(i,a,n))return t.step(new rr(e,r,n));let s=BQ(i,t.doc.resolve(r));s[s.length-1]==0&&s.pop();let u=-(i.depth+1);s.unshift(u);for(let p=i.depth,v=i.pos-1;p>0;p--,v--){let g=i.node(p).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;s.indexOf(p)>-1?u=p:i.before(p)==v&&s.splice(1,0,-p)}let l=s.indexOf(u),c=[],f=n.openStart;for(let p=n.content,v=0;;v++){let g=p.firstChild;if(c.push(g),v==n.openStart)break;p=g.content}for(let p=f-1;p>=0;p--){let v=c[p],g=krr(v.type);if(g&&!v.sameMarkup(i.node(Math.abs(u)-1)))f=p;else if(g||!v.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let v=(p+f+1)%(n.openStart+1),g=c[v];if(g)for(let y=0;y<s.length;y++){let q=s[(y+l)%s.length],S=!0;q<0&&(S=!1,q=-q);let b=i.node(q-1),A=i.index(q-1);if(b.canReplaceWith(A,A,g.type,g.marks))return t.replace(i.before(q),S?a.after(q):r,new M(_Q(n.content,0,n.openStart,v),v,n.openEnd))}}let d=t.steps.length;for(let p=s.length-1;p>=0&&(t.replace(e,r,n),!(t.steps.length>d));p--){let v=s[p];v<0||(e=i.before(v),r=a.after(v))}}o(Prr,"replaceRange");function _Q(t,e,r,n,i){if(e<r){let a=t.firstChild;t=t.replaceChild(0,a.copy(_Q(a.content,e+1,r,n,a)))}if(e>n){let a=i.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(O.empty,!0))}return t}o(_Q,"closeFragment");function Nrr(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let i=Rrr(t.doc,e,n.type);i!=null&&(e=r=i)}t.replaceRange(e,r,new M(O.from(n),0,0))}o(Nrr,"replaceRangeWith");function Drr(t,e,r){let n=t.doc.resolve(e),i=t.doc.resolve(r),a=BQ(n,i);for(let s=0;s<a.length;s++){let u=a[s],l=s==a.length-1;if(l&&u==0||n.node(u).type.contentMatch.validEnd)return t.delete(n.start(u),i.end(u));if(u>0&&(l||n.node(u-1).canReplace(n.index(u-1),i.indexAfter(u-1))))return t.delete(n.before(u),i.after(u))}for(let s=1;s<=n.depth&&s<=i.depth;s++)if(e-n.start(s)==n.depth-s&&r>n.end(s)&&i.end(s)-r!=i.depth-s&&n.start(s-1)==i.start(s-1)&&n.node(s-1).canReplace(n.index(s-1),i.index(s-1)))return t.delete(n.before(s),r);t.delete(e,r)}o(Drr,"deleteRange");function BQ(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let i=n;i>=0;i--){let a=t.start(i);if(a<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(a==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==a-1)&&r.push(i)}return r}o(BQ,"coveredDepths");var jo=class jo extends Be{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Ye.fail("No node at attribute step's position");let n=Object.create(null);for(let a in r.attrs)n[a]=r.attrs[a];n[this.attr]=this.value;let i=r.type.create(n,null,r.marks);return Ye.fromReplace(e,this.pos,this.pos+1,new M(O.from(i),0,r.isLeaf?0:1))}getMap(){return fn.empty}invert(e){return new jo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new jo(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new jo(r.pos,r.attr,r.value)}};o(jo,"AttrStep");var Ip=jo;Be.jsonID("attr",Ip);var Hl=class Hl extends Be{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let i in e.attrs)r[i]=e.attrs[i];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Ye.ok(n)}getMap(){return fn.empty}invert(e){return new Hl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Hl(r.attr,r.value)}};o(Hl,"DocAttrStep");var wp=Hl;Be.jsonID("docAttr",wp);var Uo,zo=(Uo=class extends Error{},o(Uo,"TransformError"),Uo);zo=o(function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r},"TransformError");zo.prototype=Object.create(Error.prototype);zo.prototype.constructor=zo;zo.prototype.name="TransformError";var hI=class hI{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Vl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new zo(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=M.empty){let i=Gl(this.doc,e,r,n);return i&&this.step(i),this}replaceWith(e,r,n){return this.replace(e,r,new M(O.from(n),0,0))}delete(e,r){return this.replace(e,r,M.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return Prr(this,e,r,n),this}replaceRangeWith(e,r,n){return Nrr(this,e,r,n),this}deleteRange(e,r){return Drr(this,e,r),this}lift(e,r){return Srr(this,e,r),this}join(e,r=1){return Crr(this,e,r),this}wrap(e,r){return xrr(this,e,r),this}setBlockType(e,r=e,n,i=null){return Trr(this,e,r,n,i),this}setNodeMarkup(e,r,n=null,i){return Irr(this,e,r,n,i),this}setNodeAttribute(e,r,n){return this.step(new Ip(e,r,n)),this}setDocAttribute(e,r){return this.step(new wp(e,r)),this}addNodeMark(e,r){return this.step(new Kl(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof ae)r.isInSet(n.marks)&&this.step(new Ho(e,r));else{let i=n.marks,a,s=[];for(;a=r.isInSet(i);)s.push(new Ho(e,a)),i=a.removeFromSet(i);for(let u=s.length-1;u>=0;u--)this.step(s[u])}return this}split(e,r=1,n){return wrr(this,e,r,n),this}addMark(e,r,n){return mrr(this,e,r,n),this}removeMark(e,r,n){return yrr(this,e,r,n),this}clearIncompatible(e,r,n){return lI(this,e,r,n),this}};o(hI,"Transform");var Vo=hI;var pI=Object.create(null),yI=class yI{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new Rp(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=M.empty){let n=r.content.lastChild,i=null;for(let u=0;u<r.openEnd;u++)i=n,n=n.lastChild;let a=e.steps.length,s=this.ranges;for(let u=0;u<s.length;u++){let{$from:l,$to:c}=s[u],f=e.mapping.slice(a);e.replaceRange(f.map(l.pos),f.map(c.pos),u?M.empty:r),u==0&&UQ(e,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,i=this.ranges;for(let a=0;a<i.length;a++){let{$from:s,$to:u}=i[a],l=e.mapping.slice(n),c=l.map(s.pos),f=l.map(u.pos);a?e.deleteRange(c,f):(e.replaceRangeWith(c,f,r),UQ(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let i=e.parent.inlineContent?new D(e):Ko(e.node(0),e.parent,e.pos,e.index(),r,n);if(i)return i;for(let a=e.depth-1;a>=0;a--){let s=r<0?Ko(e.node(0),e.node(a),e.before(a+1),e.index(a),r,n):Ko(e.node(0),e.node(a),e.after(a+1),e.index(a)+1,r,n);if(s)return s}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new cr(e.node(0))}static atStart(e){return Ko(e,e,0,0,1)||new cr(e)}static atEnd(e){return Ko(e,e,e.content.size,e.childCount,-1)||new cr(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=pI[r.type];if(!n)throw new RangeError("No selection type ".concat(r.type," defined"));return n.fromJSON(e,r)}static jsonID(e,r){if(e in pI)throw new RangeError("Duplicate use of selection JSON ID "+e);return pI[e]=r,r.prototype.jsonID=e,r}getBookmark(){return D.between(this.$anchor,this.$head).getBookmark()}};o(yI,"Selection");var z=yI;z.prototype.visible=!0;var qI=class qI{constructor(e,r){this.$from=e,this.$to=r}};o(qI,"SelectionRange");var Rp=qI,$Q=!1;function jQ(t){!$Q&&!t.parent.inlineContent&&($Q=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}o(jQ,"checkTextSelection");var ia=class ia extends z{constructor(e,r=e){jQ(e),jQ(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return z.near(n);let i=e.resolve(r.map(this.anchor));return new ia(i.parent.inlineContent?i:n,n)}replace(e,r=M.empty){if(super.replace(e,r),r==M.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof ia&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Mp(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ia(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let i=e.resolve(r);return new this(i,n==r?i:e.resolve(n))}static between(e,r,n){let i=e.pos-r.pos;if((!n||i)&&(n=i>=0?1:-1),!r.parent.inlineContent){let a=z.findFrom(r,n,!0)||z.findFrom(r,-n,!0);if(a)r=a.$head;else return z.near(r,n)}return e.parent.inlineContent||(i==0?e=r:(e=(z.findFrom(e,-n,!0)||z.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=i<0&&(e=r))),new ia(e,r)}};o(ia,"TextSelection");var D=ia;z.jsonID("text",D);var Pp=class Pp{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Pp(e.map(this.anchor),e.map(this.head))}resolve(e){return D.between(e.resolve(this.anchor),e.resolve(this.head))}};o(Pp,"TextBookmark");var Mp=Pp,aa=class aa extends z{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:i}=r.mapResult(this.anchor),a=e.resolve(i);return n?z.near(a):new aa(a)}content(){return new M(O.from(this.node),0,0)}eq(e){return e instanceof aa&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new gI(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new aa(e.resolve(r.anchor))}static create(e,r){return new aa(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}};o(aa,"NodeSelection");var F=aa;F.prototype.visible=!1;z.jsonID("node",F);var Np=class Np{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Mp(n,n):new Np(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&F.isSelectable(n)?new F(r):z.near(r)}};o(Np,"NodeBookmark");var gI=Np,Go=class Go extends z{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=M.empty){if(r==M.empty){e.delete(0,e.doc.content.size);let n=z.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Go(e)}map(e){return new Go(e)}eq(e){return e instanceof Go}getBookmark(){return Lrr}};o(Go,"AllSelection");var cr=Go;z.jsonID("all",cr);var Lrr={map(){return this},resolve(t){return new cr(t)}};function Ko(t,e,r,n,i,a=!1){if(e.inlineContent)return D.create(t,r);for(let s=n-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let u=e.child(s);if(u.isAtom){if(!a&&F.isSelectable(u))return F.create(t,r-(i<0?u.nodeSize:0))}else{let l=Ko(t,u,r+i,i<0?u.childCount:0,i,a);if(l)return l}r+=u.nodeSize*i}return null}o(Ko,"findSelectionIn");function UQ(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof rr||i instanceof ke))return;let a=t.mapping.maps[n],s;a.forEach((u,l,c,f)=>{s==null&&(s=f)}),t.setSelection(z.near(t.doc.resolve(s),r))}o(UQ,"selectionToInsertionEnd");var HQ=1,Cp=2,zQ=4,SI=class SI extends Vo{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|HQ)&~Cp,this.storedMarks=null,this}get selectionSet(){return(this.updated&HQ)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Cp,this}ensureMarks(e){return ae.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Cp)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Cp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||ae.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let i=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n==null?r:n,!e)return this.deleteRange(r,n);let a=this.storedMarks;if(!a){let s=this.doc.resolve(r);a=n==r?s.marks():s.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,i.text(e,a)),this.selection.empty||this.setSelection(z.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=zQ,this}get scrolledIntoView(){return(this.updated&zQ)>0}};o(SI,"Transaction");var mI=SI;function VQ(t,e){return!e||!t?t:t.bind(e)}o(VQ,"bind");var bI=class bI{constructor(e,r,n){this.name=e,this.init=VQ(r.init,n),this.apply=VQ(r.apply,n)}};o(bI,"FieldDesc");var sa=bI,Frr=[new sa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new sa("selection",{init(t,e){return t.selection||z.atStart(e.doc)},apply(t){return t.selection}}),new sa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new sa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})],EI=class EI{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Frr.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new sa(n.key,n.spec.state,n))})}};o(EI,"Configuration");var Jl=EI,oa=class oa{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),i=null;for(;;){let a=!1;for(let s=0;s<this.config.plugins.length;s++){let u=this.config.plugins[s];if(u.spec.appendTransaction){let l=i?i[s].n:0,c=i?i[s].state:this,f=l<r.length&&u.spec.appendTransaction.call(u,l?r.slice(l):r,c,n);if(f&&n.filterTransaction(f,s)){if(f.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),a=!0}i&&(i[s]={state:n,n:r.length})}}if(!a)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new oa(this.config),n=this.config.fields;for(let i=0;i<n.length;i++){let a=n[i];r[a.name]=a.apply(e,this[a.name],this,r)}return r}get tr(){return new mI(this)}static create(e){let r=new Jl(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new oa(r);for(let i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(e,n);return n}reconfigure(e){let r=new Jl(this.schema,e.plugins),n=r.fields,i=new oa(r);for(let a=0;a<n.length;a++){let s=n[a].name;i[s]=this.hasOwnProperty(s)?this[s]:n[a].init(e,i)}return i}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[n],a=i.spec.state;a&&a.toJSON&&(r[n]=a.toJSON.call(i,this[i.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Jl(e.schema,e.plugins),a=new oa(i);return i.fields.forEach(s=>{if(s.name=="doc")a.doc=Or.fromJSON(e.schema,r.doc);else if(s.name=="selection")a.selection=z.fromJSON(a.doc,r.selection);else if(s.name=="storedMarks")r.storedMarks&&(a.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let u in n){let l=n[u],c=l.spec.state;if(l.key==s.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(r,u)){a[s.name]=c.fromJSON.call(l,e,r[u],a);return}}a[s.name]=s.init(e,a)}}),a}};o(oa,"EditorState");var kp=oa;function WQ(t,e,r){for(let n in t){let i=t[n];i instanceof Function?i=i.bind(e):n=="handleDOMEvents"&&(i=WQ(i,e,{})),r[n]=i}return r}o(WQ,"bindProps");var xI=class xI{constructor(e){this.spec=e,this.props={},e.props&&WQ(e.props,this,this.props),this.key=e.key?e.key.key:KQ("plugin")}getState(e){return e[this.key]}};o(xI,"Plugin");var H=xI,vI=Object.create(null);function KQ(t){return t in vI?t+"$"+ ++vI[t]:(vI[t]=0,t+"$")}o(KQ,"createKey");var TI=class TI{constructor(e="key"){this.key=KQ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}};o(TI,"PluginKey");var Y=TI;var Xe=o(function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},"domIndex"),Zo=o(function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e},"parentNode"),RI=null,vn=o(function(t,e,r){let n=RI||(RI=document.createRange());return n.setEnd(t,r==null?t.nodeValue.length:r),n.setStart(t,e||0),n},"textRange"),_rr=o(function(){RI=null},"clearReusedRange"),va=o(function(t,e,r,n){return r&&(GQ(t,e,r,n,-1)||GQ(t,e,r,n,1))},"isEquivalentPosition"),Brr=/^(img|br|input|textarea|hr)$/i;function GQ(t,e,r,n,i){for(var a;;){if(t==r&&e==n)return!0;if(e==(i<0?0:Jr(t))){let s=t.parentNode;if(!s||s.nodeType!=1||ac(t)||Brr.test(t.nodeName)||t.contentEditable=="false")return!1;e=Xe(t)+(i<0?0:1),t=s}else if(t.nodeType==1){let s=t.childNodes[e+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((a=s.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)e+=i;else return!1;else t=s,e=i<0?Jr(t):0}else return!1}}o(GQ,"scanFor");function Jr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(Jr,"nodeSize");function $rr(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Jr(t)}else if(t.parentNode&&!ac(t))e=Xe(t),t=t.parentNode;else return null}}o($rr,"textNodeBefore$1");function jrr(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ac(t))e=Xe(t)+1,t=t.parentNode;else return null}}o(jrr,"textNodeAfter$1");function Urr(t,e,r){for(let n=e==0,i=e==Jr(t);n||i;){if(t==r)return!0;let a=Xe(t);if(t=t.parentNode,!t)return!1;n=n&&a==0,i=i&&a==Jr(t)}}o(Urr,"isOnEdge");function ac(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}o(ac,"hasBlockDesc");var Jp=o(function(t){return t.focusNode&&va(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)},"selectionCollapsed");function ua(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}o(ua,"keyEvent");function Hrr(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}o(Hrr,"deepActiveElement");function zrr(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(Jr(n.offsetNode),n.offset)}}catch(n){}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(Jr(n.startContainer),n.startOffset)}}}o(zrr,"caretFromPoint");var Pt=typeof navigator<"u"?navigator:null,JQ=typeof document<"u"?document:null,ci=Pt&&Pt.userAgent||"",MI=/Edge\/(\d+)/.exec(ci),wZ=/MSIE \d/.exec(ci),kI=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ci),Ir=!!(wZ||kI||MI),ui=wZ?document.documentMode:kI?+kI[1]:MI?+MI[1]:0,pt=!Ir&&/gecko\/(\d+)/i.test(ci);pt&&+(/Firefox\/(\d+)/.exec(ci)||[0,0])[1];var PI=!Ir&&/Chrome\/(\d+)/.exec(ci),nr=!!PI,AZ=PI?+PI[1]:0,fr=!Ir&&!!Pt&&/Apple Computer/.test(Pt.vendor),es=fr&&(/Mobile\/\w+/.test(ci)||!!Pt&&Pt.maxTouchPoints>2),Gr=es||(Pt?/Mac/.test(Pt.platform):!1),Vrr=Pt?/Win/.test(Pt.platform):!1,gn=/Android \d/.test(ci),oc=!!JQ&&"webkitFontSmoothing"in JQ.documentElement.style,Wrr=oc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Krr(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}o(Krr,"windowRect");function pn(t,e){return typeof t=="number"?t:t[e]}o(pn,"getSide");function Grr(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}o(Grr,"clientRect");function YQ(t,e,r){let n=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,a=t.dom.ownerDocument;for(let s=r||t.dom;s;){if(s.nodeType!=1){s=Zo(s);continue}let u=s,l=u==a.body,c=l?Krr(a):Grr(u),f=0,d=0;if(e.top<c.top+pn(n,"top")?d=-(c.top-e.top+pn(i,"top")):e.bottom>c.bottom-pn(n,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+pn(i,"top")-c.top:e.bottom-c.bottom+pn(i,"bottom")),e.left<c.left+pn(n,"left")?f=-(c.left-e.left+pn(i,"left")):e.right>c.right-pn(n,"right")&&(f=e.right-c.right+pn(i,"right")),f||d)if(l)a.defaultView.scrollBy(f,d);else{let v=u.scrollLeft,g=u.scrollTop;d&&(u.scrollTop+=d),f&&(u.scrollLeft+=f);let y=u.scrollLeft-v,q=u.scrollTop-g;e={left:e.left-y,top:e.top-q,right:e.right-y,bottom:e.bottom-q}}let p=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(p))break;s=p=="absolute"?s.offsetParent:Zo(s)}}o(YQ,"scrollRectIntoView");function Jrr(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,i;for(let a=(e.left+e.right)/2,s=r+1;s<Math.min(innerHeight,e.bottom);s+=5){let u=t.root.elementFromPoint(a,s);if(!u||u==t.dom||!t.dom.contains(u))continue;let l=u.getBoundingClientRect();if(l.top>=r-20){n=u,i=l.top;break}}return{refDOM:n,refTop:i,stack:CZ(t.dom)}}o(Jrr,"storeScrollPos");function CZ(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Zo(n));return e}o(CZ,"scrollStack");function Yrr({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;RZ(r,n==0?0:n-e)}o(Yrr,"resetScrollPos");function RZ(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:i,left:a}=t[r];n.scrollTop!=i+e&&(n.scrollTop=i+e),n.scrollLeft!=a&&(n.scrollLeft=a)}}o(RZ,"restoreScrollStack");var Jo=null;function Xrr(t){if(t.setActive)return t.setActive();if(Jo)return t.focus(Jo);let e=CZ(t);t.focus(Jo==null?{get preventScroll(){return Jo={preventScroll:!0},!0}}:void 0),Jo||(Jo=!1,RZ(e,0))}o(Xrr,"focusPreventScroll");function MZ(t,e){let r,n=2e8,i,a=0,s=e.top,u=e.top,l,c;for(let f=t.firstChild,d=0;f;f=f.nextSibling,d++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=vn(f).getClientRects();else continue;for(let v=0;v<p.length;v++){let g=p[v];if(g.top<=s&&g.bottom>=u){s=Math.max(g.bottom,s),u=Math.min(g.top,u);let y=g.left>e.left?g.left-e.left:g.right<e.left?e.left-g.right:0;if(y<n){r=f,n=y,i=y&&r.nodeType==3?{left:g.right<e.left?g.right:g.left,top:e.top}:e,f.nodeType==1&&y&&(a=d+(e.left>=(g.left+g.right)/2?1:0));continue}}else g.top>e.top&&!l&&g.left<=e.left&&g.right>=e.left&&(l=f,c={left:Math.max(g.left,Math.min(g.right,e.left)),top:g.top});!r&&(e.left>=g.right&&e.top>=g.top||e.left>=g.left&&e.top>=g.bottom)&&(a=d+1)}}return!r&&l&&(r=l,i=c,n=0),r&&r.nodeType==3?Qrr(r,i):!r||n&&r.nodeType==1?{node:t,offset:a}:MZ(r,i)}o(MZ,"findOffsetInNode");function Qrr(t,e){let r=t.nodeValue.length,n=document.createRange();for(let i=0;i<r;i++){n.setEnd(t,i+1),n.setStart(t,i);let a=ii(n,1);if(a.top!=a.bottom&&GI(e,a))return{node:t,offset:i+(e.left>=(a.left+a.right)/2?1:0)}}return{node:t,offset:0}}o(Qrr,"findOffsetInText");function GI(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}o(GI,"inRect");function Zrr(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}o(Zrr,"targetKludge");function etr(t,e,r){let{node:n,offset:i}=MZ(e,r),a=-1;if(n.nodeType==1&&!n.firstChild){let s=n.getBoundingClientRect();a=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(n,i,a)}o(etr,"posFromElement");function rtr(t,e,r,n){let i=-1;for(let a=e,s=!1;a!=t.dom;){let u=t.docView.nearestDesc(a,!0),l;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((l=u.dom.getBoundingClientRect()).width||l.height)&&(u.node.isBlock&&u.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(u.dom.nodeName)&&(!s&&l.left>n.left||l.top>n.top?i=u.posBefore:(!s&&l.right<n.left||l.bottom<n.top)&&(i=u.posAfter),s=!0),!u.contentDOM&&i<0&&!u.node.isText))return(u.node.isBlock?n.top<(l.top+l.bottom)/2:n.left<(l.left+l.right)/2)?u.posBefore:u.posAfter;a=u.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,r,-1)}o(rtr,"posFromCaret");function kZ(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let i=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),a=i;;){let s=t.childNodes[a];if(s.nodeType==1){let u=s.getClientRects();for(let l=0;l<u.length;l++){let c=u[l];if(GI(e,c))return kZ(s,e,c)}}if((a=(a+1)%n)==i)break}return t}o(kZ,"elementFromPoint");function ttr(t,e){let r=t.dom.ownerDocument,n,i=0,a=zrr(r,e.left,e.top);a&&({node:n,offset:i}=a);let s=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),u;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let c=t.dom.getBoundingClientRect();if(!GI(e,c)||(s=kZ(t.dom,e,c),!s))return null}if(fr)for(let c=s;n&&c;c=Zo(c))c.draggable&&(n=void 0);if(s=Zrr(s,e),n){if(pt&&n.nodeType==1&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let f=n.childNodes[i],d;f.nodeName=="IMG"&&(d=f.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;oc&&i&&n.nodeType==1&&(c=n.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,n==t.dom&&i==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(i==0||n.nodeType!=1||n.childNodes[i-1].nodeName!="BR")&&(u=rtr(t,n,i,e))}u==null&&(u=etr(t,s,e));let l=t.docView.nearestDesc(s,!0);return{pos:u,inside:l?l.posAtStart-l.border:-1}}o(ttr,"posAtCoords");function XQ(t){return t.top<t.bottom||t.left<t.right}o(XQ,"nonZero");function ii(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(XQ(n))return n}return Array.prototype.find.call(r,XQ)||t.getBoundingClientRect()}o(ii,"singleRect");var ntr=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function PZ(t,e,r){let{node:n,offset:i,atom:a}=t.docView.domFromPos(e,r<0?-1:1),s=oc||pt;if(n.nodeType==3)if(s&&(ntr.test(n.nodeValue)||(r<0?!i:i==n.nodeValue.length))){let l=ii(vn(n,i,i),r);if(pt&&i&&/\s/.test(n.nodeValue[i-1])&&i<n.nodeValue.length){let c=ii(vn(n,i-1,i-1),-1);if(c.top==l.top){let f=ii(vn(n,i,i+1),-1);if(f.top!=l.top)return Yl(f,f.left<c.left)}}return l}else{let l=i,c=i,f=r<0?1:-1;return r<0&&!i?(c++,f=-1):r>=0&&i==n.nodeValue.length?(l--,f=1):r<0?l--:c++,Yl(ii(vn(n,l,c),f),f<0)}if(!t.state.doc.resolve(e-(a||0)).parent.inlineContent){if(a==null&&i&&(r<0||i==Jr(n))){let l=n.childNodes[i-1];if(l.nodeType==1)return OI(l.getBoundingClientRect(),!1)}if(a==null&&i<Jr(n)){let l=n.childNodes[i];if(l.nodeType==1)return OI(l.getBoundingClientRect(),!0)}return OI(n.getBoundingClientRect(),r>=0)}if(a==null&&i&&(r<0||i==Jr(n))){let l=n.childNodes[i-1],c=l.nodeType==3?vn(l,Jr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Yl(ii(c,1),!1)}if(a==null&&i<Jr(n)){let l=n.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?vn(l,0,s?0:1):l.nodeType==1?l:null:null;if(c)return Yl(ii(c,-1),!0)}return Yl(ii(n.nodeType==3?vn(n):n,-r),r>=0)}o(PZ,"coordsAtPos");function Yl(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}o(Yl,"flattenV");function OI(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}o(OI,"flattenH");function NZ(t,e,r){let n=t.state,i=t.root.activeElement;n!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),i!=t.dom&&i&&i.focus()}}o(NZ,"withFlushedState");function itr(t,e,r){let n=e.selection,i=r=="up"?n.$from:n.$to;return NZ(t,e,()=>{let{node:a}=t.docView.domFromPos(i.pos,r=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(a,!0);if(!u)break;if(u.node.isBlock){a=u.contentDOM||u.dom;break}a=u.dom.parentNode}let s=PZ(t,i.pos,1);for(let u=a.firstChild;u;u=u.nextSibling){let l;if(u.nodeType==1)l=u.getClientRects();else if(u.nodeType==3)l=vn(u,0,u.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let f=l[c];if(f.bottom>f.top+1&&(r=="up"?s.top-f.top>(f.bottom-s.top)*2:f.bottom-s.bottom>(s.bottom-f.top)*2))return!1}}return!0})}o(itr,"endOfTextblockVertical");var atr=/[\u0590-\u08ac]/;function otr(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let i=n.parentOffset,a=!i,s=i==n.parent.content.size,u=t.domSelection();return u?!atr.test(n.parent.textContent)||!u.modify?r=="left"||r=="backward"?a:s:NZ(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:f,anchorOffset:d}=t.domSelectionRange(),p=u.caretBidiLevel;u.modify("move",r,"character");let v=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:g,focusOffset:y}=t.domSelectionRange(),q=g&&!v.contains(g.nodeType==1?g:g.parentNode)||l==g&&c==y;try{u.collapse(f,d),l&&(l!=f||c!=d)&&u.extend&&u.extend(l,c)}catch(S){}return p!=null&&(u.caretBidiLevel=p),q}):n.pos==n.start()||n.pos==n.end()}o(otr,"endOfTextblockHorizontal");var QQ=null,ZQ=null,eZ=!1;function str(t,e,r){return QQ==e&&ZQ==r?eZ:(QQ=e,ZQ=r,eZ=r=="up"||r=="down"?itr(t,e,r):otr(t,e,r))}o(str,"endOfTextblock");var Yr=0,rZ=1,ca=2,Nt=3,tw=class tw{constructor(e,r,n,i){this.parent=e,this.children=r,this.dom=n,this.contentDOM=i,this.dirty=Yr,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let i=this.children[r];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let a,s;if(e==this.contentDOM)a=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.previousSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(s)+s.size:this.posAtStart}else{let a,s;if(e==this.contentDOM)a=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;a=e.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=r>Xe(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!1;break}if(a.previousSibling)break}if(i==null&&r==e.childNodes.length)for(let a=e;;a=a.parentNode){if(a==this.dom){i=!0;break}if(a.nextSibling)break}}return(i==null?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,i=e;i;i=i.parentNode){let a=this.getDesc(i),s;if(a&&(!r||a.node))if(n&&(s=a.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))n=!1;else return a}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let i=e;i;i=i.parentNode){let a=this.getDesc(i);if(a)return a.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let i=this.children[r],a=n+i.size;if(n==e&&a!=n){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let u=i.children[s];if(u.size){i=u;break}}return i}if(e<a)return i.descAt(e-n-i.border);n=a}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let a=0;n<this.children.length;n++){let s=this.children[n],u=a+s.size;if(u>e||s instanceof Fp){i=e-a;break}a=u}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(let a;n&&!(a=this.children[n-1]).size&&a instanceof Dp&&a.side>=0;n--);if(r<=0){let a,s=!0;for(;a=n?this.children[n-1]:null,!(!a||a.dom.parentNode==this.contentDOM);n--,s=!1);return a&&r&&s&&!a.border&&!a.domAtom?a.domFromPos(a.size,r):{node:this.contentDOM,offset:a?Xe(a.dom)+1:0}}else{let a,s=!0;for(;a=n<this.children.length?this.children[n]:null,!(!a||a.dom.parentNode==this.contentDOM);n++,s=!1);return a&&s&&!a.border&&!a.domAtom?a.domFromPos(0,r):{node:this.contentDOM,offset:a?Xe(a.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,a=-1;for(let s=n,u=0;;u++){let l=this.children[u],c=s+l.size;if(i==-1&&e<=c){let f=s+l.border;if(e>=f&&r<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,r,f);e=s;for(let d=u;d>0;d--){let p=this.children[d-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){i=Xe(p.dom)+1;break}e-=p.size}i==-1&&(i=0)}if(i>-1&&(c>r||u==this.children.length-1)){r=c;for(let f=u+1;f<this.children.length;f++){let d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){a=Xe(d.dom);break}r+=d.size}a==-1&&(a=this.contentDOM.childNodes.length);break}s=c}return{node:this.contentDOM,from:e,to:r,fromOffset:i,toOffset:a}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,i=!1){let a=Math.min(e,r),s=Math.max(e,r);for(let v=0,g=0;v<this.children.length;v++){let y=this.children[v],q=g+y.size;if(a>g&&s<q)return y.setSelection(e-g-y.border,r-g-y.border,n,i);g=q}let u=this.domFromPos(e,e?-1:1),l=r==e?u:this.domFromPos(r,r?-1:1),c=n.root.getSelection(),f=n.domSelectionRange(),d=!1;if((pt||fr)&&e==r){let{node:v,offset:g}=u;if(v.nodeType==3){if(d=!!(g&&v.nodeValue[g-1]=="\n"),d&&g==v.nodeValue.length)for(let y=v,q;y;y=y.parentNode){if(q=y.nextSibling){q.nodeName=="BR"&&(u=l={node:q.parentNode,offset:Xe(q)+1});break}let S=y.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let y=v.childNodes[g-1];d=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(pt&&f.focusNode&&f.focusNode!=l.node&&f.focusNode.nodeType==1){let v=f.focusNode.childNodes[f.focusOffset];v&&v.contentEditable=="false"&&(i=!0)}if(!(i||d&&fr)&&va(u.node,u.offset,f.anchorNode,f.anchorOffset)&&va(l.node,l.offset,f.focusNode,f.focusOffset))return;let p=!1;if((c.extend||e==r)&&!d){c.collapse(u.node,u.offset);try{e!=r&&c.extend(l.node,l.offset),p=!0}catch(v){}}if(!p){if(e>r){let g=u;u=l,l=g}let v=document.createRange();v.setEnd(l.node,l.offset),v.setStart(u.node,u.offset),c.removeAllRanges(),c.addRange(v)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,i=0;i<this.children.length;i++){let a=this.children[i],s=n+a.size;if(n==s?e<=s&&r>=n:e<s&&r>n){let u=n+a.border,l=s-a.border;if(e>=u&&r<=l){this.dirty=e==n||r==s?ca:rZ,e==u&&r==l&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Nt:a.markDirty(e-u,r-u);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?ca:Nt}n=s}this.dirty=ca}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?ca:rZ;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}};o(tw,"ViewDesc");var ga=tw,nw=class nw extends ga{constructor(e,r,n,i){let a,s=r.type.toDOM;if(typeof s=="function"&&(s=s(n,()=>{if(!a)return i;if(a.parent)return a.parent.posBeforeChild(a)})),!r.type.spec.raw){if(s.nodeType!=1){let u=document.createElement("span");u.appendChild(s),s=u}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=r,this.widget=r,a=this}matchesWidget(e){return this.dirty==Yr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}};o(nw,"WidgetViewDesc");var Dp=nw,iw=class iw extends ga{constructor(e,r,n,i){super(e,[],r,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}};o(iw,"CompositionViewDesc");var NI=iw,Zl=class Zl extends ga{constructor(e,r,n,i,a){super(e,[],n,i),this.mark=r,this.spec=a}static create(e,r,n,i){let a=i.nodeViews[r.type.name],s=a&&a(r,i,n);return(!s||!s.dom)&&(s=ln.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Zl(e,r,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Nt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Nt&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=Yr){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=Yr}}slice(e,r,n){let i=Zl.create(this.parent,this.mark,!0,n),a=this.children,s=this.size;r<s&&(a=_I(a,r,s,n)),e>0&&(a=_I(a,0,e,n));for(let u=0;u<a.length;u++)a[u].parent=i;return i.children=a,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}};o(Zl,"MarkViewDesc");var rs=Zl,Vp=class Vp extends ga{constructor(e,r,n,i,a,s,u,l,c){super(e,[],a,s),this.node=r,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=u}static create(e,r,n,i,a,s){let u=a.nodeViews[r.type.name],l,c=u&&u(r,a,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},n,i),f=c&&c.dom,d=c&&c.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:d}=ln.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!d&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let p=f;return f=FZ(f,n,r),c?l=new DI(e,r,n,i,f,d||null,p,c,a,s+1):r.isText?new Lp(e,r,n,i,f,p,a):new Vp(e,r,n,i,f,d||null,p,a,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>O.empty)}return e}matchesNode(e,r,n){return this.dirty==Yr&&e.eq(this.node)&&_p(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,i=r,a=e.composing?this.localCompositionInfo(e,r):null,s=a&&a.pos>-1?a:null,u=a&&a.pos<0,l=new FI(this,s&&s.node,e);ftr(this.node,this.innerDeco,(c,f,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,n,e):c.type.side>=0&&!d&&l.syncToMarks(f==this.node.childCount?ae.none:this.node.child(f).marks,n,e),l.placeWidget(c,e,i)},(c,f,d,p)=>{l.syncToMarks(c.marks,n,e);let v;l.findNodeMatch(c,f,d,p)||u&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(v=l.findIndexWithChild(a.node))>-1&&l.updateNodeAt(c,f,d,v,e)||l.updateNextNode(c,f,d,e,p,i)||l.addNode(c,f,d,e,i),i+=c.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==ca)&&(s&&this.protectLocalComposition(e,s),DZ(this.contentDOM,this.children,e),es&&dtr(this.dom))}localCompositionInfo(e,r){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof D)||n<r||i>r+this.node.content.size)return null;let a=e.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let s=a.nodeValue,u=htr(this.node.content,s,n-r,i-r);return u<0?null:{node:a,pos:u,text:s}}else return{node:a,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:i}){if(this.getDesc(r))return;let a=r;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let s=new NI(this,a,r,i);e.input.compositionNodes.push(s),this.children=_I(this.children,n,n+i.length,e,s)}update(e,r,n,i){return this.dirty==Nt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,i),!0)}updateInner(e,r,n,i){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Yr}updateOuterDeco(e){if(_p(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=LZ(this.dom,this.nodeDOM,LI(this.outerDeco,this.node,r),LI(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}};o(Vp,"NodeViewDesc");var li=Vp;function tZ(t,e,r,n,i){FZ(n,e,t);let a=new li(void 0,t,e,r,n,n,n,i,0);return a.contentDOM&&a.updateChildren(i,0),a}o(tZ,"docViewDesc");var Wp=class Wp extends li{constructor(e,r,n,i,a,s,u){super(e,r,n,i,a,null,s,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,i){return this.dirty==Nt||this.dirty!=Yr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=Yr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Yr,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let i=this.node.cut(e,r),a=document.createTextNode(i.text);return new Wp(this.parent,i,this.outerDeco,this.innerDeco,a,a,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=Nt)}get domAtom(){return!1}isText(e){return this.node.text==e}};o(Wp,"TextViewDesc");var Lp=Wp,aw=class aw extends ga{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Yr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}};o(aw,"TrailingHackViewDesc");var Fp=aw,ow=class ow extends li{constructor(e,r,n,i,a,s,u,l,c,f){super(e,r,n,i,a,s,u,c,f),this.spec=l}update(e,r,n,i){if(this.dirty==Nt)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let a=this.spec.update(e,r,n);return a&&this.updateInner(e,r,n,i),a}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,i){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}};o(ow,"CustomNodeViewDesc");var DI=ow;function DZ(t,e,r){let n=t.firstChild,i=!1;for(let a=0;a<e.length;a++){let s=e[a],u=s.dom;if(u.parentNode==t){for(;u!=n;)n=nZ(n),i=!0;n=n.nextSibling}else i=!0,t.insertBefore(u,n);if(s instanceof rs){let l=n?n.previousSibling:t.lastChild;DZ(s.contentDOM,s.children,r),n=l?l.nextSibling:t.firstChild}}for(;n;)n=nZ(n),i=!0;i&&r.trackWrites==t&&(r.trackWrites=null)}o(DZ,"renderDescs");var Xl=o(function(t){t&&(this.nodeName=t)},"OuterDecoLevel");Xl.prototype=Object.create(null);var fa=[new Xl];function LI(t,e,r){if(t.length==0)return fa;let n=r?fa[0]:new Xl,i=[n];for(let a=0;a<t.length;a++){let s=t[a].type.attrs;if(s){s.nodeName&&i.push(n=new Xl(s.nodeName));for(let u in s){let l=s[u];l!=null&&(r&&i.length==1&&i.push(n=new Xl(e.isInline?"span":"div")),u=="class"?n.class=(n.class?n.class+" ":"")+l:u=="style"?n.style=(n.style?n.style+";":"")+l:u!="nodeName"&&(n[u]=l))}}}return i}o(LI,"computeOuterDeco");function LZ(t,e,r,n){if(r==fa&&n==fa)return e;let i=e;for(let a=0;a<n.length;a++){let s=n[a],u=r[a];if(a){let l;u&&u.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),u=fa[0]),i=l}utr(i,u||fa[0],s)}return i}o(LZ,"patchOuterDeco");function utr(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],i=r.class?r.class.split(" ").filter(Boolean):[];for(let a=0;a<n.length;a++)i.indexOf(n[a])==-1&&t.classList.remove(n[a]);for(let a=0;a<i.length;a++)n.indexOf(i[a])==-1&&t.classList.add(i[a]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(e.style);)t.style.removeProperty(i[1])}r.style&&(t.style.cssText+=r.style)}}o(utr,"patchAttributes");function FZ(t,e,r){return LZ(t,t,fa,LI(e,r,t.nodeType!=1))}o(FZ,"applyOuterDeco");function _p(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}o(_p,"sameOuterDeco");function nZ(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}o(nZ,"rm");var sw=class sw{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ltr(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let i=0,a=this.stack.length>>1,s=Math.min(a,e.length);for(;i<s&&(i==a-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<a;)this.destroyRest(),this.top.dirty=Yr,this.index=this.stack.pop(),this.top=this.stack.pop(),a--;for(;a<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[a])&&!this.isLocked(c.dom)){u=l;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let l=rs.create(this.top,e[a],r,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,a++}}findNodeMatch(e,r,n,i){let a=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,r,n))a=this.top.children.indexOf(s,this.index);else for(let u=this.index,l=Math.min(this.top.children.length,u+5);u<l;u++){let c=this.top.children[u];if(c.matchesNode(e,r,n)&&!this.preMatch.matched.has(c)){a=u;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(e,r,n,i,a){let s=this.top.children[i];return s.dirty==Nt&&s.dom==s.contentDOM&&(s.dirty=ca),s.update(e,r,n,a)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}e=r}}updateNextNode(e,r,n,i,a,s){for(let u=this.index;u<this.top.children.length;u++){let l=this.top.children[u];if(l instanceof li){let c=this.preMatch.matched.get(l);if(c!=null&&c!=a)return!1;let f=l.dom,d,p=this.isLocked(f)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Nt&&_p(r,l.outerDeco));if(!p&&l.update(e,r,n,i))return this.destroyBetween(this.index,u),l.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(d=this.recreateWrapper(l,e,r,n,i,s)))return this.destroyBetween(this.index,u),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=ca,d.updateChildren(i,s+1),d.dirty=Yr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,i,a,s){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!_p(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let u=li.create(this.top,r,n,i,a,s);if(u.contentDOM){u.children=e.children,e.children=[];for(let l of u.children)l.parent=u}return e.destroy(),u}addNode(e,r,n,i,a){let s=li.create(this.top,e,r,n,i,a);s.contentDOM&&s.updateChildren(i,a+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,r,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let a=new Dp(this.top,e,r,n);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof rs;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Lp)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((fr||nr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let i=new Fp(this.top,[],n,null);r!=this.top?r.children.push(i):r.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}};o(sw,"ViewTreeUpdater");var FI=sw;function ltr(t,e){let r=e,n=r.children.length,i=t.childCount,a=new Map,s=[];e:for(;i>0;){let u;for(;;)if(n){let c=r.children[n-1];if(c instanceof rs)r=c,n=c.children.length;else{u=c,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let l=u.node;if(l){if(l!=t.child(i-1))break;--i,a.set(u,i),s.push(u)}}return{index:i,matched:a,matches:s.reverse()}}o(ltr,"preMatch");function ctr(t,e){return t.type.side-e.type.side}o(ctr,"compareSide");function ftr(t,e,r,n){let i=e.locals(t),a=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let f=t.child(c);n(f,i,e.forChild(a,f),c),a+=f.nodeSize}return}let s=0,u=[],l=null;for(let c=0;;){let f,d;for(;s<i.length&&i[s].to==a;){let q=i[s++];q.widget&&(f?(d||(d=[f])).push(q):f=q)}if(f)if(d){d.sort(ctr);for(let q=0;q<d.length;q++)r(d[q],c,!!l)}else r(f,c,!!l);let p,v;if(l)v=-1,p=l,l=null;else if(c<t.childCount)v=c,p=t.child(c++);else break;for(let q=0;q<u.length;q++)u[q].to<=a&&u.splice(q--,1);for(;s<i.length&&i[s].from<=a&&i[s].to>a;)u.push(i[s++]);let g=a+p.nodeSize;if(p.isText){let q=g;s<i.length&&i[s].from<q&&(q=i[s].from);for(let S=0;S<u.length;S++)u[S].to<q&&(q=u[S].to);q<g&&(l=p.cut(q-a),p=p.cut(0,q-a),g=q,v=-1)}else for(;s<i.length&&i[s].to<g;)s++;let y=p.isInline&&!p.isLeaf?u.filter(q=>!q.inline):u.slice();n(p,y,e.forChild(a,p),v),a=g}}o(ftr,"iterDeco");function dtr(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}o(dtr,"iosHacks");function htr(t,e,r,n){for(let i=0,a=0;i<t.childCount&&a<=n;){let s=t.child(i++),u=a;if(a+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let c=t.child(i++);if(a+=c.nodeSize,!c.isText)break;l+=c.text}if(a>=r){if(a>=n&&l.slice(n-e.length-u,n-u)==e)return n-e.length;let c=u<n?l.lastIndexOf(e,n-u-1):-1;if(c>=0&&c+e.length+u>=r)return u+c;if(r==n&&l.length>=n+e.length-u&&l.slice(n-u,n-u+e.length)==e)return n}}return-1}o(htr,"findTextInFragment");function _I(t,e,r,n,i){let a=[];for(let s=0,u=0;s<t.length;s++){let l=t[s],c=u,f=u+=l.size;c>=r||f<=e?a.push(l):(c<e&&a.push(l.slice(0,e-c,n)),i&&(a.push(i),i=void 0),f>r&&a.push(l.slice(r-c,l.size,n)))}return a}o(_I,"replaceNodes");function JI(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let i=t.docView.nearestDesc(r.focusNode),a=i&&i.size==0,s=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(s<0)return null;let u=n.resolve(s),l,c;if(Jp(r)){for(l=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&F.isSelectable(d)&&i.parent&&!(d.isInline&&Urr(r.focusNode,r.focusOffset,i.dom))){let p=i.posBefore;c=new F(s==p?u:n.resolve(p))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let d=s,p=s;for(let v=0;v<r.rangeCount;v++){let g=r.getRangeAt(v);d=Math.min(d,t.docView.posFromDOM(g.startContainer,g.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(g.endContainer,g.endOffset,-1))}if(d<0)return null;[l,s]=p==t.state.selection.anchor?[p,d]:[d,p],u=n.resolve(s)}else l=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(l<0)return null}let f=n.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<u.pos&&!a?1:-1;c=YI(t,f,u,d)}return c}o(JI,"selectionFromDOM");function _Z(t){return t.editable?t.hasFocus():$Z(t)&&document.activeElement&&document.activeElement.contains(t.dom)}o(_Z,"editorOwnsSelection");function mn(t,e=!1){let r=t.state.selection;if(BZ(t,r),!!_Z(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&nr){let n=t.domSelectionRange(),i=t.domObserver.currentSelection;if(n.anchorNode&&i.anchorNode&&va(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)vtr(t);else{let{anchor:n,head:i}=r,a,s;iZ&&!(r instanceof D)&&(r.$from.parent.inlineContent||(a=aZ(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(s=aZ(t,r.to))),t.docView.setSelection(n,i,t,e),iZ&&(a&&oZ(a),s&&oZ(s)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ptr(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}o(mn,"selectionToDOM");var iZ=fr||nr&&AZ<63;function aZ(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),i=n<r.childNodes.length?r.childNodes[n]:null,a=n?r.childNodes[n-1]:null;if(fr&&i&&i.contentEditable=="false")return II(i);if((!i||i.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(i)return II(i);if(a)return II(a)}}o(aZ,"temporarilyEditableNear");function II(t){return t.contentEditable="true",fr&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}o(II,"setEditable");function oZ(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}o(oZ,"resetEditable");function ptr(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,i=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!_Z(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}o(ptr,"removeClassOnSelectionChange");function vtr(t){let e=t.domSelection(),r=document.createRange();if(!e)return;let n=t.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setStart(n.parentNode,Xe(n)+1):r.setStart(n,0),r.collapse(!0),e.removeAllRanges(),e.addRange(r),!i&&!t.state.selection.visible&&Ir&&ui<=11&&(n.disabled=!0,n.disabled=!1)}o(vtr,"selectCursorWrapper");function BZ(t,e){if(e instanceof F){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(sZ(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else sZ(t)}o(BZ,"syncNodeSelection");function sZ(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}o(sZ,"clearNodeSelection");function YI(t,e,r,n){return t.someProp("createSelectionBetween",i=>i(t,e,r))||D.between(e,r,n)}o(YI,"selectionBetween");function uZ(t){return t.editable&&!t.hasFocus()?!1:$Z(t)}o(uZ,"hasFocusAndSelection");function $Z(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch(r){return!1}}o($Z,"hasSelection");function gtr(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return va(e.node,e.offset,r.anchorNode,r.anchorOffset)}o(gtr,"anchorInRightPlace");function BI(t,e){let{$anchor:r,$head:n}=t.selection,i=e>0?r.max(n):r.min(n),a=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return a&&z.findFrom(a,e)}o(BI,"moveSelectionBlock");function ai(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}o(ai,"apply");function lZ(t,e,r){let n=t.state.selection;if(n instanceof D)if(r.indexOf("s")>-1){let{$head:i}=n,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+a.nodeSize*(e<0?-1:1));return ai(t,new D(n.$anchor,s))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=BI(t.state,e);return i&&i instanceof F?ai(t,i):!1}else if(!(Gr&&r.indexOf("m")>-1)){let i=n.$head,a=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!a||a.isText)return!1;let u=e<0?i.pos-a.nodeSize:i.pos;return a.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM?F.isSelectable(a)?ai(t,new F(e<0?t.state.doc.resolve(i.pos-a.nodeSize):i)):oc?ai(t,new D(t.state.doc.resolve(e<0?u:u+a.nodeSize))):!1:!1}}else return!1;else{if(n instanceof F&&n.node.isInline)return ai(t,new D(e>0?n.$to:n.$from));{let i=BI(t.state,e);return i?ai(t,i):!1}}}o(lZ,"selectHorizontally");function Bp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}o(Bp,"nodeLen");function Ql(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}o(Ql,"isIgnorable");function Yo(t,e){return e<0?mtr(t):ytr(t)}o(Yo,"skipIgnoredNodes");function mtr(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i,a,s=!1;for(pt&&r.nodeType==1&&n<Bp(r)&&Ql(r.childNodes[n],-1)&&(s=!0);;)if(n>0){if(r.nodeType!=1)break;{let u=r.childNodes[n-1];if(Ql(u,-1))i=r,a=--n;else if(u.nodeType==3)r=u,n=r.nodeValue.length;else break}}else{if(jZ(r))break;{let u=r.previousSibling;for(;u&&Ql(u,-1);)i=r.parentNode,a=Xe(u),u=u.previousSibling;if(u)r=u,n=Bp(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}s?$I(t,r,n):i&&$I(t,i,a)}o(mtr,"skipIgnoredNodesBefore");function ytr(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let i=Bp(r),a,s;for(;;)if(n<i){if(r.nodeType!=1)break;let u=r.childNodes[n];if(Ql(u,1))a=r,s=++n;else break}else{if(jZ(r))break;{let u=r.nextSibling;for(;u&&Ql(u,1);)a=u.parentNode,s=Xe(u)+1,u=u.nextSibling;if(u)r=u,n=0,i=Bp(r);else{if(r=r.parentNode,r==t.dom)break;n=i=0}}}a&&$I(t,a,s)}o(ytr,"skipIgnoredNodesAfter");function jZ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}o(jZ,"isBlockNode");function qtr(t,e){for(;t&&e==t.childNodes.length&&!ac(t);)e=Xe(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}o(qtr,"textNodeAfter");function Str(t,e){for(;t&&!e&&!ac(t);)e=Xe(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}o(Str,"textNodeBefore");function $I(t,e,r){if(e.nodeType!=3){let a,s;(s=qtr(e,r))?(e=s,r=0):(a=Str(e,r))&&(e=a,r=a.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Jp(n)){let a=document.createRange();a.setEnd(e,r),a.setStart(e,r),n.removeAllRanges(),n.addRange(a)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&mn(t)},50)}o($I,"setSelFocus");function cZ(t,e){let r=t.state.doc.resolve(e);if(!(nr||Vrr)&&r.parent.inlineContent){let i=t.coordsAtPos(e);if(e>r.start()){let a=t.coordsAtPos(e-1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left<i.left?"ltr":"rtl"}if(e<r.end()){let a=t.coordsAtPos(e+1),s=(a.top+a.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(a.left-i.left)>1)return a.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}o(cZ,"findDirection");function fZ(t,e,r){let n=t.state.selection;if(n instanceof D&&!n.empty||r.indexOf("s")>-1||Gr&&r.indexOf("m")>-1)return!1;let{$from:i,$to:a}=n;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=BI(t.state,e);if(s&&s instanceof F)return ai(t,s)}if(!i.parent.inlineContent){let s=e<0?i:a,u=n instanceof cr?z.near(s,e):z.findFrom(s,e);return u?ai(t,u):!1}return!1}o(fZ,"selectVertically");function dZ(t,e){if(!(t.state.selection instanceof D))return!0;let{$head:r,$anchor:n,empty:i}=t.state.selection;if(!r.sameParent(n))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){let s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}o(dZ,"stopNativeHorizontalDelete");function hZ(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}o(hZ,"switchEditable");function btr(t){if(!fr||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;hZ(t,n,"true"),setTimeout(()=>hZ(t,n,"false"),20)}return!1}o(btr,"safariDownArrowBug");function Etr(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}o(Etr,"getMods");function xtr(t,e){let r=e.keyCode,n=Etr(e);if(r==8||Gr&&r==72&&n=="c")return dZ(t,-1)||Yo(t,-1);if(r==46&&!e.shiftKey||Gr&&r==68&&n=="c")return dZ(t,1)||Yo(t,1);if(r==13||r==27)return!0;if(r==37||Gr&&r==66&&n=="c"){let i=r==37?cZ(t,t.state.selection.from)=="ltr"?-1:1:-1;return lZ(t,i,n)||Yo(t,i)}else if(r==39||Gr&&r==70&&n=="c"){let i=r==39?cZ(t,t.state.selection.from)=="ltr"?1:-1:1;return lZ(t,i,n)||Yo(t,i)}else{if(r==38||Gr&&r==80&&n=="c")return fZ(t,-1,n)||Yo(t,-1);if(r==40||Gr&&r==78&&n=="c")return btr(t)||fZ(t,1,n)||Yo(t,1);if(n==(Gr?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}o(xtr,"captureKeyDown");function XI(t,e){t.someProp("transformCopied",v=>{e=v(e,t)});let r=[],{content:n,openStart:i,openEnd:a}=e;for(;i>1&&a>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,a--;let v=n.firstChild;r.push(v.type.name,v.attrs!=v.type.defaultAttrs?v.attrs:null),n=v.content}let s=t.someProp("clipboardSerializer")||ln.fromSchema(t.state.schema),u=KZ(),l=u.createElement("div");l.appendChild(s.serializeFragment(n,{document:u}));let c=l.firstChild,f,d=0;for(;c&&c.nodeType==1&&(f=WZ[c.nodeName.toLowerCase()]);){for(let v=f.length-1;v>=0;v--){let g=u.createElement(f[v]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice","".concat(i," ").concat(a).concat(d?" -".concat(d):""," ").concat(JSON.stringify(r)));let p=t.someProp("clipboardTextSerializer",v=>v(e,t))||e.content.textBetween(0,e.content.size,"\n\n");return{dom:l,text:p,slice:e}}o(XI,"serializeForClipboard");function UZ(t,e,r,n,i){let a=i.parent.type.spec.code,s,u;if(!r&&!e)return null;let l=e&&(n||a||!r);if(l){if(t.someProp("transformPastedText",p=>{e=p(e,a||n,t)}),a)return e?new M(O.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):M.empty;let d=t.someProp("clipboardTextParser",p=>p(e,i,n,t));if(d)u=d;else{let p=i.marks(),{schema:v}=t.state,g=ln.fromSchema(v);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let q=s.appendChild(document.createElement("p"));y&&q.appendChild(g.serializeNode(v.text(y,p)))})}}else t.someProp("transformPastedHTML",d=>{r=d(r,t)}),s=wtr(r),oc&&Atr(s);let c=s&&s.querySelector("[data-pm-slice]"),f=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let d=+f[3];d>0;d--){let p=s.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;s=p}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Mt.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||f),context:i,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Ttr.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)u=Ctr(pZ(u,+f[1],+f[2]),f[4]);else if(u=M.maxOpen(Otr(u.content,i),!0),u.openStart||u.openEnd){let d=0,p=0;for(let v=u.content.firstChild;d<u.openStart&&!v.type.spec.isolating;d++,v=v.firstChild);for(let v=u.content.lastChild;p<u.openEnd&&!v.type.spec.isolating;p++,v=v.lastChild);u=pZ(u,d,p)}return t.someProp("transformPasted",d=>{u=d(u,t)}),u}o(UZ,"parseFromClipboard");var Ttr=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Otr(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let i=e.node(r).contentMatchAt(e.index(r)),a,s=[];if(t.forEach(u=>{if(!s)return;let l=i.findWrapping(u.type),c;if(!l)return s=null;if(c=s.length&&a.length&&zZ(l,a,u,s[s.length-1],0))s[s.length-1]=c;else{s.length&&(s[s.length-1]=VZ(s[s.length-1],a.length));let f=HZ(u,l);s.push(f),i=i.matchType(f.type),a=l}}),s)return O.from(s)}return t}o(Otr,"normalizeSiblings");function HZ(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,O.from(t));return t}o(HZ,"withWrappers");function zZ(t,e,r,n,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let a=zZ(t,e,r,n.lastChild,i+1);if(a)return n.copy(n.content.replaceChild(n.childCount-1,a));if(n.contentMatchAt(n.childCount).matchType(i==t.length-1?r.type:t[i+1]))return n.copy(n.content.append(O.from(HZ(r,t,i+1))))}}o(zZ,"addToSibling");function VZ(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,VZ(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(O.empty,!0);return t.copy(r.append(n))}o(VZ,"closeRight");function jI(t,e,r,n,i,a){let s=e<0?t.firstChild:t.lastChild,u=s.content;return t.childCount>1&&(a=0),i<n-1&&(u=jI(u,e,r,n,i+1,a)),i>=r&&(u=e<0?s.contentMatchAt(0).fillBefore(u,a<=i).append(u):u.append(s.contentMatchAt(s.childCount).fillBefore(O.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(u))}o(jI,"closeRange");function pZ(t,e,r){return e<t.openStart&&(t=new M(jI(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new M(jI(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}o(pZ,"closeSlice");var WZ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},vZ=null;function KZ(){return vZ||(vZ=document.implementation.createHTMLDocument("title"))}o(KZ,"detachedDoc");var wI=null;function Itr(t){let e=window.trustedTypes;return e?(wI||(wI=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:o(r=>r,"createHTML")})),wI.createHTML(t)):t}o(Itr,"maybeWrapTrusted");function wtr(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=KZ().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),i;if((i=n&&WZ[n[1].toLowerCase()])&&(t=i.map(a=>"<"+a+">").join("")+t+i.map(a=>"</"+a+">").reverse().join("")),r.innerHTML=Itr(t),i)for(let a=0;a<i.length;a++)r=r.querySelector(i[a])||r;return r}o(wtr,"readHTML");function Atr(t){let e=t.querySelectorAll(nr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}o(Atr,"restoreReplacedSpaces");function Ctr(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch(u){return t}let{content:i,openStart:a,openEnd:s}=t;for(let u=n.length-2;u>=0;u-=2){let l=r.nodes[n[u]];if(!l||l.hasRequiredAttrs())break;i=O.from(l.create(n[u+1],i)),a++,s++}return new M(i,a,s)}o(Ctr,"addContext");var dr={},hr={},Rtr={touchstart:!0,touchmove:!0},uw=class uw{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}};o(uw,"InputState");var UI=uw;function Mtr(t){for(let e in dr){let r=dr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{Ptr(t,n)&&!QI(t,n)&&(t.editable||!(n.type in hr))&&r(t,n)},Rtr[e]?{passive:!0}:void 0)}fr&&t.dom.addEventListener("input",()=>null),HI(t)}o(Mtr,"initInput");function si(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}o(si,"setSelectionOrigin");function ktr(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}o(ktr,"destroyInput");function HI(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>QI(t,n))})}o(HI,"ensureListeners");function QI(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}o(QI,"runCustomHandler");function Ptr(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}o(Ptr,"eventBelongsToView");function Ntr(t,e){!QI(t,e)&&dr[e.type]&&(t.editable||!(e.type in hr))&&dr[e.type](t,e)}o(Ntr,"dispatchEvent");hr.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!JZ(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(gn&&nr&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),es&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",i=>i(t,ua(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||xtr(t,r)?r.preventDefault():si(t,"key")};hr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};hr.keypress=(t,e)=>{let r=e;if(JZ(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||Gr&&r.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof D)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(r.charCode),a=o(()=>t.state.tr.insertText(i).scrollIntoView(),"deflt");!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,n.$from.pos,n.$to.pos,i,a))&&t.dispatch(a()),r.preventDefault()}};function Yp(t){return{left:t.clientX,top:t.clientY}}o(Yp,"eventCoords");function Dtr(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}o(Dtr,"isNear");function ZI(t,e,r,n,i){if(n==-1)return!1;let a=t.state.doc.resolve(n);for(let s=a.depth+1;s>0;s--)if(t.someProp(e,u=>s>a.depth?u(t,r,a.nodeAfter,a.before(s),i,!0):u(t,r,a.node(s),a.before(s),i,!1)))return!0;return!1}o(ZI,"runHandlerOnContext");function Qo(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);r=="pointer"&&n.setMeta("pointer",!0),t.dispatch(n)}o(Qo,"updateSelection");function Ltr(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&F.isSelectable(n)?(Qo(t,new F(r),"pointer"),!0):!1}o(Ltr,"selectClickedLeaf");function Ftr(t,e){if(e==-1)return!1;let r=t.state.selection,n,i;r instanceof F&&(n=r.node);let a=t.state.doc.resolve(e);for(let s=a.depth+1;s>0;s--){let u=s>a.depth?a.nodeAfter:a.node(s);if(F.isSelectable(u)){n&&r.$from.depth>0&&s>=r.$from.depth&&a.before(r.$from.depth+1)==r.$from.pos?i=a.before(r.$from.depth):i=a.before(s);break}}return i!=null?(Qo(t,F.create(t.state.doc,i),"pointer"),!0):!1}o(Ftr,"selectClickedNode");function _tr(t,e,r,n,i){return ZI(t,"handleClickOn",e,r,n)||t.someProp("handleClick",a=>a(t,e,n))||(i?Ftr(t,r):Ltr(t,r))}o(_tr,"handleSingleClick");function Btr(t,e,r,n){return ZI(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",i=>i(t,e,n))}o(Btr,"handleDoubleClick");function $tr(t,e,r,n){return ZI(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",i=>i(t,e,n))||jtr(t,r,n)}o($tr,"handleTripleClick");function jtr(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Qo(t,D.create(n,0,n.content.size),"pointer"),!0):!1;let i=n.resolve(e);for(let a=i.depth+1;a>0;a--){let s=a>i.depth?i.nodeAfter:i.node(a),u=i.before(a);if(s.inlineContent)Qo(t,D.create(n,u+1,u+1+s.content.size),"pointer");else if(F.isSelectable(s))Qo(t,F.create(n,u),"pointer");else continue;return!0}}o(jtr,"defaultTripleClick");function ew(t){return $p(t)}o(ew,"forceDOMFlush");var GZ=Gr?"metaKey":"ctrlKey";dr.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=ew(t),i=Date.now(),a="singleClick";i-t.input.lastClick.time<500&&Dtr(r,t.input.lastClick)&&!r[GZ]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?a="doubleClick":t.input.lastClick.type=="doubleClick"&&(a="tripleClick")),t.input.lastClick={time:i,x:r.clientX,y:r.clientY,type:a,button:r.button};let s=t.posAtCoords(Yp(r));s&&(a=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new zI(t,s,r,!!n)):(a=="doubleClick"?Btr:$tr)(t,s.pos,s.inside,r)?r.preventDefault():si(t,"pointer"))};var lw=class lw{constructor(e,r,n,i){this.view=e,this.pos=r,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[GZ],this.allowDefault=n.shiftKey;let a,s;if(r.inside>-1)a=e.state.doc.nodeAt(r.inside),s=r.inside;else{let f=e.state.doc.resolve(r.pos);a=f.parent,s=f.depth?f.before():0}let u=i?null:n.target,l=u?e.docView.nearestDesc(u,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||c instanceof F&&c.from<=s&&c.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),si(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>mn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Yp(e))),this.updateAllowDefault(e),this.allowDefault||!r?si(this.view,"pointer"):_tr(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||fr&&this.mightDrag&&!this.mightDrag.node.isAtom||nr&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Qo(this.view,z.near(this.view.state.doc.resolve(r.pos)),"pointer"),e.preventDefault()):si(this.view,"pointer")}move(e){this.updateAllowDefault(e),si(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}};o(lw,"MouseDown");var zI=lw;dr.touchstart=t=>{t.input.lastTouch=Date.now(),ew(t),si(t,"pointer")};dr.touchmove=t=>{t.input.lastTouch=Date.now(),si(t,"pointer")};dr.contextmenu=t=>ew(t);function JZ(t,e){return t.composing?!0:fr&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}o(JZ,"inOrNearComposition");var Utr=gn?5e3:-1;hr.compositionstart=hr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof D&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),$p(t,!0),t.markCursor=null;else if($p(t,!e.selection.empty),pt&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let i=n.focusNode,a=n.focusOffset;i&&i.nodeType==1&&a!=0;){let s=a<0?i.lastChild:i.childNodes[a-1];if(!s)break;if(s.nodeType==3){let u=t.domSelection();u&&u.collapse(s,s.nodeValue.length);break}else i=s,a=-1}}t.input.composing=!0}YZ(t,Utr)};hr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,YZ(t,20))};function YZ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>$p(t),e))}o(YZ,"scheduleComposeEnd");function XZ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=ztr());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}o(XZ,"clearComposition");function Htr(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=$rr(e.focusNode,e.focusOffset),n=jrr(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let i=n.pmViewDesc,a=t.domObserver.lastChangedTextNode;if(r==a||n==a)return a;if(!i||!i.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let s=r.pmViewDesc;if(!(!s||!s.isText(r.nodeValue)))return n}}return r||n}o(Htr,"findCompositionNode");function ztr(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}o(ztr,"timestampFromCustomEvent");function $p(t,e=!1){if(!(gn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),XZ(t),e||t.docView&&t.docView.dirty){let r=JI(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}o($p,"endComposition");function Vtr(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}o(Vtr,"captureCopy");var rc=Ir&&ui<15||es&&Wrr<604;dr.copy=hr.cut=(t,e)=>{let r=e,n=t.state.selection,i=r.type=="cut";if(n.empty)return;let a=rc?null:r.clipboardData,s=n.content(),{dom:u,text:l}=XI(t,s);a?(r.preventDefault(),a.clearData(),a.setData("text/html",u.innerHTML),a.setData("text/plain",l)):Vtr(t,u),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Wtr(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}o(Wtr,"sliceSingleNode");function Ktr(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?tc(t,n.value,null,i,e):tc(t,n.textContent,n.innerHTML,i,e)},50)}o(Ktr,"capturePaste");function tc(t,e,r,n,i){let a=UZ(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,a||M.empty)))return!0;if(!a)return!1;let s=Wtr(a),u=s?t.state.tr.replaceSelectionWith(s,n):t.state.tr.replaceSelection(a);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}o(tc,"doPaste");function QZ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}o(QZ,"getText");hr.paste=(t,e)=>{let r=e;if(t.composing&&!gn)return;let n=rc?null:r.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&tc(t,QZ(n),n.getData("text/html"),i,r)?r.preventDefault():Ktr(t,r)};var cw=class cw{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}};o(cw,"Dragging");var jp=cw,Gtr=Gr?"altKey":"ctrlKey";function ZZ(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r!=null?r:!e[Gtr]}o(ZZ,"dragMoves");dr.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let i=t.state.selection,a=i.empty?null:t.posAtCoords(Yp(r)),s;if(!(a&&a.pos>=i.from&&a.pos<=(i instanceof F?i.to-1:i.to))){if(n&&n.mightDrag)s=F.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let d=t.docView.nearestDesc(r.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=F.create(t.state.doc,d.posBefore))}}let u=(s||t.state.selection).content(),{dom:l,text:c,slice:f}=XI(t,u);(!r.dataTransfer.files.length||!nr||AZ>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(rc?"Text":"text/html",l.innerHTML),r.dataTransfer.effectAllowed="copyMove",rc||r.dataTransfer.setData("text/plain",c),t.dragging=new jp(f,ZZ(t,r),s)};dr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};hr.dragover=hr.dragenter=(t,e)=>e.preventDefault();hr.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let i=t.posAtCoords(Yp(r));if(!i)return;let a=t.state.doc.resolve(i.pos),s=n&&n.slice;s?t.someProp("transformPasted",g=>{s=g(s,t)}):s=UZ(t,QZ(r.dataTransfer),rc?null:r.dataTransfer.getData("text/html"),!1,a);let u=!!(n&&ZZ(t,r));if(t.someProp("handleDrop",g=>g(t,r,s||M.empty,u))){r.preventDefault();return}if(!s)return;r.preventDefault();let l=s?Ap(t.state.doc,a.pos,s):a.pos;l==null&&(l=a.pos);let c=t.state.tr;if(u){let{node:g}=n;g?g.replace(c):c.deleteSelection()}let f=c.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,p=c.doc;if(d?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(p))return;let v=c.doc.resolve(f);if(d&&F.isSelectable(s.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new F(v));else{let g=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((y,q,S,b)=>g=b),c.setSelection(YI(t,v,c.doc.resolve(g)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};dr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&mn(t)},20))};dr.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};dr.beforeinput=(t,e)=>{if(nr&&gn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",a=>a(t,ua(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in hr)dr[t]=hr[t];function nc(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}o(nc,"compareObjs");var Kp=class Kp{constructor(e,r){this.toDOM=e,this.spec=r||ha,this.side=this.spec.side||0}map(e,r,n,i){let{pos:a,deleted:s}=e.mapResult(r.from+i,this.side<0?-1:1);return s?null:new $e(a-n,a-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Kp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&nc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}};o(Kp,"WidgetType");var Up=Kp,ec=class ec{constructor(e,r){this.attrs=e,this.spec=r||ha}map(e,r,n,i){let a=e.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return a>=s?null:new $e(a,s,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof ec&&nc(this.attrs,e.attrs)&&nc(this.spec,e.spec)}static is(e){return e.type instanceof ec}destroy(){}};o(ec,"InlineType");var da=ec,Gp=class Gp{constructor(e,r){this.attrs=e,this.spec=r||ha}map(e,r,n,i){let a=e.mapResult(r.from+i,1);if(a.deleted)return null;let s=e.mapResult(r.to+i,-1);return s.deleted||s.pos<=a.pos?null:new $e(a.pos-n,s.pos-n,this)}valid(e,r){let{index:n,offset:i}=e.content.findIndex(r.from),a;return i==r.from&&!(a=e.child(n)).isText&&i+a.nodeSize==r.to}eq(e){return this==e||e instanceof Gp&&nc(this.attrs,e.attrs)&&nc(this.spec,e.spec)}destroy(){}};o(Gp,"NodeType");var VI=Gp,la=class la{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new la(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new la(e,e,new Up(r,n))}static inline(e,r,n,i){return new la(e,r,new da(n,i))}static node(e,r,n,i){return new la(e,r,new VI(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof da}get widget(){return this.type instanceof Up}};o(la,"Decoration");var $e=la,Xo=[],ha={},kt=class kt{constructor(e,r){this.local=e.length?e:Xo,this.children=r.length?r:Xo}static create(e,r){return r.length?zp(r,e,0,ha):tr}find(e,r,n){let i=[];return this.findInner(e==null?0:e,r==null?1e9:r,i,0,n),i}findInner(e,r,n,i,a){for(let s=0;s<this.local.length;s++){let u=this.local[s];u.from<=r&&u.to>=e&&(!a||a(u.spec))&&n.push(u.copy(u.from+i,u.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<r&&this.children[s+1]>e){let u=this.children[s]+1;this.children[s+2].findInner(e-u,r-u,n,i+u,a)}}map(e,r,n){return this==tr||e.maps.length==0?this:this.mapInner(e,r,0,0,n||ha)}mapInner(e,r,n,i,a){let s;for(let u=0;u<this.local.length;u++){let l=this.local[u].map(e,n,i);l&&l.type.valid(r,l)?(s||(s=[])).push(l):a.onRemove&&a.onRemove(this.local[u].spec)}return this.children.length?Jtr(this.children,s||[],e,r,n,i,a):s?new kt(s.sort(pa),Xo):tr}add(e,r){return r.length?this==tr?kt.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let i,a=0;e.forEach((u,l)=>{let c=l+n,f;if(f=ree(r,u,c)){for(i||(i=this.children.slice());a<i.length&&i[a]<l;)a+=3;i[a]==l?i[a+2]=i[a+2].addInner(u,f,c+1):i.splice(a,0,l,l+u.nodeSize,zp(f,u,c+1,ha)),a+=3}});let s=eee(a?tee(r):r,-n);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||s.splice(u--,1);return new kt(s.length?this.local.concat(s).sort(pa):this.local,i||this.children)}remove(e){return e.length==0||this==tr?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,i=this.local;for(let a=0;a<n.length;a+=3){let s,u=n[a]+r,l=n[a+1]+r;for(let f=0,d;f<e.length;f++)(d=e[f])&&d.from>u&&d.to<l&&(e[f]=null,(s||(s=[])).push(d));if(!s)continue;n==this.children&&(n=this.children.slice());let c=n[a+2].removeInner(s,u+1);c!=tr?n[a+2]=c:(n.splice(a,3),a-=3)}if(i.length){for(let a=0,s;a<e.length;a++)if(s=e[a])for(let u=0;u<i.length;u++)i[u].eq(s,r)&&(i==this.local&&(i=this.local.slice()),i.splice(u--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new kt(i,n):tr}forChild(e,r){if(this==tr)return this;if(r.isLeaf)return kt.empty;let n,i;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(n=this.children[u+2]);break}let a=e+1,s=a+r.content.size;for(let u=0;u<this.local.length;u++){let l=this.local[u];if(l.from<s&&l.to>a&&l.type instanceof da){let c=Math.max(a,l.from)-a,f=Math.min(s,l.to)-a;c<f&&(i||(i=[])).push(l.copy(c,f))}}if(i){let u=new kt(i.sort(pa),Xo);return n?new Hp([u,n]):u}return n||tr}eq(e){if(this==e)return!0;if(!(e instanceof kt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return rw(this.localsInner(e))}localsInner(e){if(this==tr)return Xo;if(e.inlineContent||!this.local.some(da.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof da||r.push(this.local[n]);return r}forEachSet(e){e(this)}};o(kt,"DecorationSet");var ge=kt;ge.empty=new ge([],[]);ge.removeOverlap=rw;var tr=ge.empty,oi=class oi{constructor(e){this.members=e}map(e,r){let n=this.members.map(i=>i.map(e,r,ha));return oi.from(n)}forChild(e,r){if(r.isLeaf)return ge.empty;let n=[];for(let i=0;i<this.members.length;i++){let a=this.members[i].forChild(e,r);a!=tr&&(a instanceof oi?n=n.concat(a.members):n.push(a))}return oi.from(n)}eq(e){if(!(e instanceof oi)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let i=0;i<this.members.length;i++){let a=this.members[i].localsInner(e);if(a.length)if(!r)r=a;else{n&&(r=r.slice(),n=!1);for(let s=0;s<a.length;s++)r.push(a[s])}}return r?rw(n?r:r.sort(pa)):Xo}static from(e){switch(e.length){case 0:return tr;case 1:return e[0];default:return new oi(e.every(r=>r instanceof ge)?e:e.reduce((r,n)=>r.concat(n instanceof ge?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}};o(oi,"DecorationGroup");var Hp=oi;function Jtr(t,e,r,n,i,a,s){let u=t.slice();for(let c=0,f=a;c<r.maps.length;c++){let d=0;r.maps[c].forEach((p,v,g,y)=>{let q=y-g-(v-p);for(let S=0;S<u.length;S+=3){let b=u[S+1];if(b<0||p>b+f-d)continue;let A=u[S]+f-d;v>=A?u[S+1]=p<=A?-2:-1:p>=f&&q&&(u[S]+=q,u[S+1]+=q)}d+=q}),f=r.maps[c].map(f,-1)}let l=!1;for(let c=0;c<u.length;c+=3)if(u[c+1]<0){if(u[c+1]==-2){l=!0,u[c+1]=-1;continue}let f=r.map(t[c]+a),d=f-i;if(d<0||d>=n.content.size){l=!0;continue}let p=r.map(t[c+1]+a,-1),v=p-i,{index:g,offset:y}=n.content.findIndex(d),q=n.maybeChild(g);if(q&&y==d&&y+q.nodeSize==v){let S=u[c+2].mapInner(r,q,f+1,t[c]+a+1,s);S!=tr?(u[c]=d,u[c+1]=v,u[c+2]=S):(u[c+1]=-2,l=!0)}else l=!0}if(l){let c=Ytr(u,t,e,r,i,a,s),f=zp(c,n,0,s);e=f.local;for(let d=0;d<u.length;d+=3)u[d+1]<0&&(u.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let v=f.children[d];for(;p<u.length&&u[p]<v;)p+=3;u.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new ge(e.sort(pa),u)}o(Jtr,"mapChildren");function eee(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let i=t[n];r.push(new $e(i.from+e,i.to+e,i.type))}return r}o(eee,"moveSpans");function Ytr(t,e,r,n,i,a,s){function u(l,c){for(let f=0;f<l.local.length;f++){let d=l.local[f].map(n,i,c);d?r.push(d):s.onRemove&&s.onRemove(l.local[f].spec)}for(let f=0;f<l.children.length;f+=3)u(l.children[f+2],l.children[f]+c+1)}o(u,"gather");for(let l=0;l<t.length;l+=3)t[l+1]==-1&&u(t[l+2],e[l]+a+1);return r}o(Ytr,"mapAndGatherRemainingDecorations");function ree(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,i=null;for(let a=0,s;a<t.length;a++)(s=t[a])&&s.from>r&&s.to<n&&((i||(i=[])).push(s),t[a]=null);return i}o(ree,"takeSpansForNode");function tee(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}o(tee,"withoutNulls");function zp(t,e,r,n){let i=[],a=!1;e.forEach((u,l)=>{let c=ree(t,u,l+r);if(c){a=!0;let f=zp(c,u,r+l+1,n);f!=tr&&i.push(l,l+u.nodeSize,f)}});let s=eee(a?tee(t):t,-r).sort(pa);for(let u=0;u<s.length;u++)s[u].type.valid(e,s[u])||(n.onRemove&&n.onRemove(s[u].spec),s.splice(u--,1));return s.length||i.length?new ge(s,i):tr}o(zp,"buildTree");function pa(t,e){return t.from-e.from||t.to-e.to}o(pa,"byPos");function rw(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let i=r+1;i<e.length;i++){let a=e[i];if(a.from==n.from){a.to!=n.to&&(e==t&&(e=t.slice()),e[i]=a.copy(a.from,n.to),gZ(e,i+1,a.copy(n.to,a.to)));continue}else{a.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,a.from),gZ(e,i,n.copy(a.from,n.to)));break}}}return e}o(rw,"removeOverlap");function gZ(t,e,r){for(;e<t.length&&pa(r,t[e])>0;)e++;t.splice(e,0,r)}o(gZ,"insertAhead");function AI(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=tr&&e.push(n)}),t.cursorWrapper&&e.push(ge.create(t.state.doc,[t.cursorWrapper.deco])),Hp.from(e)}o(AI,"viewDecorations");var Xtr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Qtr=Ir&&ui<=11,fw=class fw{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}};o(fw,"SelectionState");var WI=fw,dw=class dw{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new WI,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let i=0;i<n.length;i++)this.queue.push(n[i]);Ir&&ui<=11&&n.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Qtr&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xtr)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(uZ(this.view)){if(this.suppressingSelectionUpdates)return mn(this.view);if(Ir&&ui<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&va(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let a=e.focusNode;a;a=Zo(a))r.add(a);for(let a=e.anchorNode;a;a=Zo(a))if(r.has(a)){n=a;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&uZ(e)&&!this.ignoreSelectionChange(n),a=-1,s=-1,u=!1,l=[];if(e.editable)for(let f=0;f<r.length;f++){let d=this.registerMutation(r[f],l);d&&(a=a<0?d.from:Math.min(d.from,a),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(u=!0))}if(pt&&l.length){let f=l.filter(d=>d.nodeName=="BR");if(f.length==2){let[d,p]=f;d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let p of f){let v=p.parentNode;v&&v.nodeName=="LI"&&(!d||rnr(e,d)!=v)&&p.remove()}}}let c=null;a<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Jp(n)&&(c=JI(e))&&c.eq(z.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,mn(e),this.currentSelection.set(n),e.scrollToSelection()):(a>-1||i)&&(a>-1&&(e.docView.markDirty(a,s),Ztr(e)),this.handleDOMChange(a,s,u,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||mn(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let d=e.addedNodes[f];r.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,a=e.nextSibling;if(Ir&&ui<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:d,nextSibling:p}=e.addedNodes[f];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(a=p)}let s=i&&i.parentNode==e.target?Xe(i)+1:0,u=n.localPosFromDOM(e.target,s,-1),l=a&&a.parentNode==e.target?Xe(a):e.target.childNodes.length,c=n.localPosFromDOM(e.target,l,1);return{from:u,to:c}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}};o(dw,"DOMObserver");var KI=dw,mZ=new WeakMap,yZ=!1;function Ztr(t){if(!mZ.has(t)&&(mZ.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pt,yZ)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),yZ=!0}}o(Ztr,"checkCSS");function qZ(t,e){let r=e.startContainer,n=e.startOffset,i=e.endContainer,a=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return va(s.node,s.offset,i,a)&&([r,n,i,a]=[i,a,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:a}}o(qZ,"rangeToSelectionRange");function enr(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return qZ(t,i)}let r;function n(i){i.preventDefault(),i.stopImmediatePropagation(),r=i.getTargetRanges()[0]}return o(n,"read"),t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?qZ(t,r):null}o(enr,"safariShadowSelectionRange");function rnr(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}o(rnr,"blockParent");function tnr(t,e,r){let{node:n,fromOffset:i,toOffset:a,from:s,to:u}=t.docView.parseRange(e,r),l=t.domSelectionRange(),c,f=l.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(c=[{node:f,offset:l.anchorOffset}],Jp(l)||c.push({node:l.focusNode,offset:l.focusOffset})),nr&&t.input.lastKeyCode===8)for(let q=a;q>i;q--){let S=n.childNodes[q-1],b=S.pmViewDesc;if(S.nodeName=="BR"&&!b){a=q;break}if(!b||b.size)break}let d=t.state.doc,p=t.someProp("domParser")||Mt.fromSchema(t.state.schema),v=d.resolve(s),g=null,y=p.parse(n,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:i,to:a,preserveWhitespace:v.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:nnr,context:v});if(c&&c[0].pos!=null){let q=c[0].pos,S=c[1]&&c[1].pos;S==null&&(S=q),g={anchor:q+s,head:S+s}}return{doc:y,sel:g,from:s,to:u}}o(tnr,"parseBetween");function nnr(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(fr&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||fr&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}o(nnr,"ruleFromNode");var inr=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function anr(t,e,r,n,i){let a=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let B=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,se=JI(t,B);if(se&&!t.state.selection.eq(se)){if(nr&&gn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Oa=>Oa(t,ua(13,"Enter"))))return;let Ae=t.state.tr.setSelection(se);B=="pointer"?Ae.setMeta("pointer",!0):B=="key"&&Ae.scrollIntoView(),a&&Ae.setMeta("composition",a),t.dispatch(Ae)}return}let s=t.state.doc.resolve(e),u=s.sharedDepth(r);e=s.before(u+1),r=t.state.doc.resolve(r).after(u+1);let l=t.state.selection,c=tnr(t,e,r),f=t.state.doc,d=f.slice(c.from,c.to),p,v;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,v="end"):(p=t.state.selection.from,v="start"),t.input.lastKeyCode=null;let g=unr(d.content,c.doc.content,c.from,p,v);if(g&&t.input.domChangeCount++,(es&&t.input.lastIOSEnter>Date.now()-225||gn)&&i.some(B=>B.nodeType==1&&!inr.test(B.nodeName))&&(!g||g.endA>=g.endB)&&t.someProp("handleKeyDown",B=>B(t,ua(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!g)if(n&&l instanceof D&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))g={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let B=SZ(t,t.state.doc,c.sel);if(B&&!B.eq(t.state.selection)){let se=t.state.tr.setSelection(B);a&&se.setMeta("composition",a),t.dispatch(se)}}return}t.state.selection.from<t.state.selection.to&&g.start==g.endB&&t.state.selection instanceof D&&(g.start>t.state.selection.from&&g.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?g.start=t.state.selection.from:g.endA<t.state.selection.to&&g.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(g.endB+=t.state.selection.to-g.endA,g.endA=t.state.selection.to)),Ir&&ui<=11&&g.endB==g.start+1&&g.endA==g.start&&g.start>c.from&&c.doc.textBetween(g.start-c.from-1,g.start-c.from+1)==" \xA0"&&(g.start--,g.endA--,g.endB--);let y=c.doc.resolveNoCache(g.start-c.from),q=c.doc.resolveNoCache(g.endB-c.from),S=f.resolve(g.start),b=y.sameParent(q)&&y.parent.inlineContent&&S.end()>=g.endA,A;if((es&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(B=>B.nodeName=="DIV"||B.nodeName=="P"))||!b&&y.pos<c.doc.content.size&&(!y.sameParent(q)||!y.parent.inlineContent)&&!/\S/.test(c.doc.textBetween(y.pos,q.pos,"",""))&&(A=z.findFrom(c.doc.resolve(y.pos+1),1,!0))&&A.head>y.pos)&&t.someProp("handleKeyDown",B=>B(t,ua(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>g.start&&snr(f,g.start,g.endA,y,q)&&t.someProp("handleKeyDown",B=>B(t,ua(8,"Backspace")))){gn&&nr&&t.domObserver.suppressSelectionUpdates();return}nr&&g.endB==g.start&&(t.input.lastChromeDelete=Date.now()),gn&&!b&&y.start()!=q.start()&&q.parentOffset==0&&y.depth==q.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==g.endA&&(g.endB-=2,q=c.doc.resolveNoCache(g.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(B){return B(t,ua(13,"Enter"))})},20));let k=g.start,P=g.endA,V=o(B=>{let se=B||t.state.tr.replace(k,P,c.doc.slice(g.start-c.from,g.endB-c.from));if(c.sel){let Ae=SZ(t,se.doc,c.sel);Ae&&!(nr&&t.composing&&Ae.empty&&(g.start!=g.endB||t.input.lastChromeDelete<Date.now()-100)&&(Ae.head==k||Ae.head==se.mapping.map(P)-1)||Ir&&Ae.empty&&Ae.head==k)&&se.setSelection(Ae)}return a&&se.setMeta("composition",a),se.scrollIntoView()},"mkTr"),ne;if(b){if(y.pos==q.pos){Ir&&ui<=11&&y.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>mn(t),20));let B=V(t.state.tr.delete(k,P)),se=f.resolve(g.start).marksAcross(f.resolve(g.endA));se&&B.ensureMarks(se),t.dispatch(B)}else if(g.endA==g.endB&&(ne=onr(y.parent.content.cut(y.parentOffset,q.parentOffset),S.parent.content.cut(S.parentOffset,g.endA-S.start())))){let B=V(t.state.tr);ne.type=="add"?B.addMark(k,P,ne.mark):B.removeMark(k,P,ne.mark),t.dispatch(B)}else if(y.parent.child(y.index()).isText&&y.index()==q.index()-(q.textOffset?0:1)){let B=y.parent.textBetween(y.parentOffset,q.parentOffset),se=o(()=>V(t.state.tr.insertText(B,k,P)),"deflt");t.someProp("handleTextInput",Ae=>Ae(t,k,P,B,se))||t.dispatch(se())}}else t.dispatch(V())}o(anr,"readDOMChange");function SZ(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:YI(t,e.resolve(r.anchor),e.resolve(r.head))}o(SZ,"resolveSelection");function onr(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,i=r,a=n,s,u,l;for(let f=0;f<n.length;f++)i=n[f].removeFromSet(i);for(let f=0;f<r.length;f++)a=r[f].removeFromSet(a);if(i.length==1&&a.length==0)u=i[0],s="add",l=o(f=>f.mark(u.addToSet(f.marks)),"update");else if(i.length==0&&a.length==1)u=a[0],s="remove",l=o(f=>f.mark(u.removeFromSet(f.marks)),"update");else return null;let c=[];for(let f=0;f<e.childCount;f++)c.push(l(e.child(f)));if(O.from(c).eq(t))return{mark:u,type:s}}o(onr,"isMarkChange");function snr(t,e,r,n,i){if(r-e<=i.pos-n.pos||CI(n,!0,!1)<i.pos)return!1;let a=t.resolve(e);if(!n.parent.isTextblock){let u=a.nodeAfter;return u!=null&&r==e+u.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let s=t.resolve(CI(a,!0,!0));return!s.parent.isTextblock||s.pos>r||CI(s,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(s.parent.content)}o(snr,"looksLikeBackspace");function CI(t,e,r){let n=t.depth,i=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,i++,e=!1;if(r){let a=t.node(n).maybeChild(t.indexAfter(n));for(;a&&!a.isLeaf;)a=a.firstChild,i++}return i}o(CI,"skipClosingAndOpening");function unr(t,e,r,n,i){let a=t.findDiffStart(e,r);if(a==null)return null;let{a:s,b:u}=t.findDiffEnd(e,r+t.size,r+e.size);if(i=="end"){let l=Math.max(0,a-Math.min(s,u));n-=s+l-a}if(s<a&&t.size<e.size){let l=n<=a&&n>=s?a-n:0;a-=l,a&&a<e.size&&bZ(e.textBetween(a-1,a+1))&&(a+=l?1:-1),u=a+(u-s),s=a}else if(u<a){let l=n<=a&&n>=u?a-n:0;a-=l,a&&a<t.size&&bZ(t.textBetween(a-1,a+1))&&(a+=l?1:-1),s=a+(s-u),u=a}return{start:a,endA:s,endB:u}}o(unr,"findDiff");function bZ(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}o(bZ,"isSurrogatePair");var hw=class hw{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new UI,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(IZ),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=TZ(this),xZ(this),this.nodeViews=OZ(this),this.docView=tZ(this.state.doc,EZ(this),AI(this),this.dom,this),this.domObserver=new KI(this,(n,i,a,s)=>anr(this,n,i,a,s)),this.domObserver.start(),Mtr(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&HI(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(IZ),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let i=this.state,a=!1,s=!1;e.storedMarks&&this.composing&&(XZ(this),s=!0),this.state=e;let u=i.plugins!=e.plugins||this._props.plugins!=r.plugins;if(u||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let v=OZ(this);cnr(v,this.nodeViews)&&(this.nodeViews=v,a=!0)}(u||r.handleDOMEvents!=this._props.handleDOMEvents)&&HI(this),this.editable=TZ(this),xZ(this);let l=AI(this),c=EZ(this),f=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=a||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(s=!0);let p=f=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Jrr(this);if(s){this.domObserver.stop();let v=d&&(Ir||nr)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&lnr(i.selection,e.selection);if(d){let g=nr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Htr(this)),(a||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=tZ(e.doc,c,l,this.dom,this)),g&&!this.trackWrites&&(v=!0)}v||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&gtr(this))?mn(this,v):(BZ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((n=this.dragging)===null||n===void 0)&&n.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&Yrr(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof F){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&YQ(this,r.getBoundingClientRect(),e)}else YQ(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,i=-1;if(this.state.doc.nodeAt(n.from)==n.node)i=n.from;else{let a=n.from+(this.state.doc.content.size-r.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==n.node&&(i=a)}this.dragging=new jp(e.slice,e.move,i<0?void 0:F.create(this.state.doc,i))}someProp(e,r){let n=this._props&&this._props[e],i;if(n!=null&&(i=r?r(n):n))return i;for(let s=0;s<this.directPlugins.length;s++){let u=this.directPlugins[s].props[e];if(u!=null&&(i=r?r(u):u))return i}let a=this.state.plugins;if(a)for(let s=0;s<a.length;s++){let u=a[s].props[e];if(u!=null&&(i=r?r(u):u))return i}}hasFocus(){if(Ir){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Xrr(this.dom),mn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return ttr(this,e)}coordsAtPos(e,r=1){return PZ(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let i=this.docView.posFromDOM(e,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,r){return str(this,r||this.state,e)}pasteHTML(e,r){return tc(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return tc(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return XI(this,e)}destroy(){this.docView&&(ktr(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],AI(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,_rr())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Ntr(this,e)}domSelectionRange(){let e=this.domSelection();return e?fr&&this.root.nodeType===11&&Hrr(this.dom.ownerDocument)==this.dom&&enr(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}};o(hw,"EditorView");var ic=hw;ic.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function EZ(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[$e.node(0,t.state.doc.content.size,e)]}o(EZ,"computeDocDeco");function xZ(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:$e.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}o(xZ,"updateCursorWrapper");function TZ(t){return!t.someProp("editable",e=>e(t.state)===!1)}o(TZ,"getEditable");function lnr(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}o(lnr,"selectionContextChanged");function OZ(t){let e=Object.create(null);function r(n){for(let i in n)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=n[i])}return o(r,"add"),t.someProp("nodeViews",r),t.someProp("markViews",r),e}o(OZ,"buildNodeViews");function cnr(t,e){let r=0,n=0;for(let i in t){if(t[i]!=e[i])return!0;r++}for(let i in e)n++;return r!=n}o(cnr,"changedNodeViews");function IZ(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}o(IZ,"checkStateComponent");var yn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Qp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},fnr=typeof navigator<"u"&&/Mac/.test(navigator.platform),dnr=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(Pe=0;Pe<10;Pe++)yn[48+Pe]=yn[96+Pe]=String(Pe);var Pe;for(Pe=1;Pe<=24;Pe++)yn[Pe+111]="F"+Pe;var Pe;for(Pe=65;Pe<=90;Pe++)yn[Pe]=String.fromCharCode(Pe+32),Qp[Pe]=String.fromCharCode(Pe);var Pe;for(Xp in yn)Qp.hasOwnProperty(Xp)||(Qp[Xp]=yn[Xp]);var Xp;function nee(t){var e=fnr&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||dnr&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Qp:yn)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}o(nee,"keyName");var hnr=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),pnr=typeof navigator<"u"&&/Win/.test(navigator.platform);function vnr(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,i,a,s;for(let u=0;u<e.length-1;u++){let l=e[u];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))hnr?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}o(vnr,"normalizeKeyName");function gnr(t){let e=Object.create(null);for(let r in t)e[vnr(r)]=t[r];return e}o(gnr,"normalize");function pw(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}o(pw,"modifiers");function iee(t){return new H({props:{handleKeyDown:vw(t)}})}o(iee,"keymap");function vw(t){let e=gnr(t);return function(r,n){let i=nee(n),a,s=e[pw(i,n)];if(s&&s(r.state,r.dispatch,r))return!0;if(i.length==1&&i!=" "){if(n.shiftKey){let u=e[pw(i,n,!1)];if(u&&u(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(pnr&&n.ctrlKey&&n.altKey)&&(a=yn[n.keyCode])&&a!=i){let u=e[pw(a,n)];if(u&&u(r.state,r.dispatch,r))return!0}}return!1}}o(vw,"keydownHandler");var Zp=o((t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),"deleteSelection");function oee(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}o(oee,"atBlockStart");var mw=o((t,e,r)=>{let n=oee(t,r);if(!n)return!1;let i=qw(n);if(!i){let s=n.blockRange(),u=s&&hn(s);return u==null?!1:(e&&e(t.tr.lift(s,u).scrollIntoView()),!0)}let a=i.nodeBefore;if(vee(t,i,e,-1))return!0;if(n.parent.content.size==0&&(ts(a,"end")||F.isSelectable(a)))for(let s=n.depth;;s--){let u=Gl(t.doc,n.before(s),n.after(s),M.empty);if(u&&u.slice.size<u.to-u.from){if(e){let l=t.tr.step(u);l.setSelection(ts(a,"end")?z.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):F.create(l.doc,i.pos-a.nodeSize)),e(l.scrollIntoView())}return!0}if(s==1||n.node(s-1).childCount>1)break}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos-a.nodeSize,i.pos).scrollIntoView()),!0):!1},"joinBackward"),see=o((t,e,r)=>{let n=oee(t,r);if(!n)return!1;let i=qw(n);return i?lee(t,i,e):!1},"joinTextblockBackward"),uee=o((t,e,r)=>{let n=cee(t,r);if(!n)return!1;let i=Ew(n);return i?lee(t,i,e):!1},"joinTextblockForward");function lee(t,e,r){let n=e.nodeBefore,i=n,a=e.pos-1;for(;!i.isTextblock;a--){if(i.type.spec.isolating)return!1;let f=i.lastChild;if(!f)return!1;i=f}let s=e.nodeAfter,u=s,l=e.pos+1;for(;!u.isTextblock;l++){if(u.type.spec.isolating)return!1;let f=u.firstChild;if(!f)return!1;u=f}let c=Gl(t.doc,a,l,M.empty);if(!c||c.from!=a||c instanceof rr&&c.slice.size>=l-a)return!1;if(r){let f=t.tr.step(c);f.setSelection(D.create(f.doc,a)),r(f.scrollIntoView())}return!0}o(lee,"joinTextblocksAround");function ts(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}o(ts,"textblockAt");var yw=o((t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;a=qw(n)}let s=a&&a.nodeBefore;return!s||!F.isSelectable(s)?!1:(e&&e(t.tr.setSelection(F.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)},"selectNodeBackward");function qw(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}o(qw,"findCutBefore");function cee(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}o(cee,"atBlockEnd");var Sw=o((t,e,r)=>{let n=cee(t,r);if(!n)return!1;let i=Ew(n);if(!i)return!1;let a=i.nodeAfter;if(vee(t,i,e,1))return!0;if(n.parent.content.size==0&&(ts(a,"start")||F.isSelectable(a))){let s=Gl(t.doc,n.before(),n.after(),M.empty);if(s&&s.slice.size<s.to-s.from){if(e){let u=t.tr.step(s);u.setSelection(ts(a,"start")?z.findFrom(u.doc.resolve(u.mapping.map(i.pos)),1):F.create(u.doc,u.mapping.map(i.pos))),e(u.scrollIntoView())}return!0}}return a.isAtom&&i.depth==n.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0):!1},"joinForward"),bw=o((t,e,r)=>{let{$head:n,empty:i}=t.selection,a=n;if(!i)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;a=Ew(n)}let s=a&&a.nodeAfter;return!s||!F.isSelectable(s)?!1:(e&&e(t.tr.setSelection(F.create(t.doc,a.pos)).scrollIntoView()),!0)},"selectNodeForward");function Ew(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}o(Ew,"findCutAfter");var fee=o((t,e)=>{let r=t.selection,n=r instanceof F,i;if(n){if(r.node.isTextblock||!Kr(t.doc,r.from))return!1;i=r.from}else if(i=na(t.doc,r.from,-1),i==null)return!1;if(e){let a=t.tr.join(i);n&&a.setSelection(F.create(a.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(a.scrollIntoView())}return!0},"joinUp"),dee=o((t,e)=>{let r=t.selection,n;if(r instanceof F){if(r.node.isTextblock||!Kr(t.doc,r.to))return!1;n=r.to}else if(n=na(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},"joinDown"),hee=o((t,e)=>{let{$from:r,$to:n}=t.selection,i=r.blockRange(n),a=i&&hn(i);return a==null?!1:(e&&e(t.tr.lift(i,a).scrollIntoView()),!0)},"lift"),xw=o((t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)},"newlineInCode");function Tw(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}o(Tw,"defaultBlockAt");var Ow=o((t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let i=r.node(-1),a=r.indexAfter(-1),s=Tw(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let u=r.after(),l=t.tr.replaceWith(u,u,s.createAndFill());l.setSelection(z.near(l.doc.resolve(u),1)),e(l.scrollIntoView())}return!0},"exitCode"),Iw=o((t,e)=>{let r=t.selection,{$from:n,$to:i}=r;if(r instanceof cr||n.parent.inlineContent||i.parent.inlineContent)return!1;let a=Tw(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let s=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,u=t.tr.insert(s,a.createAndFill());u.setSelection(D.create(u.doc,s+1)),e(u.scrollIntoView())}return!0},"createParagraphNear"),ww=o((t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let a=r.before();if(kr(t.doc,a))return e&&e(t.tr.split(a).scrollIntoView()),!0}let n=r.blockRange(),i=n&&hn(n);return i==null?!1:(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)},"liftEmptyBlock");function mnr(t){return(e,r)=>{let{$from:n,$to:i}=e.selection;if(e.selection instanceof F&&e.selection.node.isBlock)return!n.parentOffset||!kr(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let a=[],s,u,l=!1,c=!1;for(let v=n.depth;;v--)if(n.node(v).isBlock){l=n.end(v)==n.pos+(n.depth-v),c=n.start(v)==n.pos-(n.depth-v),u=Tw(n.node(v-1).contentMatchAt(n.indexAfter(v-1)));let y=t&&t(i.parent,l,n);a.unshift(y||(l&&u?{type:u}:null)),s=v;break}else{if(v==1)return!1;a.unshift(null)}let f=e.tr;(e.selection instanceof D||e.selection instanceof cr)&&f.deleteSelection();let d=f.mapping.map(n.pos),p=kr(f.doc,d,a.length,a);if(p||(a[0]=u?{type:u}:null,p=kr(f.doc,d,a.length,a)),!p)return!1;if(f.split(d,a.length,a),!l&&c&&n.node(s).type!=u){let v=f.mapping.map(n.before(s)),g=f.doc.resolve(v);u&&n.node(s-1).canReplaceWith(g.index(),g.index()+1,u)&&f.setNodeMarkup(f.mapping.map(n.before(s)),u)}return r&&r(f.scrollIntoView()),!0}}o(mnr,"splitBlockAs");var ynr=mnr();var pee=o((t,e)=>{let{$from:r,to:n}=t.selection,i,a=r.sharedDepth(n);return a==0?!1:(i=r.before(a),e&&e(t.tr.setSelection(F.create(t.doc,i))),!0)},"selectParentNode"),qnr=o((t,e)=>(e&&e(t.tr.setSelection(new cr(t.doc))),!0),"selectAll");function Snr(t,e,r){let n=e.nodeBefore,i=e.nodeAfter,a=e.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&e.parent.canReplace(a-1,a)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(a,a+1)||!(i.isTextblock||Kr(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}o(Snr,"joinMaybeClear");function vee(t,e,r,n){let i=e.nodeBefore,a=e.nodeAfter,s,u,l=i.type.spec.isolating||a.type.spec.isolating;if(!l&&Snr(t,e,r))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(s=(u=i.contentMatchAt(i.childCount)).findWrapping(a.type))&&u.matchType(s[0]||a.type).validEnd){if(r){let v=e.pos+a.nodeSize,g=O.empty;for(let S=s.length-1;S>=0;S--)g=O.from(s[S].create(null,g));g=O.from(i.copy(g));let y=t.tr.step(new ke(e.pos-1,v,e.pos,v,new M(g,1,0),s.length,!0)),q=y.doc.resolve(v+2*s.length);q.nodeAfter&&q.nodeAfter.type==i.type&&Kr(y.doc,q.pos)&&y.join(q.pos),r(y.scrollIntoView())}return!0}let f=a.type.spec.isolating||n>0&&l?null:z.findFrom(e,1),d=f&&f.$from.blockRange(f.$to),p=d&&hn(d);if(p!=null&&p>=e.depth)return r&&r(t.tr.lift(d,p).scrollIntoView()),!0;if(c&&ts(a,"start",!0)&&ts(i,"end")){let v=i,g=[];for(;g.push(v),!v.isTextblock;)v=v.lastChild;let y=a,q=1;for(;!y.isTextblock;y=y.firstChild)q++;if(v.canReplace(v.childCount,v.childCount,y.content)){if(r){let S=O.empty;for(let A=g.length-1;A>=0;A--)S=O.from(g[A].copy(S));let b=t.tr.step(new ke(e.pos-g.length,e.pos+a.nodeSize,e.pos+q,e.pos+a.nodeSize-q,new M(S,g.length,0),0,!0));r(b.scrollIntoView())}return!0}}return!1}o(vee,"deleteBarrier");function gee(t){return function(e,r){let n=e.selection,i=t<0?n.$from:n.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return i.node(a).isTextblock?(r&&r(e.tr.setSelection(D.create(e.doc,t<0?i.start(a):i.end(a)))),!0):!1}}o(gee,"selectTextblockSide");var Aw=gee(-1),Cw=gee(1);function mee(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a),u=s&&Wo(s,t,e);return u?(n&&n(r.tr.wrap(s,u).scrollIntoView()),!0):!1}}o(mee,"wrapIn");function Rw(t,e=null){return function(r,n){let i=!1;for(let a=0;a<r.selection.ranges.length&&!i;a++){let{$from:{pos:s},$to:{pos:u}}=r.selection.ranges[a];r.doc.nodesBetween(s,u,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let f=r.doc.resolve(c),d=f.index();i=f.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(n){let a=r.tr;for(let s=0;s<r.selection.ranges.length;s++){let{$from:{pos:u},$to:{pos:l}}=r.selection.ranges[s];a.setBlockType(u,l,t,e)}n(a.scrollIntoView())}return!0}}o(Rw,"setBlockType");function Mw(...t){return function(e,r,n){for(let i=0;i<t.length;i++)if(t[i](e,r,n))return!0;return!1}}o(Mw,"chainCommands");var gw=Mw(Zp,mw,yw),aee=Mw(Zp,Sw,bw),fi={Enter:Mw(xw,Iw,ww,ynr),"Mod-Enter":Ow,Backspace:gw,"Mod-Backspace":gw,"Shift-Backspace":gw,Delete:aee,"Mod-Delete":aee,"Mod-a":qnr},bnr={"Ctrl-h":fi.Backspace,"Alt-Backspace":fi["Mod-Backspace"],"Ctrl-d":fi.Delete,"Ctrl-Alt-Backspace":fi["Mod-Delete"],"Alt-Delete":fi["Mod-Delete"],"Alt-d":fi["Mod-Delete"],"Ctrl-a":Aw,"Ctrl-e":Cw};for(let t in fi)bnr[t]=fi[t];var VBr=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1;function yee(t,e=null){return function(r,n){let{$from:i,$to:a}=r.selection,s=i.blockRange(a);if(!s)return!1;let u=n?r.tr:null;return Enr(u,s,t,e)?(n&&n(u.scrollIntoView()),!0):!1}}o(yee,"wrapInList");function Enr(t,e,r,n=null){let i=!1,a=e,s=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let l=s.resolve(e.start-2);a=new Xi(l,l,e.depth),e.endIndex<e.parent.childCount&&(e=new Xi(e.$from,s.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let u=Wo(a,r,n,e);return u?(t&&xnr(t,e,u,i,r),!0):!1}o(Enr,"wrapRangeInList");function xnr(t,e,r,n,i){let a=O.empty;for(let f=r.length-1;f>=0;f--)a=O.from(r[f].type.create(r[f].attrs,a));t.step(new ke(e.start-(n?2:0),e.end,e.start,e.end,new M(a,0,0),r.length,!0));let s=0;for(let f=0;f<r.length;f++)r[f].type==i&&(s=f+1);let u=r.length-s,l=e.start+r.length-(n?2:0),c=e.parent;for(let f=e.startIndex,d=e.endIndex,p=!0;f<d;f++,p=!1)!p&&kr(t.doc,l,u)&&(t.split(l,u),l+=2*u),l+=c.child(f).nodeSize;return t}o(xnr,"doWrapInList");function qee(t){return function(e,r){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return a?r?n.node(a.depth-1).type==t?Tnr(e,r,t,a):Onr(e,r,a):!0:!1}}o(qee,"liftListItem");function Tnr(t,e,r,n){let i=t.tr,a=n.end,s=n.$to.end(n.depth);a<s&&(i.step(new ke(a-1,s,a,s,new M(O.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Xi(i.doc.resolve(n.$from.pos),i.doc.resolve(s),n.depth));let u=hn(n);if(u==null)return!1;i.lift(n,u);let l=i.doc.resolve(i.mapping.map(a,-1)-1);return Kr(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),e(i.scrollIntoView()),!0}o(Tnr,"liftToOuterList");function Onr(t,e,r){let n=t.tr,i=r.parent;for(let v=r.end,g=r.endIndex-1,y=r.startIndex;g>y;g--)v-=i.child(g).nodeSize,n.delete(v-1,v+1);let a=n.doc.resolve(r.start),s=a.nodeAfter;if(n.mapping.map(r.end)!=r.start+a.nodeAfter.nodeSize)return!1;let u=r.startIndex==0,l=r.endIndex==i.childCount,c=a.node(-1),f=a.index(-1);if(!c.canReplace(f+(u?0:1),f+1,s.content.append(l?O.empty:O.from(i))))return!1;let d=a.pos,p=d+s.nodeSize;return n.step(new ke(d-(u?1:0),p+(l?1:0),d+1,p-1,new M((u?O.empty:O.from(i.copy(O.empty))).append(l?O.empty:O.from(i.copy(O.empty))),u?0:1,l?0:1),u?0:1)),e(n.scrollIntoView()),!0}o(Onr,"liftOutOfList");function See(t){return function(e,r){let{$from:n,$to:i}=e.selection,a=n.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!a)return!1;let s=a.startIndex;if(s==0)return!1;let u=a.parent,l=u.child(s-1);if(l.type!=t)return!1;if(r){let c=l.lastChild&&l.lastChild.type==u.type,f=O.from(c?t.create():null),d=new M(O.from(t.create(null,O.from(u.type.create(null,f)))),c?3:1,0),p=a.start,v=a.end;r(e.tr.step(new ke(p-(c?3:1),v,p,v,d,1,!0)).scrollIntoView())}return!0}}o(See,"sinkListItem");var Inr=Object.defineProperty,Aee=o((t,e)=>{for(var r in e)Inr(t,r,{get:e[r],enumerable:!0})},"__export");function sv(t){let{state:e,transaction:r}=t,{selection:n}=r,{doc:i}=r,{storedMarks:a}=r;return ue(T({},e),{apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return a},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,a=r.storedMarks,r}})}o(sv,"createChainableState");var ns,uv=(ns=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:r,state:n}=this,{view:i}=r,{tr:a}=n,s=this.buildProps(a);return Object.fromEntries(Object.entries(e).map(([u,l])=>[u,o((...f)=>{let d=l(...f)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(a),d},"method")]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,r=!0){let{rawCommands:n,editor:i,state:a}=this,{view:s}=i,u=[],l=!!e,c=e||a.tr,f=o(()=>(!l&&r&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),u.every(p=>p===!0)),"run3"),d=ue(T({},Object.fromEntries(Object.entries(n).map(([p,v])=>[p,o((...y)=>{let q=this.buildProps(c,r),S=v(...y)(q);return u.push(S),d},"chainedCommand")]))),{run:f});return d}createCan(e){let{rawCommands:r,state:n}=this,i=!1,a=e||n.tr,s=this.buildProps(a,i),u=Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...f)=>c(...f)(ue(T({},s),{dispatch:void 0}))]));return ue(T({},u),{chain:o(()=>this.createChain(a,i),"chain")})}buildProps(e,r=!0){let{rawCommands:n,editor:i,state:a}=this,{view:s}=i,u={tr:e,editor:i,view:s,state:sv({state:a,transaction:e}),dispatch:r?()=>{}:void 0,chain:o(()=>this.createChain(e,r),"chain"),can:o(()=>this.createCan(e),"can"),get commands(){return Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...f)=>c(...f)(u)]))}};return u}},o(ns,"CommandManager"),ns),is,wnr=(is=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){let n=this.callbacks[e];return n&&n.forEach(i=>i.apply(this,r)),this}off(e,r){let n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(i=>i!==r):delete this.callbacks[e]),this}once(e,r){let n=o((...i)=>{this.off(e,n),r.apply(this,i)},"onceFn");return this.on(e,n)}removeAllListeners(){this.callbacks={}}},o(is,"EventEmitter"),is);function Fw(t,e){let r=new Vo(t);return e.forEach(n=>{n.steps.forEach(i=>{r.step(i)})}),r}o(Fw,"combineTransactionSteps");var Cee=o(t=>{let e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){let n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&Cee(n)}return t},"removeWhitespaces");function ev(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");let e="<body>".concat(t,"</body>"),r=new window.DOMParser().parseFromString(e,"text/html").body;return Cee(r)}o(ev,"elementFromString");function sc(t,e,r){if(t instanceof Or||t instanceof O)return t;r=T({slice:!0,parseOptions:{}},r);let n=typeof t=="object"&&t!==null,i=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return O.fromArray(t.map(u=>e.nodeFromJSON(u)));let s=e.nodeFromJSON(t);return r.errorOnInvalidContent&&s.check(),s}catch(a){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",a),sc("",e,r)}if(i){if(r.errorOnInvalidContent){let s=!1,u="",l=new Bo({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:o(c=>(s=!0,u=typeof c=="string"?c:c.outerHTML,null),"getAttrs")}]}})});if(r.slice?Mt.fromSchema(l).parseSlice(ev(t),r.parseOptions):Mt.fromSchema(l).parse(ev(t),r.parseOptions),r.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error("Invalid element found: ".concat(u))})}let a=Mt.fromSchema(e);return r.slice?a.parseSlice(ev(t),r.parseOptions).content:a.parse(ev(t),r.parseOptions)}return sc("",e,r)}o(sc,"createNodeFromContent");function Dw(t,e,r={},n={}){return sc(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}o(Dw,"createDocument");function Anr(t){for(let e=0;e<t.edgeCount;e+=1){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}o(Anr,"defaultBlockAt");function Ree(t,e,r){let n=[];return t.nodesBetween(e.from,e.to,(i,a)=>{r(i)&&n.push({node:i,pos:a})}),n}o(Ree,"findChildrenInRange");function wr(t,e){for(let r=t.depth;r>0;r-=1){let n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}o(wr,"findParentNodeClosestToPos");function lv(t){return e=>wr(e.$from,t)}o(lv,"findParentNode");function _(t,e,r){return t.config[e]===void 0&&t.parent?_(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind(ue(T({},r),{parent:t.parent?_(t.parent,e,r):null})):t.config[e]}o(_,"getExtensionField");function _w(t){return t.map(e=>{let r={name:e.name,options:e.options,storage:e.storage},n=_(e,"addExtensions",r);return n?[e,..._w(n())]:e}).flat(10)}o(_w,"flattenExtensions");function Bw(t,e){let r=ln.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}o(Bw,"getHTMLFromFragment");function Mee(t){return typeof t=="function"}o(Mee,"isFunction");function ce(t,e=void 0,...r){return Mee(t)?e?t.bind(e)(...r):t(...r):t}o(ce,"callOrReturn");function Cnr(t={}){return Object.keys(t).length===0&&t.constructor===Object}o(Cnr,"isEmptyObject");function uc(t){let e=t.filter(i=>i.type==="extension"),r=t.filter(i=>i.type==="node"),n=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}o(uc,"splitExtensions");function kee(t){let e=[],{nodeExtensions:r,markExtensions:n}=uc(t),i=[...r,...n],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{let u={name:s.name,options:s.options,storage:s.storage,extensions:i},l=_(s,"addGlobalAttributes",u);if(!l)return;l().forEach(f=>{f.types.forEach(d=>{Object.entries(f.attributes).forEach(([p,v])=>{e.push({type:d,name:p,attribute:T(T({},a),v)})})})})}),i.forEach(s=>{let u={name:s.name,options:s.options,storage:s.storage},l=_(s,"addAttributes",u);if(!l)return;let c=l();Object.entries(c).forEach(([f,d])=>{let p=T(T({},a),d);typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:s.name,name:f,attribute:p})})}),e}o(kee,"getAttributesFromExtensions");function te(...t){return t.filter(e=>!!e).reduce((e,r)=>{let n=T({},e);return Object.entries(r).forEach(([i,a])=>{if(!n[i]){n[i]=a;return}if(i==="class"){let u=a?String(a).split(" "):[],l=n[i]?n[i].split(" "):[],c=u.filter(f=>!l.includes(f));n[i]=[...l,...c].join(" ")}else if(i==="style"){let u=a?a.split(";").map(f=>f.trim()).filter(Boolean):[],l=n[i]?n[i].split(";").map(f=>f.trim()).filter(Boolean):[],c=new Map;l.forEach(f=>{let[d,p]=f.split(":").map(v=>v.trim());c.set(d,p)}),u.forEach(f=>{let[d,p]=f.split(":").map(v=>v.trim());c.set(d,p)}),n[i]=Array.from(c.entries()).map(([f,d])=>"".concat(f,": ").concat(d)).join("; ")}else n[i]=a}),n},{})}o(te,"mergeAttributes");function av(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>te(r,n),{})}o(av,"getRenderedAttributes");function Rnr(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}o(Rnr,"fromString");function bee(t,e){return"style"in t?t:ue(T({},t),{getAttrs:o(r=>{let n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;let i=e.reduce((a,s)=>{let u=s.attribute.parseHTML?s.attribute.parseHTML(r):Rnr(r.getAttribute(s.name));return u==null?a:ue(T({},a),{[s.name]:u})},{});return T(T({},n),i)},"getAttrs")})}o(bee,"injectExtensionAttributesToParseRule");function Eee(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&Cnr(r)?!1:r!=null))}o(Eee,"cleanUpSchemaItem");function Mnr(t,e){var r;let n=kee(t),{nodeExtensions:i,markExtensions:a}=uc(t),s=(r=i.find(c=>_(c,"topNode")))==null?void 0:r.name,u=Object.fromEntries(i.map(c=>{let f=n.filter(S=>S.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((S,b)=>{let A=_(b,"extendNodeSchema",d);return T(T({},S),A?A(c):{})},{}),v=Eee(ue(T({},p),{content:ce(_(c,"content",d)),marks:ce(_(c,"marks",d)),group:ce(_(c,"group",d)),inline:ce(_(c,"inline",d)),atom:ce(_(c,"atom",d)),selectable:ce(_(c,"selectable",d)),draggable:ce(_(c,"draggable",d)),code:ce(_(c,"code",d)),whitespace:ce(_(c,"whitespace",d)),linebreakReplacement:ce(_(c,"linebreakReplacement",d)),defining:ce(_(c,"defining",d)),isolating:ce(_(c,"isolating",d)),attrs:Object.fromEntries(f.map(S=>{var b,A;return[S.name,{default:(b=S==null?void 0:S.attribute)==null?void 0:b.default,validate:(A=S==null?void 0:S.attribute)==null?void 0:A.validate}]}))})),g=ce(_(c,"parseHTML",d));g&&(v.parseDOM=g.map(S=>bee(S,f)));let y=_(c,"renderHTML",d);y&&(v.toDOM=S=>y({node:S,HTMLAttributes:av(S,f)}));let q=_(c,"renderText",d);return q&&(v.toText=q),[c.name,v]})),l=Object.fromEntries(a.map(c=>{let f=n.filter(q=>q.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},p=t.reduce((q,S)=>{let b=_(S,"extendMarkSchema",d);return T(T({},q),b?b(c):{})},{}),v=Eee(ue(T({},p),{inclusive:ce(_(c,"inclusive",d)),excludes:ce(_(c,"excludes",d)),group:ce(_(c,"group",d)),spanning:ce(_(c,"spanning",d)),code:ce(_(c,"code",d)),attrs:Object.fromEntries(f.map(q=>{var S,b;return[q.name,{default:(S=q==null?void 0:q.attribute)==null?void 0:S.default,validate:(b=q==null?void 0:q.attribute)==null?void 0:b.validate}]}))})),g=ce(_(c,"parseHTML",d));g&&(v.parseDOM=g.map(q=>bee(q,f)));let y=_(c,"renderHTML",d);return y&&(v.toDOM=q=>y({mark:q,HTMLAttributes:av(q,f)})),[c.name,v]}));return new Bo({topNode:s,nodes:u,marks:l})}o(Mnr,"getSchemaByResolvedExtensions");function knr(t){let e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}o(knr,"findDuplicates");function $w(t){return t.sort((r,n)=>{let i=_(r,"priority")||100,a=_(n,"priority")||100;return i>a?-1:i<a?1:0})}o($w,"sortExtensions");function Pee(t){let e=$w(_w(t)),r=knr(e.map(n=>n.name));return r.length&&console.warn("[tiptap warn]: Duplicate extension names found: [".concat(r.map(n=>"'".concat(n,"'")).join(", "),"]. This can lead to issues.")),e}o(Pee,"resolveExtensions");function cv(t,e,r){let{from:n,to:i}=e,{blockSeparator:a="\n\n",textSerializers:s={}}=r||{},u="";return t.nodesBetween(n,i,(l,c,f,d)=>{var p;l.isBlock&&c>n&&(u+=a);let v=s==null?void 0:s[l.type.name];if(v)return f&&(u+=v({node:l,pos:c,parent:f,index:d,range:e})),!1;l.isText&&(u+=(p=l==null?void 0:l.text)==null?void 0:p.slice(Math.max(n,c)-c,i-c))}),u}o(cv,"getTextBetween");function Pnr(t,e){let r={from:0,to:t.content.size};return cv(t,r,e)}o(Pnr,"getText");function fv(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}o(fv,"getTextSerializersFromSchema");function qn(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error("There is no mark type named '".concat(t,"'. Maybe you forgot to add the extension?"));return e.marks[t]}return t}o(qn,"getMarkType");function Nee(t,e){let r=qn(e,t.schema),{from:n,to:i,empty:a}=t.selection,s=[];a?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,i,l=>{s.push(...l.marks)});let u=s.find(l=>l.type.name===r.name);return u?T({},u.attrs):{}}o(Nee,"getMarkAttributes");function Ie(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error("There is no node type named '".concat(t,"'. Maybe you forgot to add the extension?"));return e.nodes[t]}return t}o(Ie,"getNodeType");function Nnr(t,e){let r=Ie(e,t.schema),{from:n,to:i}=t.selection,a=[];t.doc.nodesBetween(n,i,u=>{a.push(u)});let s=a.reverse().find(u=>u.type.name===r.name);return s?T({},s.attrs):{}}o(Nnr,"getNodeAttributes");function dv(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}o(dv,"getSchemaTypeNameByName");function lc(t,e){let r=dv(typeof e=="string"?e:e.name,t.schema);return r==="node"?Nnr(t,e):r==="mark"?Nee(t,e):{}}o(lc,"getAttributes");function Dnr(t,e=JSON.stringify){let r={};return t.filter(n=>{let i=e(n);return Object.prototype.hasOwnProperty.call(r,i)?!1:r[i]=!0})}o(Dnr,"removeDuplicates");function Lnr(t){let e=Dnr(t);return e.length===1?e:e.filter((r,n)=>!e.filter((a,s)=>s!==n).some(a=>r.oldRange.from>=a.oldRange.from&&r.oldRange.to<=a.oldRange.to&&r.newRange.from>=a.newRange.from&&r.newRange.to<=a.newRange.to))}o(Lnr,"simplifyChangedRanges");function jw(t){let{mapping:e,steps:r}=t,n=[];return e.maps.forEach((i,a)=>{let s=[];if(i.ranges.length)i.forEach((u,l)=>{s.push({from:u,to:l})});else{let{from:u,to:l}=r[a];if(u===void 0||l===void 0)return;s.push({from:u,to:l})}s.forEach(({from:u,to:l})=>{let c=e.slice(a).map(u,-1),f=e.slice(a).map(l),d=e.invert().map(c,-1),p=e.invert().map(f);n.push({oldRange:{from:d,to:p},newRange:{from:c,to:f}})})}),Lnr(n)}o(jw,"getChangedRanges");function Uw(t){return Object.prototype.toString.call(t)==="[object RegExp]"}o(Uw,"isRegExp");function ov(t,e,r={strict:!0}){let n=Object.keys(e);return n.length?n.every(i=>r.strict?e[i]===t[i]:Uw(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}o(ov,"objectIncludes");function Dee(t,e,r={}){return t.find(n=>n.type===e&&ov(Object.fromEntries(Object.keys(r).map(i=>[i,n.attrs[i]])),r))}o(Dee,"findMarkInSet");function xee(t,e,r={}){return!!Dee(t,e,r)}o(xee,"isMarkInSet");function Hw(t,e,r){var n;if(!t||!e)return;let i=t.parent.childAfter(t.parentOffset);if((!i.node||!i.node.marks.some(f=>f.type===e))&&(i=t.parent.childBefore(t.parentOffset)),!i.node||!i.node.marks.some(f=>f.type===e)||(r=r||((n=i.node.marks[0])==null?void 0:n.attrs),!Dee([...i.node.marks],e,r)))return;let s=i.index,u=t.start()+i.offset,l=s+1,c=u+i.node.nodeSize;for(;s>0&&xee([...t.parent.child(s-1).marks],e,r);)s-=1,u-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&xee([...t.parent.child(l).marks],e,r);)c+=t.parent.child(l).nodeSize,l+=1;return{from:u,to:c}}o(Hw,"getMarkRange");function hv(t,e,r){let n=[];return t===e?r.resolve(t).marks().forEach(i=>{let a=r.resolve(t),s=Hw(a,i.type);s&&n.push(T({mark:i},s))}):r.nodesBetween(t,e,(i,a)=>{!i||(i==null?void 0:i.nodeSize)===void 0||n.push(...i.marks.map(s=>({from:a,to:a+i.nodeSize,mark:s})))}),n}o(hv,"getMarksBetween");var Lee=o((t,e,r,n=20)=>{let i=t.doc.resolve(r),a=n,s=null;for(;a>0&&s===null;){let u=i.node(a);(u==null?void 0:u.type.name)===e?s=u:a-=1}return[s,a]},"getNodeAtPosition");function kw(t,e){return e.nodes[t]||e.marks[t]||null}o(kw,"getSchemaTypeByName");function iv(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{let i=t.find(a=>a.type===e&&a.name===n);return i?i.attribute.keepOnSplit:!1}))}o(iv,"getSplittedAttributes");var Fnr=o((t,e=500)=>{let r="",n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(i,a,s,u)=>{var l,c;let f=((c=(l=i.type.spec).toText)==null?void 0:c.call(l,{node:i,pos:a,parent:s,index:u}))||i.textContent||"%leaf%";r+=i.isAtom&&!i.isText?f:f.slice(0,Math.max(0,n-a))}),r},"getTextContentFromNodes");function Lw(t,e,r={}){let{empty:n,ranges:i}=t.selection,a=e?qn(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>a?a.name===d.type.name:!0).find(d=>ov(d.attrs,r,{strict:!1}));let s=0,u=[];if(i.forEach(({$from:d,$to:p})=>{let v=d.pos,g=p.pos;t.doc.nodesBetween(v,g,(y,q)=>{if(!y.isText&&!y.marks.length)return;let S=Math.max(v,q),b=Math.min(g,q+y.nodeSize),A=b-S;s+=A,u.push(...y.marks.map(k=>({mark:k,from:S,to:b})))})}),s===0)return!1;let l=u.filter(d=>a?a.name===d.mark.type.name:!0).filter(d=>ov(d.mark.attrs,r,{strict:!1})).reduce((d,p)=>d+p.to-p.from,0),c=u.filter(d=>a?d.mark.type!==a&&d.mark.type.excludes(a):!0).reduce((d,p)=>d+p.to-p.from,0);return(l>0?l+c:l)>=s}o(Lw,"isMarkActive");function Dt(t,e,r={}){let{from:n,to:i,empty:a}=t.selection,s=e?Ie(e,t.schema):null,u=[];t.doc.nodesBetween(n,i,(d,p)=>{if(d.isText)return;let v=Math.max(n,p),g=Math.min(i,p+d.nodeSize);u.push({node:d,from:v,to:g})});let l=i-n,c=u.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>ov(d.node.attrs,r,{strict:!1}));return a?!!c.length:c.reduce((d,p)=>d+p.to-p.from,0)>=l}o(Dt,"isNodeActive");function _nr(t,e,r={}){if(!e)return Dt(t,null,r)||Lw(t,null,r);let n=dv(e,t.schema);return n==="node"?Dt(t,e,r):n==="mark"?Lw(t,e,r):!1}o(_nr,"isActive");var Fee=o((t,e)=>{let{$from:r,$to:n,$anchor:i}=t.selection;if(e){let a=lv(u=>u.type.name===e)(t.selection);if(!a)return!1;let s=t.doc.resolve(a.pos+1);return i.pos+1===s.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},"isAtEndOfNode"),_ee=o(t=>{let{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)},"isAtStartOfNode");function Tee(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}o(Tee,"isExtensionRulesEnabled");function Oee(t,e){let{nodeExtensions:r}=uc(e),n=r.find(s=>s.name===t);if(!n)return!1;let i={name:n.name,options:n.options,storage:n.storage},a=ce(_(n,"group",i));return typeof a!="string"?!1:a.split(" ").includes("list")}o(Oee,"isList");function cc(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(a=>{i!==!1&&(cc(a,{ignoreWhitespace:r,checkChildren:e})||(i=!1))}),i}return!1}o(cc,"isNodeEmpty");function Bee(t){return t instanceof F}o(Bee,"isNodeSelection");function $ee(t){return t instanceof D}o($ee,"isTextSelection");function ma(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}o(ma,"minMax");function jee(t,e=null){if(!e)return null;let r=z.atStart(t),n=z.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;let i=r.from,a=n.to;return e==="all"?D.create(t,ma(0,i,a),ma(t.content.size,i,a)):D.create(t,ma(e,i,a),ma(e,i,a))}o(jee,"resolveFocusPosition");function Bnr(t,e,r){let n=t.steps.length-1;if(n<e)return;let i=t.steps[n];if(!(i instanceof rr||i instanceof ke))return;let a=t.mapping.maps[n],s=0;a.forEach((u,l,c,f)=>{s===0&&(s=f)}),t.setSelection(z.near(t.doc.resolve(s),r))}o(Bnr,"selectionToInsertionEnd");var as,zw=(as=class{constructor(e){this.find=e.find,this.handler=e.handler}},o(as,"InputRule"),as),$nr=o((t,e)=>{if(Uw(e))return e.exec(t);let r=e(t);if(!r)return null;let n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n},"inputRuleMatcherHandler");function rv(t){var e;let{editor:r,from:n,to:i,text:a,rules:s,plugin:u}=t,{view:l}=r;if(l.composing)return!1;let c=l.state.doc.resolve(n);if(c.parent.type.spec.code||(e=c.nodeBefore||c.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1,d=Fnr(c)+a;return s.forEach(p=>{if(f)return;let v=$nr(d,p.find);if(!v)return;let g=l.state.tr,y=sv({state:l.state,transaction:g}),q={from:n-(v[0].length-a.length),to:i},{commands:S,chain:b,can:A}=new uv({editor:r,state:y});p.handler({state:y,range:q,match:v,commands:S,chain:b,can:A})===null||!g.steps.length||(g.setMeta(u,{transform:g,from:n,to:i,text:a}),l.dispatch(g),f=!0)}),f}o(rv,"run");function jnr(t){let{editor:e,rules:r}=t,n=new H({state:{init(){return null},apply(i,a,s){let u=i.getMeta(n);if(u)return u;let l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:f}=l;typeof f=="string"?f=f:f=Bw(O.from(f),s.schema);let{from:d}=l,p=d+f.length;rv({editor:e,from:d,to:p,text:f,rules:r,plugin:n})}),i.selectionSet||i.docChanged?null:a}},props:{handleTextInput(i,a,s,u){return rv({editor:e,from:a,to:s,text:u,rules:r,plugin:n})},handleDOMEvents:{compositionend:o(i=>(setTimeout(()=>{let{$cursor:a}=i.state.selection;a&&rv({editor:e,from:a.pos,to:a.pos,text:"",rules:r,plugin:n})}),!1),"compositionend")},handleKeyDown(i,a){if(a.key!=="Enter")return!1;let{$cursor:s}=i.state.selection;return s?rv({editor:e,from:s.pos,to:s.pos,text:"\n",rules:r,plugin:n}):!1}},isInputRules:!0});return n}o(jnr,"inputRulesPlugin");function Unr(t){return Object.prototype.toString.call(t).slice(8,-1)}o(Unr,"getType");function tv(t){return Unr(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}o(tv,"isPlainObject");function Uee(t,e){let r=T({},t);return tv(t)&&tv(e)&&Object.keys(e).forEach(n=>{tv(e[n])&&tv(t[n])?r[n]=Uee(t[n],e[n]):r[n]=e[n]}),r}o(Uee,"mergeDeep");var ss,Vw=(ss=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config=T(T({},this.config),e),this.name=this.config.name}get options(){return T({},ce(_(this,"addOptions",{name:this.name}))||{})}get storage(){return T({},ce(_(this,"addStorage",{name:this.name,options:this.options}))||{})}configure(e={}){let r=this.extend(ue(T({},this.config),{addOptions:o(()=>Uee(this.options,e),"addOptions")}));return r.name=this.name,r.parent=this.parent,r}extend(e={}){let r=new this.constructor(T(T({},this.config),e));return r.parent=this,this.child=r,r.name="name"in e?e.name:r.parent.name,r}},o(ss,"Extendable"),ss),ya,pr=(ya=class extends Vw{constructor(){super(...arguments),this.type="mark"}static create(e={}){let r=typeof e=="function"?e():e;return new ya(r)}static handleExit({editor:e,mark:r}){let{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){let s=i.marks();if(!!!s.find(c=>(c==null?void 0:c.type.name)===r.name))return!1;let l=s.find(c=>(c==null?void 0:c.type.name)===r.name);return l&&n.removeStoredMark(l),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){let r=typeof e=="function"?e():e;return super.extend(r)}},o(ya,"_Mark"),ya);function Hnr(t){return typeof t=="number"}o(Hnr,"isNumber");var us,znr=(us=class{constructor(e){this.find=e.find,this.handler=e.handler}},o(us,"PasteRule"),us),Vnr=o((t,e,r)=>{if(Uw(e))return[...t.matchAll(e)];let n=e(t,r);return n?n.map(i=>{let a=[i.text];return a.index=i.index,a.input=t,a.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(i.replaceWith)),a}):[]},"pasteRuleMatcherHandler");function Wnr(t){let{editor:e,state:r,from:n,to:i,rule:a,pasteEvent:s,dropEvent:u}=t,{commands:l,chain:c,can:f}=new uv({editor:e,state:r}),d=[];return r.doc.nodesBetween(n,i,(v,g)=>{var y,q,S,b,A;if((q=(y=v.type)==null?void 0:y.spec)!=null&&q.code||!(v.isText||v.isTextblock||v.isInline))return;let k=(A=(b=(S=v.content)==null?void 0:S.size)!=null?b:v.nodeSize)!=null?A:0,P=Math.max(n,g),V=Math.min(i,g+k);if(P>=V)return;let ne=v.isText?v.text||"":v.textBetween(P-g,V-g,void 0,"\uFFFC");Vnr(ne,a.find,s).forEach(se=>{if(se.index===void 0)return;let Ae=P+se.index+1,Oa=Ae+se[0].length,ps={from:r.tr.mapping.map(Ae),to:r.tr.mapping.map(Oa)},xc=a.handler({state:r,range:ps,match:se,commands:l,chain:c,can:f,pasteEvent:s,dropEvent:u});d.push(xc)})}),d.every(v=>v!==null)}o(Wnr,"run2");var nv=null,Knr=o(t=>{var e;let r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r},"createClipboardPasteEvent");function Gnr(t){let{editor:e,rules:r}=t,n=null,i=!1,a=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch(f){u=null}let l=o(({state:f,from:d,to:p,rule:v,pasteEvt:g})=>{let y=f.tr,q=sv({state:f,transaction:y});if(!(!Wnr({editor:e,state:q,from:Math.max(d-1,0),to:p.b-1,rule:v,pasteEvent:g,dropEvent:u})||!y.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch(b){u=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}},"processEvent");return r.map(f=>new H({view(d){let p=o(g=>{var y;n=(y=d.dom.parentElement)!=null&&y.contains(g.target)?d.dom.parentElement:null,n&&(nv=e)},"handleDragstart"),v=o(()=>{nv&&(nv=null)},"handleDragend");return window.addEventListener("dragstart",p),window.addEventListener("dragend",v),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",v)}}},props:{handleDOMEvents:{drop:o((d,p)=>{if(a=n===d.dom.parentElement,u=p,!a){let v=nv;v!=null&&v.isEditable&&setTimeout(()=>{let g=v.state.selection;g&&v.commands.deleteRange({from:g.from,to:g.to})},10)}return!1},"drop"),paste:o((d,p)=>{var v;let g=(v=p.clipboardData)==null?void 0:v.getData("text/html");return s=p,i=!!(g!=null&&g.includes("data-pm-slice")),!1},"paste")}},appendTransaction:o((d,p,v)=>{let g=d[0],y=g.getMeta("uiEvent")==="paste"&&!i,q=g.getMeta("uiEvent")==="drop"&&!a,S=g.getMeta("applyPasteRules"),b=!!S;if(!y&&!q&&!b)return;if(b){let{text:P}=S;typeof P=="string"?P=P:P=Bw(O.from(P),v.schema);let{from:V}=S,ne=V+P.length,B=Knr(P);return l({rule:f,state:v,from:V,to:{b:ne},pasteEvt:B})}let A=p.doc.content.findDiffStart(v.doc.content),k=p.doc.content.findDiffEnd(v.doc.content);if(!(!Hnr(A)||!k||A===k.b))return l({rule:f,state:v,from:A,to:k,pasteEvt:s})},"appendTransaction")}))}o(Gnr,"pasteRulesPlugin");var ls,pv=(ls=class{constructor(e,r){this.splittableMarks=[],this.editor=r,this.extensions=Pee(e),this.schema=Mnr(this.extensions,r),this.setupExtensions()}get commands(){return this.extensions.reduce((e,r)=>{let n={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:this.editor,type:kw(r.name,this.schema)},i=_(r,"addCommands",n);return i?T(T({},e),i()):e},{})}get plugins(){let{editor:e}=this;return $w([...this.extensions].reverse()).flatMap(i=>{let a={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:kw(i.name,this.schema)},s=[],u=_(i,"addKeyboardShortcuts",a),l={};if(i.type==="mark"&&_(i,"exitable",a)&&(l.ArrowRight=()=>pr.handleExit({editor:e,mark:i})),u){let v=Object.fromEntries(Object.entries(u()).map(([g,y])=>[g,()=>y({editor:e})]));l=T(T({},l),v)}let c=iee(l);s.push(c);let f=_(i,"addInputRules",a);if(Tee(i,e.options.enableInputRules)&&f){let v=f();if(v&&v.length){let g=jnr({editor:e,rules:v}),y=Array.isArray(g)?g:[g];s.push(...y)}}let d=_(i,"addPasteRules",a);if(Tee(i,e.options.enablePasteRules)&&d){let v=d();if(v&&v.length){let g=Gnr({editor:e,rules:v});s.push(...g)}}let p=_(i,"addProseMirrorPlugins",a);if(p){let v=p();s.push(...v)}return s})}get attributes(){return kee(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:r}=uc(this.extensions);return Object.fromEntries(r.filter(n=>!!_(n,"addNodeView")).map(n=>{let i=this.attributes.filter(l=>l.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ie(n.name,this.schema)},s=_(n,"addNodeView",a);if(!s)return[];let u=o((l,c,f,d,p)=>{let v=av(l,i);return s()({node:l,view:c,getPos:f,decorations:d,innerDecorations:p,editor:e,extension:n,HTMLAttributes:v})},"nodeview");return[n.name,u]}))}get markViews(){let{editor:e}=this,{markExtensions:r}=uc(this.extensions);return Object.fromEntries(r.filter(n=>!!_(n,"addMarkView")).map(n=>{let i=this.attributes.filter(l=>l.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:qn(n.name,this.schema)},s=_(n,"addMarkView",a);if(!s)return[];let u=o((l,c,f)=>{let d=av(l,i);return s()({mark:l,view:c,inline:f,editor:e,extension:n,HTMLAttributes:d,updateAttributes:o(p=>{sar(l,e,p)},"updateAttributes")})},"markView");return[n.name,u]}))}setupExtensions(){let e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(r=>[r.name,r.storage])),e.forEach(r=>{var n;let i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:this.editor,type:kw(r.name,this.schema)};r.type==="mark"&&((n=ce(_(r,"keepOnSplit",i)))==null||n)&&this.splittableMarks.push(r.name);let a=_(r,"onBeforeCreate",i),s=_(r,"onCreate",i),u=_(r,"onUpdate",i),l=_(r,"onSelectionUpdate",i),c=_(r,"onTransaction",i),f=_(r,"onFocus",i),d=_(r,"onBlur",i),p=_(r,"onDestroy",i);a&&this.editor.on("beforeCreate",a),s&&this.editor.on("create",s),u&&this.editor.on("update",u),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),p&&this.editor.on("destroy",p)})}},o(ls,"ExtensionManager"),ls);pv.resolve=Pee;pv.sort=$w;pv.flatten=_w;var Jnr={};Aee(Jnr,{ClipboardTextSerializer:o(()=>Hee,"ClipboardTextSerializer"),Commands:o(()=>Wee,"Commands"),Delete:o(()=>Kee,"Delete"),Drop:o(()=>Gee,"Drop"),Editable:o(()=>Jee,"Editable"),FocusEvents:o(()=>Xee,"FocusEvents"),Keymap:o(()=>Qee,"Keymap"),Paste:o(()=>Zee,"Paste"),Tabindex:o(()=>ere,"Tabindex"),focusEventsPluginKey:o(()=>Yee,"focusEventsPluginKey")});var qa,K=(qa=class extends Vw{constructor(){super(...arguments),this.type="extension"}static create(e={}){let r=typeof e=="function"?e():e;return new qa(r)}configure(e){return super.configure(e)}extend(e){let r=typeof e=="function"?e():e;return super.extend(r)}},o(qa,"_Extension"),qa),Hee=K.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new H({key:new Y("clipboardTextSerializer"),props:{clipboardTextSerializer:o(()=>{let{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:i}=e,{ranges:a}=i,s=Math.min(...a.map(f=>f.$from.pos)),u=Math.max(...a.map(f=>f.$to.pos)),l=fv(r);return cv(n,{from:s,to:u},ue(T({},this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{}),{textSerializers:l}))},"clipboardTextSerializer")}})]}}),zee={};Aee(zee,{blur:o(()=>Ynr,"blur"),clearContent:o(()=>Xnr,"clearContent"),clearNodes:o(()=>Qnr,"clearNodes"),command:o(()=>Znr,"command"),createParagraphNear:o(()=>eir,"createParagraphNear"),cut:o(()=>rir,"cut"),deleteCurrentNode:o(()=>tir,"deleteCurrentNode"),deleteNode:o(()=>nir,"deleteNode"),deleteRange:o(()=>iir,"deleteRange"),deleteSelection:o(()=>air,"deleteSelection"),enter:o(()=>oir,"enter"),exitCode:o(()=>sir,"exitCode"),extendMarkRange:o(()=>uir,"extendMarkRange"),first:o(()=>lir,"first"),focus:o(()=>fir,"focus"),forEach:o(()=>dir,"forEach"),insertContent:o(()=>hir,"insertContent"),insertContentAt:o(()=>vir,"insertContentAt"),joinBackward:o(()=>yir,"joinBackward"),joinDown:o(()=>mir,"joinDown"),joinForward:o(()=>qir,"joinForward"),joinItemBackward:o(()=>Sir,"joinItemBackward"),joinItemForward:o(()=>bir,"joinItemForward"),joinTextblockBackward:o(()=>Eir,"joinTextblockBackward"),joinTextblockForward:o(()=>xir,"joinTextblockForward"),joinUp:o(()=>gir,"joinUp"),keyboardShortcut:o(()=>Oir,"keyboardShortcut"),lift:o(()=>Iir,"lift"),liftEmptyBlock:o(()=>wir,"liftEmptyBlock"),liftListItem:o(()=>Air,"liftListItem"),newlineInCode:o(()=>Cir,"newlineInCode"),resetAttributes:o(()=>Rir,"resetAttributes"),scrollIntoView:o(()=>Mir,"scrollIntoView"),selectAll:o(()=>kir,"selectAll"),selectNodeBackward:o(()=>Pir,"selectNodeBackward"),selectNodeForward:o(()=>Nir,"selectNodeForward"),selectParentNode:o(()=>Dir,"selectParentNode"),selectTextblockEnd:o(()=>Lir,"selectTextblockEnd"),selectTextblockStart:o(()=>Fir,"selectTextblockStart"),setContent:o(()=>_ir,"setContent"),setMark:o(()=>$ir,"setMark"),setMeta:o(()=>jir,"setMeta"),setNode:o(()=>Uir,"setNode"),setNodeSelection:o(()=>Hir,"setNodeSelection"),setTextSelection:o(()=>zir,"setTextSelection"),sinkListItem:o(()=>Vir,"sinkListItem"),splitBlock:o(()=>Wir,"splitBlock"),splitListItem:o(()=>Kir,"splitListItem"),toggleList:o(()=>Gir,"toggleList"),toggleMark:o(()=>Jir,"toggleMark"),toggleNode:o(()=>Yir,"toggleNode"),toggleWrap:o(()=>Xir,"toggleWrap"),undoInputRule:o(()=>Qir,"undoInputRule"),unsetAllMarks:o(()=>Zir,"unsetAllMarks"),unsetMark:o(()=>ear,"unsetMark"),updateAttributes:o(()=>rar,"updateAttributes"),wrapIn:o(()=>tar,"wrapIn"),wrapInList:o(()=>nar,"wrapInList")});var Ynr=o(()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),"blur"),Xnr=o((t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),"clearContent"),Qnr=o(()=>({state:t,tr:e,dispatch:r})=>{let{selection:n}=e,{ranges:i}=n;return r&&i.forEach(({$from:a,$to:s})=>{t.doc.nodesBetween(a.pos,s.pos,(u,l)=>{if(u.type.isText)return;let{doc:c,mapping:f}=e,d=c.resolve(f.map(l)),p=c.resolve(f.map(l+u.nodeSize)),v=d.blockRange(p);if(!v)return;let g=hn(v);if(u.type.isTextblock){let{defaultType:y}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(v.start,y)}(g||g===0)&&e.lift(v,g)})}),!0},"clearNodes"),Znr=o(t=>e=>t(e),"command"),eir=o(()=>({state:t,dispatch:e})=>Iw(t,e),"createParagraphNear"),rir=o((t,e)=>({editor:r,tr:n})=>{let{state:i}=r,a=i.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);let s=n.mapping.map(e);return n.insert(s,a.content),n.setSelection(new D(n.doc.resolve(Math.max(s-1,0)))),!0},"cut"),tir=o(()=>({tr:t,dispatch:e})=>{let{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;let i=t.selection.$anchor;for(let a=i.depth;a>0;a-=1)if(i.node(a).type===n.type){if(e){let u=i.before(a),l=i.after(a);t.delete(u,l).scrollIntoView()}return!0}return!1},"deleteCurrentNode"),nir=o(t=>({tr:e,state:r,dispatch:n})=>{let i=Ie(t,r.schema),a=e.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===i){if(n){let l=a.before(s),c=a.after(s);e.delete(l,c).scrollIntoView()}return!0}return!1},"deleteNode"),iir=o(t=>({tr:e,dispatch:r})=>{let{from:n,to:i}=t;return r&&e.delete(n,i),!0},"deleteRange"),air=o(()=>({state:t,dispatch:e})=>Zp(t,e),"deleteSelection"),oir=o(()=>({commands:t})=>t.keyboardShortcut("Enter"),"enter"),sir=o(()=>({state:t,dispatch:e})=>Ow(t,e),"exitCode"),uir=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{let a=qn(t,n.schema),{doc:s,selection:u}=r,{$from:l,from:c,to:f}=u;if(i){let d=Hw(l,a,e);if(d&&d.from<=c&&d.to>=f){let p=D.create(s,d.from,d.to);r.setSelection(p)}}return!0},"extendMarkRange"),lir=o(t=>e=>{let r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1},"first");function cir(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}o(cir,"isAndroid");function Ww(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}o(Ww,"isiOS");var fir=o((t=null,e={})=>({editor:r,view:n,tr:i,dispatch:a})=>{e=T({scrollIntoView:!0},e);let s=o(()=>{(Ww()||cir())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})},"delayedFocus");if(n.hasFocus()&&t===null||t===!1)return!0;if(a&&t===null&&!$ee(r.state.selection))return s(),!0;let u=jee(i.doc,t)||r.state.selection,l=r.state.selection.eq(u);return a&&(l||i.setSelection(u),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},"focus"),dir=o((t,e)=>r=>t.every((n,i)=>e(n,ue(T({},r),{index:i}))),"forEach"),hir=o((t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),"insertContent"),pir=o(t=>!("type"in t),"isFragment"),vir=o((t,e,r)=>({tr:n,dispatch:i,editor:a})=>{var s;if(i){r=T({parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1},r);let u,l=o(q=>{a.emit("contentError",{editor:a,error:q,disableCollaboration:o(()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)},"disableCollaboration")})},"emitContentError"),c=T({preserveWhitespace:"full"},r.parseOptions);if(!r.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{sc(e,a.schema,{parseOptions:c,errorOnInvalidContent:!0})}catch(q){l(q)}try{u=sc(e,a.schema,{parseOptions:c,errorOnInvalidContent:(s=r.errorOnInvalidContent)!=null?s:a.options.enableContentCheck})}catch(q){return l(q),!1}let{from:f,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,v=!0;if((pir(u)?u:[u]).forEach(q=>{q.check(),p=p?q.isText&&q.marks.length===0:!1,v=v?q.isBlock:!1}),f===d&&v){let{parent:q}=n.doc.resolve(f);q.isTextblock&&!q.type.spec.code&&!q.childCount&&(f-=1,d+=1)}let y;if(p){if(Array.isArray(e))y=e.map(q=>q.text||"").join("");else if(e instanceof O){let q="";e.forEach(S=>{S.text&&(q+=S.text)}),y=q}else typeof e=="object"&&e&&e.text?y=e.text:y=e;n.insertText(y,f,d)}else{y=u;let q=n.doc.resolve(f),S=q.node(),b=q.parentOffset===0,A=S.isText||S.isTextblock,k=S.content.size>0;b&&A&&k&&(f=Math.max(0,f-1)),n.replaceWith(f,d,y)}r.updateSelection&&Bnr(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:y}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:y})}return!0},"insertContentAt"),gir=o(()=>({state:t,dispatch:e})=>fee(t,e),"joinUp"),mir=o(()=>({state:t,dispatch:e})=>dee(t,e),"joinDown"),yir=o(()=>({state:t,dispatch:e})=>mw(t,e),"joinBackward"),qir=o(()=>({state:t,dispatch:e})=>Sw(t,e),"joinForward"),Sir=o(()=>({state:t,dispatch:e,tr:r})=>{try{let n=na(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch(n){return!1}},"joinItemBackward"),bir=o(()=>({state:t,dispatch:e,tr:r})=>{try{let n=na(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch(n){return!1}},"joinItemForward"),Eir=o(()=>({state:t,dispatch:e})=>see(t,e),"joinTextblockBackward"),xir=o(()=>({state:t,dispatch:e})=>uee(t,e),"joinTextblockForward");function Vee(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}o(Vee,"isMacOS");function Tir(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r==="Space"&&(r=" ");let n,i,a,s;for(let u=0;u<e.length-1;u+=1){let l=e[u];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))n=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))a=!0;else if(/^mod$/i.test(l))Ww()||Vee()?s=!0:i=!0;else throw new Error("Unrecognized modifier name: ".concat(l))}return n&&(r="Alt-".concat(r)),i&&(r="Ctrl-".concat(r)),s&&(r="Meta-".concat(r)),a&&(r="Shift-".concat(r)),r}o(Tir,"normalizeKeyName");var Oir=o(t=>({editor:e,view:r,tr:n,dispatch:i})=>{let a=Tir(t).split(/-(?!$)/),s=a.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),u=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{r.someProp("handleKeyDown",c=>c(r,u))});return l==null||l.steps.forEach(c=>{let f=c.map(n.mapping);f&&i&&n.maybeStep(f)}),!0},"keyboardShortcut"),Iir=o((t,e={})=>({state:r,dispatch:n})=>{let i=Ie(t,r.schema);return Dt(r,i,e)?hee(r,n):!1},"lift"),wir=o(()=>({state:t,dispatch:e})=>ww(t,e),"liftEmptyBlock"),Air=o(t=>({state:e,dispatch:r})=>{let n=Ie(t,e.schema);return qee(n)(e,r)},"liftListItem"),Cir=o(()=>({state:t,dispatch:e})=>xw(t,e),"newlineInCode");function Iee(t,e){let r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,i)=>(r.includes(i)||(n[i]=t[i]),n),{})}o(Iee,"deleteProps");var Rir=o((t,e)=>({tr:r,state:n,dispatch:i})=>{let a=null,s=null,u=dv(typeof t=="string"?t:t.name,n.schema);return u?(u==="node"&&(a=Ie(t,n.schema)),u==="mark"&&(s=qn(t,n.schema)),i&&r.selection.ranges.forEach(l=>{n.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,f)=>{a&&a===c.type&&r.setNodeMarkup(f,void 0,Iee(c.attrs,e)),s&&c.marks.length&&c.marks.forEach(d=>{s===d.type&&r.addMark(f,f+c.nodeSize,s.create(Iee(d.attrs,e)))})})}),!0):!1},"resetAttributes"),Mir=o(()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),"scrollIntoView"),kir=o(()=>({tr:t,dispatch:e})=>{if(e){let r=new cr(t.doc);t.setSelection(r)}return!0},"selectAll"),Pir=o(()=>({state:t,dispatch:e})=>yw(t,e),"selectNodeBackward"),Nir=o(()=>({state:t,dispatch:e})=>bw(t,e),"selectNodeForward"),Dir=o(()=>({state:t,dispatch:e})=>pee(t,e),"selectParentNode"),Lir=o(()=>({state:t,dispatch:e})=>Cw(t,e),"selectTextblockEnd"),Fir=o(()=>({state:t,dispatch:e})=>Aw(t,e),"selectTextblockStart"),_ir=o((t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:i,tr:a,dispatch:s,commands:u})=>{let{doc:l}=a;if(n.preserveWhitespace!=="full"){let c=Dw(t,i.schema,n,{errorOnInvalidContent:e!=null?e:i.options.enableContentCheck});return s&&a.replaceWith(0,l.content.size,c).setMeta("preventUpdate",!r),!0}return s&&a.setMeta("preventUpdate",!r),u.insertContentAt({from:0,to:l.content.size},t,{parseOptions:n,errorOnInvalidContent:e!=null?e:i.options.enableContentCheck})},"setContent");function Bir(t,e,r){var n;let{selection:i}=e,a=null;if($ee(i)&&(a=i.$cursor),a){let u=(n=t.storedMarks)!=null?n:a.marks();return a.parent.type.allowsMarkType(r)&&(!!r.isInSet(u)||!u.some(c=>c.type.excludes(r)))}let{ranges:s}=i;return s.some(({$from:u,$to:l})=>{let c=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(u.pos,l.pos,(f,d,p)=>{if(c)return!1;if(f.isInline){let v=!p||p.type.allowsMarkType(r),g=!!r.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(r));c=v&&g}return!c}),c})}o(Bir,"canSetMark");var $ir=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{let{selection:a}=r,{empty:s,ranges:u}=a,l=qn(t,n.schema);if(i)if(s){let c=Nee(n,l);r.addStoredMark(l.create(T(T({},c),e)))}else u.forEach(c=>{let f=c.$from.pos,d=c.$to.pos;n.doc.nodesBetween(f,d,(p,v)=>{let g=Math.max(v,f),y=Math.min(v+p.nodeSize,d);p.marks.find(S=>S.type===l)?p.marks.forEach(S=>{l===S.type&&r.addMark(g,y,l.create(T(T({},S.attrs),e)))}):r.addMark(g,y,l.create(e))})});return Bir(n,r,l)},"setMark"),jir=o((t,e)=>({tr:r})=>(r.setMeta(t,e),!0),"setMeta"),Uir=o((t,e={})=>({state:r,dispatch:n,chain:i})=>{let a=Ie(t,r.schema),s;return r.selection.$anchor.sameParent(r.selection.$head)&&(s=r.selection.$anchor.parent.attrs),a.isTextblock?i().command(({commands:u})=>Rw(a,T(T({},s),e))(r)?!0:u.clearNodes()).command(({state:u})=>Rw(a,T(T({},s),e))(u,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},"setNode"),Hir=o(t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,i=ma(t,0,n.content.size),a=F.create(n,i);e.setSelection(a)}return!0},"setNodeSelection"),zir=o(t=>({tr:e,dispatch:r})=>{if(r){let{doc:n}=e,{from:i,to:a}=typeof t=="number"?{from:t,to:t}:t,s=D.atStart(n).from,u=D.atEnd(n).to,l=ma(i,s,u),c=ma(a,s,u),f=D.create(n,l,c);e.setSelection(f)}return!0},"setTextSelection"),Vir=o(t=>({state:e,dispatch:r})=>{let n=Ie(t,e.schema);return See(n)(e,r)},"sinkListItem");function wee(t,e){let r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){let n=r.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(n)}}o(wee,"ensureMarks");var Wir=o(({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:i})=>{let{selection:a,doc:s}=e,{$from:u,$to:l}=a,c=i.extensionManager.attributes,f=iv(c,u.node().type.name,u.node().attrs);if(a instanceof F&&a.node.isBlock)return!u.parentOffset||!kr(s,u.pos)?!1:(n&&(t&&wee(r,i.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;let d=l.parentOffset===l.parent.content.size,p=u.depth===0?void 0:Anr(u.node(-1).contentMatchAt(u.indexAfter(-1))),v=d&&p?[{type:p,attrs:f}]:void 0,g=kr(e.doc,e.mapping.map(u.pos),1,v);if(!v&&!g&&kr(e.doc,e.mapping.map(u.pos),1,p?[{type:p}]:void 0)&&(g=!0,v=p?[{type:p,attrs:f}]:void 0),n){if(g&&(a instanceof D&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,v),p&&!d&&!u.parentOffset&&u.parent.type!==p)){let y=e.mapping.map(u.before()),q=e.doc.resolve(y);u.node(-1).canReplaceWith(q.index(),q.index()+1,p)&&e.setNodeMarkup(e.mapping.map(u.before()),p)}t&&wee(r,i.extensionManager.splittableMarks),e.scrollIntoView()}return g},"splitBlock"),Kir=o((t,e={})=>({tr:r,state:n,dispatch:i,editor:a})=>{var s;let u=Ie(t,n.schema),{$from:l,$to:c}=n.selection,f=n.selection.node;if(f&&f.isBlock||l.depth<2||!l.sameParent(c))return!1;let d=l.node(-1);if(d.type!==u)return!1;let p=a.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==u||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let S=O.empty,b=l.index(-1)?1:l.index(-2)?2:3;for(let B=l.depth-b;B>=l.depth-3;B-=1)S=O.from(l.node(B).copy(S));let A=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k=T(T({},iv(p,l.node().type.name,l.node().attrs)),e),P=((s=u.contentMatch.defaultType)==null?void 0:s.createAndFill(k))||void 0;S=S.append(O.from(u.createAndFill(null,P)||void 0));let V=l.before(l.depth-(b-1));r.replace(V,l.after(-A),new M(S,4-b,0));let ne=-1;r.doc.nodesBetween(V,r.doc.content.size,(B,se)=>{if(ne>-1)return!1;B.isTextblock&&B.content.size===0&&(ne=se+1)}),ne>-1&&r.setSelection(D.near(r.doc.resolve(ne))),r.scrollIntoView()}return!0}let v=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,g=T(T({},iv(p,d.type.name,d.attrs)),e),y=T(T({},iv(p,l.node().type.name,l.node().attrs)),e);r.delete(l.pos,c.pos);let q=v?[{type:u,attrs:g},{type:v,attrs:y}]:[{type:u,attrs:g}];if(!kr(r.doc,l.pos,2))return!1;if(i){let{selection:S,storedMarks:b}=n,{splittableMarks:A}=a.extensionManager,k=b||S.$to.parentOffset&&S.$from.marks();if(r.split(l.pos,2,q).scrollIntoView(),!k||!i)return!0;let P=k.filter(V=>A.includes(V.type.name));r.ensureMarks(P)}return!0},"splitListItem"),Pw=o((t,e)=>{let r=lv(s=>s.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Kr(t.doc,r.pos)&&t.join(r.pos),!0},"joinListBackwards"),Nw=o((t,e)=>{let r=lv(s=>s.type===e)(t.selection);if(!r)return!0;let n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;let i=t.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&Kr(t.doc,n)&&t.join(n),!0},"joinListForwards"),Gir=o((t,e,r,n={})=>({editor:i,tr:a,state:s,dispatch:u,chain:l,commands:c,can:f})=>{let{extensions:d,splittableMarks:p}=i.extensionManager,v=Ie(t,s.schema),g=Ie(e,s.schema),{selection:y,storedMarks:q}=s,{$from:S,$to:b}=y,A=S.blockRange(b),k=q||y.$to.parentOffset&&y.$from.marks();if(!A)return!1;let P=lv(V=>Oee(V.type.name,d))(y);if(A.depth>=1&&P&&A.depth-P.depth<=1){if(P.node.type===v)return c.liftListItem(g);if(Oee(P.node.type.name,d)&&v.validContent(P.node.content)&&u)return l().command(()=>(a.setNodeMarkup(P.pos,v),!0)).command(()=>Pw(a,v)).command(()=>Nw(a,v)).run()}return!r||!k||!u?l().command(()=>f().wrapInList(v,n)?!0:c.clearNodes()).wrapInList(v,n).command(()=>Pw(a,v)).command(()=>Nw(a,v)).run():l().command(()=>{let V=f().wrapInList(v,n),ne=k.filter(B=>p.includes(B.type.name));return a.ensureMarks(ne),V?!0:c.clearNodes()}).wrapInList(v,n).command(()=>Pw(a,v)).command(()=>Nw(a,v)).run()},"toggleList"),Jir=o((t,e={},r={})=>({state:n,commands:i})=>{let{extendEmptyMarkRange:a=!1}=r,s=qn(t,n.schema);return Lw(n,s,e)?i.unsetMark(s,{extendEmptyMarkRange:a}):i.setMark(s,e)},"toggleMark"),Yir=o((t,e,r={})=>({state:n,commands:i})=>{let a=Ie(t,n.schema),s=Ie(e,n.schema),u=Dt(n,a,r),l;return n.selection.$anchor.sameParent(n.selection.$head)&&(l=n.selection.$anchor.parent.attrs),u?i.setNode(s,l):i.setNode(a,T(T({},l),r))},"toggleNode"),Xir=o((t,e={})=>({state:r,commands:n})=>{let i=Ie(t,r.schema);return Dt(r,i,e)?n.lift(i):n.wrapIn(i,e)},"toggleWrap"),Qir=o(()=>({state:t,dispatch:e})=>{let r=t.plugins;for(let n=0;n<r.length;n+=1){let i=r[n],a;if(i.spec.isInputRules&&(a=i.getState(t))){if(e){let s=t.tr,u=a.transform;for(let l=u.steps.length-1;l>=0;l-=1)s.step(u.steps[l].invert(u.docs[l]));if(a.text){let l=s.doc.resolve(a.from).marks();s.replaceWith(a.from,a.to,t.schema.text(a.text,l))}else s.delete(a.from,a.to)}return!0}}return!1},"undoInputRule"),Zir=o(()=>({tr:t,dispatch:e})=>{let{selection:r}=t,{empty:n,ranges:i}=r;return n||e&&i.forEach(a=>{t.removeMark(a.$from.pos,a.$to.pos)}),!0},"unsetAllMarks"),ear=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{var a;let{extendEmptyMarkRange:s=!1}=e,{selection:u}=r,l=qn(t,n.schema),{$from:c,empty:f,ranges:d}=u;if(!i)return!0;if(f&&s){let{from:p,to:v}=u,g=(a=c.marks().find(q=>q.type===l))==null?void 0:a.attrs,y=Hw(c,l,g);y&&(p=y.from,v=y.to),r.removeMark(p,v,l)}else d.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,l)});return r.removeStoredMark(l),!0},"unsetMark"),rar=o((t,e={})=>({tr:r,state:n,dispatch:i})=>{let a=null,s=null,u=dv(typeof t=="string"?t:t.name,n.schema);return u?(u==="node"&&(a=Ie(t,n.schema)),u==="mark"&&(s=qn(t,n.schema)),i&&r.selection.ranges.forEach(l=>{let c=l.$from.pos,f=l.$to.pos,d,p,v,g;r.selection.empty?n.doc.nodesBetween(c,f,(y,q)=>{a&&a===y.type&&(v=Math.max(q,c),g=Math.min(q+y.nodeSize,f),d=q,p=y)}):n.doc.nodesBetween(c,f,(y,q)=>{q<c&&a&&a===y.type&&(v=Math.max(q,c),g=Math.min(q+y.nodeSize,f),d=q,p=y),q>=c&&q<=f&&(a&&a===y.type&&r.setNodeMarkup(q,void 0,T(T({},y.attrs),e)),s&&y.marks.length&&y.marks.forEach(S=>{if(s===S.type){let b=Math.max(q,c),A=Math.min(q+y.nodeSize,f);r.addMark(b,A,s.create(T(T({},S.attrs),e)))}}))}),p&&(d!==void 0&&r.setNodeMarkup(d,void 0,T(T({},p.attrs),e)),s&&p.marks.length&&p.marks.forEach(y=>{s===y.type&&r.addMark(v,g,s.create(T(T({},y.attrs),e)))}))}),!0):!1},"updateAttributes"),tar=o((t,e={})=>({state:r,dispatch:n})=>{let i=Ie(t,r.schema);return mee(i,e)(r,n)},"wrapIn"),nar=o((t,e={})=>({state:r,dispatch:n})=>{let i=Ie(t,r.schema);return yee(i,e)(r,n)},"wrapInList"),Wee=K.create({name:"commands",addCommands(){return T({},zee)}}),Kee=K.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,i;let a=o(()=>{var s,u,l,c;if((c=(l=(u=(s=this.editor.options.coreExtensionOptions)==null?void 0:s.delete)==null?void 0:u.filterTransaction)==null?void 0:l.call(u,t))!=null?c:t.getMeta("y-sync$"))return;let f=Fw(t.before,[t,...e]);jw(f).forEach(v=>{f.mapping.mapResult(v.oldRange.from).deletedAfter&&f.mapping.mapResult(v.oldRange.to).deletedBefore&&f.before.nodesBetween(v.oldRange.from,v.oldRange.to,(g,y)=>{let q=y+g.nodeSize-2,S=v.oldRange.from<=y&&q<=v.oldRange.to;this.editor.emit("delete",{type:"node",node:g,from:y,to:q,newFrom:f.mapping.map(y),newTo:f.mapping.map(q),deletedRange:v.oldRange,newRange:v.newRange,partial:!S,editor:this.editor,transaction:t,combinedTransform:f})})});let p=f.mapping;f.steps.forEach((v,g)=>{var y,q;if(v instanceof dn){let S=p.slice(g).map(v.from,-1),b=p.slice(g).map(v.to),A=p.invert().map(S,-1),k=p.invert().map(b),P=(y=f.doc.nodeAt(S-1))==null?void 0:y.marks.some(ne=>ne.eq(v.mark)),V=(q=f.doc.nodeAt(b))==null?void 0:q.marks.some(ne=>ne.eq(v.mark));this.editor.emit("delete",{type:"mark",mark:v.mark,from:v.from,to:v.to,deletedRange:{from:A,to:k},newRange:{from:S,to:b},partial:!!(V||P),editor:this.editor,transaction:t,combinedTransform:f})}})},"callback");(i=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||i?setTimeout(a,0):a()}}),Gee=K.create({name:"drop",addProseMirrorPlugins(){return[new H({key:new Y("tiptapDrop"),props:{handleDrop:o((t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})},"handleDrop")}})]}}),Jee=K.create({name:"editable",addProseMirrorPlugins(){return[new H({key:new Y("editable"),props:{editable:o(()=>this.editor.options.editable,"editable")}})]}}),Yee=new Y("focusEvents"),Xee=K.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:t}=this;return[new H({key:Yee,props:{handleDOMEvents:{focus:o((e,r)=>{t.isFocused=!0;let n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},"focus"),blur:o((e,r)=>{t.isFocused=!1;let n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},"blur")}}})]}}),Qee=K.create({name:"keymap",addKeyboardShortcuts(){let t=o(()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:u})=>{let{selection:l,doc:c}=u,{empty:f,$anchor:d}=l,{pos:p,parent:v}=d,g=d.parent.isTextblock&&p>0?u.doc.resolve(p-1):d,y=g.parent.type.spec.isolating,q=d.pos-d.parentOffset,S=y&&g.parent.childCount===1?q===d.pos:z.atStart(c).from===p;return!f||!v.type.isTextblock||v.textContent.length||!S||S&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),"handleBackspace"),e=o(()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),"handleDelete"),n={Enter:o(()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"handleEnter"),"Mod-Enter":o(()=>this.editor.commands.exitCode(),"Mod-Enter"),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":o(()=>this.editor.commands.selectAll(),"Mod-a")},i=T({},n),a=ue(T({},n),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":o(()=>this.editor.commands.selectTextblockStart(),"Ctrl-a"),"Ctrl-e":o(()=>this.editor.commands.selectTextblockEnd(),"Ctrl-e")});return Ww()||Vee()?a:i},addProseMirrorPlugins(){return[new H({key:new Y("clearDocument"),appendTransaction:o((t,e,r)=>{if(t.some(y=>y.getMeta("composition")))return;let n=t.some(y=>y.docChanged)&&!e.doc.eq(r.doc),i=t.some(y=>y.getMeta("preventClearDocument"));if(!n||i)return;let{empty:a,from:s,to:u}=e.selection,l=z.atStart(e.doc).from,c=z.atEnd(e.doc).to;if(a||!(s===l&&u===c)||!cc(r.doc))return;let p=r.tr,v=sv({state:r,transaction:p}),{commands:g}=new uv({editor:this.editor,state:v});if(g.clearNodes(),!!p.steps.length)return p},"appendTransaction")})]}}),Zee=K.create({name:"paste",addProseMirrorPlugins(){return[new H({key:new Y("tiptapPaste"),props:{handlePaste:o((t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})},"handlePaste")}})]}}),ere=K.create({name:"tabindex",addProseMirrorPlugins(){return[new H({key:new Y("tabindex"),props:{attributes:o(()=>this.editor.isEditable?{tabindex:"0"}:{},"attributes")}})]}}),vt,iar=(vt=class{constructor(e,r,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error("You can\u2019t set content on a block node. Tried to set content on ".concat(this.name," at ").concat(this.pos));return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;let e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new vt(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new vt(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new vt(e,this.editor)}get children(){let e=[];return this.node.content.forEach((r,n)=>{let i=r.isBlock&&!r.isTextblock,a=r.isAtom&&!r.isText,s=this.pos+n+(a?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;let u=this.resolvedPos.doc.resolve(s);if(!i&&u.depth<=this.depth)return;let l=new vt(u,this.editor,i,i?r:null);i&&(l.actualDepth=this.depth+1),e.push(new vt(u,this.editor,i,i?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){let e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e)if(Object.keys(r).length>0){let a=i.node.attrs,s=Object.keys(r);for(let u=0;u<s.length;u+=1){let l=s[u];if(a[l]!==r[l])break}}else n=i;i=i.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let i=[];if(!this.children||this.children.length===0)return i;let a=Object.keys(r);return this.children.forEach(s=>{n&&i.length>0||(s.node.type.name===e&&a.every(l=>r[l]===s.node.attrs[l])&&i.push(s),!(n&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,r,n))))}),i}setAttribute(e){let{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,T(T({},this.node.attrs),e)),this.editor.view.dispatch(r)}},o(vt,"_NodePos"),vt),aar='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}';function oar(t,e,r){let n=document.querySelector("style[data-tiptap-style".concat(r?"-".concat(r):"","]"));if(n!==null)return n;let i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style".concat(r?"-".concat(r):""),""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}o(oar,"createStyleTag");var cs,Kw=(cs=class extends wnr{constructor(e={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:o(()=>null,"onBeforeCreate"),onCreate:o(()=>null,"onCreate"),onMount:o(()=>null,"onMount"),onUnmount:o(()=>null,"onUnmount"),onUpdate:o(()=>null,"onUpdate"),onSelectionUpdate:o(()=>null,"onSelectionUpdate"),onTransaction:o(()=>null,"onTransaction"),onFocus:o(()=>null,"onFocus"),onBlur:o(()=>null,"onBlur"),onDestroy:o(()=>null,"onDestroy"),onContentError:o(({error:i})=>{throw i},"onContentError"),onPaste:o(()=>null,"onPaste"),onDrop:o(()=>null,"onDrop"),onDelete:o(()=>null,"onDelete")},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:i,slice:a,moved:s})=>this.options.onDrop(i,a,s)),this.on("paste",({event:i,slice:a})=>this.options.onPaste(i,a)),this.on("delete",this.options.onDelete);let r=this.createDoc(),n=jee(r,this.options.autofocus);this.editorState=kp.create({doc:r,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){let e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=oar(aar,this.options.injectNonce))}setOptions(e={}){this.options=T(T({},this.options),e),!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,r=!0){this.setOptions({editable:e}),r&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:o(e=>{this.editorState=e},"updateState"),dispatch:o(e=>{this.editorState=this.state.apply(e)},"dispatch"),composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:o((e,r)=>{if(r==="state")return this.editorState;if(r in e)return Reflect.get(e,r);throw new Error("[tiptap error]: The editor view is not available. Cannot access view['".concat(r,"']. The editor may not be mounted yet."))},"get")})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,r){let n=Mee(r)?r(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;let r=this.state.plugins,n=r;if([].concat(e).forEach(a=>{let s=typeof a=="string"?"".concat(a,"$"):a.key;n=n.filter(u=>!u.key.startsWith(s))}),r.length===n.length)return;let i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,r;let i=[...this.options.enableCoreExtensions?[Jee,Hee.configure({blockSeparator:(r=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:r.blockSeparator}),Wee,Xee,Qee,ere,Gee,Zee,Kee].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new pv(i,this)}createCommandManager(){this.commandManager=new uv({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=Dw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(r){if(!(r instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(r.message))throw r;this.emit("contentError",{editor:this,error:r,disableCollaboration:o(()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()},"disableCollaboration")}),e=Dw(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){var r;this.editorView=new ic(e,ue(T({},this.options.editorProps),{attributes:T({role:"textbox"},(r=this.options.editorProps)==null?void 0:r.attributes),dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews}));let n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();let i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className="tiptap ".concat(this.view.dom.className)}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(f=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(f)});return}let{state:r,transactions:n}=this.state.applyTransaction(e),i=!this.state.selection.eq(r.selection),a=n.includes(e),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:r}),!a)return;this.view.updateState(r),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),i&&this.emit("selectionUpdate",{editor:this,transaction:e});let u=n.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),l=u==null?void 0:u.getMeta("focus"),c=u==null?void 0:u.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:u}),c&&this.emit("blur",{editor:this,event:c.event,transaction:u}),!(e.getMeta("preventUpdate")||!n.some(f=>f.docChanged)||s.doc.eq(r.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return lc(this.state,e)}isActive(e,r){let n=typeof e=="string"?e:null,i=typeof e=="string"?r:e;return _nr(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Bw(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:r="\n\n",textSerializers:n={}}=e||{};return Pnr(this.state.doc,{blockSeparator:r,textSerializers:T(T({},fv(this.schema)),n)})}get isEmpty(){return cc(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,r;return(r=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?r:!0}$node(e,r){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,r))||null}$nodes(e,r){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,r))||null}$pos(e){let r=this.state.doc.resolve(e);return new iar(r,this)}get $doc(){return this.$pos(0)}},o(cs,"Editor"),cs);function Lt(t){return new zw({find:t.find,handler:o(({state:e,range:r,match:n})=>{let i=ce(t.getAttributes,void 0,n);if(i===!1||i===null)return null;let{tr:a}=e,s=n[n.length-1],u=n[0];if(s){let l=u.search(/\S/),c=r.from+u.indexOf(s),f=c+s.length;if(hv(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(y=>y===t.type&&y!==v.mark.type)).filter(v=>v.to>c).length)return null;f<r.to&&a.delete(f,r.to),c>r.from&&a.delete(r.from+l,c);let p=r.from+l+s.length;a.addMark(r.from+l,p,t.type.create(i||{})),a.removeStoredMark(t.type)}},"handler")})}o(Lt,"markInputRule");function fc(t){return new zw({find:t.find,handler:o(({state:e,range:r,match:n})=>{let i=e.doc.resolve(r.from),a=ce(t.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,a)},"handler")})}o(fc,"textblockTypeInputRule");function Ft(t){return new zw({find:t.find,handler:o(({state:e,range:r,match:n,chain:i})=>{let a=ce(t.getAttributes,void 0,n)||{},s=e.tr.delete(r.from,r.to),l=s.doc.resolve(r.from).blockRange(),c=l&&Wo(l,t.type,a);if(!c)return null;if(s.wrap(l,c),t.keepMarks&&t.editor){let{selection:d,storedMarks:p}=e,{splittableMarks:v}=t.editor.extensionManager,g=p||d.$to.parentOffset&&d.$from.marks();if(g){let y=g.filter(q=>v.includes(q.type.name));s.ensureMarks(y)}}if(t.keepAttributes){let d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,a).run()}let f=s.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&Kr(s.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&s.join(r.from-1)},"handler")})}o(Ft,"wrappingInputRule");function sar(t,e,r={}){let{state:n}=e,{doc:i,tr:a}=n,s=t;i.descendants((u,l)=>{let c=a.mapping.map(l),f=a.mapping.map(l)+u.nodeSize,d=null;if(u.marks.forEach(v=>{if(v!==s)return!1;d=v}),!d)return;let p=!1;if(Object.keys(r).forEach(v=>{r[v]!==d.attrs[v]&&(p=!0)}),p){let v=t.type.create(T(T({},t.attrs),r));a.removeMark(c,f,t.type),a.addMark(c,f,v)}}),a.docChanged&&e.view.dispatch(a)}o(sar,"updateMarkViewAttributes");var Sa,be=(Sa=class extends Vw{constructor(){super(...arguments),this.type="node"}static create(e={}){let r=typeof e=="function"?e():e;return new Sa(r)}configure(e){return super.configure(e)}extend(e){let r=typeof e=="function"?e():e;return super.extend(r)}},o(Sa,"_Node"),Sa);function Xr(t){return new znr({find:t.find,handler:o(({state:e,range:r,match:n,pasteEvent:i})=>{let a=ce(t.getAttributes,void 0,n,i);if(a===!1||a===null)return null;let{tr:s}=e,u=n[n.length-1],l=n[0],c=r.to;if(u){let f=l.search(/\S/),d=r.from+l.indexOf(u),p=d+u.length;if(hv(r.from,r.to,e.doc).filter(g=>g.mark.type.excluded.find(q=>q===t.type&&q!==g.mark.type)).filter(g=>g.to>d).length)return null;p<r.to&&s.delete(p,r.to),d>r.from&&s.delete(r.from+f,d),c=r.from+f+u.length,s.addMark(r.from+f,c,t.type.create(a||{})),s.removeStoredMark(t.type)}},"handler")})}o(Xr,"markPasteRule");var fs=o((t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);let i=e!=null?e:{},{children:r}=i,n=gs(i,["children"]);if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},"h");var uar=/^\s*>\s$/,lar=be.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return fs("blockquote",ue(T({},te(this.options.HTMLAttributes,t)),{children:fs("slot",{})}))},addCommands(){return{setBlockquote:o(()=>({commands:t})=>t.wrapIn(this.name),"setBlockquote"),toggleBlockquote:o(()=>({commands:t})=>t.toggleWrap(this.name),"toggleBlockquote"),unsetBlockquote:o(()=>({commands:t})=>t.lift(this.name),"unsetBlockquote")}},addKeyboardShortcuts(){return{"Mod-Shift-b":o(()=>this.editor.commands.toggleBlockquote(),"Mod-Shift-b")}},addInputRules(){return[Ft({find:uar,type:this.type})]}}),rre=lar;var car=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,far=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,dar=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,har=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,par=pr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:o(t=>t.style.fontWeight!=="normal"&&null,"getAttrs")},{style:"font-weight=400",clearMark:o(t=>t.type.name===this.name,"clearMark")},{style:"font-weight",getAttrs:o(t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return fs("strong",ue(T({},te(this.options.HTMLAttributes,t)),{children:fs("slot",{})}))},addCommands(){return{setBold:o(()=>({commands:t})=>t.setMark(this.name),"setBold"),toggleBold:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleBold"),unsetBold:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetBold")}},addKeyboardShortcuts(){return{"Mod-b":o(()=>this.editor.commands.toggleBold(),"Mod-b"),"Mod-B":o(()=>this.editor.commands.toggleBold(),"Mod-B")}},addInputRules(){return[Lt({find:car,type:this.type}),Lt({find:dar,type:this.type})]},addPasteRules(){return[Xr({find:far,type:this.type}),Xr({find:har,type:this.type})]}}),tre=par;var gar=/(^|[^`])`([^`]+)`(?!`)/,mar=/(^|[^`])`([^`]+)`(?!`)/g,yar=pr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",te(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:o(()=>({commands:t})=>t.setMark(this.name),"setCode"),toggleCode:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleCode"),unsetCode:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetCode")}},addKeyboardShortcuts(){return{"Mod-e":o(()=>this.editor.commands.toggleCode(),"Mod-e")}},addInputRules(){return[Lt({find:gar,type:this.type})]},addPasteRules(){return[Xr({find:mar,type:this.type})]}}),nre=yar;var qar=/^```([a-z]+)?[\s\n]$/,Sar=/^~~~([a-z]+)?[\s\n]$/,bar=be.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:o(t=>{var e;let{languageClassPrefix:r}=this.options,a=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(s=>s.startsWith(r)).map(s=>s.replace(r,""))[0];return a||null},"parseHTML"),rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",te(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:o(t=>({commands:e})=>e.setNode(this.name,t),"setCodeBlock"),toggleCodeBlock:o(t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t),"toggleCodeBlock")}},addKeyboardShortcuts(){return{"Mod-Alt-c":o(()=>this.editor.commands.toggleCodeBlock(),"Mod-Alt-c"),Backspace:o(()=>{let{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},"Backspace"),Enter:o(({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;let{state:e}=t,{selection:r}=e,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;let a=n.parentOffset===n.parent.nodeSize-2,s=n.parent.textContent.endsWith("\n\n");return!a||!s?!1:t.chain().command(({tr:u})=>(u.delete(n.pos-2,n.pos),!0)).exitCode().run()},"Enter"),ArrowDown:o(({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;let{state:e}=t,{selection:r,doc:n}=e,{$from:i,empty:a}=r;if(!a||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;let u=i.after();return u===void 0?!1:n.nodeAt(u)?t.commands.command(({tr:c})=>(c.setSelection(z.near(n.resolve(u))),!0)):t.commands.exitCode()},"ArrowDown")}},addInputRules(){return[fc({find:qar,type:this.type,getAttributes:o(t=>({language:t[1]}),"getAttributes")}),fc({find:Sar,type:this.type,getAttributes:o(t=>({language:t[1]}),"getAttributes")})]},addProseMirrorPlugins(){return[new H({key:new Y("codeBlockVSCodeHandler"),props:{handlePaste:o((t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;let r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,a=i==null?void 0:i.mode;if(!r||!a)return!1;let{tr:s,schema:u}=t.state,l=u.text(r.replace(/\r\n?/g,"\n"));return s.replaceSelectionWith(this.type.create({language:a},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(D.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0},"handlePaste")}})]}}),ire=bar;var Ear=be.create({name:"doc",topNode:!0,content:"block+"}),Gw=Ear;var xar=be.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",te(this.options.HTMLAttributes,t)]},renderText(){return"\n"},addCommands(){return{setHardBreak:o(()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{let{selection:i,storedMarks:a}=r;if(i.$from.parent.type.spec.isolating)return!1;let{keepMarks:s}=this.options,{splittableMarks:u}=n.extensionManager,l=a||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:f})=>{if(f&&l&&s){let d=l.filter(p=>u.includes(p.type.name));c.ensureMarks(d)}return!0}).run()})]),"setHardBreak")}},addKeyboardShortcuts(){return{"Mod-Enter":o(()=>this.editor.commands.setHardBreak(),"Mod-Enter"),"Shift-Enter":o(()=>this.editor.commands.setHardBreak(),"Shift-Enter")}}}),Jw=xar;function are(t={}){return new H({view(e){return new Yw(e,t)}})}o(are,"dropCursor");var Xw=class Xw{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let a=o(s=>{this[i](s)},"handler");return e.dom.addEventListener(i,a),{name:i,handler:a}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n;if(r){let u=e.nodeBefore,l=e.nodeAfter;if(u||l){let c=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(c){let f=c.getBoundingClientRect(),d=u?f.bottom:f.top;u&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:f.left,right:f.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!n){let u=this.editorView.coordsAtPos(this.cursorPos);n={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let a,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")a=-pageXOffset,s=-pageYOffset;else{let u=i.getBoundingClientRect();a=u.left-i.scrollLeft,s=u.top-i.scrollTop}this.element.style.left=n.left-a+"px",this.element.style.top=n.top-s+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,a=typeof i=="function"?i(this.editorView,r,e):i;if(r&&!a){let s=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=Ap(this.editorView.state.doc,s,this.editorView.dragging.slice);u!=null&&(s=u)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}};o(Xw,"DropCursorView");var Yw=Xw;var _t=class _t extends z{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return _t.valid(n)?new _t(n):z.near(n)}content(){return M.empty}eq(e){return e instanceof _t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new _t(e.resolve(r.pos))}getBookmark(){return new Qw(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!Tar(e)||!Oar(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let i=r.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&_t.valid(e))return e;let i=e.pos,a=null;for(let s=e.depth;;s--){let u=e.node(s);if(r>0?e.indexAfter(s)<u.childCount:e.index(s)>0){a=u.child(r>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=r;let l=e.doc.resolve(i);if(_t.valid(l))return l}for(;;){let s=r>0?a.firstChild:a.lastChild;if(!s){if(a.isAtom&&!a.isText&&!F.isSelectable(a)){e=e.doc.resolve(i+a.nodeSize*r),n=!1;continue e}break}a=s,i+=r;let u=e.doc.resolve(i);if(_t.valid(u))return u}return null}}};o(_t,"GapCursor");var ir=_t;ir.prototype.visible=!1;ir.findFrom=ir.findGapCursorFrom;z.jsonID("gapcursor",ir);var gv=class gv{constructor(e){this.pos=e}map(e){return new gv(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return ir.valid(r)?new ir(r):z.near(r)}};o(gv,"GapBookmark");var Qw=gv;function Tar(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}o(Tar,"closedBefore");function Oar(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}o(Oar,"closedAfter");function ore(){return new H({props:{decorations:Car,createSelectionBetween(t,e,r){return e.pos==r.pos&&ir.valid(r)?new ir(r):null},handleClick:war,handleKeyDown:Iar,handleDOMEvents:{beforeinput:Aar}}})}o(ore,"gapCursor");var Iar=vw({ArrowLeft:vv("horiz",-1),ArrowRight:vv("horiz",1),ArrowUp:vv("vert",-1),ArrowDown:vv("vert",1)});function vv(t,e){let r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,i,a){let s=n.selection,u=e>0?s.$to:s.$from,l=s.empty;if(s instanceof D){if(!a.endOfTextblock(r)||u.depth==0)return!1;l=!1,u=n.doc.resolve(e>0?u.after():u.before())}let c=ir.findGapCursorFrom(u,e,l);return c?(i&&i(n.tr.setSelection(new ir(c))),!0):!1}}o(vv,"arrow");function war(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!ir.valid(n))return!1;let i=t.posAtCoords({left:r.clientX,top:r.clientY});return i&&i.inside>-1&&F.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new ir(n))),!0)}o(war,"handleClick");function Aar(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof ir))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let i=O.empty;for(let s=n.length-1;s>=0;s--)i=O.from(n[s].createAndFill(null,i));let a=t.state.tr.replace(r.pos,r.pos,new M(i,0,0));return a.setSelection(D.near(a.doc.resolve(r.pos+1))),t.dispatch(a),!1}o(Aar,"beforeinput");function Car(t){if(!(t.selection instanceof ir))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ge.create(t.doc,[$e.widget(t.selection.head,e,{key:"gapcursor"})])}o(Car,"drawGapCursor");var mv=200,Qe=o(function(){},"RopeSequence");Qe.prototype.append=o(function(e){return e.length?(e=Qe.from(e),!this.length&&e||e.length<mv&&this.leafAppend(e)||this.length<mv&&e.leafPrepend(this)||this.appendInner(e)):this},"append");Qe.prototype.prepend=o(function(e){return e.length?Qe.from(e).append(this):this},"prepend");Qe.prototype.appendInner=o(function(e){return new Rar(this,e)},"appendInner");Qe.prototype.slice=o(function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Qe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))},"slice");Qe.prototype.get=o(function(e){if(!(e<0||e>=this.length))return this.getInner(e)},"get");Qe.prototype.forEach=o(function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)},"forEach");Qe.prototype.map=o(function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(a,s){return i.push(e(a,s))},r,n),i},"map");Qe.from=o(function(e){return e instanceof Qe?e:e&&e.length?new sre(e):Qe.empty},"from");var sre=(function(t){function e(n){t.call(this),this.values=n}o(e,"Leaf"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=o(function(){return this.values},"flatten"),e.prototype.sliceInner=o(function(i,a){return i==0&&a==this.length?this:new e(this.values.slice(i,a))},"sliceInner"),e.prototype.getInner=o(function(i){return this.values[i]},"getInner"),e.prototype.forEachInner=o(function(i,a,s,u){for(var l=a;l<s;l++)if(i(this.values[l],u+l)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(i,a,s,u){for(var l=a-1;l>=s;l--)if(i(this.values[l],u+l)===!1)return!1},"forEachInvertedInner"),e.prototype.leafAppend=o(function(i){if(this.length+i.length<=mv)return new e(this.values.concat(i.flatten()))},"leafAppend"),e.prototype.leafPrepend=o(function(i){if(this.length+i.length<=mv)return new e(i.flatten().concat(this.values))},"leafPrepend"),r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Qe);Qe.empty=new sre([]);var Rar=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return o(e,"Append"),t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=o(function(){return this.left.flatten().concat(this.right.flatten())},"flatten"),e.prototype.getInner=o(function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},"getInner"),e.prototype.forEachInner=o(function(n,i,a,s){var u=this.left.length;if(i<u&&this.left.forEachInner(n,i,Math.min(a,u),s)===!1||a>u&&this.right.forEachInner(n,Math.max(i-u,0),Math.min(this.length,a)-u,s+u)===!1)return!1},"forEachInner"),e.prototype.forEachInvertedInner=o(function(n,i,a,s){var u=this.left.length;if(i>u&&this.right.forEachInvertedInner(n,i-u,Math.max(a,u)-u,s+u)===!1||a<u&&this.left.forEachInvertedInner(n,Math.min(i,u),a,s)===!1)return!1},"forEachInvertedInner"),e.prototype.sliceInner=o(function(n,i){if(n==0&&i==this.length)return this;var a=this.left.length;return i<=a?this.left.slice(n,i):n>=a?this.right.slice(n-a,i-a):this.left.slice(n,a).append(this.right.slice(0,i-a))},"sliceInner"),e.prototype.leafAppend=o(function(n){var i=this.right.leafAppend(n);if(i)return new e(this.left,i)},"leafAppend"),e.prototype.leafPrepend=o(function(n){var i=this.left.leafPrepend(n);if(i)return new e(i,this.right)},"leafPrepend"),e.prototype.appendInner=o(function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},"appendInner"),e})(Qe),Zw=Qe;var Mar=500,di=class di{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let i,a;r&&(i=this.remapping(n,this.items.length),a=i.maps.length);let s=e.tr,u,l,c=[],f=[];return this.items.forEach((d,p)=>{if(!d.step){i||(i=this.remapping(n,p+1),a=i.maps.length),a--,f.push(d);return}if(i){f.push(new Bt(d.map));let v=d.step.map(i.slice(a)),g;v&&s.maybeStep(v).doc&&(g=s.mapping.maps[s.mapping.maps.length-1],c.push(new Bt(g,void 0,void 0,c.length+f.length))),a--,g&&i.appendMap(g,a)}else s.maybeStep(d.step);if(d.selection)return u=i?d.selection.map(i.slice(a)):d.selection,l=new di(this.items.slice(0,n).append(f.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:u}}addTransform(e,r,n,i){let a=[],s=this.eventCount,u=this.items,l=!i&&u.length?u.get(u.length-1):null;for(let f=0;f<e.steps.length;f++){let d=e.steps[f].invert(e.docs[f]),p=new Bt(e.mapping.maps[f],d,r),v;(v=l&&l.merge(p))&&(p=v,f?a.pop():u=u.slice(0,u.length-1)),a.push(p),r&&(s++,r=void 0),i||(l=p)}let c=s-n.depth;return c>Par&&(u=kar(u,c),s-=c),new di(u.append(a),s)}remapping(e,r){let n=new Vl;return this.items.forEach((i,a)=>{let s=i.mirrorOffset!=null&&a-i.mirrorOffset>=e?n.maps.length-i.mirrorOffset:void 0;n.appendMap(i.map,s)},e,r),n}addMaps(e){return this.eventCount==0?this:new di(this.items.append(e.map(r=>new Bt(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],i=Math.max(0,this.items.length-r),a=e.mapping,s=e.steps.length,u=this.eventCount;this.items.forEach(p=>{p.selection&&u--},i);let l=r;this.items.forEach(p=>{let v=a.getMirror(--l);if(v==null)return;s=Math.min(s,v);let g=a.maps[v];if(p.step){let y=e.steps[v].invert(e.docs[v]),q=p.selection&&p.selection.map(a.slice(l+1,v));q&&u++,n.push(new Bt(g,y,q))}else n.push(new Bt(g))},i);let c=[];for(let p=r;p<s;p++)c.push(new Bt(a.maps[p]));let f=this.items.slice(0,i).append(c).append(n),d=new di(f,u);return d.emptyItemCount()>Mar&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,i=[],a=0;return this.items.forEach((s,u)=>{if(u>=e)i.push(s),s.selection&&a++;else if(s.step){let l=s.step.map(r.slice(n)),c=l&&l.getMap();if(n--,c&&r.appendMap(c,n),l){let f=s.selection&&s.selection.map(r.slice(n));f&&a++;let d=new Bt(c.invert(),l,f),p,v=i.length-1;(p=i.length&&i[v].merge(d))?i[v]=p:i.push(d)}}else s.map&&n--},this.items.length,0),new di(Zw.from(i.reverse()),a)}};o(di,"Branch");var Ea=di;Ea.empty=new Ea(Zw.empty,0);function kar(t,e){let r;return t.forEach((n,i)=>{if(n.selection&&e--==0)return r=i,!1}),t.slice(r)}o(kar,"cutOffEvents");var qv=class qv{constructor(e,r,n,i){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new qv(r.getMap().invert(),r,this.selection)}}};o(qv,"Item");var Bt=qv,iA=class iA{constructor(e,r,n,i,a){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=i,this.prevComposition=a}};o(iA,"HistoryState");var $t=iA,Par=20;function Nar(t,e,r,n){let i=r.getMeta(ba),a;if(i)return i.historyState;r.getMeta(Far)&&(t=new $t(t.done,t.undone,null,0,-1));let s=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(s&&s.getMeta(ba))return s.getMeta(ba).redo?new $t(t.done.addTransform(r,void 0,n,yv(e)),t.undone,ure(r.mapping.maps),t.prevTime,t.prevComposition):new $t(t.done,t.undone.addTransform(r,void 0,n,yv(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let u=r.getMeta("composition"),l=t.prevTime==0||!s&&t.prevComposition!=u&&(t.prevTime<(r.time||0)-n.newGroupDelay||!Dar(r,t.prevRanges)),c=s?eA(t.prevRanges,r.mapping):ure(r.mapping.maps);return new $t(t.done.addTransform(r,l?e.selection.getBookmark():void 0,n,yv(e)),Ea.empty,c,r.time,u==null?t.prevComposition:u)}else return(a=r.getMeta("rebased"))?new $t(t.done.rebased(r,a),t.undone.rebased(r,a),eA(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new $t(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),eA(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}o(Nar,"applyTransaction");function Dar(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,i)=>{for(let a=0;a<e.length;a+=2)n<=e[a+1]&&i>=e[a]&&(r=!0)}),r}o(Dar,"isAdjacentTo");function ure(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,i,a,s)=>e.push(a,s));return e}o(ure,"rangesFor");function eA(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let i=e.map(t[n],1),a=e.map(t[n+1],-1);i<=a&&r.push(i,a)}return r}o(eA,"mapRanges");function Lar(t,e,r){let n=yv(e),i=ba.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,n);if(!a)return null;let s=a.selection.resolve(a.transform.doc),u=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),i,n),l=new $t(r?u:a.remaining,r?a.remaining:u,null,0,-1);return a.transform.setSelection(s).setMeta(ba,{redo:r,historyState:l})}o(Lar,"histTransaction");var rA=!1,lre=null;function yv(t){let e=t.plugins;if(lre!=e){rA=!1,lre=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){rA=!0;break}}return rA}o(yv,"mustPreserveItems");var ba=new Y("history"),Far=new Y("closeHistory");function cre(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new H({key:ba,state:{init(){return new $t(Ea.empty,Ea.empty,null,0,-1)},apply(e,r,n){return Nar(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,i=n=="historyUndo"?tA:n=="historyRedo"?nA:null;return i?(r.preventDefault(),i(e.state,e.dispatch)):!1}}}})}o(cre,"history");function Sv(t,e){return(r,n)=>{let i=ba.getState(r);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(n){let a=Lar(i,r,t);a&&n(e?a.scrollIntoView():a)}return!0}}o(Sv,"buildCommand");var tA=Sv(!1,!0),nA=Sv(!0,!0),rUr=Sv(!1,!1),tUr=Sv(!0,!1);var lUr=K.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:o(t=>t.length,"textCounter"),wordCounter:o(t=>t.split(" ").filter(e=>e!=="").length,"wordCounter")}},addStorage(){return{characters:o(()=>0,"characters"),words:o(()=>0,"words")}},onBeforeCreate(){this.storage.characters=t=>{let e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){let n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{let e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new H({key:new Y("characterCount"),appendTransaction:o((e,r,n)=>{if(t)return;let i=this.options.limit;if(i==null||i===0){t=!0;return}let a=this.storage.characters({node:n.doc});if(a>i){let s=a-i,u=0,l=s;console.warn("[CharacterCount] Initial content exceeded limit of ".concat(i," characters. Content was automatically trimmed."));let c=n.tr.deleteRange(u,l);return t=!0,c}t=!0},"appendTransaction"),filterTransaction:o((e,r)=>{let n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;let i=this.storage.characters({node:r.doc}),a=this.storage.characters({node:e.doc});if(a<=n||i>n&&a>n&&a<=i)return!0;if(i>n&&a>n&&a>i||!e.getMeta("paste"))return!1;let u=e.selection.$head.pos,l=a-n,c=u-l,f=u;return e.deleteRange(c,f),!(this.storage.characters({node:e.doc})>n)},"filterTransaction")})]}}),dUr=K.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[are(this.options)]}}),gUr=K.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new H({key:new Y("focus"),props:{decorations:o(({doc:t,selection:e})=>{let{isEditable:r,isFocused:n}=this.editor,{anchor:i}=e,a=[];if(!r||!n)return ge.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((l,c)=>{if(l.isText)return;if(!(i>=c&&i<=c+l.nodeSize-1))return!1;s+=1});let u=0;return t.descendants((l,c)=>{if(l.isText||!(i>=c&&i<=c+l.nodeSize-1))return!1;if(u+=1,this.options.mode==="deepest"&&s-u>0||this.options.mode==="shallowest"&&u>1)return this.options.mode==="deepest";a.push($e.node(c,c+l.nodeSize,{class:this.options.className}))}),ge.create(t,a)},"decorations")}})]}}),qUr=K.create({name:"gapCursor",addProseMirrorPlugins(){return[ore()]},extendNodeSchema(t){var e;let r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ce(_(t,"allowGapCursor",r)))!=null?e:null}}}),xUr=K.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new H({key:new Y("placeholder"),props:{decorations:o(({doc:t,selection:e})=>{let r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,i=[];if(!r)return null;let a=this.editor.isEmpty;return t.descendants((s,u)=>{let l=n>=u&&n<=u+s.nodeSize,c=!s.isLeaf&&cc(s);if((l||!this.options.showOnlyCurrent)&&c){let f=[this.options.emptyNodeClass];a&&f.push(this.options.emptyEditorClass);let d=$e.node(u,u+s.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:u,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),ge.create(t,i)},"decorations")}})]}}),wUr=K.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){let{editor:t,options:e}=this;return[new H({key:new Y("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||Bee(r.selection)||t.view.dragging?null:ge.create(r.doc,[$e.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function fre({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}o(fre,"nodeEqualsType");var RUr=K.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){let t=new Y(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new H({key:t,appendTransaction:o((r,n,i)=>{let{doc:a,tr:s,schema:u}=i,l=t.getState(i),c=a.content.size,f=u.nodes[this.options.node];if(l)return s.insert(c,f.create())},"appendTransaction"),state:{init:o((r,n)=>{let i=n.tr.doc.lastChild;return!fre({node:i,types:e})},"init"),apply:o((r,n)=>{if(!r.docChanged)return n;let i=r.doc.lastChild;return!fre({node:i,types:e})},"apply")}})]}}),aA=K.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:o(()=>({state:t,dispatch:e})=>tA(t,e),"undo"),redo:o(()=>({state:t,dispatch:e})=>nA(t,e),"redo")}},addProseMirrorPlugins(){return[cre(this.options)]},addKeyboardShortcuts(){return{"Mod-z":o(()=>this.editor.commands.undo(),"Mod-z"),"Shift-Mod-z":o(()=>this.editor.commands.redo(),"Shift-Mod-z"),"Mod-y":o(()=>this.editor.commands.redo(),"Mod-y"),"Mod-\u044F":o(()=>this.editor.commands.undo(),"Mod-\u044F"),"Shift-Mod-\u044F":o(()=>this.editor.commands.redo(),"Shift-Mod-\u044F")}}});var oA=aA;var _ar=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Bar=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,$ar=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,jar=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Uar=pr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:o(t=>t.style.fontStyle!=="normal"&&null,"getAttrs")},{style:"font-style=normal",clearMark:o(t=>t.type.name===this.name,"clearMark")},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",te(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:o(()=>({commands:t})=>t.setMark(this.name),"setItalic"),toggleItalic:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleItalic"),unsetItalic:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetItalic")}},addKeyboardShortcuts(){return{"Mod-i":o(()=>this.editor.commands.toggleItalic(),"Mod-i"),"Mod-I":o(()=>this.editor.commands.toggleItalic(),"Mod-I")}},addInputRules(){return[Lt({find:_ar,type:this.type}),Lt({find:$ar,type:this.type})]},addPasteRules(){return[Xr({find:Bar,type:this.type}),Xr({find:jar,type:this.type})]}}),dre=Uar;var Har=be.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",te(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:o(()=>({commands:t})=>t.setNode(this.name),"setParagraph")}},addKeyboardShortcuts(){return{"Mod-Alt-0":o(()=>this.editor.commands.setParagraph(),"Mod-Alt-0")}}}),bv=Har;var zar=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,Var=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,War=pr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:o(t=>t.includes("line-through")?{}:!1,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["s",te(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:o(()=>({commands:t})=>t.setMark(this.name),"setStrike"),toggleStrike:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleStrike"),unsetStrike:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetStrike")}},addKeyboardShortcuts(){return{"Mod-Shift-s":o(()=>this.editor.commands.toggleStrike(),"Mod-Shift-s")}},addInputRules(){return[Lt({find:zar,type:this.type})]},addPasteRules(){return[Xr({find:Var,type:this.type})]}}),hre=War;var Kar=be.create({name:"text",group:"inline"}),sA=Kar;var Gar=o(t=>{if(!t.children.length)return;let e=t.querySelectorAll("span");e&&e.forEach(r=>{var n,i;let a=r.getAttribute("style"),s=(i=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:i.getAttribute("style");r.setAttribute("style","".concat(s,";").concat(a))})},"mergeNestedSpanStyles"),Jar=pr.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:o(t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Gar(t),{}):!1,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["span",te(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:o(t=>({commands:e})=>e.toggleMark(this.name,t),"toggleTextStyle"),removeEmptyTextStyle:o(()=>({tr:t})=>{let{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(i=>i.type===this.type).some(i=>Object.values(i.attrs).some(a=>!!a))||t.removeMark(n,n+r.nodeSize,this.type)}),!0},"removeEmptyTextStyle")}}}),Yar=K.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:o(t=>{var e;return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},"parseHTML"),renderHTML:o(t=>t.backgroundColor?{style:"background-color: ".concat(t.backgroundColor)}:{},"renderHTML")}}}]},addCommands(){return{setBackgroundColor:o(t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),"setBackgroundColor"),unsetBackgroundColor:o(()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run(),"unsetBackgroundColor")}}}),Xar=K.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:o(t=>{var e;return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},"parseHTML"),renderHTML:o(t=>t.color?{style:"color: ".concat(t.color)}:{},"renderHTML")}}}]},addCommands(){return{setColor:o(t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),"setColor"),unsetColor:o(()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run(),"unsetColor")}}}),Qar=K.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:o(t=>t.style.fontFamily,"parseHTML"),renderHTML:o(t=>t.fontFamily?{style:"font-family: ".concat(t.fontFamily)}:{},"renderHTML")}}}]},addCommands(){return{setFontFamily:o(t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),"setFontFamily"),unsetFontFamily:o(()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run(),"unsetFontFamily")}}}),Zar=K.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:o(t=>t.style.fontSize,"parseHTML"),renderHTML:o(t=>t.fontSize?{style:"font-size: ".concat(t.fontSize)}:{},"renderHTML")}}}]},addCommands(){return{setFontSize:o(t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),"setFontSize"),unsetFontSize:o(()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run(),"unsetFontSize")}}}),eor=K.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:o(t=>t.style.lineHeight,"parseHTML"),renderHTML:o(t=>t.lineHeight?{style:"line-height: ".concat(t.lineHeight)}:{},"renderHTML")}}}]},addCommands(){return{setLineHeight:o(t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),"setLineHeight"),unsetLineHeight:o(()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run(),"unsetLineHeight")}}}),uA=K.create({name:"textStyleKit",addExtensions(){let t=[];return this.options.backgroundColor!==!1&&t.push(Yar.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(Xar.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(Qar.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(Zar.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(eor.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(Jar.configure(this.options.textStyle)),t}});var ror=pr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:o(t=>t.includes("underline")?{}:!1,"getAttrs")}]},renderHTML({HTMLAttributes:t}){return["u",te(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:o(()=>({commands:t})=>t.setMark(this.name),"setUnderline"),toggleUnderline:o(()=>({commands:t})=>t.toggleMark(this.name),"toggleUnderline"),unsetUnderline:o(()=>({commands:t})=>t.unsetMark(this.name),"unsetUnderline")}},addKeyboardShortcuts(){return{"Mod-u":o(()=>this.editor.commands.toggleUnderline(),"Mod-u"),"Mod-U":o(()=>this.editor.commands.toggleUnderline(),"Mod-U")}}}),pre=ror;var tor=Object.defineProperty,nor=o((t,e)=>{for(var r in e)tor(t,r,{get:e[r],enumerable:!0})},"__export"),ior="listItem",vre="textStyle",gre=/^\s*([-+*])\s$/,fA=be.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",te(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:o(()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ior,this.editor.getAttributes(vre)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks),"toggleBulletList")}},addKeyboardShortcuts(){return{"Mod-Shift-8":o(()=>this.editor.commands.toggleBulletList(),"Mod-Shift-8")}},addInputRules(){let t=Ft({find:gre,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ft({find:gre,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:o(()=>this.editor.getAttributes(vre),"getAttributes"),editor:this.editor})),[t]}}),dA=be.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",te(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:o(()=>this.editor.commands.splitListItem(this.name),"Enter"),Tab:o(()=>this.editor.commands.sinkListItem(this.name),"Tab"),"Shift-Tab":o(()=>this.editor.commands.liftListItem(this.name),"Shift-Tab")}}}),aor={};nor(aor,{findListItemPos:o(()=>dc,"findListItemPos"),getNextListDepth:o(()=>hA,"getNextListDepth"),handleBackspace:o(()=>lA,"handleBackspace"),handleDelete:o(()=>cA,"handleDelete"),hasListBefore:o(()=>qre,"hasListBefore"),hasListItemAfter:o(()=>oor,"hasListItemAfter"),hasListItemBefore:o(()=>Sre,"hasListItemBefore"),listItemHasSubList:o(()=>bre,"listItemHasSubList"),nextListIsDeeper:o(()=>Ere,"nextListIsDeeper"),nextListIsHigher:o(()=>xre,"nextListIsHigher")});var dc=o((t,e)=>{let{$from:r}=e.selection,n=Ie(t,e.schema),i=null,a=r.depth,s=r.pos,u=null;for(;a>0&&u===null;)i=r.node(a),i.type===n?u=a:(a-=1,s-=1);return u===null?null:{$pos:e.doc.resolve(s),depth:u}},"findListItemPos"),hA=o((t,e)=>{let r=dc(t,e);if(!r)return!1;let[,n]=Lee(e,t,r.$pos.pos+4);return n},"getNextListDepth"),qre=o((t,e,r)=>{let{$anchor:n}=t.selection,i=Math.max(0,n.pos-2),a=t.doc.resolve(i).node();return!(!a||!r.includes(a.type.name))},"hasListBefore"),Sre=o((t,e)=>{var r;let{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-2);return!(i.index()===0||((r=i.nodeBefore)==null?void 0:r.type.name)!==t)},"hasListItemBefore"),bre=o((t,e,r)=>{if(!r)return!1;let n=Ie(t,e.schema),i=!1;return r.descendants(a=>{a.type===n&&(i=!0)}),i},"listItemHasSubList"),lA=o((t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Dt(t.state,e)&&qre(t.state,e,r)){let{$anchor:u}=t.state.selection,l=t.state.doc.resolve(u.before()-1),c=[];l.node().descendants((p,v)=>{p.type.name===e&&c.push({node:p,pos:v})});let f=c.at(-1);if(!f)return!1;let d=t.state.doc.resolve(l.start()+f.pos+1);return t.chain().cut({from:u.start()-1,to:u.end()+1},d.end()).joinForward().run()}if(!Dt(t.state,e)||!_ee(t.state))return!1;let n=dc(e,t.state);if(!n)return!1;let a=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),s=bre(e,t.state,a);return Sre(e,t.state)&&!s?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},"handleBackspace"),Ere=o((t,e)=>{let r=hA(t,e),n=dc(t,e);return!n||!r?!1:r>n.depth},"nextListIsDeeper"),xre=o((t,e)=>{let r=hA(t,e),n=dc(t,e);return!n||!r?!1:r<n.depth},"nextListIsHigher"),cA=o((t,e)=>{if(!Dt(t.state,e)||!Fee(t.state,e))return!1;let{selection:r}=t.state,{$from:n,$to:i}=r;return!r.empty&&n.sameParent(i)?!1:Ere(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():xre(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},"handleDelete"),oor=o((t,e)=>{var r;let{$anchor:n}=e.selection,i=e.doc.resolve(n.pos-n.parentOffset-2);return!(i.index()===i.parent.childCount-1||((r=i.nodeAfter)==null?void 0:r.type.name)!==t)},"hasListItemAfter"),sor=K.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:o(({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&cA(t,r)&&(e=!0)}),e},"Delete"),"Mod-Delete":o(({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&cA(t,r)&&(e=!0)}),e},"Mod-Delete"),Backspace:o(({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&lA(t,r,n)&&(e=!0)}),e},"Backspace"),"Mod-Backspace":o(({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&lA(t,r,n)&&(e=!0)}),e},"Mod-Backspace")}}}),uor="listItem",mre="textStyle",yre=/^(\d+)\.\s$/,pA=be.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},addAttributes(){return{start:{default:1,parseHTML:o(t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1,"parseHTML")},type:{default:null,parseHTML:o(t=>t.getAttribute("type"),"parseHTML")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){let n=t,{start:e}=n,r=gs(n,["start"]);return e===1?["ol",te(this.options.HTMLAttributes,r),0]:["ol",te(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:o(()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uor,this.editor.getAttributes(mre)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks),"toggleOrderedList")}},addKeyboardShortcuts(){return{"Mod-Shift-7":o(()=>this.editor.commands.toggleOrderedList(),"Mod-Shift-7")}},addInputRules(){let t=Ft({find:yre,type:this.type,getAttributes:o(e=>({start:+e[1]}),"getAttributes"),joinPredicate:o((e,r)=>r.childCount+r.attrs.start===+e[1],"joinPredicate")});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ft({find:yre,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:o(e=>T({start:+e[1]},this.editor.getAttributes(mre)),"getAttributes"),joinPredicate:o((e,r)=>r.childCount+r.attrs.start===+e[1],"joinPredicate"),editor:this.editor})),[t]}}),lor=/^\s*(\[([( |x])?\])\s$/,cor=be.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:o(t=>{let e=t.getAttribute("data-checked");return e===""||e==="true"},"parseHTML"),renderHTML:o(t=>({"data-checked":t.checked}),"renderHTML")}}},parseHTML(){return[{tag:'li[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",te(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){let t={Enter:o(()=>this.editor.commands.splitListItem(this.name),"Enter"),"Shift-Tab":o(()=>this.editor.commands.liftListItem(this.name),"Shift-Tab")};return this.options.nested?ue(T({},t),{Tab:o(()=>this.editor.commands.sinkListItem(this.name),"Tab")}):t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{let i=document.createElement("li"),a=document.createElement("label"),s=document.createElement("span"),u=document.createElement("input"),l=document.createElement("div"),c=o(f=>{var d,p;u.ariaLabel=((p=(d=this.options.a11y)==null?void 0:d.checkboxLabel)==null?void 0:p.call(d,f,u.checked))||"Task item checkbox for ".concat(f.textContent||"empty task item")},"updateA11Y");return c(t),a.contentEditable="false",u.type="checkbox",u.addEventListener("mousedown",f=>f.preventDefault()),u.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}let{checked:d}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{let v=r();if(typeof v!="number")return!1;let g=p.doc.nodeAt(v);return p.setNodeMarkup(v,void 0,ue(T({},g==null?void 0:g.attrs),{checked:d})),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,d)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,d])=>{i.setAttribute(f,d)}),i.dataset.checked=t.attrs.checked,u.checked=t.attrs.checked,a.append(u,s),i.append(a,l),Object.entries(e).forEach(([f,d])=>{i.setAttribute(f,d)}),{dom:i,contentDOM:l,update:o(f=>f.type!==this.type?!1:(i.dataset.checked=f.attrs.checked,u.checked=f.attrs.checked,c(f),!0),"update")}}},addInputRules(){return[Ft({find:lor,type:this.type,getAttributes:o(t=>({checked:t[t.length-1]==="x"}),"getAttributes")})]}}),dor=be.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return"".concat(this.options.itemTypeName,"+")},parseHTML(){return[{tag:'ul[data-type="'.concat(this.name,'"]'),priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",te(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:o(()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName),"toggleTaskList")}},addKeyboardShortcuts(){return{"Mod-Shift-9":o(()=>this.editor.commands.toggleTaskList(),"Mod-Shift-9")}}}),qHr=K.create({name:"listKit",addExtensions(){let t=[];return this.options.bulletList!==!1&&t.push(fA.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(dA.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(sor.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(pA.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(cor.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(dor.configure(this.options.taskList)),t}});var hor=be.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:"h".concat(t),attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){let n=this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0];return["h".concat(n),te(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:o(t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,"setHeading"),toggleHeading:o(t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1,"toggleHeading")}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>ue(T({},t),{["Mod-Alt-".concat(e)]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>fc({find:new RegExp("^(#{".concat(Math.min(...this.options.levels),",").concat(t,"})\\s$")),type:this.type,getAttributes:{level:t}}))}}),Tre=hor;var vA=Tre.extend({addKeyboardShortcuts(){return{}}});var $Hr=og(hp());var por="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",vor="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",EA="numeric",xA="ascii",TA="alpha",vc="asciinumeric",pc="alphanumeric",OA="domain",Mre="emoji",gor="scheme",mor="slashscheme",gA="whitespace";function yor(t,e){return t in e||(e[t]=[]),e[t]}o(yor,"registerGroup");function xa(t,e,r){e[EA]&&(e[vc]=!0,e[pc]=!0),e[xA]&&(e[vc]=!0,e[TA]=!0),e[vc]&&(e[pc]=!0),e[TA]&&(e[pc]=!0),e[pc]&&(e[OA]=!0),e[Mre]&&(e[OA]=!0);for(let n in e){let i=yor(n,r);i.indexOf(t)<0&&i.push(t)}}o(xa,"addToGroups");function qor(t,e){let r={};for(let n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}o(qor,"flagsForToken");function Ar(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}o(Ar,"State");Ar.groups={};Ar.prototype={accepts(){return!!this.t},go(t){let e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){let i=e.jr[n][0],a=e.jr[n][1];if(a&&i.test(t))return a}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let i=0;i<t.length;i++)this.tt(t[i],e,r,n)},tr(t,e,r,n){n=n||Ar.groups;let i;return e&&e.j?i=e:(i=new Ar(e),r&&n&&xa(e,r,n)),this.jr.push([t,i]),i},ts(t,e,r,n){let i=this,a=t.length;if(!a)return i;for(let s=0;s<a-1;s++)i=i.tt(t[s]);return i.tt(t[a-1],e,r,n)},tt(t,e,r,n){n=n||Ar.groups;let i=this;if(e&&e.j)return i.j[t]=e,e;let a=e,s,u=i.go(t);if(u?(s=new Ar,Object.assign(s.j,u.j),s.jr.push.apply(s.jr,u.jr),s.jd=u.jd,s.t=u.t):s=new Ar,a){if(n)if(s.t&&typeof s.t=="string"){let l=Object.assign(qor(s.t,n),r);xa(a,l,n)}else r&&xa(a,r,n);s.t=a}return i.j[t]=s,s}};var Z=o((t,e,r,n,i)=>t.ta(e,r,n,i),"ta"),we=o((t,e,r,n,i)=>t.tr(e,r,n,i),"tr"),Ore=o((t,e,r,n,i)=>t.ts(e,r,n,i),"ts"),I=o((t,e,r,n,i)=>t.tt(e,r,n,i),"tt"),En="WORD",IA="UWORD",kre="ASCIINUMERICAL",Pre="ALPHANUMERICAL",bc="LOCALHOST",wA="TLD",AA="UTLD",Ov="SCHEME",ds="SLASH_SCHEME",RA="NUM",CA="WS",MA="NL",gc="OPENBRACE",mc="CLOSEBRACE",Iv="OPENBRACKET",wv="CLOSEBRACKET",Av="OPENPAREN",Cv="CLOSEPAREN",Rv="OPENANGLEBRACKET",Mv="CLOSEANGLEBRACKET",kv="FULLWIDTHLEFTPAREN",Pv="FULLWIDTHRIGHTPAREN",Nv="LEFTCORNERBRACKET",Dv="RIGHTCORNERBRACKET",Lv="LEFTWHITECORNERBRACKET",Fv="RIGHTWHITECORNERBRACKET",_v="FULLWIDTHLESSTHAN",Bv="FULLWIDTHGREATERTHAN",$v="AMPERSAND",jv="APOSTROPHE",Uv="ASTERISK",pi="AT",Hv="BACKSLASH",zv="BACKTICK",Vv="CARET",vi="COLON",kA="COMMA",Wv="DOLLAR",jt="DOT",Kv="EQUALS",PA="EXCLAMATION",Zr="HYPHEN",yc="PERCENT",Gv="PIPE",Jv="PLUS",Yv="POUND",qc="QUERY",NA="QUOTE",Nre="FULLWIDTHMIDDLEDOT",DA="SEMI",Ut="SLASH",Sc="TILDE",Xv="UNDERSCORE",Dre="EMOJI",Qv="SYM",Lre=Object.freeze({__proto__:null,ALPHANUMERICAL:Pre,AMPERSAND:$v,APOSTROPHE:jv,ASCIINUMERICAL:kre,ASTERISK:Uv,AT:pi,BACKSLASH:Hv,BACKTICK:zv,CARET:Vv,CLOSEANGLEBRACKET:Mv,CLOSEBRACE:mc,CLOSEBRACKET:wv,CLOSEPAREN:Cv,COLON:vi,COMMA:kA,DOLLAR:Wv,DOT:jt,EMOJI:Dre,EQUALS:Kv,EXCLAMATION:PA,FULLWIDTHGREATERTHAN:Bv,FULLWIDTHLEFTPAREN:kv,FULLWIDTHLESSTHAN:_v,FULLWIDTHMIDDLEDOT:Nre,FULLWIDTHRIGHTPAREN:Pv,HYPHEN:Zr,LEFTCORNERBRACKET:Nv,LEFTWHITECORNERBRACKET:Lv,LOCALHOST:bc,NL:MA,NUM:RA,OPENANGLEBRACKET:Rv,OPENBRACE:gc,OPENBRACKET:Iv,OPENPAREN:Av,PERCENT:yc,PIPE:Gv,PLUS:Jv,POUND:Yv,QUERY:qc,QUOTE:NA,RIGHTCORNERBRACKET:Dv,RIGHTWHITECORNERBRACKET:Fv,SCHEME:Ov,SEMI:DA,SLASH:Ut,SLASH_SCHEME:ds,SYM:Qv,TILDE:Sc,TLD:wA,UNDERSCORE:Xv,UTLD:AA,UWORD:IA,WORD:En,WS:CA}),Sn=/[a-z]/,hc=new RegExp("\\p{L}","u"),mA=new RegExp("\\p{Emoji}","u");var bn=/\d/,yA=/\s/;var Ire="\r",qA="\n",Sor="\uFE0F",bor="\u200D",SA="\uFFFC",Ev=null,xv=null;function Eor(t=[]){let e={};Ar.groups=e;let r=new Ar;Ev==null&&(Ev=wre(por)),xv==null&&(xv=wre(vor)),I(r,"'",jv),I(r,"{",gc),I(r,"}",mc),I(r,"[",Iv),I(r,"]",wv),I(r,"(",Av),I(r,")",Cv),I(r,"<",Rv),I(r,">",Mv),I(r,"\uFF08",kv),I(r,"\uFF09",Pv),I(r,"\u300C",Nv),I(r,"\u300D",Dv),I(r,"\u300E",Lv),I(r,"\u300F",Fv),I(r,"\uFF1C",_v),I(r,"\uFF1E",Bv),I(r,"&",$v),I(r,"*",Uv),I(r,"@",pi),I(r,"`",zv),I(r,"^",Vv),I(r,":",vi),I(r,",",kA),I(r,"$",Wv),I(r,".",jt),I(r,"=",Kv),I(r,"!",PA),I(r,"-",Zr),I(r,"%",yc),I(r,"|",Gv),I(r,"+",Jv),I(r,"#",Yv),I(r,"?",qc),I(r,'"',NA),I(r,"/",Ut),I(r,";",DA),I(r,"~",Sc),I(r,"_",Xv),I(r,"\\",Hv),I(r,"\u30FB",Nre);let n=we(r,bn,RA,{[EA]:!0});we(n,bn,n);let i=we(n,Sn,kre,{[vc]:!0}),a=we(n,hc,Pre,{[pc]:!0}),s=we(r,Sn,En,{[xA]:!0});we(s,bn,i),we(s,Sn,s),we(i,bn,i),we(i,Sn,i);let u=we(r,hc,IA,{[TA]:!0});we(u,Sn),we(u,bn,a),we(u,hc,u),we(a,bn,a),we(a,Sn),we(a,hc,a);let l=I(r,qA,MA,{[gA]:!0}),c=I(r,Ire,CA,{[gA]:!0}),f=we(r,yA,CA,{[gA]:!0});I(r,SA,f),I(c,qA,l),I(c,SA,f),we(c,yA,f),I(f,Ire),I(f,qA),we(f,yA,f),I(f,SA,f);let d=we(r,mA,Dre,{[Mre]:!0});I(d,"#"),we(d,mA,d),I(d,Sor,d);let p=I(d,bor);I(p,"#"),we(p,mA,d);let v=[[Sn,s],[bn,i]],g=[[Sn,null],[hc,u],[bn,a]];for(let y=0;y<Ev.length;y++)hi(r,Ev[y],wA,En,v);for(let y=0;y<xv.length;y++)hi(r,xv[y],AA,IA,g);xa(wA,{tld:!0,ascii:!0},e),xa(AA,{utld:!0,alpha:!0},e),hi(r,"file",Ov,En,v),hi(r,"mailto",Ov,En,v),hi(r,"http",ds,En,v),hi(r,"https",ds,En,v),hi(r,"ftp",ds,En,v),hi(r,"ftps",ds,En,v),xa(Ov,{scheme:!0,ascii:!0},e),xa(ds,{slashscheme:!0,ascii:!0},e),t=t.sort((y,q)=>y[0]>q[0]?1:-1);for(let y=0;y<t.length;y++){let q=t[y][0],b=t[y][1]?{[gor]:!0}:{[mor]:!0};q.indexOf("-")>=0?b[OA]=!0:Sn.test(q)?bn.test(q)?b[vc]=!0:b[xA]=!0:b[EA]=!0,Ore(r,q,q,b)}return Ore(r,"localhost",bc,{ascii:!0}),r.jd=new Ar(Qv),{start:r,tokens:Object.assign({groups:e},Lre)}}o(Eor,"init$2");function Fre(t,e){let r=xor(e.replace(/[A-Z]/g,u=>u.toLowerCase())),n=r.length,i=[],a=0,s=0;for(;s<n;){let u=t,l=null,c=0,f=null,d=-1,p=-1;for(;s<n&&(l=u.go(r[s]));)u=l,u.accepts()?(d=0,p=0,f=u):d>=0&&(d+=r[s].length,p++),c+=r[s].length,a+=r[s].length,s++;a-=d,s-=p,c-=d,i.push({t:f.t,v:e.slice(a-c,a),s:a-c,e:a})}return i}o(Fre,"run$1");function xor(t){let e=[],r=t.length,n=0;for(;n<r;){let i=t.charCodeAt(n),a,s=i<55296||i>56319||n+1===r||(a=t.charCodeAt(n+1))<56320||a>57343?t[n]:t.slice(n,n+2);e.push(s),n+=s.length}return e}o(xor,"stringToArray");function hi(t,e,r,n,i){let a,s=e.length;for(let u=0;u<s-1;u++){let l=e[u];t.j[l]?a=t.j[l]:(a=new Ar(n),a.jr=i.slice(),t.j[l]=a),t=a}return a=new Ar(r),a.jr=i.slice(),t.j[e[s-1]]=a,a}o(hi,"fastts");function wre(t){let e=[],r=[],n=0,i="0123456789";for(;n<t.length;){let a=0;for(;i.indexOf(t[n+a])>=0;)a++;if(a>0){e.push(r.join(""));for(let s=parseInt(t.substring(n,n+a),10);s>0;s--)r.pop();n+=a}else r.push(t[n]),n++}return e}o(wre,"decodeTlds");var Ec={defaultProtocol:"http",events:null,format:Are,formatHref:Are,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function LA(t,e=null){let r=Object.assign({},Ec);t&&(r=Object.assign(r,t instanceof LA?t.o:t));let n=r.ignoreTags,i=[];for(let a=0;a<n.length;a++)i.push(n[a].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=i}o(LA,"Options");LA.prototype={o:Ec,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){let n=e!=null,i=this.o[t];return i&&(typeof i=="object"?(i=r.t in i?i[r.t]:Ec[t],typeof i=="function"&&n&&(i=i(e,r))):typeof i=="function"&&n&&(i=i(e,r.t,r)),i)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){let e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Are(t){return t}o(Are,"noop");function _re(t,e){this.t="token",this.v=t,this.tk=e}o(_re,"MultiToken");_re.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){let e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"\u2026":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ec.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){let e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),i=t.get("tagName",r,e),a=this.toFormattedString(t),s={},u=t.get("className",r,e),l=t.get("target",r,e),c=t.get("rel",r,e),f=t.getObj("attributes",r,e),d=t.getObj("events",r,e);return s.href=n,u&&(s.class=u),l&&(s.target=l),c&&(s.rel=c),f&&Object.assign(s,f),{tagName:i,attributes:s,content:a,eventListeners:d}}};function Zv(t,e){let n=class n extends _re{constructor(a,s){super(a,s),this.t=t}};o(n,"Token");let r=n;for(let i in e)r.prototype[i]=e[i];return r.t=t,r}o(Zv,"createTokenClass");var Cre=Zv("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Rre=Zv("text"),Tor=Zv("nl"),Tv=Zv("url",{isLink:!0,toHref(t=Ec.defaultProtocol){return this.hasProtocol()?this.v:"".concat(t,"://").concat(this.v)},hasProtocol(){let t=this.tk;return t.length>=2&&t[0].t!==bc&&t[1].t===vi}});var Qr=o(t=>new Ar(t),"makeState");function Oor({groups:t}){let e=t.domain.concat([$v,Uv,pi,Hv,zv,Vv,Wv,Kv,Zr,RA,yc,Gv,Jv,Yv,Ut,Qv,Sc,Xv]),r=[jv,vi,kA,jt,PA,yc,qc,NA,DA,Rv,Mv,gc,mc,wv,Iv,Av,Cv,kv,Pv,Nv,Dv,Lv,Fv,_v,Bv],n=[$v,jv,Uv,Hv,zv,Vv,Wv,Kv,Zr,gc,mc,yc,Gv,Jv,Yv,qc,Ut,Qv,Sc,Xv],i=Qr(),a=I(i,Sc);Z(a,n,a),Z(a,t.domain,a);let s=Qr(),u=Qr(),l=Qr();Z(i,t.domain,s),Z(i,t.scheme,u),Z(i,t.slashscheme,l),Z(s,n,a),Z(s,t.domain,s);let c=I(s,pi);I(a,pi,c),I(u,pi,c),I(l,pi,c);let f=I(a,jt);Z(f,n,a),Z(f,t.domain,a);let d=Qr();Z(c,t.domain,d),Z(d,t.domain,d);let p=I(d,jt);Z(p,t.domain,d);let v=Qr(Cre);Z(p,t.tld,v),Z(p,t.utld,v),I(c,bc,v);let g=I(d,Zr);I(g,Zr,g),Z(g,t.domain,d),Z(v,t.domain,d),I(v,jt,p),I(v,Zr,g);let y=I(v,vi);Z(y,t.numeric,Cre);let q=I(s,Zr),S=I(s,jt);I(q,Zr,q),Z(q,t.domain,s),Z(S,n,a),Z(S,t.domain,s);let b=Qr(Tv);Z(S,t.tld,b),Z(S,t.utld,b),Z(b,t.domain,s),Z(b,n,a),I(b,jt,S),I(b,Zr,q),I(b,pi,c);let A=I(b,vi),k=Qr(Tv);Z(A,t.numeric,k);let P=Qr(Tv),V=Qr();Z(P,e,P),Z(P,r,V),Z(V,e,P),Z(V,r,V),I(b,Ut,P),I(k,Ut,P);let ne=I(u,vi),B=I(l,vi),se=I(B,Ut),Ae=I(se,Ut);Z(u,t.domain,s),I(u,jt,S),I(u,Zr,q),Z(l,t.domain,s),I(l,jt,S),I(l,Zr,q),Z(ne,t.domain,P),I(ne,Ut,P),I(ne,qc,P),Z(Ae,t.domain,P),Z(Ae,e,P),I(Ae,Ut,P);let Oa=[[gc,mc],[Iv,wv],[Av,Cv],[Rv,Mv],[kv,Pv],[Nv,Dv],[Lv,Fv],[_v,Bv]];for(let ps=0;ps<Oa.length;ps++){let[xc,ng]=Oa[ps],Tc=I(P,xc);I(V,xc,Tc),I(Tc,ng,P);let Ia=Qr(Tv);Z(Tc,e,Ia);let vs=Qr();Z(Tc,r),Z(Ia,e,Ia),Z(Ia,r,vs),Z(vs,e,Ia),Z(vs,r,vs),I(Ia,ng,P),I(vs,ng,P)}return I(i,bc,b),I(i,MA,Tor),{start:i,tokens:Lre}}o(Oor,"init$1");function Ior(t,e,r){let n=r.length,i=0,a=[],s=[];for(;i<n;){let u=t,l=null,c=null,f=0,d=null,p=-1;for(;i<n&&!(l=u.go(r[i].t));)s.push(r[i++]);for(;i<n&&(c=l||u.go(r[i].t));)l=null,u=c,u.accepts()?(p=0,d=u):p>=0&&p++,i++,f++;if(p<0)i-=f,i<n&&(s.push(r[i]),i++);else{s.length>0&&(a.push(bA(Rre,e,s)),s=[]),i-=p,f-=p;let v=d.t,g=r.slice(i-f,i);a.push(bA(v,e,g))}}return s.length>0&&a.push(bA(Rre,e,s)),a}o(Ior,"run");function bA(t,e,r){let n=r[0].s,i=r[r.length-1].e,a=e.slice(n,i);return new t(a,r)}o(bA,"initMultiToken");var wor=typeof console<"u"&&console&&console.warn||(()=>{}),Aor="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",me={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Bre(){return Ar.groups={},me.scanner=null,me.parser=null,me.tokenQueue=[],me.pluginQueue=[],me.customSchemes=[],me.initialized=!1,me}o(Bre,"reset");function FA(t,e=!1){if(me.initialized&&wor('linkifyjs: already initialized - will not register custom scheme "'.concat(t,'" ').concat(Aor)),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error('linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or "-"\n2. Cannot start or end with "-"\n3. "-" cannot repeat');me.customSchemes.push([t,e])}o(FA,"registerCustomProtocol");function Cor(){me.scanner=Eor(me.customSchemes);for(let t=0;t<me.tokenQueue.length;t++)me.tokenQueue[t][1]({scanner:me.scanner});me.parser=Oor(me.scanner.tokens);for(let t=0;t<me.pluginQueue.length;t++)me.pluginQueue[t][1]({scanner:me.scanner,parser:me.parser});return me.initialized=!0,me}o(Cor,"init");function eg(t){return me.initialized||Cor(),Ior(me.parser.start,t,Fre(me.scanner.start,t))}o(eg,"tokenize");eg.scan=Fre;function hs(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error("linkifyjs: Invalid link type ".concat(e,"; must be a string"));r=e,e=null}let n=new LA(r),i=eg(t),a=[];for(let s=0;s<i.length;s++){let u=i[s];u.isLink&&(!e||u.t===e)&&n.check(u)&&a.push(u.toFormattedObject(n))}return a}o(hs,"find");var _A="[\0- \xA0\u1680\u180E\u2000-\u2029\u205F\u3000]",Ror=new RegExp(_A),Mor=new RegExp("".concat(_A,"$")),kor=new RegExp(_A,"g");function Por(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}o(Por,"isValidLinkStructure");function Nor(t){return new H({key:new Y("autolink"),appendTransaction:o((e,r,n)=>{let i=e.some(c=>c.docChanged)&&!r.doc.eq(n.doc),a=e.some(c=>c.getMeta("preventAutolink"));if(!i||a)return;let{tr:s}=n,u=Fw(r.doc,[...e]);if(jw(u).forEach(({newRange:c})=>{let f=Ree(n.doc,c,v=>v.isTextblock),d,p;if(f.length>1)d=f[0],p=n.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");else if(f.length){let v=n.doc.textBetween(c.from,c.to," "," ");if(!Mor.test(v))return;d=f[0],p=n.doc.textBetween(d.pos,c.to,void 0," ")}if(d&&p){let v=p.split(Ror).filter(Boolean);if(v.length<=0)return!1;let g=v[v.length-1],y=d.pos+p.lastIndexOf(g);if(!g)return!1;let q=eg(g).map(S=>S.toObject(t.defaultProtocol));if(!Por(q))return!1;q.filter(S=>S.isLink).map(S=>ue(T({},S),{from:y+S.start+1,to:y+S.end+1})).filter(S=>n.schema.marks.code?!n.doc.rangeHasMark(S.from,S.to,n.schema.marks.code):!0).filter(S=>t.validate(S.value)).filter(S=>t.shouldAutoLink(S.value)).forEach(S=>{hv(S.from,S.to,n.doc).some(b=>b.mark.type===t.type)||s.addMark(S.from,S.to,t.type.create({href:S.href}))})}}),!!s.steps.length)return s},"appendTransaction")})}o(Nor,"autolink");function Dor(t){return new H({key:new Y("handleClickLink"),props:{handleClick:o((e,r,n)=>{var i,a;if(n.button!==0||!e.editable)return!1;let s=null;if(n.target instanceof HTMLAnchorElement)s=n.target;else{let f=n.target,d=[];for(;f.nodeName!=="DIV";)d.push(f),f=f.parentNode;s=d.find(p=>p.nodeName==="A")}if(!s)return!1;let u=lc(e.state,t.type.name),l=(i=s==null?void 0:s.href)!=null?i:u.href,c=(a=s==null?void 0:s.target)!=null?a:u.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),s&&l?(window.open(l,c),!0):!1},"handleClick")}})}o(Dor,"clickHandler");function Lor(t){return new H({key:new Y("handlePasteLink"),props:{handlePaste:o((e,r,n)=>{let{state:i}=e,{selection:a}=i,{empty:s}=a;if(s)return!1;let u="";n.content.forEach(c=>{u+=c.textContent});let l=hs(u,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===u);return!u||!l?!1:t.editor.commands.setMark(t.type,{href:l.href})},"handlePaste")}})}o(Lor,"pasteHandler");function Ta(t,e){let r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{let i=typeof n=="string"?n:n.scheme;i&&r.push(i)}),!t||t.replace(kor,"").match(new RegExp("^(?:(?:".concat(r.join("|"),"):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))"),"i"))}o(Ta,"isAllowedUri");var For=pr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){FA(t);return}FA(t.scheme,t.optionalSlashes)})},onDestroy(){Bre()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:o((t,e)=>!!Ta(t,e.protocols),"isAllowedUri"),validate:o(t=>!!t,"validate"),shouldAutoLink:o(t=>!!t,"shouldAutoLink")}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:o(t=>{let e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:o(r=>!!Ta(r,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null},"getAttrs")}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:o(e=>!!Ta(e,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",te(this.options.HTMLAttributes,t),0]:["a",te(this.options.HTMLAttributes,ue(T({},t),{href:""})),0]},addCommands(){return{setLink:o(t=>({chain:e})=>{let{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:o(n=>!!Ta(n,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},"setLink"),toggleLink:o(t=>({chain:e})=>{let{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:o(n=>!!Ta(n,this.options.protocols),"defaultValidate"),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},"toggleLink"),unsetLink:o(()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),"unsetLink")}},addPasteRules(){return[Xr({find:o(t=>{let e=[];if(t){let{protocols:r,defaultProtocol:n}=this.options,i=hs(t).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:o(s=>!!Ta(s,r),"defaultValidate"),protocols:r,defaultProtocol:n}));i.length&&i.forEach(a=>e.push({text:a.value,data:{href:a.href},index:a.start}))}return e},"find"),type:this.type,getAttributes:o(t=>{var e;return{href:(e=t.data)==null?void 0:e.href}},"getAttributes")})]},addProseMirrorPlugins(){let t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(Nor({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:o(n=>this.options.isAllowedUri(n,{defaultValidate:o(i=>!!Ta(i,e),"defaultValidate"),protocols:e,defaultProtocol:r}),"validate"),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Dor({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Lor({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),$re=For;var jre=$re.extend({parseHTML(){return[{tag:"a[href]"}]},addProseMirrorPlugins(){let t=[];return t.push(_or({type:this.type})),this.options.linkOnPaste&&t.push(Bor({editor:this.editor,type:this.type})),t}});function _or(t){return new H({key:new Y("handleClickLink"),props:{handleClick:o((e,r,n)=>{var s;let i=lc(e.state,t.type.name);if(((s=n.target)==null?void 0:s.closest("a"))&&i.href){let u=new CustomEvent("custom-link-clicked",{detail:i.href});return document.dispatchEvent(u),!0}return!1},"handleClick")}})}o(_or,"customClickHandler");function Bor(t){return new H({key:new Y("handlePasteLink"),props:{handlePaste:o((e,r,n)=>{let{state:i}=e,{selection:a}=i,{empty:s}=a;if(s)return!1;let u="";n.content.forEach(c=>{u+=c.textContent});let l=hs(u).find(c=>c.isLink&&c.value===u);return!u||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)},"handlePaste")}})}o(Bor,"customPasteHandler");var GHr=og(hp());var $or=o((t,e,r)=>RegExp(e?t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"):t,r?"gu":"gui"),"regex");function jor(t,e,r){let n=[],i=[],a=[],s=0;if(!e)return{decorationsToReturn:ge.empty,results:[]};t==null||t.descendants((u,l)=>{u.isText?i[s]?i[s]={text:i[s].text+u.text,pos:i[s].pos}:i[s]={text:"".concat(u.text),pos:l}:s+=1}),i=i.filter(Boolean);for(let u=0;u<i.length;u+=1){let{text:l,pos:c}=i[u],f=[...l.matchAll(e)];for(let d=0;d<f.length;d+=1){let p=f[d];if(p[0]==="")break;p.index!==void 0&&a.push({from:c+p.index,to:c+p.index+p[0].length})}}for(let u=0;u<a.length;u+=1){let l=a[u];n.push($e.inline(l.from,l.to,{class:r}))}return{decorationsToReturn:ge.create(t,n),results:a}}o(jor,"processSearches");var Uor=o((t,e,r,{state:n})=>{let{from:i}=n.selection,a=null,s=0;for(;a==null&&s<r.length;)t?r[s].from>=i&&(a=r[s]):r[s].from>i&&(a=r[s]),s++;if(a==null&&e&&r.length>0&&(a=r[0]),a){let u=D.create(n.doc,a.from,a.to);n.tr.setSelection(u)}},"selectNext"),Hor=o((t,{state:e})=>{let{from:r}=e.selection,n=null,i=t.length-1;for(;n==null&&i>=0;)t[i].from<r&&(n=t[i]),i--;if(n){let a=D.create(e.doc,n.from,n.to);e.tr.setSelection(a)}},"selectPrevious"),BA=K.create({name:"snr-Search",addOptions(){return{searchResultClass:"search-result",caseSensitive:!1,disableRegex:!1}},addCommands(){let t=this;return{setSearchTerm:o(e=>()=>{let r=t.editor;return r["snr-SearchResult"]=[],r["snr-SearchTerm"]=e,!1},"setSearchTerm"),selectNext:o((e,r)=>({state:n,dispatch:i})=>{let s=t.editor["snr-SearchResult"];return Uor(e,r,s,{state:n}),i(n.tr),!1},"selectNext"),selectPrevious:o(()=>({state:e,dispatch:r})=>{let i=t.editor["snr-SearchResult"];return Hor(i,{state:e}),r(e.tr),!1},"selectPrevious")}},addProseMirrorPlugins(){let t=this;return[new H({key:new Y("snr-Search"),state:{init(){return ge.empty},apply(e){let{searchResultClass:r,disableRegex:n,caseSensitive:i}=t.options,a=t.editor,s=a["snr-SearchTerm"];if(s){let{decorationsToReturn:u,results:l}=jor(e.doc,$or(s,n,i),r);return a["snr-SearchResult"]=l,u}return ge.empty}},props:{decorations(e){return this.getState(e)}}})]}});var Hre="",$A="done",Ure="disabled",zre,Vre=bv.extend({addAttributes(){var t;return ue(T({},(t=this.parent)==null?void 0:t.call(this)),{htmlElementClass:{parseHTML:o(e=>e.getAttribute("class"),"parseHTML"),renderHTML:o(e=>({class:e.htmlElementClass}),"renderHTML")}})},addProseMirrorPlugins(){let t=[];return t.push(zor({editor:this.editor,type:this.type})),t}});function zor(t){return new H({key:new Y("handleClickLink"),props:{handleClick:o((e,r,n)=>{var c;let i=(c=n.target)==null?void 0:c.closest("p");if(i==null)return!1;let a=i.getBoundingClientRect(),s=(a.left+a.right)/2,u=n.clientX<s,l=t.editor;return u?(Vor(l,r),l.isEditable&&l.commands.setTextSelection(r)):zre()||Kor(l,r),!0},"handleClick")}})}o(zor,"clickHandler");function Vor(t,e){let r=gt(t,e),n=wr(r,i=>Pr(t,i));if(n.node!=null){let{node:i,pos:a}=n,s={htmlElementClass:Wor(i.attrs.htmlElementClass)},u=t.state.tr;u.setNodeMarkup(a,void 0,T(T({},i.attrs),s)),t.view.dispatch(u)}}o(Vor,"rotateNodeState");function Wor(t){return t==$A?Ure:t==Ure?Hre:$A}o(Wor,"rotateState");function Kor(t,e){let r=gt(t,e),n=wr(r,i=>Pr(t,i));if(n.node!=null){let i=r.before(n.depth),a=r.after(n.depth),s=t.state.tr;s.delete(i,a),t.view.dispatch(s)}}o(Kor,"deleteNodeAtPos");function Wre(t){zre=t}o(Wre,"registerIsShoppingModeActive");function rg(t,e){let r=t.state.tr,n={htmlElementClass:e};UA(t).forEach(a=>{let{node:s,pos:u}=a;Xor(s,e)||r.setNodeMarkup(u,void 0,T(T({},s.attrs),n))}),t.view.dispatch(r)}o(rg,"setCheckStateForAll");function Kre(t,e){t.view.focus();let r=t.view.state.selection.$anchor,n=wr(r,a=>Pr(t,a));if(!n)return;let i=HA(t,r,e,a=>Pr(t,a));i&&jA(t,n,i,!0)}o(Kre,"moveChecklistUp");function jA(t,e,r,n){let i=gt(t,e.start),a=i.before(i.depth),s=i.after(i.depth),l=gt(t,r.start).before(r.depth),c=t.state.tr;if(c.delete(a,s).insert(l,e.node),n){let f=D.near(c.doc.resolve(l));c.setSelection(f),c.scrollIntoView()}t.view.dispatch(c)}o(jA,"moveParagraphUp");function Gre(t,e){t.view.focus();let r=t.view.state.selection.$anchor,n=wr(r,a=>Pr(t,a));if(!n)return;let i=Yor(t,r,e,a=>Pr(t,a));if(i){let a=r.before(n.depth),s=r.after(n.depth),c=gt(t,i.start).after(i.depth)-n.node.nodeSize,f=t.state.tr;f.delete(a,s).insert(c,n.node);let d=D.near(f.doc.resolve(c));f.setSelection(d),f.scrollIntoView(),t.view.dispatch(f)}}o(Gre,"moveChecklistDown");function Jre(t){UA(t).forEach(r=>{let{node:n,pos:i}=r,a=gt(t,i+1),s=wr(a,c=>Pr(t,c)),u=Xre(n.attrs.htmlElementClass),l=HA(t,a,!1,c=>Gor(t,u,c));l&&jA(t,s,l,!1)})}o(Jre,"sortPendingToTop");function UA(t){let e=[];return t.view.state.doc.descendants((r,n,i)=>Pr(t,r)?(e.push({node:r,pos:n}),!1):!0),e}o(UA,"collectAllParagraphs");function Gor(t,e,r){if(!Pr(t,r))return!1;let n=Xre(r.attrs.htmlElementClass);return e<n}o(Gor,"shouldMovePendingToTop");function Yre(t){UA(t).forEach(r=>{let{node:n,pos:i}=r,a=gt(t,i+1),s=wr(a,l=>Pr(t,l)),u=HA(t,a,!1,l=>Jor(t,n,l));u&&jA(t,s,u,!1)})}o(Yre,"sortAlphabetical");function Jor(t,e,r){return Pr(t,r)?e.textContent.localeCompare(r.textContent,void 0,{sensitivity:"base"})<0:!1}o(Jor,"shouldMoveAlphabetical");function HA(t,e,r,n){let i=null,a=null,s=wr(e,u=>Pr(t,u));if(e.before(s.depth)>0&&(a=gt(t,e.before(s.depth)-1),i=wr(a,u=>n(u))),!r){let u=i,l=a;for(;u&&u.pos>0;)l=gt(t,u.pos-1),u=wr(l,c=>n(c)),u&&(i=u)}return i}o(HA,"searchPreviousParagraph");function Yor(t,e,r,n){let i=null,a=null,s=t.state.doc.content.size,u=wr(e,l=>Pr(t,l));if(e.after(u.depth)<s&&(a=gt(t,e.after(u.depth)+1),i=wr(a,l=>n(l))),!r){let l=i,c=a;for(;l&&c.after(u.depth)<s;)c=gt(t,c.after(u.depth)+1),l=wr(c,f=>n(f)),l&&(i=l)}return i}o(Yor,"searchFollowingParagraph");function Xor(t,e){return t.attrs.htmlElementClass==e}o(Xor,"isOfCheckState");function Xre(t){return t==null||t==Hre?0:t==$A?1:2}o(Xre,"numericCheckState");function Qor(t,e){return t&&t.type==e}o(Qor,"isNodeOfType");function Pr(t,e){return Qor(e,t.view.state.schema.nodes.paragraph)}o(Pr,"isParagraph");function gt(t,e){return t.state.doc.resolve(e)}o(gt,"resolvePos");var zA=K.create({name:"scrollto",addCommands(){return{scrollToTop:o(()=>({tr:t,state:e,dispatch:r})=>{let n=D.atStart(t.doc).from;return Qre(n,t,e,r),!0},"scrollToTop"),scrollToBottom:o(()=>({tr:t,state:e,dispatch:r})=>{let n=D.atEnd(t.doc).to;return Qre(n,t,e,r),!0},"scrollToBottom")}},addKeyboardShortcuts(){return{"Control-Home":o(()=>this.editor.commands.scrollToTop(),"Control-Home"),"Control-End":o(()=>this.editor.commands.scrollToBottom(),"Control-End")}}});function Qre(t,e,r,n){let i=D.create(e.doc,t,t),a=r.selection.eq(i);n&&!a&&e.setSelection(i).scrollIntoView()}o(Qre,"scrollToPos");var Zor="\xA0\xA0",Zre=K.create({name:"tabHandler",addKeyboardShortcuts(){return{Tab:o(({editor:t})=>{if(!(t.isActive("bulletList")||t.isActive("orderedList")))return t.chain().command(({tr:r})=>(r.insertText(Zor),!0)).run(),!0},"Tab")}}});function esr(t){let n=[],i={blockSeparator:"\n",textSerializers:fv(t.schema)};return i.textSerializers.bulletList=a=>{n.push(new tg(t.view.state.schema.nodes.bulletList));let s={blockSeparator:"",textSerializers:i.textSerializers},u=VA(a.node,s);return n.pop(),n.length==0&&(u="\n"+u),u},i.textSerializers.orderedList=a=>{n.push(new tg(t.view.state.schema.nodes.orderedList));let s={blockSeparator:"",textSerializers:i.textSerializers},u=VA(a.node,s);return n.pop(),n.length==0&&(u="\n"+u),u},i.textSerializers.paragraph=a=>{let{node:s,parent:u}=a,l=VA(s,i);if(n.length>0&&(u==null?void 0:u.type)===t.view.state.schema.nodes.listItem){let c=rsr(n);c.listItemIndex++,c.listType===t.view.state.schema.nodes.bulletList?l="\u2022 "+l:c.listType===t.view.state.schema.nodes.orderedList&&(l=c.listItemIndex+". "+l),l="  ".repeat(n.length)+l,l=l+"\n"}return l},t.getText(i)}o(esr,"exportAsPlainText");function VA(t,e){let r={from:0,to:t.content.size};return cv(t,r,e)}o(VA,"invokeDefaultSerialization");function rsr(t,e=null){return t.length==0?e:t[t.length-1]}o(rsr,"peek");var WA=class WA{constructor(e){sg(this,"listType");sg(this,"listItemIndex");this.listType=e,this.listItemIndex=0}};o(WA,"ListHierarchyItem");var tg=WA;function Vzr(t){try{return new Kw({element:t,extensions:[rre,tre,fA,nre,ire,Gw,Jw,vA.configure({levels:[1,2,3]}),oA.configure({depth:200}),dre,jre.configure({autolink:!1,openOnClick:!1}),dA,pA,bv,hre,sA,uA,pre,BA.configure({searchResultClass:"search-result",caseSensitive:!1,disableRegex:!0}),zA,Zre],editable:!1})}catch(e){return e.message+" "+e.stack}}o(Vzr,"initializeEditor");function Wzr(t){try{return new Kw({element:t,extensions:[Gw,Jw,vA.configure({levels:[1,2]}),oA.configure({depth:200}),Vre,sA,uA,BA.configure({searchResultClass:"search-result",caseSensitive:!1,disableRegex:!0}),zA],editable:!1})}catch(e){return e.message+" "+e.stack}}o(Wzr,"initializeChecklist");function Kzr(t){Wre(t)}o(Kzr,"registerIsShoppingModeActive");function Gzr(t,e,r){switch(e.toLowerCase()){case"heading":t.chain().focus().toggleHeading({level:r}).run();break;case"codeblock":t.chain().focus().toggleCodeBlock().run();break;case"blockquote":t.chain().focus().toggleBlockquote().run();break;case"bulletlist":t.chain().focus().toggleBulletList().run();break;case"orderedlist":t.chain().focus().toggleOrderedList().run();break;default:t.chain().focus().toggleMark(e).run();break}}o(Gzr,"toggleFormat");function Jzr(t,e,r){return e=tsr(e),t.isActive(e,r)}o(Jzr,"isFormatActive");function tsr(t){let e=t.toLowerCase();switch(e){case"codeblock":return"codeBlock";case"bulletlist":return"bulletList";case"orderedlist":return"orderedList";default:return e}}o(tsr,"getCaseSensitiveFormat");function Yzr(t,e,r=2){(e===null||e.length<r)&&(e=""),t.commands.setSearchTerm(e)}o(Yzr,"searchAndHighlight");function Xzr(t){t.chain().selectNext(!0,!0).run(),KA(t)}o(Xzr,"selectNextWhileTyping");function Qzr(t){t.chain().focus().selectNext(!1,!1).run(),KA(t)}o(Qzr,"selectNext");function Zzr(t){t.chain().focus().selectPrevious().run(),KA(t)}o(Zzr,"selectPrevious");function KA(t){var r;let{node:e}=t.view.domAtPos(t.state.selection.anchor);e&&((r=e.scrollIntoView)==null||r.call(e,!1))}o(KA,"scrollToSelection");function e3r(t){let{from:e,to:r,empty:n}=t.state.selection;return n?null:t.state.doc.textBetween(e,r," ")}o(e3r,"getSelectedText");function r3r(t){let e=t.view.state.selection,r=e.$from.parent.textContent,n=e.$from.parentOffset,i=0;for(;n-i-1>=0&&!ete(r[n-i-1]);)i++;let a=e.$to.parentOffset,s=0;for(n!=a&&s--;a+s<r.length&&!ete(r[a+s]);)s++;return t.commands.setTextSelection({from:e.$from.pos-i,to:e.$to.pos+s}),r.substring(n-i,a+s)}o(r3r,"selectWordAtCurrentPosition");function t3r(t){rg(t,"")}o(t3r,"setCheckStateForAllToTodo");function n3r(t){rg(t,"done")}o(n3r,"setCheckStateForAllToDone");function i3r(t){rg(t,"disabled")}o(i3r,"setCheckStateForAllToDisabled");function a3r(t,e,r){e?Kre(t,r):Gre(t,r)}o(a3r,"moveChecklist");function o3r(t){Jre(t)}o(o3r,"sortChecklistPendingToTop");function s3r(t){Yre(t)}o(s3r,"sortChecklistAlphabetical");function ete(t){return/[\s]/.test(t)}o(ete,"isWhitespace");export{esr as exportAsPlainText,e3r as getSelectedText,Wzr as initializeChecklist,Vzr as initializeEditor,Jzr as isFormatActive,a3r as moveChecklist,Kzr as registerIsShoppingModeActive,Yzr as searchAndHighlight,Qzr as selectNext,Xzr as selectNextWhileTyping,Zzr as selectPrevious,r3r as selectWordAtCurrentPosition,i3r as setCheckStateForAllToDisabled,n3r as setCheckStateForAllToDone,t3r as setCheckStateForAllToTodo,s3r as sortChecklistAlphabetical,o3r as sortChecklistPendingToTop,Gzr as toggleFormat};
